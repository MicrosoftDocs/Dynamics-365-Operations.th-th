---
title: "ตั้งค่ากระบวนการนำเข้าการกระทบยอดบัญชีธนาคารขั้นสูง"
description: "คุณลักษณะการกระทบยอดบัญชีธนาคารขั้นสูงจะช่วยให้คุณสามารถนำเข้าใบแจ้งยอดจากธนาคารอิเล็กทรอนิกส์ และกระทบยอดด้วยธุรกรรมธนาคารได้โดยอัตโนมัติใน Microsoft Dynamics 365 for Finance and Operations, Enterprise edition บทความนี้อธิบายวิธีการตั้งค่าฟังก์ชันการนำเข้าสำหรับใบแจ้งยอดจากธนาคารของคุณ"
author: twheeloc
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations
ms.custom: 106853
ms.assetid: 45dae275-ea45-4c7e-b38f-89297c7b5352
ms.search.region: Global
ms.author: saraschi
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: Human Translation
ms.sourcegitcommit: 869151f2486b7a481e4694cfb6992d0ee2cfc008
ms.openlocfilehash: a4d1c81386c0ef03391f3127fa51a6b09a5142b3
ms.contentlocale: th-th
ms.lasthandoff: 06/13/2017


---

# <a name="set-up-the-advanced-bank-reconciliation-import-process"></a>ตั้งค่ากระบวนการนำเข้าการกระทบยอดบัญชีธนาคารขั้นสูง

[!include[banner](../includes/banner.md)]


คุณลักษณะการกระทบยอดบัญชีธนาคารขั้นสูงจะช่วยให้คุณสามารถนำเข้าใบแจ้งยอดจากธนาคารอิเล็กทรอนิกส์ และกระทบยอดด้วยธุรกรรมธนาคารได้โดยอัตโนมัติใน Microsoft Dynamics 365 for Finance and Operations, Enterprise edition บทความนี้อธิบายวิธีการตั้งค่าฟังก์ชันการนำเข้าสำหรับใบแจ้งยอดจากธนาคารของคุณ 

การตั้งค่าสำหรับการนำเข้าใบแจ้งยอดจากธนาคารแตกต่างกันไปขึ้นอยู่กับรูปแบบของใบแจ้งยอดจากธนาคารอิเล็กทรอนิกส์ของคุณ Finance and Operations รองรับรูปแบบใบแจ้งยอดจากธนาคารสามรายการทั้งหมด: ISO20022, MT940 และ BAI2

## <a name="sample-files"></a>ไฟล์ตัวอย่าง
สำหรับรูปแบบทั้งสามรายการ คุณต้องมีไฟล์ที่แปลใบแจ้งยอดของธนาคารอิเล็กทรอนิกส์จากรูปแบบเดิมเป็นรูปแบบที่ Finance and Operations สามารถใช้ได้ คุณสามารถค้นหาไฟล์ทรัพยากรที่จำเป็นภายใต้โหนด **ทรัพยากร** ใน Explorer Application Explorer ใน Microsoft Visual Studio ได้ หลังจากที่คุณพบไฟล์แล้ว ให้คัดลอกไปยังตำแหน่งที่ตั้งที่ทราบหนึ่ง เพื่อให้คุณสามารถอัพโหลดได้อย่างง่ายดายในระหว่างกระบวนการติดตั้ง

| ชื่อทรัพยากร                                           | ชื่อไฟล์                            |
|---------------------------------------------------------|--------------------------------------|
| BankStmtImport\_BAI2CSV\_to\_BAI2XML\_xslt              | BAI2CSV-to-BAI2XML.xslt              |
| BankStmtImport\_BAI2XML\_to\_Reconciliation\_xslt       | BAI2XML-to-Reconciliation.xslt       |
| BankStmtImport\_BankReconciliation\_to\_Composite\_xslt | BankReconciliation-to-Composite.xslt |
| BankStmtImport\_ISO20022XML\_to\_Reconciliation\_xslt   | ISO20022XML-to-Reconciliation.xslt   |
| BankStmtImport\_MT940TXT\_to\_MT940XML\_xslt            | MT940TXT-to-MT940XML.xslt            |
| BankStmtImport\_MT940XML\_to\_Reconciliation\_xslt      | MT940XML-to-Reconciliation.xslt      |
| BankStmtImport\_SampleBankCompositeEntity\_xml          | SampleBankCompositeEntity.xml        |

## <a name="examples-of-bank-statement-formats-and-technical-layouts"></a>ตัวอย่างรูปแบบและโครงร่างทางเทคนิคของใบแจ้งยอดจากธนาคาร
ต่อไปนี้เป็นตัวอย่างคำนิยามของโครงร่างทางเทคนิคของไฟล์การนำเข้าการกระทบยอดบัญชีธนาคารขั้นสูงและไฟล์ตัวอย่างสามรายการของใบแจ้งยอดจากธนาคารที่เกี่ยวข้อง: https://mbs.microsoft.com/customersource/northamerica/AX/learning/documentation/how-to-articles/exofbankstfotechlayouts  

| คำนิยามโครงร่างทางเทคนิค                             | ไฟล์ตัวอย่างใบแจ้งยอดจากธนาคาร          |
|---------------------------------------------------------|--------------------------------------|
| DynamicsAXMT940Layout                                   | MT940StatementExample                |
| DynamicsAXISO20022Layout                                | ISO20022StatementExample             |
| DynamicsAXBAI2Layout                                    | BAI2StatementExample                 |

 

## <a name="set-up-the-import-of-iso20022-bank-statements"></a>ตั้งค่าการนำเข้าใบแจ้งยอดจากธนาคาร ISO20022
ก่อนอื่น คุณต้องกำหนดกลุ่มการประมวลผลรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร ISO20022 โดยใช้กรอบงานเอนทิตี้ข้อมูล

1.  ไปยัง **พื้นที่ทำงาน** &gt; **การจัดการข้อมูล**
2.  คลิก **นำเข้า**
3.  ป้อนชื่อสำหรับใบขอซื้อ รูปแบบ เช่น **ISO20022**
4.  ตั้งค่าฟิลด์ **รูปแบบข้อมูลต้นทาง** เป็น **XML-Element**
5.  ตั้งค่าฟิลด์ **ชื่อเอนทิตี้** เป็น **ใบแจ้งยอดจากธนาคาร**
6.  เมื่อต้องการอัพโหลดไฟล์ที่นำเข้า คลิก **อัพโหลด**และจากนั้น เรียกดูเพื่อเลือกไฟล์ **SampleBankCompositeEntity.xml** ที่คุณบันทึกไว้ก่อนหน้านี้
7.  หลังจากเอนทิตีใบแจ้งยอดจากธนาคารถูกอัพโหลดและการแม็ปเสร็จสมบูรณ์ คลิกการดำเนินการ **ดูแผนที่** สำหรับเอนทิตี
8.  เอนทิตีใบแจ้งยอดจากธนาคารเป็นเอนทิตี้โดยรวมที่ประกอบด้วยเอนทิตี้ที่แยกต่างหากสี่รายการ ในรายการ เลือก **BankStatementDocumentEntity** แล้วคลิกการดำเนินการ **ดูแผนที่**
9.  บนแท็บ **การแปลงข้อมูล** คลิก **สร้าง**
10. สำหรับหมายเลขลำดับ 1 คลิก **อัพโหลดไฟล์**และเลือกไฟล์**ISO20022XML Reconciliation.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้ **หมายเหตุ:** ไฟล์การแปลงข้อมูล Finance and Operations ถูกสร้างขึ้นสำหรับรูปแบบมาตรฐาน เนื่องจากธนาคารมักแตกต่างจากรูปแบบนี้ คุณอาจต้องปรับปรุงไฟล์การแปลงเพื่อแมปไปยังรูปแบบใบแจ้งยอดจากธนาคารของคุณ <!-- For details about the expected format for ISO20022, see [Dynamics AX ISO20022 Layout](./media/dynamicsaxiso20022layout1.xlsx).-->
11. คลิก **สร้าง**
12. สำหรับหมายเลขลำดับ 2 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **BankReconciliation-to-Composite.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้
13. คลิก **ใช้การแปลง**

หลังจากกลุ่มการประมวลผลรูปแบบถูกตั้งค่าไว้ ขั้นตอนต่อไปคือการกำหนดกฎรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร ISO20022

1.  ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **การตั้งค่า** &gt; **การตั้งค่าการกระทบยอดบัญชีธนาคารขั้นสูง** &gt; **รูปแบบใบแจ้งยอดจากธนาคาร**
2.  คลิก **สร้าง**
3.  ระบุรูปแบบใบแจ้งยอด เช่น **ISO20022**
4.  ป้อนชื่อสำหรับรูปแบบ
5.  ตั้งค่าฟิลด์ **กลุ่มการประมวลผล** ไปยังกลุ่มที่คุณกำหนดไว้ก่อนหน้านี้ เช่น **ISO20022**
6.  เลือกกล่องกาเครื่องหมาย **ไฟล์ XML**

ขั้นตอนสุดท้ายคือการเปิดใช้งานการกระทบยอดบัญชีธนาคารขั้นสูงและการตั้งค่ารูปแบบใบแจ้งยอดบัญชีธนาคาร

1.  ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **บัญชีธนาคาร**
2.  เลือกบัญชีธนาคาร และเปิดขึ้นเพื่อดูรายละเอียด
3.  ในแท็บ **การกระทบยอด** ตั้งค่าตัวเลือก **การกระทบยอดบัญชีธนาคารขั้นสูง**เป็น **ใช่**
4.  ตั้งค่าฟิลด์ **รูปแบบบแจ้งยอด**เป็นรูปแบบที่คุณสร้างไว้ก่อนหน้านี้ เช่น **ISO20022**

## <a name="set-up-the-import-of-mt940-bank-statements"></a>ตั้งค่าการนำเข้าใบแจ้งยอดจากธนาคาร MT940
ก่อนอื่น คุณต้องกำหนดกลุ่มการประมวลผลรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร MT940 โดยใช้กรอบงานเอนทิตี้ข้อมูล

1.  ไปยัง **พื้นที่ทำงาน** &gt; **การจัดการข้อมูล**
2.  คลิก **นำเข้า**
3.  ป้อนชื่อสำหรับใบขอซื้อ รูปแบบ เช่น **MT940**
4.  ตั้งค่าฟิลด์ **รูปแบบข้อมูลต้นทาง** เป็น **XML-Element**
5.  ตั้งค่าฟิลด์ **ชื่อเอนทิตี้** เป็น **ใบแจ้งยอดจากธนาคาร**
6.  เมื่อต้องการอัพโหลดไฟล์ที่นำเข้า คลิก **อัพโหลด**และจากนั้น เรียกดูเพื่อเลือกไฟล์ **SampleBankCompositeEntity.xml** ที่คุณบันทึกไว้ก่อนหน้านี้
7.  หลังจากเอนทิตีใบแจ้งยอดจากธนาคารถูกอัพโหลดและการแม็ปเสร็จสมบูรณ์ คลิกการดำเนินการ **ดูแผนที่** สำหรับเอนทิตี
8.  เอนทิตีใบแจ้งยอดจากธนาคารเป็นเอนทิตี้โดยรวมที่ประกอบด้วยเอนทิตี้ที่แยกต่างหากสี่รายการ ในรายการ เลือก **BankStatementDocumentEntity** แล้วคลิกการดำเนินการ **ดูแผนที่**
9.  บนแท็บ **การแปลงข้อมูล** คลิก **สร้าง**
10. สำหรับหมายเลขลำดับ 1 คลิก **อัพโหลดไฟล์**และเลือกไฟล์**MT940TXT-to-MT940XML.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้
11. คลิก **สร้าง**
12. สำหรับหมายเลขลำดับ 2 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **MT940XML Reconciliation.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้ **หมายเหตุ:** ไฟล์การแปลงข้อมูล Finance and Operations ถูกสร้างขึ้นสำหรับรูปแบบมาตรฐาน เนื่องจากธนาคารมักแตกต่างจากรูปแบบนี้ คุณอาจต้องปรับปรุงไฟล์การแปลงเพื่อแมปไปยังรูปแบบใบแจ้งยอดจากธนาคารของคุณ <!--- For details about the expected format for MT940, see [Dynamics AX MT940 Layout](./media/dynamicsaxmt940layout1.xlsx)-->
13. คลิก **สร้าง**
14. สำหรับหมายเลขลำดับ 3 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **BankReconciliation-to-Composite.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้
15. คลิก **ใช้การแปลง**

หลังจากกลุ่มการประมวลผลรูปแบบถูกตั้งค่าไว้ ขั้นตอนต่อไปคือการกำหนดกฎรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร MT940

1.  ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **การตั้งค่า** &gt; **การตั้งค่าการกระทบยอดบัญชีธนาคารขั้นสูง** &gt; **รูปแบบใบแจ้งยอดจากธนาคาร**
2.  คลิก **สร้าง**
3.  ระบุรูปแบบใบแจ้งยอด เช่น **MT940**
4.  ป้อนชื่อสำหรับรูปแบบ
5.  ตั้งค่าฟิลด์ **กลุ่มการประมวลผล** ไปยังกลุ่มที่คุณกำหนดไว้ก่อนหน้านี้ เช่น **MT940**
6.  ตั้งค่าฟิลด์ **ชนิดไฟล์** เป็น **txt**

ขั้นตอนสุดท้ายคือการเปิดใช้งานการกระทบยอดบัญชีธนาคารขั้นสูงและการตั้งค่ารูปแบบใบแจ้งยอดบัญชีธนาคาร

1.  ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **บัญชีธนาคาร**
2.  เลือกบัญชีธนาคาร และเปิดขึ้นเพื่อดูรายละเอียด
3.  ในแท็บ **การกระทบยอด** ตั้งค่าตัวเลือก **การกระทบยอดบัญชีธนาคารขั้นสูง**เป็น **ใช่**
4.  เมื่อระบบขอให้คุณยืนยันการเลือกของคุณ และเปิดใช้งานการกระทบยอดธนาคารขั้นสูง คลิก **ตกลง**
5.  ตั้งค่าฟิลด์ **รูปแบบบแจ้งยอด** เป็นรูปแบบที่คุณสร้างไว้ก่อนหน้านี้ เช่น **MT940**

## <a name="set-up-the-import-of-bai2-bank-statements"></a>ตั้งค่าการนำเข้าใบแจ้งยอดจากธนาคาร BAI2
ก่อนอื่น คุณต้องกำหนดกลุ่มการประมวลผลรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร BAI2 โดยใช้กรอบงานเอนทิตี้ข้อมูล

1.  ไปยัง **พื้นที่ทำงาน** &gt; **การจัดการข้อมูล**
2.  คลิก **นำเข้า**
3.  ป้อนชื่อสำหรับใบขอซื้อ รูปแบบ เช่น **BAI2**
4.  ตั้งค่าฟิลด์ **รูปแบบข้อมูลต้นทาง** เป็น **XML-Element**
5.  ตั้งค่าฟิลด์ **ชื่อเอนทิตี้** เป็น **ใบแจ้งยอดจากธนาคาร**
6.  เมื่อต้องการอัพโหลดไฟล์ที่นำเข้า คลิก **อัพโหลด**และจากนั้น เรียกดูเพื่อเลือกไฟล์ **SampleBankCompositeEntity.xml** ที่คุณบันทึกไว้ก่อนหน้านี้
7.  หลังจากเอนทิตีใบแจ้งยอดจากธนาคารถูกอัพโหลดและการแม็ปเสร็จสมบูรณ์ คลิกการดำเนินการ **ดูแผนที่** สำหรับเอนทิตี
8.  เอนทิตีใบแจ้งยอดจากธนาคารเป็นเอนทิตี้โดยรวมที่ประกอบด้วยเอนทิตี้ที่แยกต่างหากสี่รายการ ในรายการ เลือก **BankStatementDocumentEntity** แล้วคลิกการดำเนินการ **ดูแผนที่**
9.  บนแท็บ **การแปลงข้อมูล** คลิก **สร้าง**
10. สำหรับหมายเลขลำดับ 1 คลิก **อัพโหลดไฟล์**และเลือกไฟล์**BAI2CSV-to-BAI2XML.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้
11. คลิก **สร้าง**
12. สำหรับหมายเลขลำดับ 2 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **BAI2XML Reconciliation.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้ **หมายเหตุ:** ไฟล์การแปลงข้อมูล Finance and Operations ถูกสร้างขึ้นสำหรับรูปแบบมาตรฐาน เนื่องจากธนาคารมักแตกต่างจากรูปแบบนี้ และคุณอาจต้องปรับปรุงไฟล์การแปลงเพื่อแมปไปยังรูปแบบใบแจ้งยอดจากธนาคารของคุณ <!--- For details about the expected format for BAI2, see [Dynamics AX BAI2 Layout](./media/dynamicsaxbai2layout1.xlsx).-->
13. คลิก **สร้าง**
14. สำหรับหมายเลขลำดับ 3 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **BankReconciliation-to-Composite.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้
15. คลิก **ใช้การแปลง**

หลังจากกลุ่มการประมวลผลรูปแบบถูกตั้งค่าไว้ ขั้นตอนต่อไปคือการกำหนดกฎรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร BAI2

1.  ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **การตั้งค่า** &gt; **การตั้งค่าการกระทบยอดบัญชีธนาคารขั้นสูง** &gt; **รูปแบบใบแจ้งยอดจากธนาคาร**
2.  คลิก **สร้าง**
3.  ระบุรูปแบบใบแจ้งยอด เช่น **BAI2**
4.  ป้อนชื่อสำหรับรูปแบบ
5.  ตั้งค่าฟิลด์ **กลุ่มการประมวลผล** ไปยังกลุ่มที่คุณกำหนดไว้ก่อนหน้านี้ เช่น **BAI2**
6.  ตั้งค่าฟิลด์ **ชนิดไฟล์** เป็น **txt**

ขั้นตอนสุดท้ายคือการเปิดใช้งานการกระทบยอดบัญชีธนาคารขั้นสูงและการตั้งค่ารูปแบบใบแจ้งยอดบัญชีธนาคาร

1.  ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **บัญชีธนาคาร**
2.  เลือกบัญชีธนาคาร และเปิดขึ้นเพื่อดูรายละเอียด
3.  ในแท็บ **การกระทบยอด** ตั้งค่าตัวเลือก **การกระทบยอดบัญชีธนาคารขั้นสูง**เป็น **ใช่**
4.  เมื่อระบบขอให้คุณยืนยันการเลือกของคุณ และเปิดใช้งานการกระทบยอดธนาคารขั้นสูง คลิก **ตกลง**
5.  ตั้งค่าฟิลด์ **รูปแบบบแจ้งยอด** เป็นรูปแบบที่คุณสร้างไว้ก่อนหน้านี้ เช่น **BAI2**

## <a name="test-the-bank-statement-import"></a>ทดสอบการนำเข้าไฟล์ใบแจ้งยอดจากธนาคาร
ขั้นตอนสุดท้ายคือการทดสอบว่าคุณสามารถนำเข้าใบแจ้งยอดจากธนาคารของคุณ

1.  ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **บัญชีธนาคาร**
2.  เลือกบัญชีธนาคารที่เปิดใช้งานฟังก์ชันการกระทบยอดบัญชีธนาคารขั้นสูง
3.  ในแท็บ **การกระทบยอด** คลิก **ใบแจ้งยอดจากธนาคาร**
4.  ในหน้า **ใบแจ้งยอดจากธนาคาร** คลิก **นำเข้าใบแจ้งยอด**
5.  ตั้งค่าฟิลด์ **บัญชีธนาคาร** เป็นบัญชีธนาคารที่เลือก ฟิลด์ **รูปแบบใบแจ้งยอด** จะถูกตั้งค่าโดยอัตโนมัติตามข้อมูลการตั้งค่าในบัญชีธนาคาร
6.  คลิก **เรียกดู** และเลือกไฟล์ใบแจ้งยอดจากธนาคารอิเล็กทรอนิกส์
7.  คลิก **อัพโหลด**
8.  คลิก **ตกลง** ระบบจะนำเข้าข้อมูลการชำระเงิน

ถ้าการนำเข้าเสร็จเรียบร้อยแล้ว คุณจะได้รับข้อความที่แจ้งว่ามีการนำเข้าใบแจ้งยอดของคุณ ถ้าการนำเข้าล้มเหลว ในพื้นที่ทำงาน **การจัดการข้อมูล** ในส่วน **ประวัติงาน** ค้นหางาน คลิก **รายละเอียดการดำเนินการ** สำหรับงานเพื่อเปิดหน้า **สรุปการดำเนินการ** และจากนั้น คลิก **ดูล็อกการดำเนินการ** เพื่อดูข้อผิดพลาดการนำเข้า




