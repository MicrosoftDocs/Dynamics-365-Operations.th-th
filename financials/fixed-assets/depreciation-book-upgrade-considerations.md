---
title: "ภาพรวมการอัพเกรดของสมุดบัญชีค่าเสื่อมราคา"
description: "ในรุ่นก่อนหน้านี้ มีสองแนวคิดการคิดมูลค่าสำหรับสินทรัพย์ถาวร - รูปแบบมูลค่าและสมุดบัญชีค่าเสื่อมราคา ใน Microsoft Dynamics 365 for Operations เวอร์ชัน 1611 ฟังก์ชันรูปแบบมูลค่าและฟังก์ชันสมุดบัญชีค่าเสื่อมราคาถูกรวมกันเป็นแนวคิดเดียวซึ่งเรียกว่าสมุดบัญชี หัวข้อนี้อธิบายสิ่งที่ควรพิจารณาสำหรับการอัพเกรด"
author: twheeloc
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User, Developer
ms.search.scope: Operations, Core
ms.custom: 221624
ms.assetid: cf434099-36f9-4b0f-a7c8-bed091e34f39
ms.search.region: global
ms.author: saraschi
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
translationtype: Human Translation
ms.sourcegitcommit: bec019d218d80ba059d5a1c232072f46b1ae3ee2
ms.openlocfilehash: d29cb7bc5acc29be93332b4211adebc4486a7a25
ms.lasthandoff: 03/31/2017


---

# <a name="depreciation-book-upgrade-overview"></a>ภาพรวมการอัพเกรดของสมุดบัญชีค่าเสื่อมราคา

ในรุ่นก่อนหน้านี้ มีสองแนวคิดการคิดมูลค่าสำหรับสินทรัพย์ถาวร - รูปแบบมูลค่าและสมุดบัญชีค่าเสื่อมราคา ใน Microsoft Dynamics 365 for Operations เวอร์ชัน 1611 ฟังก์ชันรูปแบบมูลค่าและฟังก์ชันสมุดบัญชีค่าเสื่อมราคาถูกรวมกันเป็นแนวคิดเดียวซึ่งเรียกว่าสมุดบัญชี หัวข้อนี้อธิบายสิ่งที่ควรพิจารณาสำหรับการอัพเกรด 

กระบวนการอัพเกรดจะเปลี่ยนการตั้งค่าที่มีอยู่และธุรกรรมที่มีอยู่ทั้งหมดไปยังโครงสร้างสมุดบัญชีใหม่ รูปแบบมูลค่าจะยังคงเป็นเช่นปัจจุบัน โดยเป็นสมุดบัญชีที่ลงรายการบัญชีในบัญชีแยกประเภททั่วไป สมุดบัญชีค่าเสื่อมราคาจะถูกย้ายไปยังสมุดบัญชีที่มีตัวเลือก **การลงรายการบัญชีในบัญชีแยกประเภททั่วไป** ที่ตั้งค่าเป็น **ไม่ใช่** ชื่อสมุดรายวันสมุดบัญชีค่าเสื่อมราคาจะถูกย้ายไปยังชื่อสมุดรายวันบัญชีแยกประเภททั่วไปกับชั้นการลงรายการบัญชีที่ตั้งค่าเป็น**ไม่มี** ธุรกรรมสมุดบัญชีค่าเสื่อมราคาจะถูกย้ายไปที่ธุรกรรมสินทรัพย์ถาวร 

ก่อนที่จะรันการอัพเกรดข้อมูล คุณควรทำความเข้าใจตัวเลือกสองรายการที่พร้อมใช้งานสำหรับการอัพเกรดรายการสมุดรายวันบัญชีค่าเสื่อมราคาเป็นใบสำคัญธุรกรรม และลำดับหมายเลขที่จะใช้สำหรับชุดใบสำคัญ 

ตัวเลือกที่ 1: **ลำดับหมายเลขที่กำหนดโดยระบบ** - นี่คือตัวเลือกเริ่มต้นเพื่อปรับปรุงประสิทธิภาพของการอัพเกรด การอัพเกรดจะไม่ใช้กรอบงานลำดับหมายเลข แต่จะปันส่วนใบสำคัญที่มีวิธีการตามการตั้งค่าแทน หลังจากการอัพเกรด ลำดับหมายเลขใหม่จะถูกสร้างขึ้นด้วยการ**ชุดหมายเลขถัดไป**อย่างเหมาะสมขึ้นอยู่กับธุรกรรมที่อัพเกรด โดยค่าเริ่มต้น จะมีลำดับหมายเลขที่ใช้ในการ FADBUpgr\#\#\#\#\#\#\#\#\#รูปแบบ มีบางพารามิเตอร์คุณสามารถปรับรูปแบบเมื่อใช้วิธีการนี้พร้อมใช้งาน:

-   **รหัสลำดับหมายเลข**– รหัสลำดับหมายเลขที่ระบุ นี้รหัสลำดับหมายเลขไม่มีอยู่เนื่องจากจะถูกสร้างขึ้น โดยการปรับรุ่น
    -   ชื่อค่าคงที่: **NumberSequenceDefaultCode**
    -   ค่าเริ่มต้น: "FADBUpgr"
-   **คำนำหน้า** – ค่าสตริงที่คงที่จะถูกใช้เป็นคำนำหน้าสำหรับหมายเลขใบสำคัญ
    -   ชื่อค่าคงที่: **NumberSequenceDefaultParameterPrefix**
    -   ค่าเริ่มต้น: "FADBUpgr"
-   **ความยาวของตัวอักษรและตัวเลข** – ความยาวของเซ็กเมนต์ตัวอักษรและตัวเลขของลำดับหมายเลข
    -   ชื่อค่าคง: ** NumberSequenceDefaultParameterAlpanumericLength **
    -   ค่าเริ่มต้น: 9
-   **หมายเลขเริ่มต้น** - หมายเลขเริ่มต้นที่จะใช้ในลำดับหมายเลข
    -   ชื่อค่าคง: ** NumberSequenceDefaultParameterStartNumber **
    -   ค่าเริ่มต้น: 1

ตัวเลือกที่ 2:**ผู้ใช้กำหนดลำดับหมายเลขที่มีอยู่**-ตัวเลือกนี้จะช่วยให้คุณสามารถกำหนดลำดับหมายเลขที่จะใช้สำหรับการปรับรุ่น ให้พิจารณาใช้ตัวเลือกนี้ถ้าคุณต้องการกำหนดค่าลำดับเลขขั้นสูง เมื่อต้องการใช้ลำดับหมายเลข คุณต้องปรับเปลี่ยนคลาการอัพเกรด ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans ด้วยข้อมูลต่อไปนี้:

-   **รหัสลำดับหมายเลข** – รหัสของลำดับหมายเลข
    -   ชื่อค่าคง: ** NumberSequenceExistingCode **
    -   ค่าเริ่มต้น: ไม่มีค่าเริ่มต้น ต้จะต้องอัพเดตเป็นรหัสลำดับหมายเลข
-   **ลำดับหมายเลขที่ใช้ร่วมกัน** – ค่าบูลีนเพื่อระบุขอบเขตของลำดับหมายเลข ใช้ "จริง" สำหรับลำดับหมายเลขที่ใช้ร่วมกันทั่วทั้งบริษัท และ "เท็จ" สำหรับขอบเขตเฉพาะบริษัท เมื่อใช้ "เท็จ" ลำดับหมายเลขที่ มีชื่อที่ระบุต้องมีอยู่ในบริษัททั้งหมดที่ประกอบด้วยธุรกรรมสมุดบัญชีค่าเสื่อมราคา ลำดับหมายเลขที่ใช้ร่วมกันที่มีอยู่ในทุกพาร์ติชันที่ประกอบด้วยธุรกรรมสมุดบัญชีค่าเสื่อมราคา
    -   ชื่อค่าคง: ** NumberSequenceExistingIsShared **
    -   ค่าเริ่มต้น: จริง

พารามิเตอร์ตั้งอยู่ที่ส่วนเริ่มต้นของการ ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans คลา 

*ระบุวิธีการปันส่วนใบสำคัญเหมาะกับ*<ph id="t1">
</ph>*/ / จริง ถ้าคุณต้องการใช้รหัสลำดับหมายเลขมีอยู่*<ph id="t2">
</ph>*/ / false ถ้าคุณต้องการใช้ระบบกำหนดลำดับหมายเลข (ค่าเริ่มต้น)* NumberSequenceUseExistingCode บูลี const = false  

*ถ้าใช้วิธีปฏิบัติสำหรับการกำหนดโดยระบบลำดับหมายเลข ระบุพารามิเตอร์สำหรับลำดับหมายเลข *<ph id="t3">
</ph>*/ / ลำดับหมายเลขใหม่จะถูกสร้างขึ้น โดยใช้พารามิเตอร์เหล่านี้* ค่า const str NumberSequenceDefaultCode = 'FADBUpgr' ค่า const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr' ค่า const int NumberSequenceDefaultParameterAlpanumericLength = 9 ค่า const int NumberSequenceDefaultParameterStartNumber = 1   

*ถ้าใช้วิธีปฏิบัติลำดับหมายเลขที่มีอยู่ ระบุรหัสลำดับหมายเลขที่มีอยู่ *<ph id="t1">
</ph>*/ / การปันส่วนใบสำคัญจะไปแถวแถวสำหรับลำดับหมายเลขที่มีอยู่* ค่า const str NumberSequenceExistingCode = ''; */ / ระบุขอบเขตของรหัสลำดับหมายเลขที่มีอยู่*<ph id="t2">
</ph>*/ / จริง ถ้ามีการใช้ลำดับหมายเลขที่ระบุร่วม*<ph id="t3">
</ph>*/ / false ถ้าลำดับหมายเลขที่ระบุ สำหรับแต่ละบริษัท*<ph id="t4">
</ph>*/ / เริ่มระบบกำหนดลำดับหมายเลขที่จะใช้ถ้าไม่พบรหัสลำดับหมายเลขกับขอบเขตที่ระบุ* const boolean NumberSequenceExistingIsShared = true; 

สร้างโครงการที่มีคลาสใหม่หลังจากที่มีการแก้ไขค่าคงที่ 

เมื่อใช้ระบบสร้างหมายเลขลำดับวิธีปฏิบัติ (ตัวเลือกที่ 1), การปรับรุ่นจะใช้ตามการตั้งค่าการประมวลผลการปันส่วนหมายเลขใบสำคัญตามที่ระบุในพารามิเตอร์สคริปต์การอัพเกรด ซึ่งจะสร้างลำดับหมายเลขใหม่กับพารามิเตอร์ที่ระบุหลังจากการปันส่วนด้วย 

เมื่อใช้วิธีการของลำดับหมายเลขที่มีอยู่ที่ผู้ใช้กำหนด (ตัวเลือกที่ 2) การอัพเกรดข้อมูลจะตรวจสอบว่าลำดับหมายเลขที่มีขอบเขตที่ระบุอยู่ในฐานข้อมูลสำหรับแต่ละพาร์ติชันและบริษัทที่มีธุรกรรมสมุดบัญชีค่าเสื่อมราคาหรือไม่ ถ้าไม่มี การปรับรุ่นจะใช้แถวแถวการประมวลผลการปันส่วนหมายเลขใบสำคัญที่ระบุไว้ตามลำดับหมายเลขโดยใช้กรอบงานลำดับหมายเลข ถ้าไม่มีลำดับหมายเลขที่อยู่กับขอบเขตที่ระบุ การปรับรุ่นจะใช้ในการเริ่มต้นระบบกำหนดหมายเลขลำดับวิธีการปันส่วนหมายเลขใบสำคัญ และจะสร้างลำดับหมายเลขใหม่พร้อมกับพารามิเตอร์เริ่มต้นที่ระบุหลังจากการปันส่วน

ไม่ว่าจะด้วยวิธีการใด สคริปต์การอัพเกรดข้อมูลจะใช้ลำดับหมายเลขสำหรับฟิลด์ **ชุดใบสำคัญ** ในชื่อใหม่ของสมุดรายวันบัญชีแยกประเภททั่วไปซึ่งสร้างขึ้นสำหรับชื่อสมุดรายวันสมุดบัญชีค่าเสื่อมราคาก่อนหน้านี้


