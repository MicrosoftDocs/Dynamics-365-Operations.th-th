---
title: "แนวทางปฏิบัติสำหรับการนำเข้าเอนทิตีสมุดรายวันทั่วไปโดยใช้ใบสำคัญ"
description: "หัวข้อนี้ให้คำแนะนำสำหรับการนำเข้าข้อมูลลงในสมุดรายวันทั่วไปโดยทั่วไปเอนทิตีของสมุดรายวัน"
author: twheeloc
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User
ms.search.scope: AX 7.0.0, Operations, Core
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
translationtype: Human Translation
ms.sourcegitcommit: 4d6cf88788dcc5e982e509137aa444a020137a5e
ms.openlocfilehash: 81a52acd1d9baa12fcfe9d848441901894fa5682
ms.lasthandoff: 03/31/2017


---

# <a name="best-practices-for-importing-vouchers-using-the-general-journal-entity"></a>แนวทางปฏิบัติสำหรับการนำเข้าเอนทิตีสมุดรายวันทั่วไปโดยใช้ใบสำคัญ

หัวข้อนี้ให้คำแนะนำสำหรับการนำเข้าข้อมูลลงในสมุดรายวันทั่วไปโดยทั่วไปเอนทิตีของสมุดรายวัน  

คุณสามารถใช้สมุดรายวันทั่วไปเอนทิตีการนำเข้าใบสำคัญที่มีชนิดบัญชีบัญชีหรือบัญชีตรงข้ามของ**บัญชีแยกประเภท ลูกค้า ผู้ขาย หรือธนาคาร**ได้ ใบสำคัญคุณสามารถป้อนเป็นหนึ่งบรรทัด โดยใช้ทั้งสองอย่าง**บัญชี**ฟิลด์และ**บัญชีตรงข้าม**ฟิลด์ หรือ เป็นแบบหลายบรรทัดใบสำคัญ เดียว**บัญชี**ฟิลด์ถูกใช้ (และ**บัญชีตรงข้าม**ว่างเปล่าบนแต่ละบรรทัด) ได้ เอนทิตีของสมุดรายวันทั่วไปไม่สนับสนุนทุกชนิดบัญชี แต่จะมีเอนทิตีอื่นสำหรับสถานการณ์ที่จำเป็นต้องมีชนิดบัญชีชุดอื่น ตัวอย่างเช่น การนำเข้าธุรกรรมโครงการ ใช้เอนทิตีสมุดรายวันค่าใช้จ่ายของโครงการ แต่ละเอนทิตีถูกออกแบบมาเพื่อสนับสนุนสถานการณ์ ซึ่งหมายความว่า เขตข้อมูลเพิ่มเติมอาจพร้อมใช้งาน ในเอนทิตีสำหรับสถานการณ์สมมติเหล่านั้น แต่ไม่ได้อยู่ ในเอนทิตีสำหรับสถานการณ์สมมติที่แตกต่างกัน

## <a name="setup"></a>การตั้งค่า
ก่อนที่คุณนำเข้า โดยใช้เอนทิตีสมุดรายวันทั่วไป การตรวจสอบการตั้งค่าต่อไปนี้:

-   **ตั้งค่าลำดับหมายเลขสำหรับหมายเลขชุดงานสมุดรายวัน**- โดยค่าเริ่ม ต้น เมื่อคุณนำเข้า โดยใช้ลำดับหมายเลขที่กำหนดไว้ในพารามิเตอร์บัญชีแยกประเภททั่วไปสมุดรายวันทั่วไปเอนทิตี ใช้หมายเลขชุดงานสมุดรายวัน ถ้าคุณตั้งค่าลำดับหมายเลขสำหรับหมายเลขชุดงานสมุดรายวันเป็น **ด้วยตนเอง** จะไม่ใช้หมายเลขเริ่มต้น การตั้งค่านี้ไม่ได้รับการสนับสนุน
-   **การตั้งค่าคอนฟิกมิติทางการเงิน**-ทุกองค์กรต้องกำหนดลำดับของมิติทางการเงินเมื่อมีใช้เอนทิตีการนำเข้าธุรกรรม มีกำหนดสำหรับใบสั่ง**รวมมิติของบัญชีแยกประเภท**รูปแบบ ที่**บัญชีแยกประเภททั่วไป**&gt;**ผังบัญชี**&gt;**มิติ**&gt;**การตั้งค่าคอนฟิกมิติทางการเงินสำหรับการรวมแอพลิเคชัน**&gt;**เลือกเอนทิตีข้อมูล** เซ็กเมนต์ของบัญชีแยกประเภทที่ถูกนำเข้าต้องอยู่ในลำดับเดียวกัน มิฉะนั้น จะเกิดข้อผิดพลาดขึ้นในระหว่างการนำเข้า

## <a name="general-journal-entity-setup"></a>การตั้งค่าเอนทิตีสมุดรายวันทั่วไป
การตั้งค่าในการจัดการข้อมูลที่สองมีผลต่อวิธีใช้หมายเลขชุดงานของสมุดรายวันเริ่มต้นหรือหมายเลขใบสำคัญ:

-   **ตามการตั้งค่าการประมวลผล**(บนเอนทิตีข้อมูล)
-   **สร้างโดยอัตโนมัติ**(บนแมปเขตข้อมูล)

ส่วนต่อไปนี้อธิบายผลกระทบของการตั้งค่าเหล่านี้ และยังอธิบายถึงวิธีสร้างหมายเลขชุดงานสมุดรายวันและหมายเลขใบสำคัญอีกด้วย

### <a name="journal-batch-number"></a>หมายเลขชุดงานสมุดรายวัน

-   การตั้งค่า **การประมวลผลตามการตั้งค่า** บนเอนทิตีสมุดรายวันทั่วไปไม่มีผลต่อวิธีการสร้างหมายเลขชุดงานสมุดรายวัน
-   ถ้าฟิลด์ **หมายเลขชุดงานสมุดรายวัน** ถูกตั้งค่าเป็น **สร้างโดยอัตโนมัติ** หมายเลขชุดงานสมุดรายวันใหม่จะถูกสร้างขึ้นให้กับทุกบรรทัดที่ถูกนำเข้า ลักษณะการทำงานนี้ไม่ได้รับการแนะนำ การตั้งค่า **สร้างโดยอัตโนมัติ** พบได้ในโครงการนำเข้าภายใต้ **ดูแผนที่**ในแท็บ **รายละเอียดการแม็ป**
-   ถ้าฟิลด์ **หมายเลขชุดงานสมุดรายวัน** ไม่ถูกตั้งค่าเป็น **สร้างโดยอัตโนมัติ** หมายเลขชุดงานสมุดรายวันใหม่จะถูกสร้างขึ้นดังนี้:
    -   ถ้าหมายเลขชุดงานสมุดรายวันที่กำหนดไว้ในแฟ้มนำเข้าตรงกับที่มีอยู่ ไม่ลงรายการบัญชีรายวันสมุดรายวันอินใน 365 Dynamics Microsoft สำหรับการดำเนินงาน บรรทัดทั้งหมดที่มีหมายเลขชุดงานสมุดรายวันที่ตรงกันจะถูกนำเข้าลงในสมุดรายวันที่มีอยู่ จะไม่มีการนำเข้ารายการลงในหมายเลขชุดงานสมุดรายวันที่ลงรายการบัญชี แต่จะสร้างหมายเลขใหม่ขึ้น
    -   ถ้าหมายเลขชุดงานสมุดรายวันที่กำหนดไว้ในแฟ้มนำเข้าไม่ตรงกับที่มีอยู่ ไม่ลงรายการบัญชีรายวันสมุดรายวันอินใน 365 Dynamics สำหรับการดำเนินงาน บรรทัดทั้งหมดที่มีหมายเลขชุดงานสมุดรายวันเดียวกันจะถูกจัดกลุ่มภายใต้สมุดรายวันใหม่ ตัวอย่างเช่น บรรทัดทั้งหมดที่มีหมายเลขชุดงานสมุดรายวันเป็น 1 จะถูกนำเข้าลงในสมุดรายวันใหม่ และบรรทัดทั้งหมดที่มีหมายเลขชุดงานสมุดรายวันเป็น 2 จะถูกนำเข้าลงในสมุดรายวันใหม่อีกรายการหนึ่ง หมายเลขชุดงานสมุดรายวันถูกสร้างขึ้นโดยใช้ลำดับหมายเลขที่กำหนดไว้ในพารามิเตอร์บัญชีแยกประเภททั่วไป

### <a name="voucher-number"></a>หมายเลขใบสำคัญ

-   เมื่อคุณใช้การตั้งค่า **การประมวลผลตามการตั้งค่า** บนเอนทิตีสมุดรายวันทั่วไป จะต้องมีหมายเลขใบสำคัญในไฟล์ที่นำเข้า ทุกธุรกรรมในสมุดรายวันทั่วไปถูกกำหนดให้กับหมายเลขใบสำคัญที่มีอยู่ในไฟล์ที่นำเข้า แม้ว่าใบสำคัญจะไม่สมดุล ถ้าคุณต้องการใช้ตามการตั้งค่าการประมวลผล แต่คุณต้องการใช้ลำดับหมายเลขที่กำหนดไว้สำหรับหมายเลขใบสำคัญใน 365 Dynamics สำหรับการดำเนินงาน ต้องมีการให้โปรแกรมแก้ไขด่วนสำหรับเดือน 2016 กุมภาพันธ์นำออกใช้ หมายเลขของโปรแกรมแก้ไขด่วนคือ 3170316 และสามารถดาวน์โหลดได้จาก Lifecycle services (LCS) สำหรับข้อมูลเพิ่มเติม ดู [ดาวน์โหลดโปรแกรมแก้ไขด่วนจาก Lifecycle Services](..\migration-upgrade\download-hotfix-lcs.md)
    -   เมื่อต้องการเปิดใช้งานฟังก์ชันนี้ ในชื่อสมุดรายวันที่ใช้สำหรับการนำเข้าใน 365 Dynamics สำหรับการดำเนินงาน ตั้ง**หมายเลขการปันส่วนเมื่อลงรายการบัญชี**ไป**ใช่**
    -   ยังคงต้องกำหนดหมายเลขใบสำคัญในไฟล์ที่นำเข้า อย่างไรก็ตาม หมายเลขนี้เป็นแบบชั่วคราว และจะถูกเขียนทับ โดย 365 Dynamics สำหรับหมายเลขใบสำคัญของการดำเนินงานเมื่อมีการลงรายการบัญชีสมุดรายวัน คุณต้องตรวจสอบให้แน่ใจว่าบรรทัดของสมุดรายวันถูกจัดกลุ่มตามหมายเลขใบสำคัญชั่วคราวอย่างถูกต้อง ตัวอย่างเช่น ในระหว่างการลงรายการบัญชี สามบรรทัดจะพบที่มีหมายเลขใบสำคัญชั่วคราว 1 หมายเลขใบสำคัญชั่วคราวของบรรทัดทั้งหมดที่สามจะถูกแทนที่ ด้วยหมายเลขถัดไปในลำดับหมายเลข ถ้าสามบรรทัดเหล่านั้นไม่มีเอนทิตีที่สมดุล ใบสำคัญจะไม่ถูกลงรายการบัญชี ถัดไป หากพบว่าบรรทัดมีหมายเลขใบสำคัญชั่วคราวเป็น 2 หมายเลขนี้จะถูกแทนที่ด้วยหมายเลขใบสำคัญถัดไปในลำดับหมายเลข และต่อไปเรื่อยๆ

<!-- -->

-   เมื่อคุณไม่ได้ใช้**ตามการตั้งค่าการประมวลผล**การตั้งค่า คุณไม่จำเป็นต้องใส่หมายเลขใบสำคัญในแฟ้มนำเข้า หมายเลขใบสำคัญถูกสร้างขึ้นในระหว่างการนำเข้าตามการตั้งค่าชื่อสมุดรายวัน (**ใบสำคัญหนึ่งใบเท่านั้น****ในการเชื่อมต่อของยอดดุล**และต่อไปเรื่อยๆ) ตัวอย่างเช่น ถ้ามีการกำหนดชื่อสมุดรายวันเป็น **ในการเชื่อมต่อของยอดดุล**บรรทัดแรกจะได้รับหมายเลขใบสำคัญเริ่มต้นใหม่ ระบบจะประเมินบรรทัดเพื่อระบุว่าเดบิตเท่ากับเครดิตหรือไม่ ถ้ามีบัญชีตรงข้ามบนบรรทัด บรรทัดถัดไปที่มีการนำเข้าจะได้รับหมายเลขใบสำคัญใหม่ ถ้าไม่มีบัญชีตรงข้ามที่มีอยู่ ระบบจะประเมินว่าเดบิตเท่ากับเครดิตหรือไม่ในขณะที่มีการนำเข้าแต่ละบรรทัดใหม่
-   ถ้าฟิลด์ **หมายเลขใบสำคัญ** ถูกตั้งค่าเป็น **สร้างโดยอัตโนมัติ** การนำเข้าจะไม่สำเร็จ การตั้งค่า **สร้างโดยอัตโนมัติ** สำหรับฟิลด์ **หมายเลขใบสำคัญ** จะไม่ได้รับการสนับสนุน

โดยค่าเริ่มต้น เอนทิตีสมุดรายวันทั่วไปใช้การประมวลผลตามการตั้งค่า หลังจากที่คุณประเมินความต้องการทางธุรกิจสำหรับองค์กรของคุณแล้ว คุณสามารถเปลี่ยนการตั้งค่า **การประมวลผลตามการตั้งค่า** ได้โดยการคลิก **เอนทิตีข้อมูล** ในพื้นที่ทำงาน **การจัดการข้อมูล** การประมวลผลตามการตั้งค่าถูกใช้เพื่อเร่งความเร็วกระบวนการนำเข้า ถ้าคุณไม่ได้ใช้การประมวลผลตามการตั้งค่า การนำเข้าของการนำเข้าเอนทิตีสมุดรายวันทั่วไปจะช้าลง


