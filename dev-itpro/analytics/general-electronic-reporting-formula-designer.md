---
title: "ผู้ออกแบบสูตรรายงานทางอิเล็กทรอนิกส์"
description: "หัวข้อนี้อธิบายวิธีการใช้โปรแกรมออกแบบสูตรในรายงานอิเล็กทรอนิกส์ (ER) เมื่อคุณออกแบบรูปแบบสำหรับเอกสารอิเล็กทรอนิกส์เฉพาะใน ER คุณสามารถใช้ Microsoft Excel เหมือนกับสูตรสำหรับการแปลงข้อมูลเพื่อให้ตรงกับความต้องการสำหรับการเติมสินค้าและการจัดรูปแบบของเอกสาร ฟังก์ชันชนิดต่างๆ ที่ได้รับการสนับสนุน - ข้อความ วันที่และเวลา ตรรกะเชิงคณิตศาสตร์ ข้อมูล การแปลงชนิดข้อมูล และอื่ ๆ  (ฟังก์ชันเฉพาะโดเมนธุรกิจ)"
author: kfend
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.search.scope: AX 7.0.0, Operations, Core
ms.custom: 58771
ms.assetid: 24223e13-727a-4be6-a22d-4d427f504ac9
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: Human Translation
ms.sourcegitcommit: d421b161216d700f7819f1da8c0ca8ad089b5670
ms.openlocfilehash: 5726a6fc60977a82b49e00ca653696e4051cbb10
ms.contentlocale: th-th
ms.lasthandoff: 05/25/2017


---

# <a name="formula-designer-in-electronic-reporting"></a>ผู้ออกแบบสูตรรายงานทางอิเล็กทรอนิกส์

[!include[banner](../includes/banner.md)]


หัวข้อนี้อธิบายวิธีการใช้โปรแกรมออกแบบสูตรในรายงานอิเล็กทรอนิกส์ (ER) เมื่อคุณออกแบบรูปแบบสำหรับเอกสารอิเล็กทรอนิกส์เฉพาะใน ER คุณสามารถใช้ Microsoft Excel เหมือนกับสูตรสำหรับการแปลงข้อมูลเพื่อให้ตรงกับความต้องการสำหรับการเติมสินค้าและการจัดรูปแบบของเอกสาร ฟังก์ชันชนิดต่างๆ ที่ได้รับการสนับสนุน - ข้อความ วันที่และเวลา ตรรกะเชิงคณิตศาสตร์ ข้อมูล การแปลงชนิดข้อมูล และอื่ ๆ  (ฟังก์ชันเฉพาะโดเมนธุรกิจ)

<a name="formula-designer-overview"></a>ภาพรวมผู้ออกแบบสูตร
-------------------------

การรายงานทางอิเล็กทรอนิกส์ (ER) สนับสนุนผู้ออกแบบสูตร ดังนั้น ในขณะออกแบบ คุณสามารถกำหนดนิพจน์ที่สามารถใช้สำหรับงานขณะรันไทม์ต่อไปนี้:

-   ข้อมูลที่เปลี่ยนแปลงได้รับจากฐานข้อมูลของ Microsoft Dynamics 365 for Operations และควรมีอยู่ในแบบจำลองข้อมูล ER ซึ่งมีวัตถุประสงค์เพื่อใช้เป็นแหล่งข้อมูลสำหรับรูปแบบ ER (การกรอง การจัดกลุ่ม การแปลงชนิดข้อมูล เป็นต้น)
-   การจัดรูปแบบข้อมูลที่ต้องเป็นผลลัพธ์ในการสร้างเอกสารทางอิเล็กทรอนิกส์ที่สอดคล้องกับโครงร่างและเงื่อนไขของรูปแบบ ER เฉพาะ (สอดคล้องกับภาษาหรือวัฒนธรรมที่ร้องขอ การเข้ารหัส เป็นต้น)
-   การควบคุมกระบวนการในการสร้างเอกสารทางอิเล็กทรอนิกส์ (การเปิดใช้งาน/การปิดใช้งานผลลัพธ์ของส่วนประกอบบางอย่างของรูปแบบ โดยขึ้นอยู่กับข้อมูลการประมวลผล การรบกวนการสร้างเอกสาร การจัดข่าวสารสำหรับผู้ใช้ เป็นต้น)

หน้าผู้ออกแบบสูตรนั้นสามารถเปิดได้เมื่อคุณทำอย่างใดอย่างหนึ่งต่อไปนี้:

-   ผูกรายการแหล่งข้อมูลให้ส่วนประกอบของแบบจำลองข้อมูล
-   ผูกรายการแหล่งข้อมูลให้ส่วนประกอบของรูปแบบ
-   ทำการบำรุงรักษาฟิลด์ที่คำนวณได้เป็นส่วนหนึ่งของแหล่งข้อมูลเสร็จสมบูรณ์
-   กำหนดเงื่อนไขที่มองเห็นได้สำหรับพารามิเตอร์การป้อนของผู้ใช้
-   ออกแบบการแปลงรูปแบบ
-   กำหนดการเปิดใช้งานเงื่อนไขสำหรับส่วนประกอบของรูปแบบ
-   กำหนดชื่อไฟล์สำหรับส่วนประกอบรูปแบบ FILE
-   กำหนดเงื่อนไขสำหรับการตรวจสอบการควบคุมกระบวนการ
-   กำหนดข้อความอักษรสำหรับการตรวจสอบการควบคุมกระบวนการ

## <a name="designing-er-formulas"></a>การออกแบบสูตร ER
### <a name="data-binding"></a>การรวมข้อมูล

ผู้ออกแบบสูตร ER สามารถใช้เพื่อกำหนดนิพจน์ที่แปลงข้อมูลที่ได้รับจากแหล่งข้อมูล เพื่อให้สามารถเติมข้อมูลให้กับผู้ใช้ขณะดำเนินงาน:

-   จากแหล่งข้อมูลของ Dynamics 365 for Operations และพารามิเตอร์เวลาการดำเนินงานเป็นแบบจำลองข้อมูล ER
-   จากแบบจำลองข้อมูล ER เป็นรูปแบบ ER
-   จากแหล่งข้อมูลของ Dynamics 365 for Operations และพารามิเตอร์เวลาการดำเนินงานเป็นรูปแบบ ER

ภาพต่อไปนี้แสดงการออกแบบนิพจน์ชนิดนี้ ในตัวอย่างนี้ นิพจน์ส่งคืนค่าของฟิลด์ **Intrastat.AmountMST** ของตาราง Dynamics 365 for Operations **อินทราสแทต** หลังจากค่าถูกปัดเศษเป็นทศนิยมสองตำแหน่ง [![picture-expression-binding](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg) ภาพประกอบต่อไปนี้แสดงวิธีการใช้นิพจน์ชนิดนี้ ในตัวอย่างนี้ ผลลัพธ์ของนิพจน์ที่ได้รับการออกแบบจะถูกเก็บไว้ในส่วนประกอบ **Transaction.InvoicedAmount** ของแบบจำลองข้อมูล **แบบจำลองการรายงานภาษี** [![picture-expression-binding2](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg) ระหว่างดำเนินการ สูตรที่ออกแบบ **ปัด (Intrastat.AmountMST, 2)** จะปัดเศษค่าของ **AmountMST** สำหรับแต่ละเรกคอร์ดของ **อินทราสแทต** เป็นตารางทศนิยมสองตำแหน่ง และปัดเศษค่าเป็น **Transaction.InvoicedAmount** ส่วนประกอบของแบบจำลองข้อมูล **การรายงานภาษี**

### <a name="data-formatting"></a>การจัดรูปแบบข้อมูล

ผู้ออกแบบสูตร ER สามารถใช้เพื่อกำหนดนิพจน์ที่แปลงรูปแบบข้อมูลที่ได้รับจากแหล่งข้อมูล เพื่อให้สามารถส่งข้อมูลเป็นเอกสารอิเล็กทรอนิกส์ ถ้าคุณมี การจัดรูปแบบที่ต้องใช้ตามกฎทั่วไปที่ควรนำมาใช้ใหม่สำหรับรูปแบบ คุณสามารถสร้างรูปแบบนั้นครั้งเดียวในการตั้งค่าคอนฟิกการจัดรูปแบบเป็นการแปลงที่มีชื่อที่มีนิพจน์การจัดรูปแบบ การแปลงข้อมูลที่มีการตั้งชื่อนี้สามารถเชื่อมโยงกับองค์ประกอบรูปแบบหลายองค์ประกอบซึ่งผลลัพธ์ต้องถูกจัดรูปแบบตามนิพจน์ที่สร้างไว้ ภาพต่อไปนี้แสดงการออกแบบการแปลงชนิดนี้ ในตัวอย่างนี้ การแปลง **TrimmedString** นำข้อมูลขาเข้าของชนิดข้อมูล **String** และตัดทอนช่องว่างนำหน้าและต่อท้ายเมื่อจะส่งคืนค่าสตริง [![picture-transformation-design](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg) ภาพต่อไปนี้แสดงการใช้การแปลงชนิดนี้ ในตัวอย่างนี้ หลายส่วนประกอบรูปแบบที่ส่งข้อความเป็นผลลัพธ์เพื่อสร้างเอกสารอิเล็กทรอนิกส์ขณะรันไทม์ อ้างอิงถึงการแปลง **TrimmedString** ด้วยชื่อ [![picture-transformation-usage](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg) เมื่อส่วนประกอบของรูปแบบอ้างอิงถึงการแปลง **TrimmedString **(ตัวอย่างเช่น ส่วนประกอบ **partyName** ในตัวอย่างก่อนหน้านี้) ระบบจะส่งข้อความเป็นเอาท์พุตไปยังเอกสารที่มีการสร้าง ข้อความไม่มีช่องว่างนำหน้าและต่อท้าย ถ้าคุณมีการจัดรูปแบบที่จำเป็นต้องใช้แต่ละรายการ คุณสามารถนำรูปแบบไปใช้เพื่อเป็นนิพจน์ของการผูกข้อมูลของส่วนประกอบรูปเฉพาะแบบแต่ละรายการได้ ภาพต่อไปนี้แสดงนิพจน์ชนิดนี้ ในตัวอย่างนี้ ส่วนประกอบรูปแบบ **partyType** ถูกผูกไว้กับแหล่งข้อมูลผ่านนิพจน์ที่ใช้สำหรับแปลงข้อมูลขาเข้าจากฟิลด์ **Model.Company.RegistrationType** ในแหล่งข้อมูลเป็นข้อความตัวพิมพ์ใหญ่และส่งเป็นการแสดงผลข้อความเป็นเอกสารอิเล็กทรอนิกส์ [![picture-binding-with-formula](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)

### <a name="process-flow-control"></a>กระบวนการควบคุมขั้นตอน

ผู้ออกแบบสูตร ER สามารถใช้เพื่อกำหนดนิพจน์ที่ควบคุมขั้นตอนการประมวลผลเอกสารที่สร้าง: คุณสามารถ:

-   เงื่อนไขที่กำหนดเมื่อกระบวนการสร้างเอกสารต้องถูกหยุด
-   ระบุนิพจน์ที่จะสร้างข้อความโต้ตอบเกี่ยวกับกระบวนการหยุดให้ผู้ใช้ หรือป้อนข้อความล็อกการดำเนินการเกี่ยวกับกระบวนการสร้างรายงานต่อเนื่อง
-   ระบุชื่อไฟล์การสร้างเอกสาร และเงื่อนไขของการควบคุม

กฏแต่ละกฏของการควบคุมขั้นตอนการประมวลผลถูกออกแบบให้เป็นการตรวจสอบเดี่ยว ภาพต่อไปนี้แสดงการตรวจสอบความถูกต้องชนิดนี้ นี่เป็นคำอธิบายเกี่ยวกับการตั้งค่าคอนฟิกในตัวอย่างนี้:

-   ตรวจสอบการประเมินเมื่อโหนด **INSTAT** ถูกสร้างในไฟล์ XML
-   เมื่อรายการธุรกรรมว่างเปล่าs การการประมวลผลจะหยุดการดำเนินและส่งกลับค่า **FALSE**
-   การตรวจสอบส่งคืนข้อผิดพลาดที่มีข้อความของป้ายชื่อ SYS70894 ในภาษาที่ผู้ใช้ต้องการ

[![picture-validation](./media/picture-validation.jpg)](./media/picture-validation.jpg) ผู้ออกแบบสูตร ER สามารถใช้เพื่อระบุชื่อไฟล์สำหรับการสร้างเอกสารทางอิเล็กทรอนิกส์และควบคุมกระบวนการสร้างไฟล์ด้วย ภาพต่อไปนี้แสดงกฏของการควบคุมขั้นตอนการประมวลผลชนิดนี้ นี่เป็นคำอธิบายเกี่ยวกับการตั้งค่าคอนฟิกในตัวอย่างนี้:

-   รายการเรกคอร์ดจากแหล่งข้อมูล **แบบจำลองอินทราสแทต** จะถูกแบ่งด้วยชุดงานที่ประกอบด้วยเรกคอร์ดได้ถึง 1000 เรกคอร์ด
-   ผลลัพธ์สร้างไฟล์ zip ที่ประกอบด้วยไฟล์หนึ่งไฟล์ในรูปแบบ XML สำหรับชุดงานทั้งหมดที่สร้างขึ้น
-   นิพจน์ส่งกลับชื่อไฟล์สำหรับการสร้างเอกสารอิเล็กทรอนิกส์โดยเชื่อมชื่อไฟล์และนามสกุลไฟล์ สำหรับชุดงานที่สองและชุดงานในลำดับต่อมาทั้งหมด ชื่อไฟล์จะประกอบด้วยรหัสชุดงานเป็นคำต่อท้าย
-   นิพจน์ใช้งาน กระบวนการ (โดยการคืนค่า **จริง**) ในการสร้างไฟล์สำหรับชุดงานซึ่งประกอบด้วยอย่างน้อยหนึ่งเรกคอร์ด

[![picture-file-control](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)

### <a name="basic-syntax"></a>ไวยากรณ์พื้นฐาน

นิพจน์ ER สามารถประกอบองค์ประกอบใดๆ หรือทั้งหมดต่อไปนี้:

-   ค่าคงที่
-   ตัวดำเนินการ
-   การอ้างอิง
-   พาธ
-   ฟังก์ชัน

#### <a name="constants"></a>ค่าคงที่

คุณสามารถใช้ข้อความและค่าคงที่ตัวเลข (ค่าที่ไม่ได้มีการคำนวณ) ในการออกแบบนิพจน์ ตัวอย่างเช่น นิพจน์ **ค่า ("100") + 20** ใช้ค่าคงที่ตัวเลขเท่ากับ 20 และค่าคงของสตริงเท่ากับ “100” และส่งกลับค่าตัวเลขเป็น **120** ผู้ออกแบบสูตร ER สนับสนุนลำดับหลีก ซึ่งหมายความคุณสามารถระบุส่วนที่มีการหลีกของสตริงนิพจน์ที่ควรมีการจัดการที่แตกต่างกัน ตัวอย่างเช่น นิพจน์ **"Leo Tolstoy ""War and Peace"" Volume 1"** ส่งคืนสตริงข้อความ **Leo Tolstoy "War and Peace" Volume 1**

#### <a name="operators"></a>ตัวดำเนินการ

ตารางต่อไปนี้แสดงการดำเนินการทางคณิตศาสตร์ที่คุณสามารถใช้การดำเนินการพื้นฐานเชิงคณิตศาสตร์ เช่นเพิ่ม ลบ หาร และการคูณ

| ผู้ปฏิบัติการ | ความหมาย              | ตัวอย่าง |
|----------|----------------------|---------|
| +        | การเพิ่มขึ้น             | 1+2     |
| -        | ปฏิเสธการลบ | วันที่ 5-2-1  |
| \*       | คูณ       | 7\*8    |
| /        | แผนก             | 9/3     |

ตารางต่อไปนี้แสดงการเปรียบเทียบตัวดำเนินการที่จะได้รับการสนับสนุน และที่คุณสามารถใช้เพื่อเปรียบเทียบค่าสองค่า

| ผู้ปฏิบัติการ | ความหมาย                  | ตัวอย่าง    |
|----------|--------------------------|------------|
| =        | เท่ากับ                    | X=Y        |
| &gt;     | มากกว่า             | X&gt;Y     |
| &lt;     | น้อยกว่า                | X&lt;Y     |
| &gt;=    | มากกว่าหรือเท่ากับ | X&gt;=Y    |
| &lt;=    | น้อยกว่าหรือเท่ากับ    | X&lt;=Y    |
| &lt;&gt; | ไม่เท่ากับ             | X&lt;&gt;Y |

นอกจากนี้ คุณสามารถใช้เครื่องหมาย Ampersand (&) เป็นตัวเชื่อมข้อความเรียงต่อกัน หรือเชื่อมข้อความถามสตริงเป็นของข้อความเดียว

| ผู้ปฏิบัติการ | ความหมาย     | ตัวอย่าง                                        |
|----------|-------------|------------------------------------------------|
| &        | เชื่อมเข้าด้วยกัน | "ไม่พบสิ่งที่จะพิมพ์" & ": " & "ไม่พบเรกคอร์ด" |

#### <a name="operator-precedence"></a>ความสำคัญของตัวดำเนินการ

ใบสั่งที่ประเมินส่วนของนิพจน์ที่ซับซ้อนมีความสำคัญ ตัวอย่างเช่น ผลต่างของนิพจน์ **1 + 4 / 2** ขึ้นอยู่กับว่าการบวกหรือการหารดำเนินการก่อน คุณสามารถใช้เครื่องหมายวงเล็บเพื่อกำหนดวิธีประเมินนิพจน์อย่างชัดเจน ตัวอย่างเช่น เพื่อบ่งชี้ว่าส่วนเพิ่มเติมควรดำเนินการก่อน คุณสามารถปรับเปลี่ยนนิพจน์ที่เกิดขึ้นก่อนหน้าเป็น **(1 + 4) / 2** ถ้าไม่ได้กำหนดลำดับการดำเนินงานที่ต้องดำเนินการในนิพจน์ไว้อย่างชัดเจน ลำดับจะจัดตามความสำคัญเริ่มต้นที่กำหนดให้กับตัวดำเนินการสนับสนุน ตารางต่อไปนี้แสดงตัวดำเนินการและลำดับความสำคัญที่กำหนดให้กับแต่ละรายการ ตัวดำเนินการที่มีลำดับความสำคัญสูงกว่า (ตัวอย่างเช่น 7) จะถูกประเมินก่อนตัวดำเนินการที่มีลำดับความสำคัญต่ำกว่า (ตัวอย่างเช่น 1)

| ความสำคัญ | ตัวดำเนินการ      | ไวยากรณ์                                                   |
|------------|----------------|----------------------------------------------------------|
| 7          | การจัดกลุ่ม       | ( … )                                                    |
| 6 ชั่วโมง          | การเข้าถึงสมาชิก  | … . …                                                    |
| 5          | ฟังก์ชันการโทร  | … ( … )                                                  |
| 4 ชั่วโมง          | คูณ | … \* … … / …                                             |
| 3          | ที่เพิ่มเข้าไป       | … + … … - …                                              |
| 2          | การเปรียบเทียบ     | … &lt; … … &lt;= … … =&gt; … … &gt; … … = … … &lt;&gt; … |
| 1          | การแยก     | … , …                                                    |

ตัวดำเนินการบนบรรทัดเดียวกันมีลำดับความสำคัญเท่ากัน ถ้านิพจน์รวมมากกว่าหนึ่งตัวดำเนินการเหล่านี้ นิพจน์จะถูกประเมินจากซ้ายไปขวา ตัวอย่างเช่น นิพจน์ **1 + 6 / 2 \* 3 &gt; 5** ส่งกลับค่า **เป็นจริง** เราขอแนะนำให้คุณใช้เครื่องหมายวงเล็บเพื่อบ่งชี้ลำดับการประเมินนิพจน์ เพื่อทำให้นิพจน์ง่ายต่อการอ่านและรักษา

#### <a name="references"></a>การอ้างอิง

ข้อมูลทั้งหมดที่สามารถใช้เป็นแหล่งที่มาของส่วนประกอบ ER ปัจจุบัน (แบบจำลองหรือรูปแบบ) ที่พร้อมใช้งานในระหว่างการออกแบบของนิพจน์ที่มีชื่อว่าข้อมูลอ้างอิง ตัวอย่างเช่น แบบจำลองข้อมูล ER ปัจจุบันประกอบด้วยแหล่งข้อมูล **ReportingDate** ที่ส่งคืนค่าของชนิดข้อมูล **DATETIME** เพื่อจัดรูปแบบค่าในเอกสารที่มีการสร้างได้อย่างถูกต้อง คุณสามารถอ้างอิงแหล่งข้อมูลในนิพจน์ดังนี้: **DATETIMEFORMAT (ReportingDate, "dd-MM-yyyy")** อักขระในชื่อแหล่งข้อมูลอ้างอิงทั้งหมดที่ไม่แสดงอักษรต้องนำหน้าด้วยเครื่องหมายอัญประกาศเดี่ยว (') ถ้าชื่อของแหล่งข้อมูลอ้างอิงประกอบด้วยสัญลักษณ์อย่างน้อยหนึ่งรายการที่ไม่ใช่ตัวอักษร (ตัวอย่างเช่น เครื่องหมายวรรคตอนหรือสัญลักษณ์เป็นลายลักษณ์อักษรอื่น) ชื่อต้องอยู่ภายในเครื่องหมายอัญประกาศเดี่ยว ยกตัวอย่างเช่น

-   แหล่งข้อมูล **วันที่และเวลาของวันนี้** ต้องมีการใช้อ้างอิงในนิพจน์ ER ดังนี้: **'วันที่และเวลาของวันนี้'**
-   วิธีการ **name()** ของแหล่งข้อมูล **ลูกค้า** ต้องมีการอ้างอิงในนิพจน์ ER ดังนี้: **Customers.'name()'**

#### <a name="path"></a>พาธ

เมื่อนิพจน์อ้างอิงแหล่งข้อมูลที่มีโครงสร้าง คุณสามารถใช้คำนิยามพาธเพื่อเลือกเฉพาะองค์ประกอบพื้นฐานของแหล่งข้อมูลนั้น อักขระจุด (.) ใช้ในการแบ่งแต่ละองค์ประกอบของแหล่งข้อมูลที่มีโครงสร้าง ตัวอย่างเช่น แบบจำลองข้อมูล ER ปัจจุบันประกอบด้วยแหล่งข้อมูล **InvoiceTransactions** ที่ส่งคืนค่าของรายการของเรกคอร์ด โครงสร้างเรกคอร์ด**InvoiceTransactions** ประกอบด้วยฟิลด์ **AmountDebit** และ **AmountCredit** ที่ส่งคืนค่าที่เป็นตัวเลข ดังนั้น คุณสามารถการออกแบบนิพจน์ต่อไปนี้ เพื่อคำนวณยอดเงินที่มีการออกใบแจ้งหนี้: **InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit**

#### <a name="functions"></a>ฟังก์ชัน

ส่วนถัดไปอธิบายถึงฟังก์ชันที่สามารถใช้ในนิพจน์ ER แหล่งข้อมูลทั้งหมดของบริบทนิพจน์ (แบบจำลองข้อมูล ER ปัจจุบันหรือรูปแบบ ER) รวมทั้งค่าคงที่ สามารถใช้เป็นพารามิเตอร์ของฟังก์ชันการเรียกที่สอดคล้องกับรายการของอาร์กิวเมนต์ของฟังก์ชันการเรียก ตัวอย่างเช่น แบบจำลองข้อมูล ER ปัจจุบันประกอบด้วยแหล่งข้อมูล **InvoiceTransactions** ที่ส่งคืนค่าของรายการของเรกคอร์ด โครงสร้างเรกคอร์ด**InvoiceTransactions** ประกอบด้วยฟิลด์ **AmountDebit** และ **AmountCredit** ที่ส่งคืนค่าที่เป็นตัวเลข ดังนั้น ในการอคำนวณยอดเงินที่มีการออกใบแจ้งหนี้ คุณสามารถออกแบบนิพจน์ที่ใช้ฟังก์ชันการปัดเศษที่มีอยู่ใน ER ได้ดังนี้: **ROUND (InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit, 2)**

## <a name="supported-functions"></a>ฟังก์ชันที่ได้รับการสนับสนุน
ตารางต่อไปนี้อธิบายถึงฟังก์ชันการจัดการข้อมูลที่คุณสามารถใช้ในการออกแบบจำลองข้อมูล ER และรายงาน ER รายการของฟังก์ชันนี้จะไม่มีการแก้ไขและสามารถมีการขยายได้โดยนักพัฒนา เมื่อต้องการดูรายการของฟังก์ชันที่คุณสามารถใช้ ไปที่บานหน้าต่างฟังก์ชันในผู้ออกแบบสูตร ER

### <a name="date-and-time-functions"></a>ฟังก์ชันวันที่และเวลา

| ฟังก์ชัน                                   | คำอธิบาย                                                                                                                                                                                                                                                                                                                                                      | ตัวอย่าง                                                                                                                                                                                                                                                                                               |
|--------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ADDDAYS (วันที่เวลา จำนวนวัน)                   | เพิ่มจำนวนวันที่ระบุเป็นค่าวันที่และเวลาที่ระบุ                                                                                                                                                                                                                                                                                                | **ADDDAYS (ขณะนี้ (), 7)** ส่งกลับวันและเวลาเจ็ดวันในอนาคต                                                                                                                                                                                                                            |
| DATETODATETIME (วัน)                      | แปลงค่าวันที่ที่ระบุเป็นค่าวันที่และเวลา                                                                                                                                                                                                                                                                                                            | **DATETODATETIME (CompInfo. 'getCurrentDate()')** ส่งคืนวันที่รอบเวลาของ Dynamics 365 for Operations ปัจจุบัน 12/24/2015 เป็น **12/24/2015 12:00:00 AM** ในตัวอย่างนี้ **CompInfo** เป็นแหล่งข้อมูล ER ของชนิด **Dynamics 365 for Operations/Table** ที่อ้างอิงถึงตาราง CompanyInfo |
| NOW ()                                     | ส่งคืนวันที่และเวลาของเซิร์ฟเวอร์แอพลิเคชัน Dynamics 365 for Operations ปัจจุบันเป็นค่าวันที่และเวลา                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                       |
| TODAY ()                                   | ส่งคืนวันที่และเวลาของเซิร์ฟเวอร์แอพลิเคชัน Dynamics 365 for Operations ปัจจุบันเป็นค่าวันที่                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                       |
| NULLDATE ()                                | ส่งคืนค่าวันที่เป็น **null**                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                       |
| NULLDATETIME ()                            | ส่งคืนค่าวันที่และเวลาเป็น **null**                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                                                                                                                       |
| DATETIMEFORMAT (วันที่เวลา รูปแบบ)          | แปลงค่าวันที่และเวลาที่ระบุเป็นสตริงในรูปแบบที่ระบุ (สำหรับข้อมูลเกี่ยวกับรูปแบบที่สนับสนุน ดู [มาตรฐาน](https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx) และ [กำหนดเอง](https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx))                                                                        | **DATETIMEFORMAT (NOW(), "dd-MM-yyyy")** ส่งคืนวันที่เซิร์ฟเวอร์แอพลิเคชัน Dynamics 365 for Operations ปัจจุบัน 12/24/2015 เป็น **"24-12-2015"**ตามรูปแบบกำหนดเองที่ระบุ                                                                                                          |
| DATETIMEFORMAT (วันที่เวลา รูปแบบ วัฒนธรรม) | แปลงค่าวันที่และเวลาที่ระบุเป็นสตริงในรูปแบบที่ระบุและ [วัฒนธรรม](https://msdn.microsoft.com/en-us/goglobal/bb896001.aspx) (สำหรับข้อมูลเกี่ยวกับรูปแบบที่สนับสนุน ดู [มาตรฐาน](https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx) และ [กำหนดเอง](https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx)) | **DATETIMEFORMAT (NOW(), "d", "de")** ส่งคืนวันที่เซิร์ฟเวอร์แอพลิเคชัน Dynamics 365 for Operations ปัจจุบัน 12/24/2015 เป็น **"24.12.2015"**ตามวัฒนธรรมภาษาเยอรมันที่เลือก                                                                                                             |
| SESSIONTODAY ()                            | ส่งคืนวันรอบเวลาของ Dynamics 365 for Operations ปัจจุบันเป็นค่าวันที่                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                       |
| SESSIONNOW ()                              | ส่งคืนวันที่และเวลารอบเวลาของ Dynamics 365 for Operations ปัจจุบันเป็นค่าวันที่และเวลา                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                       |
| DATEFORMAT (วันที่ รูปแบบ)                  | ส่งคืนการแสดงสตริงของวันที่โดยใช้รูปแบบที่ระบุ                                                                                                                                                                                                                                                                                                    | **DATEFORMAT (SESSIONTODAY (), "dd-MM-yyyy")** ส่งคืนวันรอบเวลาของ Dynamics 365 for Operations ปัจจุบัน 12/24/2015 เป็น "**24-12-2015**" ตามรูปแบบกำหนดเองที่ระบุ                                                                                                                      |
| DATEFORMAT (วันที่ รูปแบบ วัฒนธรรม)         | แปลงค่าวันที่ที่ระบุเป็นสตริงในรูปแบบที่ระบุและ [วัฒนธรรม](https://msdn.microsoft.com/en-us/goglobal/bb896001.aspx) (สำหรับข้อมูลเกี่ยวกับรูปแบบที่สนับสนุน ดู [มาตรฐาน](https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx) และ [กำหนดเอง](https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx))     | **DATETIMEFORMAT (SESSIONNOW (), "d", "de")** ส่งคืนวันรอบเวลาของ Dynamics 365 for Operations ปัจจุบัน 12/24/2015 เป็น **"24.12.2015"** ตามวัฒนธรรมภาษาเยอรมันที่เลือก                                                                                                                       |

### <a name="list-functions"></a>ฟังก์ชันรายการ

<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>ฟังก์ชัน</th>
<th>คำอธิบาย</th>
<th>ตัวอย่าง</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SPLIT (ข้อมูล ความยาว)</td>
<td>แบ่งสตริงที่ระบุเป็นสตริงย่อยซึ่งมีความยาวที่ระบุ ส่งคืนผลลัพธ์เป็นรายการใหม่</td>
<td><strong>SPLIT (&quot;abcd&quot;, 3)</strong> ส่งคืนรายการใหม่ที่ประกอบด้วยสองเรกคอร์ดที่มีฟิลด์ <strong>STRING</strong> ฟิลด์ในเรกคอร์ดแรกประกอบด้วยข้อความและฟิลด์ <strong>&quot;abc&quot;</strong> ในเรกคอร์ดที่สองประกอบด้วยข้อความ <strong>&quot;d&quot;</strong></td>
</tr>
<tr class="even">
<td>SPLITLIST (รายการ, หมายเลข)</td>
<td>แบ่งรายการที่ระบุเป็นชุดงาน ซึ่งประกอบด้วยจำนวนเรกคอร์ดที่ระบุ ส่งคืนผลลัพธ์เป็นรายการใหม่ของชุดงานที่ประกอบด้วยองค์ประกอบต่อไปนี้:
<ul>
<li>ชุดงานเป็นรายการปกติ (คอมโพเนนต์ <strong>ค่า</strong>)</li>
<li>หมายเลขชุดงานปัจจุบัน (คอมโพเนนต์ <strong>BatchNumber</strong>)</li>
</ul></td>
<td>ในตัวอย่างต่อไปนี้แหล่งข้อมูล <strong>Lines</strong> สร้างเป็นเรกคอร์ดรายการ 3 เรกคอร์ด ซึ่งจะแบ่งออกเป็นชุดงาน ซึ่งประกอบด้วยสองเรกคอร์ด <a href="./media/picture-splitlist-datasource.jpg"><img src="./media/picture-splitlist-datasource.jpg" alt="Data source that is divided into batches" class="alignnone wp-image-290681 size-full" width="397" height="136" /></a> รายการนี้แสดงรูปแบบการออกแบบโครงร่าง ที่ผูกกับแหล่งข้อมูล <strong>รายการ</strong> ซึ่งถูกสร้างในการสร้างเอาท์พุทในรูปแบบ XML ที่นำเสนอแต่ละโหนดสำหรับแต่ละชุดและเรกคอร์ดในตาราง <a href="./media/picture-splitlist-format.jpg"><img src="./media/picture-splitlist-format.jpg" alt="Format layout that has bindings to a data source" class="alignnone wp-image-290691 size-full" width="374" height="161" /></a> ต่อไปนี้คือผลลัพธ์ของการเรียกใช้รูปแบบการออกแบบ <a href="./media/picture-splitlist-result.jpg"><img src="./media/picture-splitlist-result.jpg" alt="Result of running the format" class="alignnone wp-image-290701 size-full" width="358" height="191" /></a></td>
</tr>
<tr class="odd">
<td>รายการ (เรกคอร์ด 1 [เรกคอร์ด 2,...])</td>
<td>ส่งคืนรายการใหม่ที่สร้างขึ้นจากอาร์กิวเมนต์ที่ระบุ</td>
<td><strong>LIST (model.MainData, model.OtherData)</strong> ส่งคืนเรกคอร์ดว่าง ที่รายการฟิลด์ประกอบด้วยฟิลด์ทั้งหมดของรายการส่งคืน <strong>MainData</strong> และ <strong>OtherData</strong></td>
</tr>
<tr class="even">
<td>LISTJOIN (รายการ 1, รายการ 2, ...)</td>
<td>ส่งคืนรายการที่เข้าร่วมที่สร้างขึ้นจากรายการอาร์กิวเมนต์ที่ระบุ</td>
<td><strong>LISTJOIN (SPLIT (&quot;abc&quot;, 1), SPLIT (&quot;def&quot;, 1))</strong> ส่งกลับหกรายการเรกคอร์หก ที่ฟิลด์หนึ่งเป็นชนิดข้อมูล <strong>STRING</strong> ประกอบด้วยตัวอักษรตัวเดียว</td>
</tr>
<tr class="odd">
<td>ISEMPTY (รายการ)</td>
<td>ส่งคืน <strong>เป็นจริง</strong> ถ้ารายการที่ระบุไม่ประกอบด้วยองค์ประกอบใดๆ มิฉะนั้น ส่งคืน <strong>เท็จ</strong></td>
<td></td>
</tr>
<tr class="even">
<td>EMPTYLIST (รายการ)</td>
<td>ส่งคืนรายการที่ว่างเปล่า โดยใช้รายการที่ระบุเป็นแหล่งข้อมูลสำหรับโครงสร้างรายการ</td>
<td><strong>EMPTYLIST (SPLIT (&quot;abc&quot;, 1))</strong> ส่งคืนรายการว่างเปล่าใหม่ที่มีโครงสร้างเดียวกันเป็นรายการที่ส่งคืนโดยฟังก์ชัน <strong>SPLIT</strong></td>
</tr>
<tr class="odd">
<td>FIRST (รายการ)</td>
<td>ส่งคืนเรกคอร์ดแรกของรายการที่ระบุ ถ้าเรกคอร์ดนั้นไม่ว่างเปล่า มิฉะนั้น อยู่นอกกระบวนข้อยกเว้น</td>
<td></td>
</tr>
<tr class="even">
<td>FIRSTORNULL (รายการ)</td>
<td>ส่งคืนเรกคอร์ดแรกของรายการที่ระบุ ถ้าเรกคอร์ดนั้นไม่ว่างเปล่า มิฉะนั้น ส่งคืนเรกคอร์ด <strong>null</strong></td>
<td></td>
</tr>
<tr class="odd">
<td>LISTOFFIRSTITEM (รายการ)</td>
<td>ส่งคืนรายการที่มีเฉพาะรายการแรกของรายการที่กำหนด</td>
<td></td>
</tr>
<tr class="even">
<td>ALLITEMS (พาธ)</td>
<td>ส่งคืนรายการใหม่ที่ปรับให้เป็นระนาบเดียวที่แสดงรายการทั้งหมดซึ่งตรงกับพาธที่ระบุ ต้องกำหนดพาธเป็นเส้นทางแหล่งข้อมูลที่ถูกต้องที่ไปยังองค์ประกอบแหล่งข้อมูลของชนิดข้อมูลรายการเรกคอร์ด พาธไปยังองค์ประกอบข้อมูลสตริง วันที่ เป็นต้นควรรายงานข้อผิดพลาดขณะที่ออกแบบในตัวสร้างนิพจน์ ER</td>
<td>If you enter <strong>SPLIT(&quot;abcdef&quot; , 2)</strong> เป็นแหล่งข้อมูล <strong>COUNT( ALLITEMS (DS.Value))</strong> ส่งกลับค่า <strong>3</strong></td>
</tr>
<tr class="odd">
<td>ORDERBY (รายการ [, นิพจน์ 1, นิพจน์ 2,...])</td>
<td>ส่งคืนรายการที่ระบุ ซึ่งมีการเรียงลำดับตามอาร์กิวเมนต์ที่ระบุที่สามารถกำหนดเป็นนิพจน์</td>
<td>เมื่อ <strong>ผู้จัดจำหน่าย</strong>ตั้งค่าคอนฟิกเป็นแหล่งข้อมูล ER ที่อ้างอิงถึงตาราง VendTable,<strong>ORDERBY (Vendors, Vendors.'name()')</strong> ส่งกลับรายการผู้จัดจำหน่ายที่เรียงลำดับตามชื่อในลำดับจากน้อยไปมาก</td>
</tr>
<tr class="even">
<td>REVERSE (รายการ)</td>
<td>กลับรายการที่ระบุในลำดับการเรียงตรงกันข้าม</td>
<td>เมื่อ <strong>ผู้จัดจำหน่าย </strong>ตั้งค่าคอนฟิกเป็นแหล่งข้อมูล ER ที่อ้างอิงถึงตาราง VendTable, <strong>REVERSE (Vendors, Vendors.'name()')) )</strong> ส่งกลับรายการผู้จัดจำหน่ายที่เรียงลำดับตามชื่อในลำดับจากมากไปน้อย</td>
</tr>
<tr class="odd">
<td>ตำแหน่ง (รายการ เงื่อนไข)</td>
<td>กลับรายการที่ระบุ ซึ่งกรองตามเงื่อนไขที่ระบุ ซึ่งแตกต่างจากฟังก์ชัน <strong>ตัวกรอง</strong> เงื่อนไขที่ระบุจะถูกใช้กับรายการในหน่วยความจำ</td>
<td>เมื่อ <strong>ผู้จัดจำหน่าย</strong> ตั้งค่าคอนฟิกเป็นแหล่งข้อมูล ER ที่อ้างอิงถึงตาราง VendTable, <strong>WHERE (Vendors, Vendors.VendGroup = &quot;40&quot;)</strong> ส่งกลับรายการผู้จัดจำหน่ายที่เป็นของกลุ่มผู้จัดจำหน่าย 40</td>
</tr>
<tr class="even">
<td>ENUMERATE (รายการ)</td>
<td>ส่งคืนรายการใหม่ที่มีเรกคอร์ดที่ระบุหมายเลขของรายการที่ระบุ และแสดงถึงองค์ประกอบต่อไปนี้:
<ul>
<li>รายการเรกคอร์ดที่ระบุเป็นรายการปกติ (คอมโพเนนต์ <strong>ค่า</strong>)</li>
<li>ดัชนีเรกคอร์ดปัจจุบัน (คอมโพเนนต์ <strong>หมายเลข</strong>)</li>
</ul></td>
<td>ในตัวอย่างต่อไปนี้ แหล่งข้อมูล <strong>ที่ระบุ</strong> สร้างเป็นรายการที่ระบุของเรกคอร์ดผู้จัดจำหน่ายจากแหล่งข้อมูล <strong>ผู้จัดจำหน่าย</strong> ที่อ้างอิงถึงตาราง <strong>VendTable</strong> <a href="./media/picture-enumerate-datasource.jpg"><img src="./media/picture-enumerate-datasource.jpg" alt="Enumerated data source" class="alignnone wp-image-290711 size-full" width="387" height="136" /></a>ต่อไปนี้คือรูปแบบ ซึ่งการรวมข้อมูลจะสร้างข้อมูลในการสร้างเอาท์พุทในรูปแบบ XML ที่นำเสนอผู้จัดจำหน่ายแต่ละโหนดตามที่ระบุ <a href="./media/picture-enumerate-format.jpg"><img src="./media/picture-enumerate-format.jpg" alt="Format that has data bindings" class="alignnone wp-image-290721 size-full" width="414" height="138" /></a> นี่คือผลลัพธ์ของการเรียกใช้รูปแบบการออกแบบ <a href="./media/picture-enumerate-result.jpg"><img src="./media/picture-enumerate-result.jpg" alt="Result of running the format" class="alignnone wp-image-290731 size-full" width="567" height="176" /></a></td>
</tr>
<tr class="odd">
<td>COUNT (รายการ)</td>
<td>ส่งคืนจำนวนของเรกคอร์ดในรายการที่ระบุ ถ้ารายการนั้นไม่ว่างเปล่า มิฉะนั้น ส่งคืน <strong>0</strong> (ศูนย์)</td>
<td><strong>COUNT (SPLIT(&quot;abcd&quot; , 3))</strong> ส่งคืน <strong>2</strong> เนื่องจากฟังก์ชัน <strong>SPLIT</strong> สร้างรายการที่ประกอบด้วยสองเรกคอร์ด</td>
</tr>
<tr class="even">
<td>LISTOFFIELDS (path)</td>
<td>ส่งคืนรายการเรกคอร์ดที่สร้างขึ้นจากอาร์กิวเมนต์ของหนึ่งในชนิดต่อไปนี้:
<ul>
<li>การแจงนับแบบจำลอง</li>
<li>การแจงนับรูปแบบ</li>
<li>ตู้บรรจุสินค้า</li>
</ul>
รายการที่สร้างขึ้นจะประกอบด้วยเรกคอร์ดที่มีฟิลด์ต่อไปนี้:
<ul>
<li>ชื่อ</li>
<li>ป้ายชื่อ</li>
<li>คำอธิบาย</li>
</ul>
ฟิลด์ป้ายชื่อและคำอธิบายจะส่งคืนเป็นค่ารันไทม์ตามการตั้งค่าภาษาของรูปแบบ</td>
<td>ตัวอย่างต่อไปนี้แสดงการแจงนับที่นำมาใช้ในแบบจำลองข้อมูล <a href="./media/ger-listoffields-function-model-enumeration.png"><img src="./media/ger-listoffields-function-model-enumeration-e1474545790761.png" alt="GER LISTOFFIELDS function - model enumeration" class="alignnone wp-image-1203943 size-full" width="514" height="155" /></a>ตัวอย่างต่อไปนี้แสดง:
<ul>
<li>การแจงนับแบบจำลองที่ใส่ลงในรายงานเป็นแหล่งข้อมูล</li>
<li>นิพจน์ ER ที่ออกแบบมาเพื่อใช้การแจงนับแบบจำลองเป็นพารามิเตอร์ของฟังก์ชันนี้</li>
<li>แหล่งข้อมูลของชนิดรายการเรกคอร์ดที่ถูกแทรกลงในรายงานโดยใช้นิพจน์ ER ที่สร้างขึ้น</li>
</ul>
<a href="./media/ger-listoffields-function-in-format-expression.png"><img src="./media/ger-listoffields-function-in-format-expression-e1474546110395.png" alt="GER LISTOFFIELDS function - in format expression" class="alignnone wp-image-1204033 size-full" width="549" height="318" /></a> ตัวอย่างต่อไปนี้แสดงองค์ประกอบรูปแบบ ER ที่ถูกผูกกับแหล่งข้อมูลของชนิดรายการเรกคอร์ดที่สร้างขึ้นโดยใช้ฟังก์ชัน LISTOFFIELDS<a href="./media/ger-listoffields-function-format-design.png"><img src="./media/ger-listoffields-function-format-design.png" alt="GER LISTOFFIELDS function - format design" class="alignnone size-full wp-image-1204043" width="466" height="221" /></a>นี่คือผลลัพธ์ของการดำเนินการสำหรับรูปแบบการออกแบบ<a href="./media/ger-listoffields-function-format-output.png"><img src="./media/ger-listoffields-function-format-output.png" alt="GER LISTOFFIELDS function - format output" class="alignnone size-full wp-image-1204053" width="585" height="158" /></a><strong>หมายเหตุ:</strong> ระบบจะเติมข้อความที่แปลแล้วสำหรับป้ายชื่อและคำอธิบายไปยังผลลัพธ์รูปแบบ ER ตามการตั้งค่าภาษาที่ตั้งค่าคอนฟิกสำหรับองค์ประกอบรูปแบบ FILE และ FOLDER หลัก</td>
</tr>
<tr class="odd">
<td>STRINGJOIN (รายการ ชื่อฟิลด์ ตัวกำหนดเขต)</td>
<td>ส่งคืนสตริงของค่าของฟิลด์แบบรวมเข้าด้วยกันจากรายการที่คั่นด้วยตัวกำหนดเขตที่เลือกไว้</td>
<td>ถ้าคุณป้อน SPLIT(“abc” , 1) เป็นแหล่งข้อมูล DS นิพจน์ STRINGJOIN (DS, DS.Value, “:”) จะส่งคืน “a:b:c”</td>
</tr>
<tr class="even">
<td>SPLITLISTBYLIMIT (รายการ ค่าขีดจำกัด แหล่งที่มาของขีดจำกัด)</td>
<td>แยกรายการที่กำหนดออกเป็นรายการใหม่ของรายการย่อย และส่งคืนผลลัพธ์เป็นเนื้อหาของรายการเรกคอร์ด พารามิเตอร์ค่าขีดจำกัดระบุค่าของขีดจำกัดเพื่อแบ่งรายการต้นทาง พารามิเตอร์แหล่งที่มาของขีดจำกัดระบุขั้นตอนของการเพิ่มผลรวม ขีดจำกัดจะไม่ใช้กับสินค้าเดี่ยวของรายการที่กำหนดเมื่อแหล่งที่มาของขีดจำกัดเกินขีดจำกัดที่กำหนดไว้</td>
<td>ตัวอย่างต่อไปนี้แสดงตัวอย่างรูปแบบโดยใช้แหล่งข้อมูล <a href="./media/ger-splitlistbylimit-format.png"><img src="./media/ger-splitlistbylimit-format.png" alt="GER SPLITLISTBYLIMIT - format" class="alignnone size-full wp-image-1204063" width="396" height="195" /></a><a href="./media/ger-splitlistbylimit-datasources.png"><img src="./media/ger-splitlistbylimit-datasources.png" alt="GER SPLITLISTBYLIMIT - datasources" class="alignnone size-full wp-image-1204073" width="320" height="208" /></a>นี่คือการดำเนินการสำหรับรูปแบบผลลัพธ์ที่แสดงรายการแนวราบของรายการโภคภัณฑ์ที่ซื้อขายกัน<a href="./media/ger-splitlistbylimit-output.png"><img src="./media/ger-splitlistbylimit-output.png" alt="GER SPLITLISTBYLIMIT - output" class="alignnone size-full wp-image-1204083" width="462" height="204" /></a>ตัวอย่างต่อไปนี้แสดงรูปแบบเดียวกันที่มีการปรับปรุงเพื่อแสดงรายการโภคภัณฑ์ที่ซื้อขายกันเป็นชุดงานเมื่อชุดงานเดี่ยวต้องมีโภคภัณฑ์ที่ซื้อขายกันโดยน้ำหนักรวมไม่ควรเกินขีดจำกัดที่ 9<a href="./media/ger-splitlistbylimit-format-1.png"><img src="./media/ger-splitlistbylimit-format-1.png" alt="GER SPLITLISTBYLIMIT - format 1" class="alignnone size-full wp-image-1204103" width="466" height="438" /></a><a href="./media/ger-splitlistbylimit-datasources-1.png"><img src="./media/ger-splitlistbylimit-datasources-1.png" alt="GER SPLITLISTBYLIMIT - datasources 1" class="alignnone size-full wp-image-1204093" width="645" height="507" /></a>นี่คือผลลัพธ์ของการดำเนินการสำหรับรูปแบบที่มีการปรับปรุง <a href="./media/ger-splitlistbylimit-output-1.png"><img src="./media/ger-splitlistbylimit-output-1.png" alt="GER SPLITLISTBYLIMIT - output 1" class="alignnone size-full wp-image-1204113" width="676" height="611" /></a><strong>หมายเหตุ:</strong> ขีดจำกัดจะไม่ใช้กับรายการสุดท้ายของรายการต้นทางเนื่องจากค่า (11) ของแหล่งที่มาของขีดจำกัด (น้ำหนัก) เกินขีดจำกัดที่กำหนดไว้ (9) ใช้ฟังก์ชัน <strong>WHERE</strong> หรือนิพจน์ <strong>เปิดใช้งานแล้ว</strong> ขององค์ประกอบรูปแบบที่สอดคล้องกันเพื่อละเว้น (ข้าม) รายการย่อยระหว่างการสร้างรายงาน (ถ้าจำเป็น)</td>
</tr>
<tr class="odd">
<td>FILTER (รายการ เงื่อนไข)</td>
<td>ส่งคืนรายการที่ระบุที่มีกรองข้อมูลสำหรับเงื่อนไขที่ระบุหรือโดยการปรับเปลี่ยนการสอบถาม ซึ่งไม่เหมือนกับฟังก์ชัน <strong>WHERE</strong> เงื่อนไขที่ระบุจะถูกนำไปใช้ที่ระดับฐานข้อมูลกับแหล่งข้อมูล ER ใดๆ ของชนิดเรกคอร์ดตาราง</td>
<td>FILTER (Vendors, Vendors.VendGroup = &quot;40&quot;) ส่งคืนรายการของผู้จัดจำหน่ายที่เป็นของกลุ่มของผู้จัดจำหน่าย “40” เฉพาะเมื่อ <strong>ผู้จัดจำหน่าย</strong> ถูกตั้งค่าคอนฟิกเป็นแหล่งข้อมูล ER ที่อ้างอิงถึงตาราง <strong>VendTable</strong></td>
</tr>
</tbody>
</table>

### <a name="logical-functions"></a>ฟังก์ชันตรรกะ

| ฟังก์ชัน                                                                                | คำอธิบาย                                                                                                                                                                                                                                                                     | ตัวอย่าง                                                                                                                                                                                                                                                      |
|-----------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CASE (นิพจน์, ตัวเลือก 1, ผลลัพธ์ 1 \[ ตัวเลือก 2, ผลลัพธ์ 2\] ... \[, ผลลัพธ์เริ่มต้น\]) | ประเมินค่านิพจน์ที่ระบุกับตัวเลือกอื่นที่ระบุ ส่งคืนผลลัพธ์เป็นตัวเลือกที่เท่ากับค่าของนิพจน์ มิฉะนั้น ส่งคืนผลลัพธ์ค่าเริ่มต้นที่เลือกป้อน (พารามิเตอร์สุดท้ายที่ไม่ได้นำหน้าด้วยตัวเลือก) | **CASE( DATETIMEFORMAT( NOW(), "MM"), "10", "WINTER", "11", "WINTER", "12", "WINTER", "")** ส่งคืนสตริง **"WINTER"** เมื่อรอบเวลาของวัน Dynamics 365 for Operations ปัจจุบันอยู่ระหว่างตุลาคมและธันวาคม มิฉะนั้น ส่งกลับสตริงที่ว่างเปล่า |
| ถ้า (เงื่อนไข ค่า 1, ค่า 2)                                                        | ส่งคืนค่า 1 ที่ระบุ เมื่อตรงตามเงื่อนไขที่กำหนด มิฉะนั้น ส่งคืน ค่า 2 ถ้าค่า 1 และค่า 2 เป็นเรกคอร์ดหรือรายการเรกคอร์ด ผลลัพธ์จะมีเฉพาะฟิลด์ที่มีอยู่ในรายการทั้งสอง                                                                     | **IF (1=2, "condition is met", "condition is not met")** ส่งคืนสตริง **"ไม่ตรงตามเงื่อนไข"**                                                                                                                                                      |
| NOT (เงื่อนไข)                                                                         | ส่งคืนค่ากลับรายการทางตรรกะของเงื่อนไขที่ระบุ                                                                                                                                                                                                                   | **ไม่ (จริง)** ส่งกลับค่า **เท็จ**                                                                                                                                                                                                                            |
| และ (เงื่อนไข 1\[, เงื่อนไข 2, ...\])                                                 | ส่งคืน **เป็นจริง** ถ้าเงื่อนไขที่ระบุ *ทั้งหมด *เป็นจริง มิฉะนั้น ส่งคืน **เท็จ**                                                                                                                                                                                            | **และ (1=1, "a"="a")** ส่งกลับค่า **เป็นจริง** **และ (1=2, "a"="a")** ส่งกลับค่า **เท็จ**                                                                                                                                                                           |
| หรือ (เงื่อนไข 1\[, เงื่อนไข 2, ...\])                                                  | ส่งคืน **เท็จ** ถ้าเงื่อนไขที่ระบุ *ทั้งหมด *เป็นเท็จ ส่งคืน **เป็นจริง** ถ้าเงื่อนไขที่ระบุ *ทั้งหมด *เป็นจริง                                                                                                                                                                 | **หรือ (1=2, "a"="a")** ส่งกลับค่า **เป็นจริง**                                                                                                                                                                                                                      |

### <a name="mathematical-functions"></a>ฟังก์ชันคณิตศาสตร์

<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>ฟังก์ชัน</th>
<th>คำอธิบาย</th>
<th>ตัวอย่าง</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ABS (หมายเลข)</td>
<td>ส่งคืนค่าสัมบูรณ์ของตัวเลขที่ระบุ (ตัวเลขที่ไม่มีเครื่องหมาย)</td>
<td><strong>ABS (-1)</strong> ส่งคืน <strong>1</strong></td>
</tr>
<tr class="even">
<td>พลังงาน (หมายเลข พลังงาน)</td>
<td>ผลลัพธ์ของการเพิ่มจำนวนค่าบวกที่ระบุให้หลังงานที่ระบุ</td>
<td><strong>พลังงาน (10, 2)</strong> ส่งกลับค่า <strong>100</strong></td>
</tr>
<tr class="odd">
<td>ค่าหมายเลข (สตริง ตัวแบ่งทศนิยม ตัวแบ่งการจัดกลุ่มตัวเลข)</td>
<td>แปลงสายอักขระที่ระบุเป็นตัวเลข ใช้เพื่อแยกจำนวนเต็มและเศษส่วนของจำนวนทศนิยม และหน่วยพันที่ระบุใช้สัญลักษณ์ตัวคั่น</td>
<td><strong>NUMBERVALUE(&quot;1 234,56&quot;, &quot;,&quot;, &quot; &quot;)</strong> ส่งกลับค่า <strong>1234.56</strong></td>
</tr>
<tr class="even">
<td>ค่า (สตริง)</td>
<td>แปลงสายอักขระที่ระบุเป็นตัวเลข เครื่องหมายจุลภาคและอักขระจุด (.) ถือเป็นตัวแบ่งทศนิยม และยุติภังค์ (-) นำหน้าจะใช้เป็นเครื่องหมายลบ ข้อยกเว้นถ้าอักขระอื่น ๆ ที่ไม่ใช่ตัวเลขขึ้นในสตริงที่ระบุ</td>
<td><strong>VALUE (&quot;1 234,56&quot;)</strong> แสดงข้อยกเว้น</td>
</tr>
<tr class="odd">
<td>ปัดเศษ (จำนวน ทศนิยม)</td>
<td>ส่งคืนหมายเลขที่ระบุ ซึ่งถูกปัดเศษเป็นจำนวนทศนิยมที่ระบุ:
<ul>
<li>ถ้าค่าทศนิยมที่ระบุมีค่ามากกว่า 0 (ศูนย์), หมายเลขที่ระบุถูกปัดเศษเป็นจำนวนทศนิยมที่ระบุ</li>
<li>ถ้าค่าทศนิยมที่ระบุเป็น 0 (ศูนย์), หมายเลขที่ระบุจะถูกปัดเศษเป็นจำนวนเต็มที่ใกล้ที่สุด</li>
<li>ถ้าค่าทศนิยมที่ระบุมีค่าน้อยกว่า 0 (ศูนย์), หมายเลขที่ระบุจะถูกปัดเศษเป็นจำนวนทศนิยมปัดขึ้น</li>
</ul></td>
<td><strong>ปัดเศษ (1200.767, 2)</strong> ปัดทศนิยมสองตำแหน่ง และส่งกลับ <strong>1200.77</strong> <strong>ปัดเศษ (1200.767, -3)</strong> ปัดเศษเป็นผลคูณที่ใกล้ที่สุดของ 1000 และส่งกลับ <strong>1000</strong></td>
</tr>
<tr class="even">
<td>ปัดเศษลง (จำนวน ทศนิยม)</td>
<td>ส่งคืนหมายเลขที่ระบุ ซึ่งถูกปัดเศษเป็นจำนวนทศนิยมปัดลง (ถึงศูนย์) ที่ระบุ <strong>หมายเหตุ:</strong> ฟังก์ชันนี้ทำหน้าที่เหมือนกับ <strong>ปัดเศษ</strong> แต่จะปัดเศษจำนวนที่ระบุลง</td>
<td><strong>ปัดเศษลง (1200.767, 2)</strong> ปัดทศนิยมสองตำแหน่งลง และส่งกลับ <strong>1200.76</strong> <strong>ปัดเศษลง (1700.767, -3)</strong> ปัดเศษลงเป็นผลคูณที่ใกล้ที่สุดของ 1,000 และส่งกลับ <strong>1000</strong></td>
</tr>
<tr class="odd">
<td>ปัดเศษขึ้น (จำนวน ทศนิยม)</td>
<td>ส่งคืนหมายเลขที่ระบุ ซึ่งถูกปัดเศษเป็นจำนวนทศนิยมปัดขึ้น (ศูนย์ขึ้นไป) ที่ระบุ <strong>หมายเหตุ:</strong> ฟังก์ชันนี้ทำหน้าที่เหมือนกับ <strong>ปัดเศษ</strong> แต่จะปัดเศษจำนวนที่ระบุขึ้น</td>
<td><strong>ปัดเศษขึ้น (1200.763, 2)</strong> ปัดทศนิยมสองตำแหน่งขึ้น และส่งกลับ <strong>1200.77</strong> <strong>ปัดเศษขึ้น (1200.767, -3)</strong> ปัดเศษขึ้นเป็นผลคูณที่ใกล้ที่สุดของ 1,000 และส่งกลับ <strong>2000</strong></td>
</tr>
</tbody>
</table>

### <a name="record-functions"></a>ฟังก์ชันเรกคอร์ด

| ฟังก์ชัน             | คำอธิบาย                                                                                                                                                                                                                                     | ตัวอย่าง                                                                                                                                             |
|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| NULLCONTAINER (รายการ) | ส่งคืนเรกคอร์ด **null** ที่มีโครงสร้างเดียวกันเป็นรายการเรกคอร์ดที่ระบุหรือเรกคอร์ด **หมายเหตุ:**ฟังก์ชันนี้จะล้าสมัย ใช้ **EMPTYRECORD** แทน                                                                                  | **NULLCONTAINER (SPLIT ("abc", 1))** ส่งคืนเรกคอร์ดว่างเปล่าใหม่ที่มีโครงสร้างเดียวกันเป็นรายการที่ส่งคืนโดยฟังก์ชัน **SPLIT** |
| EMPTYRECORD (เรกคอร์ด) | ส่งคืนเรกคอร์ด **null** ที่มีโครงสร้างเดียวกันเป็นรายการเรกคอร์ดที่ระบุหรือเรกคอร์ด **หมายเหตุ:** เรกคอร์ด **null** เป็นเรกคอร์ดที่ฟิลด์ทั้งหมดมีค่าว่างเปล่า (**0** \[ศูนย์\] สำหรับตัวเลข สตริงว่างเปล่าสำหรับสตริง ฯลฯ) | **EMPTYRECORD (SPLIT ("abc", 1))** ส่งคืนเรกคอร์ดว่างเปล่าใหม่ที่มีโครงสร้างเดียวกันเป็นรายการที่ส่งคืนโดยฟังก์ชัน **SPLIT**   |

### <a name="text-functions"></a>ฟังก์ชันข้อความ

<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>ฟังก์ชัน</th>
<th>คำอธิบาย</th>
<th>ตัวอย่าง</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>UPPER (สตริง)</td>
<td>ส่งคืนสตริงที่ระบุซึ่งแปลงเป็นอักษรตัวพิมพ์ใหญ่</td>
<td><strong>UPPER(&quot;Sample&quot;)</strong> ส่งกลับค่า <strong>&quot;ตัวอย่าง&quot;</strong></td>
</tr>
<tr class="even">
<td>LOWER (สตริง)</td>
<td>ส่งคืนสตริงที่ระบุซึ่งแปลงเป็นอักษรตัวพิมพ์เล็ก</td>
<td><strong>LOWER (&quot;Sample&quot;)</strong> ส่งกลับค่า <strong>&quot;ตัวอย่าง&quot;</strong>.</td>
</tr>
<tr class="odd">
<td>LEFT (สตริง จำนวนอักขระ)</td>
<td>ส่งคืนจำนวนอักขระที่ระบุจากตำแหน่งเริ่มต้นของสตริงข้อความที่ระบุ</td>
<td><strong>LEFT (&quot;ตัวอย่าง&quot;, 3)</strong> ส่งกลับค่า <strong>&quot;ตัวอย่าง&quot;</strong></td>
</tr>
<tr class="even">
<td>RIGHT (สตริง จำนวนอักขระ)</td>
<td>ส่งคืนจำนวนอักขระที่ระบุจากตำแหน่งสุดท้ายของสตริงข้อความที่ระบุ</td>
<td><strong>RIGHT (&quot;ตัวอย่าง&quot;, 3)</strong> ส่งกลับค่า <strong>&quot;ตัวอย่าง&quot;</strong></td>
</tr>
<tr class="odd">
<td>MID(สตริง ตำแหน่งเริ่มต้น จำนวนอักขระ)</td>
<td>ส่งคืนจำนวนอักขระที่ระบุจากสตริงที่ระบุ ตำแหน่งเริ่มต้นที่ระบุ</td>
<td><strong>MID (&quot;ตัวอย่าง&quot;, 2, 3)</strong> ส่งกลับค่า <strong>&quot;ตัวอย่าง&quot;</strong></td>
</tr>
<tr class="even">
<td>LEN (สตริง)</td>
<td>ส่งคืนจำนวนอักขระในสตริงที่ระบุ</td>
<td><strong>LEN (&quot;ตัวอย่าง&quot;)</strong> ส่งกลับค่า <strong>6</strong></td>
</tr>
<tr class="odd">
<td>CHAR (หมายเลข)</td>
<td>ส่งคืนสตริงของอักขระที่อ้างอิงตามที่ระบุเป็น Unicode</td>
<td><strong>CHAR (255)</strong> ส่งกลับค่า <strong>&quot;ÿ&quot;</strong> <strong>หมายเหตุ:</strong> สตริงที่ส่งคืนจะขึ้นอยู่กับการเข้ารหัสที่เลือกไว้ในองค์ประกอบรูปแบบ FILE หลัก คุณสามารถดูรายการของการเข้ารหัสที่ได้รับการสนับสนุนได้ในหัวข้อ <a href="https://msdn.microsoft.com/en-us/library/system.text.encoding(v=vs.110).aspx">การเข้ารหัสคลาส</a></td>
</tr>
<tr class="even">
<td>CONCATENATE (สตริง 1 [ สตริง 2, ...])</td>
<td>ส่งคืนสตริงข้อความที่ระบุทั้งหมด ซึ่งถูกรวมเป็นสายอักขระเดียว</td>
<td><strong>CONCATENATE (&quot;abc&quot;, &quot;def&quot;)</strong> ส่งกลับค่า <strong>&quot;abcdef&quot;</strong>. <strong>หมายเหตุ:</strong> นิพจน์ <strong>&quot;abc&quot; &amp; &quot;def&quot;</strong> ส่งกลับค่า <strong>&quot;abcdef&quot;</strong>เช่นกัน</td>
</tr>
<tr class="odd">
<td>TRANSLATE (สตริง รูปแบบ การแทนที่)</td>
<td>ส่งคืนสตริงที่ระบุ ซึ่งอักขระทั้งหมดในสตริงในรูปแบบที่ระบุจะถูกแทนที่ด้วยอักขระในตำแหน่งที่สอดคล้องกับการแทนที่สตริงที่ระบุ</td>
<td><strong>TRANSLATE (&quot;abcdef&quot;, &quot;cd&quot;, &quot;GH&quot;)</strong> แทนรูปแบบ <strong>&quot;cd&quot;</strong> ด้วยสตริง <strong>&quot;GH&quot;</strong> และส่งกลับค่า <strong>&quot;abGHef&quot;</strong></td>
</tr>
<tr class="even">
<td>แทน (สตริง รูปแบบ การแทนที่ แฟล็กนิพจน์ทั่วไป)</td>
<td>เมื่อแฟล็กนิพจน์ทั่วไปที่ระบุเป็น <strong>เป็นจริง</strong> จะส่งคืนสตริงที่ระบุซึ่งถูกแก้ไขโดยใช้นิพจน์ทั่วไปที่ระบุเป็นอาร์กิวเมนต์รูปแบบสำหรับฟังก์ชันนี้ นิพจน์นี้จะใช้ในการค้นหาอักขระซึ่งต้องถูกแทนที่ อักขระของอาร์กิวเมนต์แทนที่ระบุจะใช้ในการแทนอักขระที่พบ เมื่อแฟล็กนิพจน์ทั่วไปที่ระบุเป็น <strong>เท็จ</strong> ฟังก์ชันนี้จะทำหน้าที่เหมือนกับ <strong>TRANSLATE</strong></td>
<td>  <strong>REPLACE (&quot;+1 923 456 4971&quot;, &quot;[^0-9]&quot;, &quot;&quot;, จริง)</strong> ใช้นิพจน์ทั่วไปที่ลบสัญลักษณ์ที่ไม่ใช่ตัวเลขทั้งหมด และส่งกลับค่า <strong>&quot;19234564971&quot;</strong> <strong>REPLACE (&quot;abcdef&quot;, &quot;cd&quot;, &quot;GH&quot;, false)</strong> แทนรูปแบบ <strong>&quot;cd&quot;</strong> ด้วยสตริง <strong>&quot;GH&quot;</strong> และส่งกลับค่า <strong>&quot;abGHef&quot;</strong></td>
</tr>
<tr class="odd">
<td>TEXT (ข้อมูล)</td>
<td>ส่งคืนข้อมูลที่ระบุ ซึ่งจะถูกแปลงเป็นสตริงข้อความที่ถูกจัดรูปแบบตามการตั้งค่าตำแหน่งที่ตั้งของเซิร์ฟเวอร์ของอินสแตนซ์ Dynamics 365 for Operations ปัจจุบัน สำหรับค่าชนิด <strong>จริง</strong> การแปลงสตริงจะถูกจำกัดเป็นทศนิยมสองตำแหน่ง</td>
<td>ถ้าที่ตั้งของเซิร์ฟเวอร์อินสแตนซ์ Dynamics 365 for Operations ถูกกำหนดให้เป็น <strong>EN-US</strong>, <strong>TEXT (NOW ())</strong> จะส่งคืนวันที่รอบเวลาของ Dynamics 365 for Operations ปัจจุบัน 12/17/2015 เป็นสตริงข้อความ <strong>&quot;12/17/2015 07:59:23 AM&quot;</strong> <strong>TEXT (1/3)</strong> ส่งกลับค่า <strong>&quot;0.33&quot;</strong></td>
</tr>
<tr class="even">
<td>FORMAT (สตริง 1, สตริง 2[, สตริง 3, ...])</td>
<td>ส่งคืนสตริงที่ระบุซึ่งถูกจัดรูปแบบโดยการแทนที่เหตุการณ์ใดๆ ของ <strong>%N</strong> ด้วยอาร์กิวเมนต์ที่ <em>n</em> อาร์กิวเมนต์เป็นสตริง ถ้าอาร์กิวเมนต์ไม่ได้มีให้สำหรับพารามิเตอร์ พารามิเตอร์จะถูกส่งกลับเป็น <strong>&quot;%N&quot;</strong> ในสตริง สำหรับค่าชนิด <strong>จริง</strong> การแปลงสตริงจะถูกจำกัดเป็นทศนิยมสองตำแหน่ง</td>
<td>ในตัวอย่างนี้ แหล่งข้อมูล <strong>PaymentModel</strong> จะส่งกลับรายการเรกคอร์ดลูกค้าผ่านส่วนประกอบ <strong>ลูกค้า</strong> และประมวลผลค่าวันผ่านทางฟิลด์ <strong>ProcessingDate</strong> <a href="./media/picture-format-datasource.jpg"><img src="./media/picture-format-datasource.jpg" alt="PaymentModel data source" class="alignnone wp-image-290751 size-full" width="293" height="143" /></a> ในรูปแบบ ER ที่ถูกออกแบบเพื่อสร้างไฟล์อิเล็กทรอนิกส์สำหรับลูกค้าที่เลือกไว้ <strong>PaymentModel</strong> จะถูกเลือกเป็นแหล่งข้อมูล และควบคุมขั้นตอนการประมวลผล ข้อยกเว้นสำหรับผู้ใช้เมื่อลูกค้าที่เลือกถูกหยุดดำเนินการสำหรับวันเมื่อมีการประมวลผลรายงาน สูตรที่ออกแบบมาสำหรับการประมวลผลตัวควบคุมชนิดนี้สามารถใช้ทรัพยากรต่อไปนี้:
<ul>
<li>Dynamics 365 for Operations ป้ายชื่อ SYS70894 ซึ่งมีข้อความต่อไปนี้:
<ul>
<li><strong>สำหรับภาษา EN-US:</strong> &quot;ไม่มีสิ่งที่จะพิมพ์&quot;</li>
<li><strong>สำหรับภาษา DE:</strong> &quot;Nichts zu drucken&quot;</li>
</ul></li>
<li>Dynamics 365 for Operations ป้ายชื่อ SYS18389 ซึ่งมีข้อความต่อไปนี้:
<ul>
<li><strong>สำหรับภาษา EN-US:</strong> &quot;ลูกค้า %1 ถูกหยุดดำเนินการสำหรับ %2&quot;</li>
<li><strong>สำหรับภาษา DE:</strong> &quot;Debitor '%1' wird für %2 gesperrt&quot;</li>
</ul></li>
</ul>
นี่คือสูตรที่สามารถออกแบบ: รูปแบบ (CONCATENATE (@&quot;SYS70894&quot;, &quot; &quot;, @&quot;SYS18389&quot;), แบบจำลอง Customer.Name, DATETIMEFORMAT (แบบจำลอง ProcessingDate, &quot;d&quot;)) ถ้ามีการรายงานการประมวลผลสำหรับ <strong>ลูกค้าขายปลีก Litware</strong> เมื่อ 17 ธันวาคม 2015 ในวัฒนธรรม <strong>EN-US</strong> และภาษา <strong>EN-US</strong> สูตรนี้ต่อไปนี้ส่งคืนข้อความต่อไปนี้ ซึ่งสามารถแสดงเป็นข้อความข้อยกเว้นสำหรับผู้ใช้: &quot;ไม่มีสิ่งที่จะพิมพ์ Customer Litware Retail ถูกหยุดดำเนินการเมื่อ 12/17/2015&quot; ถ้ารายงานเดียวกันถูกประมวลผลสำหรับ<strong> ลูกค้าขายปลีก Litware</strong> เมื่อ 17 ธันวาคม 2015 ในวัฒนธรรม <strong>DE</strong> และภาษา <strong>DE</strong> สูตรนี้คืนค่าต่อไปนี้ ซึ่งข้อความใช้รูปแบบวันที่แตกต่างกัน: &quot;Nichts zu drucken Debitor 'Litware Retail' wird für 17.12.2015 gesperrt.&quot; <strong>หมายเหตุ: </strong>ไวยากรณ์ต่อไปนี้จะใช้ในสูตร ER สำหรับป้ายชื่อ:
<ul>
<li><strong>สำหรับป้ายชื่อจากทรัพยากร Dynamics 365 for Operations:</strong> <strong>@&quot;X&quot;</strong> โดยที่ X คือ รหัสป้ายชื่อใน Application Object Tree (AOT)</li>
<li><strong>สำหรับป้ายชื่อที่อยู่ในการตั้งค่าคอนฟิก ER:</strong> <strong>@&quot;ER_LABEL:X&quot;</strong> โดยที่ X คือ รหัสป้ายชื่อในการตั้งค่าคอนฟิก ER</li>
</ul></td>
</tr>
<tr class="odd">
<td>NUMBERFORMAT (หมายเลข รูปแบบ)</td>
<td>ส่งคืนการแสดงสตริงของหมายเลขที่ระบุในรูปแบบที่ระบุ (สำหรับข้อมูลเกี่ยวกับรูปแบบที่ได้รับการสนับสนุน ให้ดูที่ <a href="https://msdn.microsoft.com/en-us/library/dwhawy9k(v=vs.110).aspx">มาตรฐาน</a> และ <a href="https://msdn.microsoft.com/en-us/library/0c899ak8(v=vs.110).aspx">กำหนดเอง</a>) บริบทที่จะรันฟังก์ชันนี้กำหนดภาษาที่จะใช้ในการจัดรูปแบบตัวเลข</td>
<td>สำหรับวัฒนธรรม EN-US <strong>NUMBERFORMAT (0.45, &quot;p&quot;)</strong> ส่งกลับค่า <strong>&quot;45.00 %&quot;</strong> <strong>NUMBERFORMAT (10.45, &quot;#&quot;)</strong> ส่งกลับค่า <strong>&quot;10&quot;</strong></td>
</tr>
<tr class="even">
<td>NUMERALSTOTEXT (หมายเลข ภาษา สกุลเงิน แฟล็กพิมพ์ชื่อสกุลเงิน จุดทศนิยม)</td>
<td>ส่งคืนหมายเลขที่สะกดทีละคำ (แปลง) เป็นสตริงข้อความในภาษาที่กำหนด ไม่จำเป็นต้องระบุรหัสภาษา: เมื่อมีการกำหนดเป็นสตริงที่ว่างเปล่า ระบบจะใช้รหัสภาษาบริบทที่ใช้งานอยู่ (ที่กำหนดไว้สำหรับไฟล์หรือโฟลเดอร์ที่มีการสร้าง) แทน ไม่จำเป็นต้องระบุรหัสสกุลเงิน เมื่อมีการกำหนดเป็นสตริงที่ว่างเปล่า สกุลเงินของบริษัทจะถูกนำมาใช้ หมายเหตุ พารามิเตอร์ <strong>พิมพ์ชื่อสกุลเงิน</strong> และพารามิเตอร์ <strong>จุดทศนิยม</strong> จะถูกวิเคราะห์สำหรับรหัสภาษาต่อไปนี้เท่านั้น: <strong>CS</strong>, <strong>ET</strong>, <strong>HU</strong>, <strong>LT</strong>, <strong>LV</strong>, <strong>PL</strong>, <strong>RU</strong> หมายเหตุ พารามิเตอร์ <strong>พิมพ์ชื่อสกุลเงิน</strong> ถูกวิเคราะห์กับบริษัท Dynamics 365 for Operations พร้อมกับบริบทของประเทศที่สนับสนุนการกระจายของสกุลเงินเท่านั้น</td>
<td>NUMERALSTOTEXT (1234.56, &quot;EN&quot;, &quot;&quot;, false, 2) ส่งกลับค่า "หนึ่งพันสองร้อยสามสิบสี่และ 56" NUMERALSTOTEXT (120, &quot;PL&quot;, &quot;&quot;, false, 0) ส่งกลับค่า “Sto dwadzieścia” NUMERALSTOTEXT (120.21, &quot;RU&quot;, &quot;EUR&quot;, true, 2) ส่งกลับค่า “Сто двадцать евро 21 евроцент”</td>
</tr>
<tr class="odd">
<td>PADLEFT (สตริง ความยาว อักขระของระยะห่าง)</td>
<td>ส่งคืนสตริงที่มีความยาวที่ระบุซึ่งมีการเริ่มต้นสตริงปัจจุบันด้วยอักขระที่ระบุ</td>
<td>PADLEFT (“1234”, 10, “ “) ส่งคืนสตริงข้อความ “      1234”</td>
</tr>
</tbody>
</table>

### <a name="data-collection-functions"></a>ฟังก์ชันการรวบรวมข้อมูล

ฟังก์ชัน

คำอธิบาย

ตัวอย่าง

FORMATELEMENTNAME ()

ส่งคืนชื่อขององค์ประกอบของรูปแบบปัจจุบัน ส่งคืนสตริงที่ว่างเมื่อแฟล็ก **รวมบรวมรายละเอียดผลลัพธ์** ของไฟล์ปัจจุบันถูกปิด

อ้างอิงถึง **ER ใช้ข้อมูลของผลลัพธ์รูปแบบสำหรับการตรวจนับและการรวม** (ส่วนหนึ่งของกระบวนการทางธุรกิจ **ส่วนประกอบ Acquire/Develop IT service/solution**) คู่มืองานเพื่อเรียนรู้ข้อมูลเพิ่มเติมเกี่ยวกับการใช้ฟังก์ชันเหล่านี้

SUMIFS (สตริงคีย์สำหรับการรวม, criteria range1 string, criteria value1 string \[, criteria range2 string, criteria value2 string, …\])

ส่งคืนผลรวมของค่าของโหนด (ที่มีชื่อที่กำหนดไว้เป็นคีย์) ของ XML ซึ่งถูกรวบรวมในระหว่างการดำเนินการสำหรับรูปแบบนี้ และเป็นไปตามเงื่อนไขที่ป้อน (คู่ของช่วงและค่า) ส่งค่าเป็นศูนย์เมื่อแฟล็ก **รวมบรวมรายละเอียดผลลัพธ์**ของไฟล์ปัจจุบันถูกปิด

SUMIF (สตริงคีย์สำหรับการรวม สตริงช่วงเกณฑ์ สตริงค่าเกณฑ์)

ส่งคืนผลรวมของค่าของโหนด (ที่มีชื่อที่กำหนดไว้เป็นคีย์) ของ XML ซึ่งถูกรวบรวมในระหว่างการดำเนินการสำหรับรูปแบบนี้ และเป็นไปตามเงื่อนไขที่ป้อน (ช่วงและค่า) ส่งค่าเป็นศูนย์เมื่อแฟล็ก **รวมบรวมรายละเอียดผลลัพธ์**ของไฟล์ปัจจุบันถูกปิด

COUNTIFS (criteria range1 string, criteria value1 string \[, criteria range2 string, criteria value2 string, …\])

ส่งคืนหมายเลขของโหนดของ XML ซึ่งถูกรวบรวมในระหว่างการดำเนินการสำหรับรูปแบบนี้ และเป็นไปตามเงื่อนไขที่ป้อน (คู่ของช่วงและค่า) ส่งค่าเป็นศูนย์เมื่อแฟล็ก **รวมบรวมรายละเอียดผลลัพธ์**ของไฟล์ปัจจุบันถูกปิด

COUNTIF (สตริช่วงเกณฑ์ สตริงค่าเกณฑ์)

ส่งคืนหมายเลขของโหนดของ XML ซึ่งถูกรวบรวมในระหว่างการดำเนินการสำหรับรูปแบบนี้ และเป็นไปตามเงื่อนไขที่ป้อน (ช่วงและค่า) ส่งค่าเป็นศูนย์เมื่อแฟล็ก **รวมบรวมรายละเอียดผลลัพธ์**ของไฟล์ปัจจุบันถูกปิด

COLLECTEDLIST (criteria range1 string, criteria value1 string \[, criteria range2 string, criteria value2 string, …\])

ส่งคืนรายการของค่าของโหนดของ XML ซึ่งถูกรวบรวมในระหว่างการดำเนินการสำหรับรูปแบบนี้ และเป็นไปตามเงื่อนไขที่ป้อน (ช่วงและค่า) ส่งคืนรายการที่ว่างเมื่อแฟล็ก **รวบรวมรายละเอียดผลลัพธ์**ของไฟล์ปัจจุบันถูกปิด

### <a name="other-business-domainspecific-functions"></a>ฟังก์ชันอื่นๆ (เฉพาะโดเมนธุรกิจ)

| ฟังก์ชัน                                                                         | คำอธิบาย                                                                                                                                                                                                                                                        | ตัวอย่าง                                                                                                                                                                                                                                                                                                       |
|----------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CONVERTCURRENCY (ยอดเงิน สกุลเงินต้นทาง สกุลเงินเป้าหมาย วัน บริษัท)        | แปลงยอดเงินที่ระบุจากสกุลเงินต้นทางเป็นสกุลเงินเป้าหมาย โดยใช้การตั้งค่าของบริษัท Dynamics 365 for Operations ที่ระบุในวันที่ระบุ                                                                            | **CONVERTCURRENCY (1, "EUR", "USD", TODAY(), "DEMF")** ส่งกลับค่าหนึ่งยูโรที่เทียบเท่ากับดอลลาร์สหรัฐฯ ในวันรอบเวลาปัจจุบัน ตามการตั้งค่าสำหรับบริษัท DEMF                                                                                                                                  |
| ROUNDAMOUNT (หมายเลข ทศนิยม กฎการปัดเศษ)                                       | การปัดเศษยอดเงินที่ระบุตามกฎการปัดเศษที่ระบุและจำนวนตำแหน่งทศนิยมที่ระบุ **หมายเหตุ:** ต้องระบุกฎการปัดเศษเป็นค่าการแจงนับ **RoundOffType** ของ Dynamics 365 for Operations                          | ถ้าพารามิเตอร์ **model.RoundOff** ถูกตั้งค่าเป็น ****Downward****, **ROUNDAMOUNT (1000.787, 2, model.RoundOff)** ส่งกลับค่า **1000.78** ถ้าพารามิเตอร์ **model.RoundOff** ถูกกำหนดเป็น **ปกติ** หรือ **ปัดขึ้น**, **ROUNDAMOUNT (1000.787, 2 model.RoundOff)** จะส่งกลับค่า **1000.79** |
| CURCredRef (หลัก)                                                              | ส่งคืนการอ้างอิงเจ้าหนี้ โดยขึ้นอยู่กับตำแหน่งของหมายเลขใบแจ้งหนี้ที่ระบุการส่งคืน                                                                                                                                                                                  | **CURCredRef ("VEND-200002")** ส่งกลับค่า **"2200002"**                                                                                                                                                                                                                                                         |
| MOD\_97 (หลัก)                                                                 | ส่งคืนการอ้างอิงเจ้าหนี้เป็นนิพจน์ MOD97 โดยขึ้นอยู่กับตำแหน่งของหมายเลขใบแจ้งหนี้ที่ระบุการส่งคืน                                                                                                                                                            | **MOD\_97 ("VEND-200002")** ส่งกลับค่า **"20000285"**                                                                                                                                                                                                                                                           |
| ISOCredRef (หลัก)                                                              | ส่งคืนการอ้างอิงเจ้าหนี้ ISO โดยขึ้นอยู่กับตำแหน่งของหมายเลขใบแจ้งหนี้และสัญลักษณเรียงตามลำดับอักษรที่ระบุการส่งคืน **หมายเหตุ:**เพื่อขจัดสัญลักษณ์จากอักษรที่ไม่สอดคล้องกับ ISO พารามิเตอร์อินพุทจะต้องแปลก่อนมีการส่งผ่านไปยังฟังก์ชันนี้ | **ISOCredRef ("VEND-200002")** ส่งกลับค่า **"RF23VEND-200002"**                                                                                                                                                                                                                                                 |
| CN\_GBT\_AdditionalDimensionID (สตริง หมายเลข)                                  | รับรหัสมิติทางการเงินเพิ่มเติม มีการแสดงมิติในสตริงนี้เป็นรหัสที่คั่นด้วยเครื่องหมายจุลภาค หมายเลขกำหนดรหัสลำดับของมิติที่ร้องขอในสตริงนี้                                                                            | CN\_GBT\_AdditionalDimensionID ("AA,BB,CC,DD,EE,FF,GG,HH",3) ส่งกลับค่า “CC”                                                                                                                                                                                                                                      |
| GetCurrentCompany ()                                                             | ส่งคืนรหัสของบริษัทที่ถูกบันทึกปัจจุบัน                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                               |
| CH\_BANK\_MOD\_10 (ตัวเลข)                                                       | ส่งคืนการอ้างอิงเจ้าหนี้เป็นนิพจน์ MOD10 โดยขึ้นอยู่กับตำแหน่งของหมายเลขใบแจ้งหนี้ที่ระบุการส่งคืน                                                                                                                                                                      | CH\_BANK\_MOD\_10 ("VEND-200002") ส่งกลับค่า 3                                                                                                                                                                                                                                                                   |
| FA\_SUM (รหัสสินทรัพย์ถาวร รหัสแบบจำลองค่า วันที่เริ่มต้น วันที่สิ้นสุด)               | ส่งคืนคอนเทนเนอร์ข้อมูลที่เตรียมไว้ของยอดเงินสินทรัพย์ถาวรสำหรับรอบระยะเวลา                                                                                                                                                                                         | FA\_SUM ("COMP-000001", “Current”, Date1, Date2) ส่งคืนคอนเทนเนอร์ข้อมูลที่เตรียมไว้ของสินทรัพย์ถาวร "COMP-000001" ที่มีแบบจำลองค่า “Current” สำหรับรอบระยะเวลาจาก Date1 ถึง Date2                                                                                                                        |
| FA\_BALANCE (รหัสสินทรัพย์ถาวร รหัสแบบจำลองค่า ปีการรายงาน วันที่รายงาน) | ส่งคืนคอนเทนเนอร์ข้อมูลที่เตรียมไว้ของยอดดุลสินทรัพย์ถาวร ต้องระบุปีการรายงานเป็นค่าของการแจงนับของ Dynamics 365 for Operations **AssetYear**                                                                                           | FA\_SUM ("COMP-000001", “Current”, AxEnumAssetYear.ThisYear, SESSIONTODAY ()) ส่งคืนคอนเทนเนอร์ข้อมูลที่เตรียมไว้ของยอดดุลสำหรับสินทรัพย์ถาวร "COMP-000001" ที่มีแบบจำลองมูลค่า “Current” ในวันที่รอบเวลาของ 365 for Operations ปัจจุบัน                                                                |

### <a name="functions-list-extension"></a>ส่วนขยายรายการของฟังก์ชัน

ER ให้ความสามารถในการขยายรายการของฟังก์ชันที่ใช้ในนิพจน์ ER จำเป็นต้องใช้ความพยายามทางด้านวิศวกรรม สำหรับข้อมูลรายละเอียด ดู [ขยายรายการของฟังก์ชันการรายงานทางอิเล็กทรอนิกส์](general-electronic-reporting-formulas-list-extension.md)

<a name="see-also"></a>ดูเพิ่มเติมที่
--------

[ภาพรวมการรายงานทางอิเล็กทรอนิกส์](general-electronic-reporting.md)

[ขยายรายการฟังก์ชันการรายงานทางอิเล็กทรอนิกส์ (ER)](general-electronic-reporting-formulas-list-extension.md)




