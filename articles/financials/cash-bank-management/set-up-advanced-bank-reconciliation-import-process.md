---
title: "ตั้งค่ากระบวนการนำเข้าการกระทบยอดบัญชีธนาคารขั้นสูง"
description: "คุณลักษณะการกระทบยอดบัญชีธนาคารขั้นสูงจะช่วยให้คุณสามารถนำเข้าใบแจ้งยอดจากธนาคารอิเล็กทรอนิกส์ และกระทบยอดด้วยธุรกรรมธนาคารได้โดยอัตโนมัติใน Microsoft Dynamics 365 for Finance and Operations บทความนี้อธิบายวิธีการตั้งค่าฟังก์ชันการนำเข้าสำหรับใบแจ้งยอดจากธนาคารของคุณ"
author: twheeloc
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: BankStatementFormat
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, Operations
ms.custom: 106853
ms.assetid: 45dae275-ea45-4c7e-b38f-89297c7b5352
ms.search.region: Global
ms.author: saraschi
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: a8b5a5af5108744406a3d2fb84d7151baea2481b
ms.openlocfilehash: 3806dafa6ca6ea8355db3d6a8c2432ad67cd69c2
ms.contentlocale: th-th
ms.lasthandoff: 04/13/2018

---

# <a name="set-up-the-advanced-bank-reconciliation-import-process"></a><span data-ttu-id="c0716-104">ตั้งค่ากระบวนการนำเข้าการกระทบยอดบัญชีธนาคารขั้นสูง</span><span class="sxs-lookup"><span data-stu-id="c0716-104">Set up the advanced bank reconciliation import process</span></span>

[!INCLUDE [banner](../includes/banner.md)]

<span data-ttu-id="c0716-105">คุณลักษณะการกระทบยอดบัญชีธนาคารขั้นสูงจะช่วยให้คุณสามารถนำเข้าใบแจ้งยอดจากธนาคารอิเล็กทรอนิกส์ และกระทบยอดด้วยธุรกรรมธนาคารได้โดยอัตโนมัติใน Microsoft Dynamics 365 for Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="c0716-105">The Advanced bank reconciliation feature lets you import electronic bank statements and automatically reconcile them with bank transactions in Microsoft Dynamics 365 for Finance and Operations.</span></span> <span data-ttu-id="c0716-106">บทความนี้อธิบายวิธีการตั้งค่าฟังก์ชันการนำเข้าสำหรับใบแจ้งยอดจากธนาคารของคุณ</span><span class="sxs-lookup"><span data-stu-id="c0716-106">This article explains how to set up the import functionality for your bank statements.</span></span> 

<span data-ttu-id="c0716-107">การตั้งค่าสำหรับการนำเข้าใบแจ้งยอดจากธนาคารแตกต่างกันไปขึ้นอยู่กับรูปแบบของใบแจ้งยอดจากธนาคารอิเล็กทรอนิกส์ของคุณ</span><span class="sxs-lookup"><span data-stu-id="c0716-107">The setup for bank statement import varies, depending on the format of your electronic bank statement.</span></span> <span data-ttu-id="c0716-108">Finance and Operations รองรับรูปแบบใบแจ้งยอดจากธนาคารสามรายการทั้งหมด: ISO20022, MT940 และ BAI2</span><span class="sxs-lookup"><span data-stu-id="c0716-108">Finance and Operations supports three bank statement formats out of the box: ISO20022, MT940, and BAI2.</span></span>

## <a name="sample-files"></a><span data-ttu-id="c0716-109">ไฟล์ตัวอย่าง</span><span class="sxs-lookup"><span data-stu-id="c0716-109">Sample files</span></span>
<span data-ttu-id="c0716-110">สำหรับรูปแบบทั้งสามรายการ คุณต้องมีไฟล์ที่แปลใบแจ้งยอดของธนาคารอิเล็กทรอนิกส์จากรูปแบบเดิมเป็นรูปแบบที่ Finance and Operations สามารถใช้ได้</span><span class="sxs-lookup"><span data-stu-id="c0716-110">For all three formats, you must have files that translate the electronic bank statement from the original format to a format that Finance and Operations can use.</span></span> <span data-ttu-id="c0716-111">คุณสามารถค้นหาไฟล์ทรัพยากรที่จำเป็นภายใต้โหนด **ทรัพยากร** ใน Explorer Application Explorer ใน Microsoft Visual Studio ได้</span><span class="sxs-lookup"><span data-stu-id="c0716-111">You can find the required resource files under the **Resources** node in Application Explorer in Microsoft Visual Studio.</span></span> <span data-ttu-id="c0716-112">หลังจากที่คุณพบไฟล์แล้ว ให้คัดลอกไปยังตำแหน่งที่ตั้งที่ทราบหนึ่ง เพื่อให้คุณสามารถอัพโหลดได้อย่างง่ายดายในระหว่างกระบวนการติดตั้ง</span><span class="sxs-lookup"><span data-stu-id="c0716-112">After you find the files, copy them to a single known location, so that you can more easily upload them during the setup process.</span></span>

| <span data-ttu-id="c0716-113">ชื่อทรัพยากร</span><span class="sxs-lookup"><span data-stu-id="c0716-113">Resource name</span></span>                                           | <span data-ttu-id="c0716-114">ชื่อไฟล์</span><span class="sxs-lookup"><span data-stu-id="c0716-114">File name</span></span>                            |
|---------------------------------------------------------|--------------------------------------|
| <span data-ttu-id="c0716-115">BankStmtImport\_BAI2CSV\_to\_BAI2XML\_xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-115">BankStmtImport\_BAI2CSV\_to\_BAI2XML\_xslt</span></span>              | <span data-ttu-id="c0716-116">BAI2CSV-to-BAI2XML.xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-116">BAI2CSV-to-BAI2XML.xslt</span></span>              |
| <span data-ttu-id="c0716-117">BankStmtImport\_BAI2XML\_to\_Reconciliation\_xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-117">BankStmtImport\_BAI2XML\_to\_Reconciliation\_xslt</span></span>       | <span data-ttu-id="c0716-118">BAI2XML-to-Reconciliation.xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-118">BAI2XML-to-Reconciliation.xslt</span></span>       |
| <span data-ttu-id="c0716-119">BankStmtImport\_BankReconciliation\_to\_Composite\_xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-119">BankStmtImport\_BankReconciliation\_to\_Composite\_xslt</span></span> | <span data-ttu-id="c0716-120">BankReconciliation-to-Composite.xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-120">BankReconciliation-to-Composite.xslt</span></span> |
| <span data-ttu-id="c0716-121">BankStmtImport\_ISO20022XML\_to\_Reconciliation\_xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-121">BankStmtImport\_ISO20022XML\_to\_Reconciliation\_xslt</span></span>   | <span data-ttu-id="c0716-122">ISO20022XML-to-Reconciliation.xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-122">ISO20022XML-to-Reconciliation.xslt</span></span>   |
| <span data-ttu-id="c0716-123">BankStmtImport\_MT940TXT\_to\_MT940XML\_xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-123">BankStmtImport\_MT940TXT\_to\_MT940XML\_xslt</span></span>            | <span data-ttu-id="c0716-124">MT940TXT-to-MT940XML.xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-124">MT940TXT-to-MT940XML.xslt</span></span>            |
| <span data-ttu-id="c0716-125">BankStmtImport\_MT940XML\_to\_Reconciliation\_xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-125">BankStmtImport\_MT940XML\_to\_Reconciliation\_xslt</span></span>      | <span data-ttu-id="c0716-126">MT940XML-to-Reconciliation.xslt</span><span class="sxs-lookup"><span data-stu-id="c0716-126">MT940XML-to-Reconciliation.xslt</span></span>      |
| <span data-ttu-id="c0716-127">BankStmtImport\_SampleBankCompositeEntity\_xml</span><span class="sxs-lookup"><span data-stu-id="c0716-127">BankStmtImport\_SampleBankCompositeEntity\_xml</span></span>          | <span data-ttu-id="c0716-128">SampleBankCompositeEntity.xml</span><span class="sxs-lookup"><span data-stu-id="c0716-128">SampleBankCompositeEntity.xml</span></span>        |

## <a name="examples-of-bank-statement-formats-and-technical-layouts"></a><span data-ttu-id="c0716-129">ตัวอย่างรูปแบบและโครงร่างทางเทคนิคของใบแจ้งยอดจากธนาคาร</span><span class="sxs-lookup"><span data-stu-id="c0716-129">Examples of bank statement formats and technical layouts</span></span>
<span data-ttu-id="c0716-130">ต่อไปนี้เป็นตัวอย่างคำนิยามของโครงร่างทางเทคนิคของไฟล์การนำเข้าการกระทบยอดบัญชีธนาคารขั้นสูง และไฟล์ตัวอย่างของใบแจ้งยอดจากธนาคารที่เกี่ยวข้องสามรายการ: https://mbs.microsoft.com/customersource/northamerica/AX/learning/documentation/how-to-articles/exofbankstfotechlayouts</span><span class="sxs-lookup"><span data-stu-id="c0716-130">Below are examples of the advanced bank reconciliation import file technical layout definitions and three related bank statement example files: https://mbs.microsoft.com/customersource/northamerica/AX/learning/documentation/how-to-articles/exofbankstfotechlayouts</span></span>  

| <span data-ttu-id="c0716-131">คำนิยามโครงร่างทางเทคนิค</span><span class="sxs-lookup"><span data-stu-id="c0716-131">Technical layout definition</span></span>                             | <span data-ttu-id="c0716-132">ไฟล์ตัวอย่างใบแจ้งยอดจากธนาคาร</span><span class="sxs-lookup"><span data-stu-id="c0716-132">Bank statement example file</span></span>          |
|---------------------------------------------------------|--------------------------------------|
| <span data-ttu-id="c0716-133">DynamicsAXMT940Layout</span><span class="sxs-lookup"><span data-stu-id="c0716-133">DynamicsAXMT940Layout</span></span>                                   | <span data-ttu-id="c0716-134">MT940StatementExample</span><span class="sxs-lookup"><span data-stu-id="c0716-134">MT940StatementExample</span></span>                |
| <span data-ttu-id="c0716-135">DynamicsAXISO20022Layout</span><span class="sxs-lookup"><span data-stu-id="c0716-135">DynamicsAXISO20022Layout</span></span>                                | <span data-ttu-id="c0716-136">ISO20022StatementExample</span><span class="sxs-lookup"><span data-stu-id="c0716-136">ISO20022StatementExample</span></span>             |
| <span data-ttu-id="c0716-137">DynamicsAXBAI2Layout</span><span class="sxs-lookup"><span data-stu-id="c0716-137">DynamicsAXBAI2Layout</span></span>                                    | <span data-ttu-id="c0716-138">BAI2StatementExample</span><span class="sxs-lookup"><span data-stu-id="c0716-138">BAI2StatementExample</span></span>                 |



## <a name="set-up-the-import-of-iso20022-bank-statements"></a><span data-ttu-id="c0716-139">ตั้งค่าการนำเข้าใบแจ้งยอดจากธนาคาร ISO20022</span><span class="sxs-lookup"><span data-stu-id="c0716-139">Set up the import of ISO20022 bank statements</span></span>
<span data-ttu-id="c0716-140">ก่อนอื่น คุณต้องกำหนดกลุ่มการประมวลผลรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร ISO20022 โดยใช้กรอบงานเอนทิตี้ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="c0716-140">First, you must define the bank statement format processing group for ISO20022 bank statements by using the data entity framework.</span></span>

1.  <span data-ttu-id="c0716-141">ไปยัง **พื้นที่ทำงาน** &gt; **การจัดการข้อมูล**</span><span class="sxs-lookup"><span data-stu-id="c0716-141">Go to **Workspaces** &gt; **Data management**.</span></span>
2.  <span data-ttu-id="c0716-142">คลิก **นำเข้า**</span><span class="sxs-lookup"><span data-stu-id="c0716-142">Click **Import**.</span></span>
3.  <span data-ttu-id="c0716-143">ป้อนชื่อสำหรับใบขอซื้อ รูปแบบ เช่น **ISO20022**</span><span class="sxs-lookup"><span data-stu-id="c0716-143">Enter a name for the format, such as **ISO20022**.</span></span>
4.  <span data-ttu-id="c0716-144">ตั้งค่าฟิลด์ **รูปแบบข้อมูลต้นทาง** เป็น **XML-Element**</span><span class="sxs-lookup"><span data-stu-id="c0716-144">Set the **Source data format** field to **XML-Element**.</span></span>
5.  <span data-ttu-id="c0716-145">ตั้งค่าฟิลด์ **ชื่อเอนทิตี้** เป็น **ใบแจ้งยอดจากธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-145">Set the **Entity name** field to **Bank statements**.</span></span>
6.  <span data-ttu-id="c0716-146">เมื่อต้องการอัพโหลดไฟล์ที่นำเข้า คลิก **อัพโหลด**และจากนั้น เรียกดูเพื่อเลือกไฟล์ **SampleBankCompositeEntity.xml** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-146">To upload the import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.</span></span>
7.  <span data-ttu-id="c0716-147">หลังจากเอนทิตีใบแจ้งยอดจากธนาคารถูกอัพโหลดและการแม็ปเสร็จสมบูรณ์ คลิกการดำเนินการ **ดูแผนที่** สำหรับเอนทิตี</span><span class="sxs-lookup"><span data-stu-id="c0716-147">After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.</span></span>
8.  <span data-ttu-id="c0716-148">เอนทิตีใบแจ้งยอดจากธนาคารเป็นเอนทิตี้โดยรวมที่ประกอบด้วยเอนทิตี้ที่แยกต่างหากสี่รายการ</span><span class="sxs-lookup"><span data-stu-id="c0716-148">The Bank statements entity is a composite entity that consists of four separate entities.</span></span> <span data-ttu-id="c0716-149">ในรายการ เลือก **BankStatementDocumentEntity** แล้วคลิกการดำเนินการ **ดูแผนที่**</span><span class="sxs-lookup"><span data-stu-id="c0716-149">In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.</span></span>
9.  <span data-ttu-id="c0716-150">บนแท็บ **การแปลงข้อมูล** คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-150">On the **Transformations** tab, click **New**.</span></span>
10. <span data-ttu-id="c0716-151">สำหรับหมายเลขลำดับ 1 คลิก **อัพโหลดไฟล์**และเลือกไฟล์**ISO20022XML Reconciliation.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-151">For sequence number 1, click **Upload file**, and select the **ISO20022XML-to-Reconciliation.xslt** file that you saved earlier.</span></span> <span data-ttu-id="c0716-152">**หมายเหตุ:** ไฟล์การแปลงข้อมูล Finance and Operations ถูกสร้างขึ้นสำหรับรูปแบบมาตรฐาน</span><span class="sxs-lookup"><span data-stu-id="c0716-152">**Note:** Finance and Operations transformation files are built for the standard format.</span></span> <span data-ttu-id="c0716-153">เนื่องจากธนาคารมักแตกต่างจากรูปแบบนี้ คุณอาจต้องปรับปรุงไฟล์การแปลงเพื่อแมปไปยังรูปแบบใบแจ้งยอดจากธนาคารของคุณ</span><span class="sxs-lookup"><span data-stu-id="c0716-153">Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format.</span></span> <!-- For details about the expected format for ISO20022, see [Dynamics AX ISO20022 Layout](./media/dynamicsaxiso20022layout1.xlsx).-->
11. <span data-ttu-id="c0716-154">คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-154">Click **New**.</span></span>
12. <span data-ttu-id="c0716-155">สำหรับหมายเลขลำดับ 2 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **BankReconciliation-to-Composite.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-155">For sequence number 2, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.</span></span>
13. <span data-ttu-id="c0716-156">คลิก **ใช้การแปลง**</span><span class="sxs-lookup"><span data-stu-id="c0716-156">Click **Apply transforms**.</span></span>

<span data-ttu-id="c0716-157">หลังจากกลุ่มการประมวลผลรูปแบบถูกตั้งค่าไว้ ขั้นตอนต่อไปคือการกำหนดกฎรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร ISO20022</span><span class="sxs-lookup"><span data-stu-id="c0716-157">After the format processing group is set up, the next step is to define the bank statement format rules for ISO20022 bank statements.</span></span>

1.  <span data-ttu-id="c0716-158">ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **การตั้งค่า** &gt; **การตั้งค่าการกระทบยอดบัญชีธนาคารขั้นสูง** &gt; **รูปแบบใบแจ้งยอดจากธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-158">Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.</span></span>
2.  <span data-ttu-id="c0716-159">คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-159">Click **New**.</span></span>
3.  <span data-ttu-id="c0716-160">ระบุรูปแบบใบแจ้งยอด เช่น **ISO20022**</span><span class="sxs-lookup"><span data-stu-id="c0716-160">Specify a statement format, such as **ISO20022**.</span></span>
4.  <span data-ttu-id="c0716-161">ป้อนชื่อสำหรับรูปแบบ</span><span class="sxs-lookup"><span data-stu-id="c0716-161">Enter a name for the format.</span></span>
5.  <span data-ttu-id="c0716-162">ตั้งค่าฟิลด์ **กลุ่มการประมวลผล** ไปยังกลุ่มที่คุณกำหนดไว้ก่อนหน้านี้ เช่น **ISO20022**</span><span class="sxs-lookup"><span data-stu-id="c0716-162">Set the **Processing group** field to the group that you defined earlier, such as **ISO20022**.</span></span>
6.  <span data-ttu-id="c0716-163">เลือกกล่องกาเครื่องหมาย **ไฟล์ XML**</span><span class="sxs-lookup"><span data-stu-id="c0716-163">Select the **XML file** check box.</span></span>

<span data-ttu-id="c0716-164">ขั้นตอนสุดท้ายคือการเปิดใช้งานการกระทบยอดบัญชีธนาคารขั้นสูงและการตั้งค่ารูปแบบใบแจ้งยอดบัญชีธนาคาร</span><span class="sxs-lookup"><span data-stu-id="c0716-164">The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.</span></span>

1.  <span data-ttu-id="c0716-165">ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **บัญชีธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-165">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="c0716-166">เลือกบัญชีธนาคาร และเปิดขึ้นเพื่อดูรายละเอียด</span><span class="sxs-lookup"><span data-stu-id="c0716-166">Select the bank account, and open it to view the details.</span></span>
3.  <span data-ttu-id="c0716-167">ในแท็บ **การกระทบยอด** ตั้งค่าตัวเลือก **การกระทบยอดบัญชีธนาคารขั้นสูง**เป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="c0716-167">On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.</span></span>
4.  <span data-ttu-id="c0716-168">ตั้งค่าฟิลด์ **รูปแบบบแจ้งยอด**เป็นรูปแบบที่คุณสร้างไว้ก่อนหน้านี้ เช่น **ISO20022**</span><span class="sxs-lookup"><span data-stu-id="c0716-168">Set the **Statement format** field to the format that you created earlier, such as **ISO20022**.</span></span>

## <a name="set-up-the-import-of-mt940-bank-statements"></a><span data-ttu-id="c0716-169">ตั้งค่าการนำเข้าใบแจ้งยอดจากธนาคาร MT940</span><span class="sxs-lookup"><span data-stu-id="c0716-169">Set up the import of MT940 bank statements</span></span>
<span data-ttu-id="c0716-170">ก่อนอื่น คุณต้องกำหนดกลุ่มการประมวลผลรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร MT940 โดยใช้กรอบงานเอนทิตี้ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="c0716-170">First, you must define the bank statement format processing group for MT940 bank statements by using the data entity framework.</span></span>

1.  <span data-ttu-id="c0716-171">ไปยัง **พื้นที่ทำงาน** &gt; **การจัดการข้อมูล**</span><span class="sxs-lookup"><span data-stu-id="c0716-171">Go to **Workspaces** &gt; **Data management**.</span></span>
2.  <span data-ttu-id="c0716-172">คลิก **นำเข้า**</span><span class="sxs-lookup"><span data-stu-id="c0716-172">Click **Import**.</span></span>
3.  <span data-ttu-id="c0716-173">ป้อนชื่อสำหรับใบขอซื้อ รูปแบบ เช่น **MT940**</span><span class="sxs-lookup"><span data-stu-id="c0716-173">Enter a name for the format, such as **MT940**.</span></span>
4.  <span data-ttu-id="c0716-174">ตั้งค่าฟิลด์ **รูปแบบข้อมูลต้นทาง** เป็น **XML-Element**</span><span class="sxs-lookup"><span data-stu-id="c0716-174">Set the **Source data format** field to **XML-Element**.</span></span>
5.  <span data-ttu-id="c0716-175">ตั้งค่าฟิลด์ **ชื่อเอนทิตี้** เป็น **ใบแจ้งยอดจากธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-175">Set the **Entity name** field to **Bank statements**.</span></span>
6.  <span data-ttu-id="c0716-176">เมื่อต้องการอัพโหลดไฟล์ที่นำเข้า คลิก **อัพโหลด**และจากนั้น เรียกดูเพื่อเลือกไฟล์ **SampleBankCompositeEntity.xml** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-176">To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.</span></span>
7.  <span data-ttu-id="c0716-177">หลังจากเอนทิตีใบแจ้งยอดจากธนาคารถูกอัพโหลดและการแม็ปเสร็จสมบูรณ์ คลิกการดำเนินการ **ดูแผนที่** สำหรับเอนทิตี</span><span class="sxs-lookup"><span data-stu-id="c0716-177">After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.</span></span>
8.  <span data-ttu-id="c0716-178">เอนทิตีใบแจ้งยอดจากธนาคารเป็นเอนทิตี้โดยรวมที่ประกอบด้วยเอนทิตี้ที่แยกต่างหากสี่รายการ</span><span class="sxs-lookup"><span data-stu-id="c0716-178">The Bank statements entity is a composite entity that consists of four separate entities.</span></span> <span data-ttu-id="c0716-179">ในรายการ เลือก **BankStatementDocumentEntity** แล้วคลิกการดำเนินการ **ดูแผนที่**</span><span class="sxs-lookup"><span data-stu-id="c0716-179">In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.</span></span>
9.  <span data-ttu-id="c0716-180">บนแท็บ **การแปลงข้อมูล** คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-180">On the **Transformations** tab, click **New**.</span></span>
10. <span data-ttu-id="c0716-181">สำหรับหมายเลขลำดับ 1 คลิก **อัพโหลดไฟล์**และเลือกไฟล์**MT940TXT-to-MT940XML.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-181">For sequence number 1, click **Upload file**, and select the **MT940TXT-to-MT940XML.xslt** file that you saved earlier.</span></span>
11. <span data-ttu-id="c0716-182">คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-182">Click **New**.</span></span>
12. <span data-ttu-id="c0716-183">สำหรับหมายเลขลำดับ 2 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **MT940XML Reconciliation.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-183">For sequence number 2, click **Upload file**, and select the **MT940XML-to-Reconciliation.xslt** file that you saved earlier.</span></span> <span data-ttu-id="c0716-184">**หมายเหตุ:** ไฟล์การแปลงข้อมูล Finance and Operations ถูกสร้างขึ้นสำหรับรูปแบบมาตรฐาน</span><span class="sxs-lookup"><span data-stu-id="c0716-184">**Note:** Finance and Operations transformation files are built for the standard format.</span></span> <span data-ttu-id="c0716-185">เนื่องจากธนาคารมักแตกต่างจากรูปแบบนี้ คุณอาจต้องปรับปรุงไฟล์การแปลงเพื่อแมปไปยังรูปแบบใบแจ้งยอดจากธนาคารของคุณ</span><span class="sxs-lookup"><span data-stu-id="c0716-185">Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format.</span></span> <!--- For details about the expected format for MT940, see [Dynamics AX MT940 Layout](./media/dynamicsaxmt940layout1.xlsx)-->
13. <span data-ttu-id="c0716-186">คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-186">Click **New**.</span></span>
14. <span data-ttu-id="c0716-187">สำหรับหมายเลขลำดับ 3 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **BankReconciliation-to-Composite.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-187">For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.</span></span>
15. <span data-ttu-id="c0716-188">คลิก **ใช้การแปลง**</span><span class="sxs-lookup"><span data-stu-id="c0716-188">Click **Apply transforms**.</span></span>

<span data-ttu-id="c0716-189">หลังจากกลุ่มการประมวลผลรูปแบบถูกตั้งค่าไว้ ขั้นตอนต่อไปคือการกำหนดกฎรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร MT940</span><span class="sxs-lookup"><span data-stu-id="c0716-189">After the format processing group is set up, the next step is to define the bank statement format rules for MT940 bank statements.</span></span>

1.  <span data-ttu-id="c0716-190">ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **การตั้งค่า** &gt; **การตั้งค่าการกระทบยอดบัญชีธนาคารขั้นสูง** &gt; **รูปแบบใบแจ้งยอดจากธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-190">Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.</span></span>
2.  <span data-ttu-id="c0716-191">คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-191">Click **New**.</span></span>
3.  <span data-ttu-id="c0716-192">ระบุรูปแบบใบแจ้งยอด เช่น **MT940**</span><span class="sxs-lookup"><span data-stu-id="c0716-192">Specify a statement format, such as **MT940**.</span></span>
4.  <span data-ttu-id="c0716-193">ป้อนชื่อสำหรับรูปแบบ</span><span class="sxs-lookup"><span data-stu-id="c0716-193">Enter a name for the format.</span></span>
5.  <span data-ttu-id="c0716-194">ตั้งค่าฟิลด์ **กลุ่มการประมวลผล** ไปยังกลุ่มที่คุณกำหนดไว้ก่อนหน้านี้ เช่น **MT940**</span><span class="sxs-lookup"><span data-stu-id="c0716-194">Set the **Processing group** field to the group that you defined earlier, such as **MT940**.</span></span>
6.  <span data-ttu-id="c0716-195">ตั้งค่าฟิลด์ **ชนิดไฟล์** เป็น **txt**</span><span class="sxs-lookup"><span data-stu-id="c0716-195">Set the **File type** field to **txt**.</span></span>

<span data-ttu-id="c0716-196">ขั้นตอนสุดท้ายคือการเปิดใช้งานการกระทบยอดบัญชีธนาคารขั้นสูงและการตั้งค่ารูปแบบใบแจ้งยอดบัญชีธนาคาร</span><span class="sxs-lookup"><span data-stu-id="c0716-196">The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.</span></span>

1.  <span data-ttu-id="c0716-197">ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **บัญชีธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-197">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="c0716-198">เลือกบัญชีธนาคาร และเปิดขึ้นเพื่อดูรายละเอียด</span><span class="sxs-lookup"><span data-stu-id="c0716-198">Select the bank account, and open it to view the details.</span></span>
3.  <span data-ttu-id="c0716-199">ในแท็บ **การกระทบยอด** ตั้งค่าตัวเลือก **การกระทบยอดบัญชีธนาคารขั้นสูง**เป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="c0716-199">On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.</span></span>
4.  <span data-ttu-id="c0716-200">เมื่อระบบขอให้คุณยืนยันการเลือกของคุณ และเปิดใช้งานการกระทบยอดธนาคารขั้นสูง คลิก **ตกลง**</span><span class="sxs-lookup"><span data-stu-id="c0716-200">When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**.</span></span>
5.  <span data-ttu-id="c0716-201">ตั้งค่าฟิลด์ **รูปแบบบแจ้งยอด** เป็นรูปแบบที่คุณสร้างไว้ก่อนหน้านี้ เช่น **MT940**</span><span class="sxs-lookup"><span data-stu-id="c0716-201">Set the **Statement format** field to the format that you created earlier, such as **MT940**.</span></span>

## <a name="set-up-the-import-of-bai2-bank-statements"></a><span data-ttu-id="c0716-202">ตั้งค่าการนำเข้าใบแจ้งยอดจากธนาคาร BAI2</span><span class="sxs-lookup"><span data-stu-id="c0716-202">Set up the import of BAI2 bank statements</span></span>
<span data-ttu-id="c0716-203">ก่อนอื่น คุณต้องกำหนดกลุ่มการประมวลผลรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร BAI2 โดยใช้กรอบงานเอนทิตี้ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="c0716-203">First, you must define the bank statement format processing group for BAI2 bank statements by using the data entity framework.</span></span>

1.  <span data-ttu-id="c0716-204">ไปยัง **พื้นที่ทำงาน** &gt; **การจัดการข้อมูล**</span><span class="sxs-lookup"><span data-stu-id="c0716-204">Go to **Workspaces** &gt; **Data management**.</span></span>
2.  <span data-ttu-id="c0716-205">คลิก **นำเข้า**</span><span class="sxs-lookup"><span data-stu-id="c0716-205">Click **Import**.</span></span>
3.  <span data-ttu-id="c0716-206">ป้อนชื่อสำหรับใบขอซื้อ รูปแบบ เช่น **BAI2**</span><span class="sxs-lookup"><span data-stu-id="c0716-206">Enter a name for the format, such as **BAI2**.</span></span>
4.  <span data-ttu-id="c0716-207">ตั้งค่าฟิลด์ **รูปแบบข้อมูลต้นทาง** เป็น **XML-Element**</span><span class="sxs-lookup"><span data-stu-id="c0716-207">Set the **Source data format** field to **XML-Element**.</span></span>
5.  <span data-ttu-id="c0716-208">ตั้งค่าฟิลด์ **ชื่อเอนทิตี้** เป็น **ใบแจ้งยอดจากธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-208">Set the **Entity name** field to **Bank statements**.</span></span>
6.  <span data-ttu-id="c0716-209">เมื่อต้องการอัพโหลดไฟล์ที่นำเข้า คลิก **อัพโหลด**และจากนั้น เรียกดูเพื่อเลือกไฟล์ **SampleBankCompositeEntity.xml** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-209">To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.</span></span>
7.  <span data-ttu-id="c0716-210">หลังจากเอนทิตีใบแจ้งยอดจากธนาคารถูกอัพโหลดและการแม็ปเสร็จสมบูรณ์ คลิกการดำเนินการ **ดูแผนที่** สำหรับเอนทิตี</span><span class="sxs-lookup"><span data-stu-id="c0716-210">After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.</span></span>
8.  <span data-ttu-id="c0716-211">เอนทิตีใบแจ้งยอดจากธนาคารเป็นเอนทิตี้โดยรวมที่ประกอบด้วยเอนทิตี้ที่แยกต่างหากสี่รายการ</span><span class="sxs-lookup"><span data-stu-id="c0716-211">The Bank statements entity is a composite entity that consists of four separate entities.</span></span> <span data-ttu-id="c0716-212">ในรายการ เลือก **BankStatementDocumentEntity** แล้วคลิกการดำเนินการ **ดูแผนที่**</span><span class="sxs-lookup"><span data-stu-id="c0716-212">In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.</span></span>
9.  <span data-ttu-id="c0716-213">บนแท็บ **การแปลงข้อมูล** คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-213">On the **Transformations** tab, click **New**.</span></span>
10. <span data-ttu-id="c0716-214">สำหรับหมายเลขลำดับ 1 คลิก **อัพโหลดไฟล์**และเลือกไฟล์**BAI2CSV-to-BAI2XML.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-214">For sequence number 1, click **Upload file**, and select the **BAI2CSV-to-BAI2XML.xslt** file that you saved earlier.</span></span>
11. <span data-ttu-id="c0716-215">คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-215">Click **New**.</span></span>
12. <span data-ttu-id="c0716-216">สำหรับหมายเลขลำดับ 2 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **BAI2XML Reconciliation.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-216">For sequence number 2, click **Upload file**, and select the **BAI2XML-to-Reconciliation.xslt** file that you saved earlier.</span></span> <span data-ttu-id="c0716-217">**หมายเหตุ:** ไฟล์การแปลงข้อมูล Finance and Operations ถูกสร้างขึ้นสำหรับรูปแบบมาตรฐาน</span><span class="sxs-lookup"><span data-stu-id="c0716-217">**Note:** Finance and Operations transformation files are built for the standard format.</span></span> <span data-ttu-id="c0716-218">เนื่องจากธนาคารมักแตกต่างจากรูปแบบนี้ และคุณอาจต้องปรับปรุงไฟล์การแปลงเพื่อแมปไปยังรูปแบบใบแจ้งยอดจากธนาคารของคุณ</span><span class="sxs-lookup"><span data-stu-id="c0716-218">Because banks often diverge from this format, and you may have to update the transformation file to map to your bank statement format.</span></span> <!--- For details about the expected format for BAI2, see [Dynamics AX BAI2 Layout](./media/dynamicsaxbai2layout1.xlsx).-->
13. <span data-ttu-id="c0716-219">คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-219">Click **New**.</span></span>
14. <span data-ttu-id="c0716-220">สำหรับหมายเลขลำดับ 3 คลิก **อัพโหลดไฟล์**และเลือกไฟล์ **BankReconciliation-to-Composite.xslt** ที่คุณบันทึกไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="c0716-220">For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.</span></span>
15. <span data-ttu-id="c0716-221">คลิก **ใช้การแปลง**</span><span class="sxs-lookup"><span data-stu-id="c0716-221">Click **Apply transforms**.</span></span>

<span data-ttu-id="c0716-222">หลังจากกลุ่มการประมวลผลรูปแบบถูกตั้งค่าไว้ ขั้นตอนต่อไปคือการกำหนดกฎรูปแบบใบแจ้งยอดจากธนาคารสำหรับใบแจ้งยอดจากธนาคาร BAI2</span><span class="sxs-lookup"><span data-stu-id="c0716-222">After the format processing group is set up, the next step is to define the bank statement format rules for BAI2 bank statements.</span></span>

1.  <span data-ttu-id="c0716-223">ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **การตั้งค่า** &gt; **การตั้งค่าการกระทบยอดบัญชีธนาคารขั้นสูง** &gt; **รูปแบบใบแจ้งยอดจากธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-223">Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.</span></span>
2.  <span data-ttu-id="c0716-224">คลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="c0716-224">Click **New**.</span></span>
3.  <span data-ttu-id="c0716-225">ระบุรูปแบบใบแจ้งยอด เช่น **BAI2**</span><span class="sxs-lookup"><span data-stu-id="c0716-225">Specify a statement format, such as **BAI2**.</span></span>
4.  <span data-ttu-id="c0716-226">ป้อนชื่อสำหรับรูปแบบ</span><span class="sxs-lookup"><span data-stu-id="c0716-226">Enter a name for the format.</span></span>
5.  <span data-ttu-id="c0716-227">ตั้งค่าฟิลด์ **กลุ่มการประมวลผล** ไปยังกลุ่มที่คุณกำหนดไว้ก่อนหน้านี้ เช่น **BAI2**</span><span class="sxs-lookup"><span data-stu-id="c0716-227">Set the **Processing group** field to the group that you defined earlier, such as **BAI2**.</span></span>
6.  <span data-ttu-id="c0716-228">ตั้งค่าฟิลด์ **ชนิดไฟล์** เป็น **txt**</span><span class="sxs-lookup"><span data-stu-id="c0716-228">Set the **File type** field to **txt**.</span></span>

<span data-ttu-id="c0716-229">ขั้นตอนสุดท้ายคือการเปิดใช้งานการกระทบยอดบัญชีธนาคารขั้นสูงและการตั้งค่ารูปแบบใบแจ้งยอดบัญชีธนาคาร</span><span class="sxs-lookup"><span data-stu-id="c0716-229">The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.</span></span>

1.  <span data-ttu-id="c0716-230">ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **บัญชีธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-230">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="c0716-231">เลือกบัญชีธนาคาร และเปิดขึ้นเพื่อดูรายละเอียด</span><span class="sxs-lookup"><span data-stu-id="c0716-231">Select the bank account, and open it to view the details.</span></span>
3.  <span data-ttu-id="c0716-232">ในแท็บ **การกระทบยอด** ตั้งค่าตัวเลือก **การกระทบยอดบัญชีธนาคารขั้นสูง**เป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="c0716-232">On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.</span></span>
4.  <span data-ttu-id="c0716-233">เมื่อระบบขอให้คุณยืนยันการเลือกของคุณ และเปิดใช้งานการกระทบยอดธนาคารขั้นสูง คลิก **ตกลง**</span><span class="sxs-lookup"><span data-stu-id="c0716-233">When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**.</span></span>
5.  <span data-ttu-id="c0716-234">ตั้งค่าฟิลด์ **รูปแบบบแจ้งยอด** เป็นรูปแบบที่คุณสร้างไว้ก่อนหน้านี้ เช่น **BAI2**</span><span class="sxs-lookup"><span data-stu-id="c0716-234">Set the **Statement format** field to the format that you created earlier, such as **BAI2**.</span></span>

## <a name="test-the-bank-statement-import"></a><span data-ttu-id="c0716-235">ทดสอบการนำเข้าไฟล์ใบแจ้งยอดจากธนาคาร</span><span class="sxs-lookup"><span data-stu-id="c0716-235">Test the bank statement import</span></span>
<span data-ttu-id="c0716-236">ขั้นตอนสุดท้ายคือการทดสอบว่าคุณสามารถนำเข้าใบแจ้งยอดจากธนาคารของคุณ</span><span class="sxs-lookup"><span data-stu-id="c0716-236">The final step is to test that you can import your bank statement.</span></span>

1.  <span data-ttu-id="c0716-237">ไปที่ **การจัดการเงินสดและธนาคาร** &gt; **บัญชีธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-237">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="c0716-238">เลือกบัญชีธนาคารที่เปิดใช้งานฟังก์ชันการกระทบยอดบัญชีธนาคารขั้นสูง</span><span class="sxs-lookup"><span data-stu-id="c0716-238">Select the bank account that Advanced bank reconciliation functionality is enabled for.</span></span>
3.  <span data-ttu-id="c0716-239">ในแท็บ **การกระทบยอด** คลิก **ใบแจ้งยอดจากธนาคาร**</span><span class="sxs-lookup"><span data-stu-id="c0716-239">On the **Reconcile** tab, click **Bank statements**.</span></span>
4.  <span data-ttu-id="c0716-240">ในหน้า **ใบแจ้งยอดจากธนาคาร** คลิก **นำเข้าใบแจ้งยอด**</span><span class="sxs-lookup"><span data-stu-id="c0716-240">On the **Bank statement** page, click **Import statement**.</span></span>
5.  <span data-ttu-id="c0716-241">ตั้งค่าฟิลด์ **บัญชีธนาคาร** เป็นบัญชีธนาคารที่เลือก</span><span class="sxs-lookup"><span data-stu-id="c0716-241">Set the **Bank account** field to the selected bank account.</span></span> <span data-ttu-id="c0716-242">ฟิลด์ **รูปแบบใบแจ้งยอด** จะถูกตั้งค่าโดยอัตโนมัติตามข้อมูลการตั้งค่าในบัญชีธนาคาร</span><span class="sxs-lookup"><span data-stu-id="c0716-242">The **Statement format** field will be set automatically, based on the setting on the bank account.</span></span>
6.  <span data-ttu-id="c0716-243">คลิก **เรียกดู** และเลือกไฟล์ใบแจ้งยอดจากธนาคารอิเล็กทรอนิกส์</span><span class="sxs-lookup"><span data-stu-id="c0716-243">Click **Browse**, and select your electronic bank statement file.</span></span>
7.  <span data-ttu-id="c0716-244">คลิก **อัพโหลด**</span><span class="sxs-lookup"><span data-stu-id="c0716-244">Click **Upload**.</span></span>
8.  <span data-ttu-id="c0716-245">คลิก **ตกลง** ระบบจะนำเข้าข้อมูลการชำระเงิน</span><span class="sxs-lookup"><span data-stu-id="c0716-245">Click **OK**.</span></span>

<span data-ttu-id="c0716-246">ถ้าการนำเข้าเสร็จเรียบร้อยแล้ว คุณจะได้รับข้อความที่แจ้งว่ามีการนำเข้าใบแจ้งยอดของคุณ</span><span class="sxs-lookup"><span data-stu-id="c0716-246">If the import is successful, you will receive a message that states that your statement was imported.</span></span> <span data-ttu-id="c0716-247">ถ้าการนำเข้าล้มเหลว ในพื้นที่ทำงาน **การจัดการข้อมูล** ในส่วน **ประวัติงาน** ค้นหางาน</span><span class="sxs-lookup"><span data-stu-id="c0716-247">If the import wasn't successful, in the **Data management** workspace, in the **Job history** section, find the job.</span></span> <span data-ttu-id="c0716-248">คลิก **รายละเอียดการดำเนินการ** สำหรับงานเพื่อเปิดหน้า **สรุปการดำเนินการ** และจากนั้น คลิก **ดูล็อกการดำเนินการ** เพื่อดูข้อผิดพลาดการนำเข้า</span><span class="sxs-lookup"><span data-stu-id="c0716-248">Click **Execution details** for the job to open the **Execution summary** page, and then click **View execution log** to view the import errors.</span></span>




