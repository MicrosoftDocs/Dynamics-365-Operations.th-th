---
title: สร้างการตั้งค่าคอนฟิกที่จำเป็นต้องใช้เพื่อนำเข้าข้อมูลจากไฟล์ภายนอกของ ER
description: ขั้นตอนต่อไปนี้อธิบายวิธีที่ผู้ใช้ในบทบาทผู้ดูแลระบบหรือนักพัฒนาการรายงานทางอิเล็กทรอนิกส์สามารถออกแบบการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) ที่จะนำเข้าข้อมูลลงในแอพลิเคชัน Dynamics 365 for Finance and Operations , Enterprise Edition จากไฟล์ภายนอก
author: NickSelin
manager: AnnBe
ms.date: 08/29/2018
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: DefaultDashboard, ERWorkspace, ERSolutionTable, ERDataModelDesigner, ERSolutionCreateDropDialog, EROperationDesigner, ERModelMappingTable, ERModelMappingDesigner, ERExpressionDesignerFormula, Tax1099Summary, VendSettlementTax1099
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 6675f35c9ec163a620e63af32ecdbff02197d3c3
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 05/15/2019
ms.locfileid: "1551195"
---
# <a name="er-create-required-configurations-to-import-data-from-an-external-file"></a><span data-ttu-id="6d6c1-103">สร้างการตั้งค่าคอนฟิกที่จำเป็นต้องใช้เพื่อนำเข้าข้อมูลจากไฟล์ภายนอกของ ER</span><span class="sxs-lookup"><span data-stu-id="6d6c1-103">ER Create required configurations to import data from an external file</span></span>

[!include [task guide banner](../../includes/task-guide-banner.md)]

<span data-ttu-id="6d6c1-104">ขั้นตอนต่อไปนี้อธิบายวิธีที่ผู้ใช้ในบทบาทผู้ดูแลระบบหรือนักพัฒนาการรายงานทางอิเล็กทรอนิกส์สามารถออกแบบการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) ที่จะนำเข้าข้อมูลลงในแอพลิเคชัน Dynamics 365 for Finance and Operations , Enterprise Edition จากไฟล์ภายนอก</span><span class="sxs-lookup"><span data-stu-id="6d6c1-104">The following steps explain how a user in the System administrator or Electronic reporting developer role can design Electronic reporting (ER) configurations to import data in to the Dynamics 365 for Finance and Operations, Enterprise edition application from an external file.</span></span> <span data-ttu-id="6d6c1-105">ในตัวอย่างนี้ คุณจะสร้างการตั้งค่าคอนฟิก ER ที่จำเป็นสำหรับบริษัทตัวอย่าง Litware, Inc. เพื่อทำตามขั้นตอนเหล่านี้ อันดับแรกคุณต้องทำขั้นตอนในคู่มืองาน "สร้างผู้ให้บริการการตั้งค่าคอนฟิก และทำเครื่องหมายว่าใช้งานอยู่ของ ER" ให้เสร็จเรียบร้อยก่อน</span><span class="sxs-lookup"><span data-stu-id="6d6c1-105">In this example, you will create the required ER configurations for the sample company, Litware, Inc. To complete these steps, you must first complete the steps in the Task guide, “ER Create a configuration provider and mark it as active.”</span></span> <span data-ttu-id="6d6c1-106">ขั้นตอนเหล่านี้สามารถเสร็จสมบูรณ์ได้โดยใช้ชุดข้อมูล USMF</span><span class="sxs-lookup"><span data-stu-id="6d6c1-106">These steps can be completed using the USMF data set.</span></span> <span data-ttu-id="6d6c1-107">นอกจากนี้คุณจะต้องดาวน์โหลดและบันทึกไฟล์ต่อไปนี้ในเครื่อง โดยใช้ลิงค์จากหัวข้อภาพรวมการรายงานทางอิเล็กทรอนิกส์ (https://go.microsoft.com/fwlink/?linkid=852550): 1099model.xml, 1099format.xml, 1099entries.xml, 1099entries.xlsx</span><span class="sxs-lookup"><span data-stu-id="6d6c1-107">You must also download and save the following files locally using links from the Electronic reporting overview topic (https://go.microsoft.com/fwlink/?linkid=852550): 1099model.xml, 1099format.xml, 1099entries.xml, 1099entries.xlsx.</span></span>

    * <span data-ttu-id="6d6c1-108">ER ทำให้ผู้ใช้ทางธุรกิจสามารถตั้งค่าคอนฟิกกระบวนการนำเข้าไฟล์ข้อมูลภายนอกไปยังตารางใน Dynamics 365 for Finance and Operations, Enterprise Edition ในรูปแบบ .XML หรือ .TXT อย่างใดอย่างหนึ่ง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-108">ER offers business users the ability to configure the process of importing external data files to tables in Dynamics 365 for Finance and Operations, Enterprise edition in either .XML or .TXT format.</span></span> <span data-ttu-id="6d6c1-109">ก่อนอื่น การตั้งค่าคอนฟิกแบบจำลองข้อมูลนามธรรมและแบบจำลองข้อมูล ER ต้องได้รับการออกแบบเพื่อแสดงถึงข้อมูลที่คุณกำลังนำเข้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-109">First, an abstract data model and an ER data model configuration must be designed to represent the data that you are importing.</span></span> <span data-ttu-id="6d6c1-110">ถัดไป คุณต้องกำหนดโครงสร้างของไฟล์ที่คุณกำลังนำเข้าและวิธีการที่คุณจะใช้เพื่อนำข้อมูลจากไฟล์ไปยังแบบจำลองข้อมูลนามธรรม</span><span class="sxs-lookup"><span data-stu-id="6d6c1-110">Next, you need to define the structure of the file that you are importing and the method that you will use to port the data from the file to the abstract data model.</span></span> <span data-ttu-id="6d6c1-111">ต้องสร้างการตั้งค่าคอนฟิกรูปแบบ ER ที่แม็ปไปยังแบบจำลองข้อมูลที่ได้รับการออกแบบมาสำหรับแบบจำลองข้อมูลนามธรรมนั้น</span><span class="sxs-lookup"><span data-stu-id="6d6c1-111">The ER format configuration that maps to the designed data model must be created for that abstract data model.</span></span> <span data-ttu-id="6d6c1-112">จากนั้น ต้องขยายการตั้งค่าคอนฟิกแบบจำลองข้อมูลด้วยการแม็ปที่อธิบายว่า ข้อมูลที่นำเข้าจะยังคงเป็นแบบจำลองข้อมูลนามธรรมได้อย่างไร และถูกใช้เพื่ออัพเดตตารางใน Dynamics 365 for Finance and Operations, Enterprise Edition อย่างไร</span><span class="sxs-lookup"><span data-stu-id="6d6c1-112">Then, the data model configuration must be extended with a mapping that describes how the imported data is persisted as abstract data model data and how it is used to update tables in Dynamics 365 for Finance and Operations, Enterprise edition.</span></span>  <span data-ttu-id="6d6c1-113">การตั้งค่าคอนฟิกแบบจำลองข้อมูล ER จะต้องผนวกกับการแม็ปแบบจำลองใหม่ที่อธิบายการเชื่อมโยงข้อมูลของแบบจำลองข้อมูลไปยังปลายทางของแอพลิเคชัน</span><span class="sxs-lookup"><span data-stu-id="6d6c1-113">The ER data model configuration must be appended with a new model mapping that describes the binding of the data model to the application’s destinations.</span></span>  
    * <span data-ttu-id="6d6c1-114">สถานการณ์จำลองต่อไปนี้แสดงความสามารถในการนำเข้าข้อมูล ER</span><span class="sxs-lookup"><span data-stu-id="6d6c1-114">The following scenario shows the ER data import capabilities.</span></span> <span data-ttu-id="6d6c1-115">ซึ่งรวมถึงธุรกรรมผู้จัดจำหน่ายที่มีการติดตามจากภายนอก และจากนั้นถูกนำเข้าไปยัง Dynamics 365 for Finance and Operations, Enterprise Edition เพื่อที่จะรายงานในภายหลังในการชำระเงินของผู้จัดจำหน่ายสำหรับ 1099</span><span class="sxs-lookup"><span data-stu-id="6d6c1-115">This includes vendor transactions that are tracked externally and then imported in to Dynamics 365 for Finance and Operations, Enterprise edition to be reported later in Vendor’s settlement for 1099’s.</span></span>   

## <a name="add-a-new-er-model-configuration"></a><span data-ttu-id="6d6c1-116">เพิ่มการตั้งค่าคอนฟิกแบบจำลองของ ER ใหม่</span><span class="sxs-lookup"><span data-stu-id="6d6c1-116">Add a new ER model configuration</span></span>
1. <span data-ttu-id="6d6c1-117">ไปที่การจัดการองค์กร > พื้นที่ทำงาน > การรายงานทางอิเล็กทรอนิกส์</span><span class="sxs-lookup"><span data-stu-id="6d6c1-117">Go to Organization administration > Workspaces > Electronic reporting.</span></span>
    * <span data-ttu-id="6d6c1-118">ตรวจสอบว่าผู้ให้บริการการตั้งค่าคอนฟิกสำหรับบริษัทตัวอย่าง 'Litware, Inc.'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-118">Verify that the configuration provider for sample company ‘Litware, Inc.’</span></span> <span data-ttu-id="6d6c1-119">พร้อมใช้งาน และทำเครื่องหมายเป็นใช้งานอยู่</span><span class="sxs-lookup"><span data-stu-id="6d6c1-119">is available and marked as active.</span></span> <span data-ttu-id="6d6c1-120">ถ้าคุณไม่เห็นผู้ให้บริการการตั้งค่าคอนฟิกนี้ ก่อนอื่นคุณต้องดำเนินขั้นตอนต่างๆ ให้สำเร็จในกระบวนงาน "สร้างผู้ให้บริการการตั้งค่าคอนฟิก และทำเครื่องหมายเป็น ใช้งานอยู่"</span><span class="sxs-lookup"><span data-stu-id="6d6c1-120">If you don’t see this configuration provider, you must first complete the steps in the procedure, “Create a configuration provider and mark it as active.”</span></span>   
2. <span data-ttu-id="6d6c1-121">คลิก การตั้งค่าคอนฟิกการรายงาน</span><span class="sxs-lookup"><span data-stu-id="6d6c1-121">Click Reporting configurations.</span></span>
    * <span data-ttu-id="6d6c1-122">แทนที่จะสร้างแบบจำลองใหม่เพื่อสนับสนุนการนำเข้าข้อมูล ให้โหลดไฟล์ 1099model.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-122">Instead of creating of a new model to support data import, load the file, 1099model.xml, that you previously downloaded.</span></span> <span data-ttu-id="6d6c1-123">ไฟล์นี้ประกอบด้วยแบบจำลองข้อมูลที่กำหนดเองของธุรกรรมของผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="6d6c1-123">This file contains the custom data model of vendors’ transactions.</span></span> <span data-ttu-id="6d6c1-124">แบบจำลองข้อมูลนี้ถูกแม็ปไปยังส่วนประกอบของข้อมูล Dynamics 365 for Finance and Operations, Enterprise Edition ที่อยู่ในเอนทิตีข้อมูล AOT</span><span class="sxs-lookup"><span data-stu-id="6d6c1-124">This data model is mapped to the Dynamics 365 for Finance and Operations, Enterprise edition data components that are in the AOT data entity.</span></span>   
3. <span data-ttu-id="6d6c1-125">คลิก แลกเปลี่ยน</span><span class="sxs-lookup"><span data-stu-id="6d6c1-125">Click Exchange.</span></span>
4. <span data-ttu-id="6d6c1-126">คลิก โหลดจากไฟล์ XML</span><span class="sxs-lookup"><span data-stu-id="6d6c1-126">Click Load from XML file.</span></span>
    * <span data-ttu-id="6d6c1-127">คลิก เรียกดู และนำทางไปยังไฟล์ 1099model.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-127">Click Browse and navigate to the 1099model.xml file that you previously downloaded.</span></span>  
5. <span data-ttu-id="6d6c1-128">คลิก ตกลง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-128">Click OK.</span></span>
6. <span data-ttu-id="6d6c1-129">ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-129">In the tree, select '1099 Payments model'.</span></span>

## <a name="review-data-model-settings"></a><span data-ttu-id="6d6c1-130">ตรวจทานการตั้งค่าแบบจำลองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-130">Review data model settings</span></span>
1. <span data-ttu-id="6d6c1-131">คลิก ตัวออกแบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-131">Click Designer.</span></span>
    * <span data-ttu-id="6d6c1-132">แบบจำลองนี้ได้รับการออกแบบมาเพื่อแสดงธุรกรรมของผู้จัดจำหน่ายจากจุดยืนทางธุรกิจ และจะแยกจากการใช้งานใน Dynamics 365 for Finance and Operations, Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="6d6c1-132">This model is designed to represent vendors’ transactions from the business standpoint and are separate from the implementation in Dynamics 365 for Finance and Operations, Enterprise edition.</span></span>   
2. <span data-ttu-id="6d6c1-133">ในแผนภูมิ ขยาย '1099-MISC'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-133">In the tree, expand '1099-MISC'.</span></span>
3. <span data-ttu-id="6d6c1-134">ในแผนภูมิ ให้เลือก '1099-MISC\ธุรกรรม'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-134">In the tree, select '1099-MISC\Transactions'.</span></span>
4. <span data-ttu-id="6d6c1-135">ในแผนภูมิ ขยาย '1099-MISC\ธุรกรรม'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-135">In the tree, expand '1099-MISC\Transactions'.</span></span>
    * <span data-ttu-id="6d6c1-136">ธุรกรรมองค์ประกอบของแบบจำลองนี้แสดงถึงธุรกรรมแต่ละรายการ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-136">The Transactions element of this model represents individual transactions.</span></span> <span data-ttu-id="6d6c1-137">องค์ประกอบย่อยจะใช้เพื่อระบุรายละเอียดที่จำเป็น เช่น บัญชีผู้จัดจำหน่ายและวันที่ของธุรกรรม สำหรับแต่ละธุรกรรม</span><span class="sxs-lookup"><span data-stu-id="6d6c1-137">The child elements are used to specify required details, such as vendor account and transaction date, for each transaction.</span></span>   
5. <span data-ttu-id="6d6c1-138">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-138">Close the page.</span></span>

## <a name="add-a-new-er-format-configuration-that-supports-data-import"></a><span data-ttu-id="6d6c1-139">เพิ่มการตั้งค่าคอนฟิกรูปแบบของ ER ใหม่ที่สนับสนุนการนำเข้าข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-139">Add a new ER format configuration that supports data import</span></span>
    * <span data-ttu-id="6d6c1-140">ขั้นตอนต่างๆ ในงานย่อยนี้แสดงวิธีการสร้างการตั้งค่าคอนฟิกรูปแบบใหม่เพื่อจัดการการนำเข้าข้อมูลจากไฟล์ภายนอก</span><span class="sxs-lookup"><span data-stu-id="6d6c1-140">The steps in this subtask show you how a new format configuration can be created to manage data import from external files.</span></span>   
1. <span data-ttu-id="6d6c1-141">คลิก สร้างการตั้งค่าคอนฟิก เพื่อเปิดกล่องโต้ตอบการวาง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-141">Click Create configuration to open the drop dialog.</span></span>
2. <span data-ttu-id="6d6c1-142">ในฟิลด์ใหม่ ป้อน 'จัดรูปแบบตามแบบจำลองข้อมูล แบบจำลองการชำระเงิน 1099'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-142">In the New field, enter 'Format based on data model 1099 Payments model'.</span></span>
3. <span data-ttu-id="6d6c1-143">เลือก ใช่ ในฟิลด์สนับสนุนการนำเข้าข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-143">Select Yes in the Supports data import field.</span></span>
4. <span data-ttu-id="6d6c1-144">กดแป้น ESC เพื่อปิดหน้านี้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-144">Press ESC key to close this page.</span></span>
    * <span data-ttu-id="6d6c1-145">แทนที่จะสร้างรูปแบบใหม่เพื่อสนับสนุนการนำเข้าข้อมูล ให้โหลดไฟล์ 1099format.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-145">Instead of creating a new format to support data import, load the 1099format.xml file that you previously downloaded.</span></span> <span data-ttu-id="6d6c1-146">ไฟล์นี้ประกอบด้วยโครงสร้างของไฟล์ที่กำหนดที่คุณกำลังนำเข้า และการแม็ปของโครงสร้างไปยังแบบจำลองข้อมูลที่กำหนดเองของธุรกรรมของผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="6d6c1-146">This file contains the defined structure of the file you are importing and the mapping of the structure to the custom data model of vendors’ transactions.</span></span>   
5. <span data-ttu-id="6d6c1-147">คลิก แลกเปลี่ยน</span><span class="sxs-lookup"><span data-stu-id="6d6c1-147">Click Exchange.</span></span>
6. <span data-ttu-id="6d6c1-148">คลิก โหลดจากไฟล์ XML</span><span class="sxs-lookup"><span data-stu-id="6d6c1-148">Click Load from XML file.</span></span>
    * <span data-ttu-id="6d6c1-149">คลิก เรียกดู และนำทางไปยังไฟล์ 1099format.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-149">Click Browse and navigate to the 1099format.xml file that you previously downloaded.</span></span>  
7. <span data-ttu-id="6d6c1-150">คลิก ตกลง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-150">Click OK.</span></span>
8. <span data-ttu-id="6d6c1-151">ในแผนภูมิ ขยาย 'แบบจำลองการชำระเงิน 1099'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-151">In the tree, expand '1099 Payments model'.</span></span>
9. <span data-ttu-id="6d6c1-152">ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099\รูปแบบสำหรับนำเข้าธุรกรรมชองผู้จัดจำหน่าย'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-152">In the tree, select '1099 Payments model\Format for importing vendors' transactions'.</span></span>

## <a name="review-format-settings"></a><span data-ttu-id="6d6c1-153">ตรวจทานการตั้งค่ารูปแบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-153">Review format settings</span></span>
1. <span data-ttu-id="6d6c1-154">คลิก ตัวออกแบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-154">Click Designer.</span></span>
2. <span data-ttu-id="6d6c1-155">เปิด 'แสดงรายละเอียด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-155">Toggle 'Show details' on.</span></span>
3. <span data-ttu-id="6d6c1-156">คลิก ขยาย/ยุบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-156">Click Expand/collapse.</span></span>
4. <span data-ttu-id="6d6c1-157">คลิก ขยาย/ยุบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-157">Click Expand/collapse.</span></span>
    * <span data-ttu-id="6d6c1-158">รูปแบบที่ได้รับการออกแบบแสดงถึงโครงสร้างของไฟล์ภายนอกที่คาดไว้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-158">The designed format represents the expected structure of the external file.</span></span> <span data-ttu-id="6d6c1-159">ไฟล์นี้ต้องอยู่ในรูปแบบ XML และมีองค์ประกอบรากของการชำระเงิน</span><span class="sxs-lookup"><span data-stu-id="6d6c1-159">This file must be in XML format and have the settlement root element.</span></span> <span data-ttu-id="6d6c1-160">ธุรกรรมของผู้จัดจำหน่ายแต่ละรายการจะแสดงโดยองค์ประกอบของธุรกรรมที่มีกำหนดว่ามีความหลากหลายตั้งแต่ศูนย์ถึงหลายระดับ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-160">Each vendor’s transaction is represented by the transaction element that is defined as having zero-to-many multiplicity.</span></span> <span data-ttu-id="6d6c1-161">ซึ่งหมายความว่าไฟล์ขาเข้าอาจประกอบด้วยธุรกรรมศูนย์รายการจนถึงหลายรายการ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-161">This means that the incoming file may contain anywhere from zero to multiple transactions.</span></span> <span data-ttu-id="6d6c1-162">องค์ประกอบที่ซ้อนกันขององค์ประกอบ 'ธุรกรรม' แสดงถึงแอททริบิวต์ของธุรกรรมเดียว</span><span class="sxs-lookup"><span data-stu-id="6d6c1-162">Nested elements of the ‘transaction’ element represent a single transaction’s attributes.</span></span> <span data-ttu-id="6d6c1-163">โปรดทราบว่าแอททริบิวต์ทั้งหมด ยกเว้นประเทศ ถูกทำเครื่องหมายเป็นบังคับ ซึ่งหมายความว่าจำเป็นต้องมีรายการเหล่านั้นในไฟล์นำเข้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-163">Note that all attributes, except country, are marked as mandatory, meaning that it is required to have them in the importing file.</span></span>   

## <a name="review-the-settings-of-the-format-mapping-to-the-data-model"></a><span data-ttu-id="6d6c1-164">ตรวจทานการตั้งค่าการแม็ปรูปแบบไปยังแบบจำลองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-164">Review the settings of the format mapping to the data model</span></span>
1. <span data-ttu-id="6d6c1-165">คลิก แม็ปรูปแบบไปยังแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-165">Click Map format to model.</span></span>
    * <span data-ttu-id="6d6c1-166">การแม็ป 'สำหรับการนำเข้าธุรกรรมของผู้จัดจำหน่าย' ประกอบด้วยกฎการโอนย้ายข้อมูลจากไฟล์ XML ขาเข้าไปยังส่วนที่เลือกของแบบจำลองข้อมูลที่กำหนดเอง ซึ่งกำหนดโดยการเลือกคำนิยาม 1099-MISC</span><span class="sxs-lookup"><span data-stu-id="6d6c1-166">The mapping ‘For importing vendors' transactions’ contains the data transfer rules from the incoming XML file to the selected part of the custom data model, which is defined by selecting the1099-MISC definition.</span></span>  
2. <span data-ttu-id="6d6c1-167">คลิก ตัวออกแบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-167">Click Designer.</span></span>
3. <span data-ttu-id="6d6c1-168">เปิด 'แสดงรายละเอียด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-168">Toggle 'Show details' on.</span></span>
4. <span data-ttu-id="6d6c1-169">ในแผนภูมิ ขยาย 'รูปแบบ: เรกคอร์ด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-169">In the tree, expand 'format: Record'.</span></span>
5. <span data-ttu-id="6d6c1-170">ในแผนภูมิ ให้เลือก 'รูปแบบ: เรกคอร์ด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-170">In the tree, select 'format: Record'.</span></span>
    * <span data-ttu-id="6d6c1-171">โปรดทราบว่ารูปแบบที่ได้รับการออกแบบมาจะแสดงอยู่ที่นี่โดยเป็นส่วนประกอบของแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-171">Note that the designed format is presented here as a data source component.</span></span>  
6. <span data-ttu-id="6d6c1-172">ในแผนภูมิ ขยาย 'รูปแบบ: เรกคอร์ด\*การชำระเงิน: องค์ประกอบ XML 1..1 (การชำระเงิน): เรกคอร์ด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-172">In the tree, expand 'format: Record\*settlement: XML Element 1..1 (settlement): Record'.</span></span>
7. <span data-ttu-id="6d6c1-173">ในแผนภูมิ ขยาย 'รูปแบบ: เรกคอร์ด\*การชำระเงิน: องค์ประกอบ XML 1..1 (การชำระเงิน): เรกคอร์ด\ธุรกรรม: องค์ประกอบ XML 0..\* (ธุรกรรม): รายการเรกคอร์ด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-173">In the tree, expand 'format: Record\*settlement: XML Element 1..1 (settlement): Record\transaction: XML Element 0..\* (transaction): Record list'.</span></span>
8. <span data-ttu-id="6d6c1-174">ในแผนภูมิ ขยาย 'รูปแบบ: เรกคอร์ด\*การชำระเงิน: องค์ประกอบ XML 1..1 (การชำระเงิน): เรกคอร์ด\ธุรกรรม: องค์ประกอบ XML 0..\* (ธุรกรรม): รายการเรกคอร์ด\*ผู้จัดจำหน่าย: องค์ประกอบ XML 1..1 (ผู้จัดจำหน่าย): เรกคอร์ด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-174">In the tree, expand 'format: Record\*settlement: XML Element 1..1 (settlement): Record\transaction: XML Element 0..\* (transaction): Record list\*vendor: XML Element 1..1 (vendor): Record'.</span></span>
9. <span data-ttu-id="6d6c1-175">ในแผนภูมิ ขยาย 'รูปแบบ: เรกคอร์ด\*การชำระเงิน: องค์ประกอบ XML 1..1 (การชำระเงิน): เรกคอร์ด\ธุรกรรม: องค์ประกอบ XML 0..\* (ธุรกรรม): รายการเรกคอร์ด\ประเทศ: องค์ประกอบ XML 0..1 (ประเทศ): เรกคอร์ด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-175">In the tree, expand 'format: Record\*settlement: XML Element 1..1 (settlement): Record\transaction: XML Element 0..\* (transaction): Record list\country: XML Element 0..1 (country): Record'.</span></span>
10. <span data-ttu-id="6d6c1-176">ในแผนภูมิ เลือก 'รูปแบบ: เรกคอร์ด\*การชำระเงิน: องค์ประกอบ XML 1..1 (การชำระเงิน): เรกคอร์ด\ธุรกรรม: องค์ประกอบ XML 0..\* (ธุรกรรม): รายการเรกคอร์ด\*ผู้จัดจำหน่าย: องค์ประกอบ XML 1..1 (ผู้จัดจำหน่าย): เรกคอร์ด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-176">In the tree, select 'format: Record\*settlement: XML Element 1..1 (settlement): Record\transaction: XML Element 0..\* (transaction): Record list\*vendor: XML Element 1..1 (vendor): Record'.</span></span>
    * <span data-ttu-id="6d6c1-177">โปรดทราบว่าการแสดงองค์ประกอบรูปแบบที่บังคับและแบบไม่บังคับจะแตกต่างกันในส่วนประกอบของแหล่งข้อมูล 'รูปแบบ' ที่กำหนดไว้ล่วงหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-177">Note that the presentation of mandatory and optional format elements is different in the predefined ‘format’ data source component.</span></span>  
11. <span data-ttu-id="6d6c1-178">ในแผนภูมิ ขยาย 'ธุรกรรม: รายการเรกคอร์ด= รูปแบบ.การชำระเงิน.'$enumerated''</span><span class="sxs-lookup"><span data-stu-id="6d6c1-178">In the tree, expand 'Transactions: Record list= format.settlement.'$enumerated''.</span></span>
    * <span data-ttu-id="6d6c1-179">โปรดทราบว่าองค์ประกอบของรูปแบบที่กำหนดโครงสร้างของไฟล์นำเข้าจะถูกเชื่อมโยงข้อมูลกับองค์ประกอบของแบบจำลองข้อมูลที่กำหนดเอง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-179">Note that the elements of the format that defines the structure of the imported file are bound to the elements of the custom data model.</span></span> <span data-ttu-id="6d6c1-180">เนื้อหาของไฟล์ XML ที่นำเข้าจะถูกจัดเก็บขณะรันไทม์ในแบบจำลองข้อมูลที่มีอยู่โดยขึ้นอยู่กับการเชื่อมโยงข้อมูลเหล่านี้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-180">Based on these bindings, the content of the imported XML file will be stored at run-time in the existing data model.</span></span> <span data-ttu-id="6d6c1-181">ให้ความสำคัญกับการเชื่อมโยงข้อมูลขององค์ประกอบประเทศ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-181">Pay attention to the binding of the country element.</span></span> <span data-ttu-id="6d6c1-182">สำหรับองค์ประกอบของธุรกรรมใดๆ ในไฟล์ขาเข้าที่ไม่มีองค์ประกอบดังกล่าว ระบบจะเติมข้อมูลรหัสประเทศเริ่มต้น 'USA' ในแบบจำลองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-182">For any transaction element in the incoming file that has no such element, the default country code ‘USA’ will be populated in the data model.</span></span>  
12. <span data-ttu-id="6d6c1-183">คลิกแท็บ การตรวจสอบความถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-183">Click the Validations tab.</span></span>
    * <span data-ttu-id="6d6c1-184">การแม็ปรูปแบบนี้อาจประกอบด้วยตรรกะที่ผู้ใช้กำหนดเพื่อตรวจสอบความถูกต้องของข้อมูลที่นำเข้าจากจุดยืนทางธุรกิจ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-184">This format mapping may contain user-defined logic to validate the accuracy of the imported data from a business standpoint.</span></span> <span data-ttu-id="6d6c1-185">ตัวอย่างเช่น สำหรับธุรกรรมใดๆ ในไฟล์นำเข้าที่ไม่มีรหัสประเทศที่กำหนดไว้ ข้อความเตือนจะถูกสร้างขึ้นใน Infolog ซึ่งจะแจ้งผู้ใช้เกี่ยวกับกรณีและระบุหมายเลขลำดับของธุรกรรมนั้นๆ โดยขึ้นอยู่กับการตั้งค่า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-185">For example, based on the setting, for any transaction in the importing file without a defined country code, a warning message will be generated in the Infolog informing the user about the case and indicating the transaction’s sequence number.</span></span>  
13. <span data-ttu-id="6d6c1-186">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-186">Close the page.</span></span>

## <a name="run-the-format-mapping-to-the-data-model"></a><span data-ttu-id="6d6c1-187">รันการแม็ปรูปแบบไปยังแบบจำลองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-187">Run the format mapping to the data model</span></span>
    * <span data-ttu-id="6d6c1-188">ดำเนินการแม็ปรูปแบบนี้เพื่อทำการทดสอบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-188">Execute this format mapping for testing purposes.</span></span> <span data-ttu-id="6d6c1-189">ใช้ไฟล์ 1099entries.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-189">Use the file 1099entries.xml that you previously downloaded.</span></span> <span data-ttu-id="6d6c1-190">คุณสามารถส่งออกไฟล์นี้จากสมุดงาน 1099entries.xlsx ที่ใช้ในการจัดการธุรกรรมของผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="6d6c1-190">You can export this file from the 1099entries.xlsx workbook that is used to manage vendor transactions.</span></span> <span data-ttu-id="6d6c1-191">เอาท์พุทที่สร้างขึ้นจะถูกนำเข้าจากไฟล์ XML ที่เลือก และเติมข้อมูลแบบจำลองข้อมูลที่กำหนดเองในขณะที่นำเข้าจริง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-191">The generated output will be imported from the selected XML file and populate the custom data model at real import.</span></span>  
1. <span data-ttu-id="6d6c1-192">คลิก เรียกใช้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-192">Click Run.</span></span>
    * <span data-ttu-id="6d6c1-193">คลิก เรียกดู และนำทางไปยังไฟล์ 1099entries.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-193">Click Browse and navigate to the 1099entries.xml file that you previously downloaded.</span></span>  
2. <span data-ttu-id="6d6c1-194">คลิก ตกลง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-194">Click OK.</span></span>
    * <span data-ttu-id="6d6c1-195">สังเกตข้อความเตือนเกี่ยวกับรหัสประเทศที่ขาดหายไปสำหรับธุรกรรมในไฟล์ที่นำเข้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-195">Note the warning message about a missing country code for a transaction in the imported file.</span></span>  
    * <span data-ttu-id="6d6c1-196">ตรวจสอบเอาท์พุทในรูปแบบ XML ซึ่งแสดงข้อมูลที่นำเข้าจากไฟล์ที่เลือก และนำไปยังแบบจำลองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-196">Review the output in XML format, which represents the data that has been imported from the selected file and ported to the data model.</span></span>   
3. <span data-ttu-id="6d6c1-197">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-197">Close the page.</span></span>
4. <span data-ttu-id="6d6c1-198">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-198">Close the page.</span></span>

## <a name="review-the-settings-for-the-model-mapping-to-the-destinations"></a><span data-ttu-id="6d6c1-199">ตรวจทานการตั้งค่าสำหรับการแม็ปแบบจำลองไปยังปลายทาง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-199">Review the settings for the model mapping to the destinations</span></span>
1. <span data-ttu-id="6d6c1-200">ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-200">In the tree, select '1099 Payments model'.</span></span>
2. <span data-ttu-id="6d6c1-201">คลิก ตัวออกแบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-201">Click Designer.</span></span>
3. <span data-ttu-id="6d6c1-202">คลิก แม็ปแบบจำลองกับแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-202">Click Map model to datasource.</span></span>
    * <span data-ttu-id="6d6c1-203">การแม็ปสำหรับการนำเข้าธุรกรรมด้วยตนเอง 1099 ถูกกำหนดด้วยชนิดทิศทาง 'ไปยังปลายทาง'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-203">The mapping For 1099 manual transactions import has been defined with the To destination direction type.</span></span> <span data-ttu-id="6d6c1-204">ซึ่งหมายความว่ามีการป้อนเพื่อสนับสนุนการนำเข้าข้อมูล และประกอบด้วยการตั้งค่าของกฎที่กำหนดวิธีการใช้ไฟล์ภายนอกที่นำเข้า และข้อมูลแบบจำลองข้อมูลที่ยังคงเป็นนามธรรมเพื่ออัพเดตตารางในแอพลิเคชัน Dynamics 365 for Finance and Operations, Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="6d6c1-204">This means that it has been entered to support data import and contains the setting of rules defining how the imported external file and persisted as abstract data model data is used to update tables in the Dynamics 365 for Finance and Operations, Enterprise edition application.</span></span>  
4. <span data-ttu-id="6d6c1-205">คลิก ตัวออกแบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-205">Click Designer.</span></span>
5. <span data-ttu-id="6d6c1-206">ในแผนภูมิ ขยาย 'แบบจำลอง: แบบจำลองข้อมูล 1099 แบบจำลองการชำระเงิน'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-206">In the tree, expand 'model: Data model 1099 Payments model'.</span></span>
6. <span data-ttu-id="6d6c1-207">ในแผนภูมิ ขยาย 'แบบจำลอง: แบบจำลองข้อมูล 1099 แบบจำลองการชำระเงิน\ธุรกรรม: รายการเรกคอร์ด'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-207">In the tree, expand 'model: Data model 1099 Payments model\Transactions: Record list'.</span></span>
    * <span data-ttu-id="6d6c1-208">โปรดทราบว่าแบบจำลองที่ได้รับการออกแบบมาจะแสดงอยู่ที่นี่โดยเป็นองค์ประกอบของแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-208">Note that the designed model is presented here as a data source element.</span></span> <span data-ttu-id="6d6c1-209">ขณะรันไทม์ จะประกอบด้วยข้อมูลที่นำเข้าจากไฟล์ภายนอก</span><span class="sxs-lookup"><span data-stu-id="6d6c1-209">At runtime, it will contain the data that is imported from the external file.</span></span> <span data-ttu-id="6d6c1-210">ตารางหลายตารางถูกเพิ่มเป็นองค์ประกอบแหล่งข้อมูลเพื่อให้แน่ใจว่าข้อมูลที่นำเข้าสอดคล้องกับข้อมูลของแอพลิเคชันปัจจุบัน ซึ่งรวมทั้งว่า บัญชีผู้จัดจำหน่ายธุรกรรมการนำเข้าพร้อมใช้งานในระบบหรือไม่ มีชุดข้อมูลของรหัสประเทศและรัฐที่นำเข้าหรือไม่ ฯลฯ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-210">Several tables were added as data source elements to ensure that the imported data is compliant with the data of the current application, including whether the importing transaction vendor account is available in the system, whether the combination of the importing country and state codes exists, etc.</span></span>  
7. <span data-ttu-id="6d6c1-211">ในแผนภูมิ ให้เลือก 'แบบจำลอง: แบบจำลองข้อมูล 1099 แบบจำลองการชำระเงิน\ธุรกรรม: รายการเรกคอร์ด\$ล้มเหลว: ฟิลด์ที่คำนวณได้ = IF(OR(ISEMPTY(model.Transactions.'$refs'.vendor), ISEMPTY(model.Transactions.'$refs'.vendor1099), ISEMPTY(model.Transactions.'$refs'.box1099), ISEMPTY(model.Transactions.'$refs'.country), ISEMPTY(model.Transactions.'$refs'.state), ISEMPTY(model.Transactions.'$refs'.location)), true, false): Boolean'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-211">In the tree, select 'model: Data model 1099 Payments model\Transactions: Record list\$failed: Calculated field = IF(OR(ISEMPTY(model.Transactions.'$refs'.vendor), ISEMPTY(model.Transactions.'$refs'.vendor1099), ISEMPTY(model.Transactions.'$refs'.box1099), ISEMPTY(model.Transactions.'$refs'.country), ISEMPTY(model.Transactions.'$refs'.state), ISEMPTY(model.Transactions.'$refs'.location)), true, false): Boolean'.</span></span>
8. <span data-ttu-id="6d6c1-212">คลิก แก้ไข</span><span class="sxs-lookup"><span data-stu-id="6d6c1-212">Click Edit.</span></span>
9. <span data-ttu-id="6d6c1-213">คลิก แก้ไขสูตร</span><span class="sxs-lookup"><span data-stu-id="6d6c1-213">Click Edit formula.</span></span>
    * <span data-ttu-id="6d6c1-214">เมื่อการตรวจสอบอย่างน้อยหนึ่งรายการล้มเหลวสำหรับธุรกรรมเดี่ยวที่นำเข้า ธุรกรรมนี้จะถูกทำเครื่องหมายเป็นล้มเหลวโดยแอททริบิวต์แหล่งข้อมูล ‘$failed’</span><span class="sxs-lookup"><span data-stu-id="6d6c1-214">When at least one validation fails for a single imported transaction, this transaction will be marked as failed by the data source attribute ‘$failed’.</span></span>  
10. <span data-ttu-id="6d6c1-215">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-215">Close the page.</span></span>
11. <span data-ttu-id="6d6c1-216">คลิก ยกเลิก</span><span class="sxs-lookup"><span data-stu-id="6d6c1-216">Click Cancel.</span></span>
12. <span data-ttu-id="6d6c1-217">ในแผนภูมิ ให้เลือก 'tax1099trans: ตาราง 'VendSettlementTax1099' เรกคอร์ด= แบบจำลอง.ตรวจสอบแล้ว'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-217">In the tree, select 'tax1099trans: Table 'VendSettlementTax1099' records= model.Validated'.</span></span>
13. <span data-ttu-id="6d6c1-218">คลิก แก้ไขปลายทาง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-218">Click Edit destination.</span></span>
    * <span data-ttu-id="6d6c1-219">ระบบจะเพิ่มปลายทาง ER นี้เพื่อระบุวิธีการที่ข้อมูลที่นำเข้าจะอัพเดตตารางแอพลิเคชัน</span><span class="sxs-lookup"><span data-stu-id="6d6c1-219">This ER destination was added to specify how the imported data will update the application tables.</span></span> <span data-ttu-id="6d6c1-220">ในกรณีนี้ มีการเลือกตารางข้อมูล VendSettlementTax1099</span><span class="sxs-lookup"><span data-stu-id="6d6c1-220">In this case, the data table VendSettlementTax1099 has been selected.</span></span> <span data-ttu-id="6d6c1-221">เนื่องจากมีการเลือกการดำเนินการเรกคอร์ด 'แทรก' ธุรกรรมที่นำเข้าจะถูกแทรกลงในตาราง VendSettlementTax1099</span><span class="sxs-lookup"><span data-stu-id="6d6c1-221">Because the record action Insert has been selected, the imported transactions will be inserted in the table VendSettlementTax1099.</span></span> <span data-ttu-id="6d6c1-222">โปรดทราบว่าการแม็ปแบบจำลองเดียวอาจประกอบด้วยปลายทางหลายรายการ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-222">Note that a single model mapping may contain several destinations.</span></span> <span data-ttu-id="6d6c1-223">ซึ่งหมายความว่าสามารถใช้ข้อมูลที่นำเข้าในการอัพเดตตารางของแอพลิเคชันหลายรายการพร้อมกันได้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-223">This means that the imported data can be used to update multiple application’s tables at once.</span></span> <span data-ttu-id="6d6c1-224">สามารถใช้เอนทิตี ตาราง มุมมอง และข้อมูล เป็นปลายทาง ER ได้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-224">Tables, views, and data entities can be used as ER destinations.</span></span>   
    * <span data-ttu-id="6d6c1-225">ถ้าการแม็ปจะถูกเรียกจากจุดหนึ่งในแอพลิเคชัน Dynamics 365 for Finance and Operations, Enterprise Edition (เช่น ปุ่มหรือรายการเมนู) ที่ได้รับการออกแบบมาเฉพาะสำหรับการดำเนินการนี้ ปลายทาง ER ควรถูกทำเครื่องหมายเป็น จุดการรวม</span><span class="sxs-lookup"><span data-stu-id="6d6c1-225">If the mapping will be called from a point in the Dynamics 365 for Finance and Operations, Enterprise edition application (such as button or menu item) that was specifically designed for this action, the ER destination should be marked as the integration point.</span></span> <span data-ttu-id="6d6c1-226">ในตัวอย่าง นี้คือจุด ERTableDestination#VendSettlementTax1099</span><span class="sxs-lookup"><span data-stu-id="6d6c1-226">In this example this is the ERTableDestination#VendSettlementTax1099 point.</span></span>  
14. <span data-ttu-id="6d6c1-227">คลิก ยกเลิก</span><span class="sxs-lookup"><span data-stu-id="6d6c1-227">Click Cancel.</span></span>
15. <span data-ttu-id="6d6c1-228">คลิก แสดงทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="6d6c1-228">Click Show all.</span></span>
16. <span data-ttu-id="6d6c1-229">คลิก แสดงเฉพาะที่แม็ปเท่านั้น</span><span class="sxs-lookup"><span data-stu-id="6d6c1-229">Click Show mapped only.</span></span>
17. <span data-ttu-id="6d6c1-230">ในแผนภูมิ ขยาย 'tax1099trans: ตาราง 'VendSettlementTax1099' เรกคอร์ด= แบบจำลอง.ตรวจสอบแล้ว'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-230">In the tree, expand 'tax1099trans: Table 'VendSettlementTax1099' records= model.Validated'.</span></span>
    * <span data-ttu-id="6d6c1-231">โปรดทราบว่าองค์ประกอบแหล่งข้อมูลที่มีธุรกรรมที่ได้รับการตรวจสอบความถูกต้องแล้วเพียงอย่างเดียว จะถูกเชื่อมโยงข้อมูลไปยังปลายทางที่สร้างขึ้น</span><span class="sxs-lookup"><span data-stu-id="6d6c1-231">Note that the data source element that contains the only validated transactions is bound to the created destination.</span></span> <span data-ttu-id="6d6c1-232">คุณสามารถกรองธุรกรรมที่นำเข้าเพื่อข้ามรายการที่ไม่เข้ากันกับข้อมูลของแอพลิเคชันได้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-232">You can filter the imported transactions to skip the ones that are incompatible with the applications’ data.</span></span>  
18. <span data-ttu-id="6d6c1-233">ในแผนภูมิ ให้เลือก 'failed: ตาราง 'VendSettlementTax1099Entity' เรกคอร์ด= แบบจำลอง.ล้มเหลว'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-233">In the tree, select 'failed: Table 'VendSettlementTax1099Entity' records= model.Failed'.</span></span>
19. <span data-ttu-id="6d6c1-234">คลิกแท็บ การตรวจสอบความถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-234">Click the Validations tab.</span></span>
    * <span data-ttu-id="6d6c1-235">การแม็ปแบบจำลองนี้อาจประกอบด้วยตรรกะที่ผู้ใช้กำหนดเพื่อตรวจสอบความถูกต้องของข้อมูลที่นำเข้าจากข้อมูลแอพลิเคชันที่มีอยู่</span><span class="sxs-lookup"><span data-stu-id="6d6c1-235">This model mapping may contain user-defined logic to validate the correctness of the imported data from the existing application data.</span></span> <span data-ttu-id="6d6c1-236">ตัวอย่างเช่น สำหรับธุรกรรมใดๆ ในไฟล์ที่นำเข้าที่มีบัญชีผู้จัดจำหน่ายที่ไม่ได้อยู่ในระบบ ข้อความเตือนจะถูกสร้างขึ้นซึ่งจะแจ้งให้ผู้ใช้ทราบและระบุรหัสบัญชีผู้จัดจำหน่ายที่ไม่ถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-236">For example, based on the present setting, for any transaction in the imported file with a vendor account that is not in the system, a warning message will be generated informing the user and indicating the incorrect vendor account code.</span></span>  
    * <span data-ttu-id="6d6c1-237">โปรดทราบว่าตัวเลือกการดำเนินการ หลังการตรวจสอบความถูกต้อง สามารถใช้สำหรับการตรวจสอบความถูกต้องแต่ละครั้ง เพื่อระบุว่ากระบวนการนำเข้าต้องดำเนินต่อหรือหยุด และสามารถคงไว้หรือย้อนกลับการแทรก/การอัพเดตที่ดำเนินการแล้วได้หรือไม่</span><span class="sxs-lookup"><span data-stu-id="6d6c1-237">Note that the Post validation action option can be used for each validation, to specify whether the import process must be continued or stopped, as well as if the already performed inserts/updates can be kept or rolled back.</span></span>  
20. <span data-ttu-id="6d6c1-238">คลิก แสดงเฉพาะที่แม็ปเท่านั้น</span><span class="sxs-lookup"><span data-stu-id="6d6c1-238">Click Show mapped only.</span></span>
21. <span data-ttu-id="6d6c1-239">คลิก แสดงทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="6d6c1-239">Click Show all.</span></span>
22. <span data-ttu-id="6d6c1-240">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-240">Close the page.</span></span>
    * <span data-ttu-id="6d6c1-241">ดำเนินการแม็ปแบบจำลองนี้เพื่อทดสอบการแม็ปแบบจำลองและรูปแบบที่ได้รับการออกแบบมา</span><span class="sxs-lookup"><span data-stu-id="6d6c1-241">Execute this model mapping to test the designed format and model mappings.</span></span> <span data-ttu-id="6d6c1-242">ใช้ไฟล์ 1099entries.xml</span><span class="sxs-lookup"><span data-stu-id="6d6c1-242">Use the file 1099entries.xml.</span></span> <span data-ttu-id="6d6c1-243">ข้อมูลจากไฟล์ที่เลือกจะถูกนำเข้าไปยังระบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-243">The data from the selected file will be imported in to the system.</span></span>  
23. <span data-ttu-id="6d6c1-244">คลิก เรียกใช้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-244">Click Run.</span></span>
    * <span data-ttu-id="6d6c1-245">โปรดทราบว่ากล่องโต้ตอบไม่มีคำถามเพิ่มเติมเกี่ยวกับการแม็ปรูปแบบที่จะต้องใช้ในการแยกวิเคราะห์ไฟล์ที่นำเข้า และนำข้อมูลไปยังแบบจำลองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-245">Note that the dialog box contains no additional questions about the format mapping that must be used to parse the imported file and then port the data to the data model.</span></span> <span data-ttu-id="6d6c1-246">ทั้งนี้เนื่องจากในขณะนี้มีเพียงรูปแบบเดียวเท่านั้นที่ใช้แบบจำลองนี้ ซึ่งถูกทำเครื่องหมายเป็น ได้รับการออกแบบมาเพื่อสนับสนุนการนำเข้าข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-246">This is because there is currently only one format that uses this model, which is marked as designed to support data import.</span></span>  
    * <span data-ttu-id="6d6c1-247">กำหนดรหัสใบสำคัญเพื่อแบ่งแยกธุรกรรมที่นำเข้าจากธุรกรรมอื่นๆ ที่อาจถูกป้อนด้วยตนเองหรือนำเข้าแล้ว</span><span class="sxs-lookup"><span data-stu-id="6d6c1-247">Define the voucher ID to differentiate the imported transactions from other transactions that may already have been entered manually or imported.</span></span>  
24. <span data-ttu-id="6d6c1-248">ในฟิลด์ป้อนรหัสใบสำคัญ พิมพ์ 'IMPORT-001'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-248">In the Enter voucher id field, type 'IMPORT-001'.</span></span>
    * <span data-ttu-id="6d6c1-249">เรียกดูเพื่อเรียกใช้ไฟล์ '1099entries.xml'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-249">Browse to get the '1099entries.xml' file.</span></span>  
25. <span data-ttu-id="6d6c1-250">คลิก ตกลง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-250">Click OK.</span></span>
    * <span data-ttu-id="6d6c1-251">รายการคำเตือนที่สร้างแสดงข้อมูลเกี่ยวกับบัญชีผู้จัดจำหน่ายที่ไม่ถูกต้อง รหัสช่อง 1099 ภาษีที่ไม่ถูกต้อง รหัสประเทศที่ขาดหายไป ฯลฯ เปรียบเทียบรายการของคำเตือนกับเนื้อหาที่รวมอยู่ในไฟล์ XML การดำเนินการ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-251">The list of generated warnings provides information about incorrect vendor accounts, an incorrect tax 1099 box code, missing country codes, etc. Compare this list of warnings to the content that is included in the execution XML file.</span></span>  
26. <span data-ttu-id="6d6c1-252">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-252">Close the page.</span></span>
27. <span data-ttu-id="6d6c1-253">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-253">Close the page.</span></span>
28. <span data-ttu-id="6d6c1-254">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-254">Close the page.</span></span>
29. <span data-ttu-id="6d6c1-255">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-255">Close the page.</span></span>
30. <span data-ttu-id="6d6c1-256">ไปที่ บัญชีเจ้าหนี้ > งานประจำงวด > ภาษี 1099 > การชำระเงินให้แก่ผู้จัดจำหน่ายสำหรับ 1099</span><span class="sxs-lookup"><span data-stu-id="6d6c1-256">Go to Accounts payable > Periodic tasks > Tax 1099 > Vendor settlement for 1099s.</span></span>
    * <span data-ttu-id="6d6c1-257">แบบฟอร์มนี้แสดงธุรกรรมสะสมในตาราง Tax1099Summary ที่ได้สร้างขึ้นจากธุรกรรมที่นำเข้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-257">This form shows the cumulative transactions in the Tax1099Summary table that have been created based on imported transactions.</span></span>  
31. <span data-ttu-id="6d6c1-258">ในฟิลด์วันที่เริ่มต้น ตั้งค่าวันที่เป็น ' 2000-01-01'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-258">In the From date field, set the date to '2000-01-01'.</span></span>
32. <span data-ttu-id="6d6c1-259">คลิก ธุรกรรม 1099 แบบกำหนดเอง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-259">Click Manual 1099 transactions.</span></span>
    * <span data-ttu-id="6d6c1-260">แบบฟอร์มนี้ประกอบด้วยรายการของธุรกรรมที่ถูกเพิ่มด้วยตนเองและธุรกรรมที่เราเพิ่งนำเข้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-260">This form contains the list of transactions that were added manually and those that we just imported.</span></span>  
33. <span data-ttu-id="6d6c1-261">เปิดตัวกรองคอลัมน์ ใบสำคัญ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-261">Open Voucher column filter.</span></span>
34. <span data-ttu-id="6d6c1-262">ป้อนค่าตัวกรองของ "IMPORT-001" ในฟิลด์ "ใบสำคัญ" โดยใช้ตัวดำเนินการกรอง "ขึ้นต้นด้วย"</span><span class="sxs-lookup"><span data-stu-id="6d6c1-262">Enter a filter value of "IMPORT-001" on the "Voucher" field using the "begins with" filter operator.</span></span>

## <a name="review-the-relationship-between-model-and-format-mappings"></a><span data-ttu-id="6d6c1-263">ตรวจทานความสัมพันธ์ระหว่างแบบจำลองและการแม็ปรูปแบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-263">Review the relationship between model and format mappings</span></span>
1. <span data-ttu-id="6d6c1-264">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-264">Close the page.</span></span>
2. <span data-ttu-id="6d6c1-265">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-265">Close the page.</span></span>
3. <span data-ttu-id="6d6c1-266">ไปที่การจัดการองค์กร > พื้นที่ทำงาน > การรายงานทางอิเล็กทรอนิกส์</span><span class="sxs-lookup"><span data-stu-id="6d6c1-266">Go to Organization administration > Workspaces > Electronic reporting.</span></span>
4. <span data-ttu-id="6d6c1-267">คลิก การตั้งค่าคอนฟิกการรายงาน</span><span class="sxs-lookup"><span data-stu-id="6d6c1-267">Click Reporting configurations.</span></span>
5. <span data-ttu-id="6d6c1-268">ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-268">In the tree, select '1099 Payments model'.</span></span>
    * <span data-ttu-id="6d6c1-269">สมมติว่าคุณต้องการสนับสนุนการนำเข้าข้อมูลเดียวกันแต่จากรูปแบบไฟล์ .TXT</span><span class="sxs-lookup"><span data-stu-id="6d6c1-269">Assume that you want to support importing the same data but from a .TXT file format.</span></span>   
6. <span data-ttu-id="6d6c1-270">คลิก สร้างการตั้งค่าคอนฟิก เพื่อเปิดกล่องโต้ตอบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-270">Click Create configuration to open the dialog box.</span></span> 
7. <span data-ttu-id="6d6c1-271">ในฟิลด์ใหม่ ป้อน 'จัดรูปแบบตามแบบจำลองข้อมูล แบบจำลองการชำระเงิน 1099'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-271">In the New field, enter 'Format based on data model 1099 Payments model'.</span></span>
8. <span data-ttu-id="6d6c1-272">ในฟิลด์ชื่อ ให้พิมพ์ 'นำเข้าข้อมูลจากไฟล์ TXT'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-272">In the Name field, type 'Import data from TXT file'.</span></span>
9. <span data-ttu-id="6d6c1-273">เลือก ใช่ ในฟิลด์สนับสนุนการนำเข้าข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-273">Select Yes in the Supports data import field.</span></span>
10. <span data-ttu-id="6d6c1-274">คลิก สร้างการตั้งค่าคอนฟิก</span><span class="sxs-lookup"><span data-stu-id="6d6c1-274">Click Create configuration.</span></span>
11. <span data-ttu-id="6d6c1-275">คลิก ตัวออกแบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-275">Click Designer.</span></span>
12. <span data-ttu-id="6d6c1-276">คลิก แม็ปรูปแบบไปยังแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-276">Click Map format to model.</span></span>
13. <span data-ttu-id="6d6c1-277">คลิก สร้าง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-277">Click New.</span></span>
14. <span data-ttu-id="6d6c1-278">ในฟิลด์ข้อกำหนด ให้ป้อนหรือเลือกค่าใดค่าหนึ่ง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-278">In the Definition field, enter or select a value.</span></span>
    * <span data-ttu-id="6d6c1-279">เลือกตัวเลือก '1099-MISC'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-279">Select '1099-MISC' option.</span></span>  
15. <span data-ttu-id="6d6c1-280">ในฟิลด์ชื่อ ให้พิมพ์ 'นำเข้าข้อมูลจากไฟล์ TXT'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-280">In the Name field, type 'Import data from TXT file'.</span></span>
16. <span data-ttu-id="6d6c1-281">ในฟิลด์คำอธิบาย ให้พิมพ์ 'นำเข้าข้อมูลจากไฟล์ TXT'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-281">In the Description field, type 'Import data from TXT file'.</span></span>
17. <span data-ttu-id="6d6c1-282">คลิก บันทึก</span><span class="sxs-lookup"><span data-stu-id="6d6c1-282">Click Save.</span></span>
18. <span data-ttu-id="6d6c1-283">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-283">Close the page.</span></span>
19. <span data-ttu-id="6d6c1-284">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-284">Close the page.</span></span>
20. <span data-ttu-id="6d6c1-285">คลิก แก้ไข</span><span class="sxs-lookup"><span data-stu-id="6d6c1-285">Click Edit.</span></span>
    * <span data-ttu-id="6d6c1-286">ถ้าคุณติดตั้งโปรแกรมแก้ไขด่วน "KB 4012871 การสนับสนุนการแม็ปแบบจำลอง GER ในการตั้งค่าคอนฟิกที่แยกต่างหากด้วยความสามารถในการระบุชนิดที่แตกต่างกันของข้อกำหนดเบื้องต้นสำหรับการใช้ในเวอร์ชันต่างๆ ของ Dynamics 365 for Finance and Operations, Enterprise edition” (https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871 ) ให้ดำเนินขั้นตอนถัดไป "เปิดแฟล็ก 'ค่าเริ่มต้นสำหรับการแม็ปแบบจำลอง'" สำหรับการตั้งค่าคอนฟิกรูปแบบที่ป้อน</span><span class="sxs-lookup"><span data-stu-id="6d6c1-286">If you installed the hotfix “KB 4012871 Support of GER model mappings in separated configurations with an ability to specify different kinds of prerequisites for deploying them on different versions of Dynamics 365 for Finance and Operations, Enterprise edition” (https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871 ), execute the next step “Turn the flag ‘Default for model mapping’ on” for the entered format configuration.</span></span> <span data-ttu-id="6d6c1-287">หรือข้ามขั้นตอนถัดไป</span><span class="sxs-lookup"><span data-stu-id="6d6c1-287">Skip the next step otherwise.</span></span>  
21. <span data-ttu-id="6d6c1-288">เลือก ใช่ ในฟิลด์ ค่าเริ่มต้นสำหรับการแม็ปแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="6d6c1-288">Select Yes in the Default for model mapping field.</span></span>
22. <span data-ttu-id="6d6c1-289">ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099'</span><span class="sxs-lookup"><span data-stu-id="6d6c1-289">In the tree, select '1099 Payments model'.</span></span>
23. <span data-ttu-id="6d6c1-290">คลิก ตัวออกแบบ</span><span class="sxs-lookup"><span data-stu-id="6d6c1-290">Click Designer.</span></span>
24. <span data-ttu-id="6d6c1-291">คลิก แม็ปแบบจำลองกับแหล่งข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-291">Click Map model to datasource.</span></span>
25. <span data-ttu-id="6d6c1-292">คลิก เรียกใช้</span><span class="sxs-lookup"><span data-stu-id="6d6c1-292">Click Run.</span></span>
    * <span data-ttu-id="6d6c1-293">ถ้าคุณติดตั้งโปรแกรมแก้ไขด่วน KB 4012871 การสนับสนุนการแม็ปแบบจำลอง GER ในการตั้งค่าคอนฟิกที่แยกต่างหากพร้อมกับความสามารถในการระบุชนิดที่แตกต่างกันของข้อกำหนดเบื้องต้นสำหรับการใช้ในเวอร์ชันต่างๆ ของ Dynamics 365 for Finance and Operations, Enterprise edition (https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871 ) ให้เลือกการแม็ปแบบจำลองที่ต้องการในฟิลด์การค้นหา</span><span class="sxs-lookup"><span data-stu-id="6d6c1-293">If you installed the hotfix, KB 4012871 Support of GER model mappings in separated configurations with an ability to specify different kinds of prerequisites for deploying them on different versions of Dynamics 365 for Finance and Operations, Enterprise edition (https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871 ), select the preferred model mapping in the lookup field.</span></span> <span data-ttu-id="6d6c1-294">ถ้าคุณยังไม่ได้ติดตั้งโปรแกรมแก้ไขด่วน ให้ข้ามไปยังขั้นตอนถัดไปเนื่องจากมีการเลือกการแม็ปแล้วตามคำนิยามของการตั้งค่าคอนฟิกรูปแบบเริ่มต้น</span><span class="sxs-lookup"><span data-stu-id="6d6c1-294">If you haven't installed the hotfix yet, skip to the next step as the mapping has already been selected by the definition of the default format configuration.</span></span>  
    * <span data-ttu-id="6d6c1-295">ถ้าคุณไม่ได้ติดตั้งโปรแกรมแก้ไขด่วน KB 4012871 ให้สังเกตว่ากล่องโต้ตอบประกอบด้วยคำถามการแม็ปที่มีแบบจำลองเพิ่มเติมที่จะใช้ในการแยกวิเคราะห์ไฟล์ที่คุณกำลังนำเข้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-295">If you have not installed the hotfix, KB 4012871, notice that the dialog box contains an additional model mapping question that is used to parse the file that you are importing.</span></span> <span data-ttu-id="6d6c1-296">จากนั้นข้อมูลจะถูกนำจากกล่องโต้ตอบไปยังแบบจำลองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="6d6c1-296">The data is then ported from the dialog box to the data model.</span></span> <span data-ttu-id="6d6c1-297">ในปัจจุบันคุณสามารถเลือกว่าจะต้องใช้การแม็ปรูปแบบใด โดยขึ้นอยู่กับชนิดของไฟล์ที่คุณวางแผนที่จะนำเข้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-297">Currently, you can choose which format mapping must be used depending on the type of file that you plan to import.</span></span>  
    * <span data-ttu-id="6d6c1-298">ถ้าคุณวางแผนที่จะเรียกการแม็ปแบบจำลองนี้จากจุดใน Dynamics 365 for Finance and Operations, Enterprise Edition ที่ได้รับการออกแบบมาสำหรับการดำเนินการโดยเฉพาะ ปลายทาง ER และการแม็ปรูปแบบจะต้องถูกทำเครื่องหมายเป็นส่วนหนึ่งของการรวม</span><span class="sxs-lookup"><span data-stu-id="6d6c1-298">If you plan to call this model mapping from a point in Dynamics 365 for Finance and Operations, Enterprise edition that is specifically designed for the action, the ER destination and the format mapping must be marked as part of the integration.</span></span>  
26. <span data-ttu-id="6d6c1-299">คลิก ยกเลิก</span><span class="sxs-lookup"><span data-stu-id="6d6c1-299">Click Cancel.</span></span>
27. <span data-ttu-id="6d6c1-300">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-300">Close the page.</span></span>
28. <span data-ttu-id="6d6c1-301">ปิดหน้า</span><span class="sxs-lookup"><span data-stu-id="6d6c1-301">Close the page.</span></span>

