--- 
title: "ออกแบบการตั้งค่าคอนฟิกเพื่อแยกวิเคราะห์เอกสารขาเข้าสำหรับการอัพเดตข้อมูลแอพลิเคชัน (ER)"
description: "กระบวนงานนี้แสดงวิธีการออกแบบการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) เพื่อแยกวิเคราะห์เอกสารอิเล็กทรอนิกส์ขาเข้า"
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 74606b1378e94e8a6945a408520c8b68648970d8
ms.openlocfilehash: 96c9397c6a83d61b679492f66f4aa6661f1f8621
ms.contentlocale: th-th
ms.lasthandoff: 02/07/2018

---
# <a name="design-configurations-to-parse-incoming-documents-for-application-data-updates-er"></a>ออกแบบการตั้งค่าคอนฟิกเพื่อแยกวิเคราะห์เอกสารขาเข้าสำหรับการอัพเดตข้อมูลแอพลิเคชัน (ER)

[!INCLUDE [task guide banner](../../includes/task-guide-banner.md)]

กระบวนงานนี้แสดงวิธีการออกแบบการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) เพื่อแยกวิเคราะห์เอกสารอิเล็กทรอนิกส์ขาเข้า ในกระบวนงานนี้ คุณจะนำเข้าการตั้งค่าคอนฟิก ER ที่กำหนดซึ่งได้ถูกสร้างขึ้นสำหรับบริษัทตัวอย่าง Litware, Inc. และใช้ในการแยกวิเคราะห์เอกสารทางอิเล็กทรอนิกส์ขาเข้า เพื่อทำขั้นตอนในกระบวนงานนี้ให้เสร็จสมบูรณ์ อันดับแรกคุณต้องทำกระบวนงานให้เสร็จสมบูรณ์ "ER สร้างผู้ให้บริการการตั้งค่าคอนฟิก และทำเครื่องหมายเป็น ใช้งานอยู่"

กระบวนงานนี้ถูกสร้างขึ้นสำหรับผู้ใช้ที่มีบทบาทผู้ดูแลระบบหรือนักพัฒนาการรายงานทางอิเล็กทรอนิกส์ที่ได้รับมอบหมาย 

ขั้นตอนเหล่านี้สามารถเสร็จสมบูรณ์ได้โดยใช้ชุดข้อมูลใดๆ ก่อนที่คุณจะเริ่มต้น ให้ดาวน์โหลดและบันทึกไฟล์ที่แสดงรายการอยู่ในหัวข้อ "แยกวิเคราะห์เอกสารขาเข้าเพื่ออัพเดตข้อมูลแอพลิเคชัน" (https://docs.microsoft.com/en-us/dynamics365/unified-operations/dev-itpro/analytics/parse-incoming-electronic-documents) แฟ้ม ได้แก่: EFSTA model.xml, EFSTA format.xml, Response1.xml, Response2.xml, Response3.xml, Response4.xml

1. ไปที่การจัดการองค์กร > พื้นที่ทำงาน > การรายงานทางอิเล็กทรอนิกส์
    * ตรวจสอบให้แน่ใจว่าผู้ให้บริการการตั้งค่าคอนฟิกสำหรับบริษัทตัวอย่าง Litware, Inc. พร้อมใช้งาน และทำเครื่องหมายเป็น ใช้งานอยู่ ถ้าคุณไม่เห็นผู้ให้บริการการตั้งค่าคอนฟิกนี้ จะต้องดำเนินขั้นตอนต่างๆ ในกระบวนงานให้เสร็จสมบูรณ์ “สร้างผู้ให้บริการการตั้งค่าคอนฟิก และทำเครื่องหมายเป็น ใช้งานอยู่”  
2. คลิก การตั้งค่าคอนฟิกการรายงาน
    * สถานการณ์จำลองต่อไปนี้จะใช้เพื่อแสดงความสามารถในการแยกวิเคราะห์เอกสารอิเล็กทรอนิกส์ขาเข้าในรูปแบบ XML: แอพลิเคชัน ERP (Dynamics 365 for Finance and Operations) ร้องขอข้อมูลจากบริการบนเว็บ (เช่น http://efsta.org/ EFSTA fiscal service) และแยกวิเคราะห์การตอบสนองขาเข้าเพื่ออัพเดตข้อมูลแอพลิเคชันให้สอดคล้องกัน สำหรับวิธีมีประสิทธิภาพมากที่สุดในการแยกวิเคราะห์ มีการใช้รูปแบบ ER เดียว แม้ว่าจะมีโครงสร้างที่แตกต่างกันของเอกสารขาเข้าที่คาดไว้ในรูปแบบ XML   

## <a name="import-and-review-er-configurations"></a>นำเข้าและตรวจทานการตั้งค่าคอนฟิก ER
นำเข้าการตั้งค่าคอนฟิกแบบจำลอง ER ที่ประกอบด้วยรูปแบบจำลองข้อมูลตัวอย่างที่ออกแบบมาเพื่อจัดเก็บรายละเอียดเกี่ยวกับไฟล์ขาเข้า  
1. คลิก แลกเปลี่ยน
2. คลิก โหลดจากไฟล์ XML
    * คลิก เรียกดู และเลือกไฟล์แบบจำลอง EFSTA.xml  
3. คลิก ตกลง
4. ในแผนภูมิ เลือก 'แบบจำลอง EFSTA'
5. คลิก ตัวออกแบบ
    * ตรวจทานโครงสร้างของแบบจำลองข้อมูลที่นำเข้า โปรดทราบว่า การแจงนับ enumType ถูกกำหนดเพื่อจดจำประเภทของการตอบสนองงานบริการต่อไปนี้: เพื่อให้ได้รับการยืนยันเกี่ยวกับการส่งของธุรกรรม เพื่อรับข้อมูลเกี่ยวกับธุรกรรมล่าสุดที่ส่ง และเพื่อจดจำชนิดการตอบสนองที่ไม่สนับสนุน   
6. ในแผนภูมิ ให้ขยาย 'การตอบสนอง'
    * โปรดทราบว่า มีการกำหนดรายการราก 'ตอบกลับ' เพื่อระบุชนิดของข้อมูลที่ต้องมาจากการตอบสนองบริการที่สนับสนุน เพื่ออัพเดตข้อมูลแอพลิเคชันให้สอดคล้องกัน   
7. ปิดหน้า
    * คุณจะนำเข้าการตั้งค่าคอนฟิกรูปแบบ ER ที่ระบุวิธีที่จะแยกวิเคราะห์เอกสารขาเข้าเพื่อจัดเก็บข้อมูลในแบบจำลองข้อมูล ER   
8. คลิก แลกเปลี่ยน
9. คลิก โหลดจากไฟล์ XML
    * คลิก เรียกดู และเลือกไฟล์รูปแบบ EFSTA.xml  
10. คลิก ตกลง
11. ในแผนภูมิ ขยาย 'แบบจำลอง EFSTA'
12. ในแผนภูมิ เลือก 'แบบจำลอง EFSTA\รูปแบบ EFSTA'
13. คลิก ตัวออกแบบ
14. คลิก ขยาย/ยุบ
    * โปรดทราบว่า องค์ประกอบรูปแบบ CASE ที่ใช้เป็นราก และประกอบด้วยองค์ประกอบไฟล์ที่ซ้อนกันสามรายการ ซึ่งหมายความว่า รูปแบบนี้ถูกออกแบบเพื่อแยกวิเคราะห์ไฟล์ขาเข้าของหลายรูปแบบ  
15. ในแผนภูมิ เลือก 'การตอบสนอง\ความสมบูรณ์ของธุรกรรม\TraC'
    * โปรดทราบว่า การตอบสนองเกี่ยวกับธุรกรรมที่ส่งเริ่มต้นจากองค์ประกอบราก 'TraC'   
16. ในแผนภูมิ เลือก 'การตอบสนอง\คำขอของธุรกรรมล่าสุด\Tra'
    * โปรดทราบว่า การตอบสนองเกี่ยวกับธุรกรรมที่ส่งล่าสุดเริ่มจากองค์ประกอบราก 'Tra'   
17. ในแผนภูมิ เลือก 'การตอบสนอง\การตอบสนองที่ไม่คาดคิด\ข้อความ'
    * มีการเพิ่มองค์ประกอบของ FILE ที่สามด้วยองค์ประกอบ TEXT ที่ซ้อนกัน เพื่อจดจำชนิดของการตอบสนองอื่นใดๆ ที่แตกต่างจากสิ่งที่กล่าวมาข้างต้น   
18. คลิก แม็ปรูปแบบไปยังแบบจำลอง
    * การแม็ปแบบจำลองนี้ประกอบด้วยคำนิยามของลำดับข้อมูล เพื่อจัดเก็บรายละเอียดของเอกสารขาเข้าที่แยกวิเคราะห์โดยใช้รายการของแบบจำลองข้อมูล  
19. คลิก ตัวออกแบบ
20. ในแผนภูมิ ให้ขยาย 'รูปแบบ'
21. ในแผนภูมิ ขยาย 'รูปแบบ\การตอบสนอง: กรณี(การตอบสนอง)'
    * ตรวจทานโครงสร้างของแหล่งข้อมูล 'รูปแบบ' โปรดทราบว่า มีการเสนอการตอบสนองทั้งสามชนิดโดยแยกต่างหาก   
22. ในแผนภูมิ เลือก 'รูปแบบ\การตอบสนอง: กรณี(การตอบสนอง)\aType'
    * รายการแหล่งที่มาข้อมูล 'aType' ได้ถูกเพิ่มเพื่อบ่งชี้ชนิดการตอบสนอง และผูกกับรายการแบบจำลองข้อมูล 'ชนิด'  
23. คลิกแท็บ การตรวจสอบความถูกต้อง
24. ในแผนภูมิ เลือก 'พิมพ์ = format.Responses.aType'
    * โปรดทราบว่า มีการตั้งค่าคอนฟิกการตรวจสอบ ER เพื่อแจ้งผู้ใช้เกี่ยวกับสถานการณ์เมื่อโครงสร้างการตอบสนองไม่ตรงกับการยืนยันเกี่ยวกับการส่งของธุรกรรมหรือข้อมูลเกี่ยวกับธุรกรรมที่ส่งล่าสุด (กรณีของการตอบสนองที่ไม่สนับสนุน)   
25. ปิดหน้า

## <a name="run-model-mapping-of-er-format-configured-for-parsing-incoming-files"></a>รันการแม็ปรูปแบบของรูป ER ที่ตั้งค่าคอนฟิกสำหรับการแยกวิเคราะห์ไฟล์ขาเข้า
คุณจะรันการแม็ปแบบจำลองที่สร้างขึ้นเพื่อวัตถุประสงค์ในการทดสอบ เพื่อดูวิธีที่รูปแบบ ER ที่ถูกตั้งค่าคอนฟิกจะแยกวิเคราะห์การตอบสนองบริการขาเข้า ขั้นตอนนี้ใช้ไฟล์ XML ที่แตกต่างกันในการจำลองชนิดต่างๆ ของการตอบสนองบริการเว็บ   
1. เปิดแฟ้ม Response1.xml ในตัวอ่าน xml เช่น เว็บเบราเซอร์ โปรดทราบว่า แฟ้มนี้ประกอบด้วยรายละเอียดการยืนยันเกี่ยวกับธุรกรรมที่เสร็จสมบูรณ์ ('TraC' คือ องค์ประกอบราก)   
2. คลิก เรียกใช้
    * คลิก เรียกดู และเลือกไฟล์ Response1.xml  
3. คลิก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  โปรดทราบว่า ชนิดการตอบสนองได้ถูกจดจำและถูกแยกวิเคราะห์อย่างถูกต้อง (ERModelEnumDataSourceHandler#แบบจำลอง EFSTA#enumType#C หมายถึง กรณีความเสร็จสมบูรณ์ของธุรกรรม)   
    * เปิดแฟ้ม Response2.xml ในตัวอ่าน XML โปรดทราบว่า แฟ้มนี้ประกอบด้วยข้อมูลเกี่ยวกับธุรกรรมล่าสุดที่ส่ง ('Tra' คือ องค์ประกอบราก)   
4. คลิก เรียกใช้
    * คลิก เรียกดู และเลือกไฟล์ Response2.xml  
5. คลิก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  โปรดทราบว่า ชนิดการตอบสนองได้ถูกจดจำและถูกแยกวิเคราะห์อย่างถูกต้อง (ERModelEnumDataSourceHandler#แบบจำลอง EFSTA#enumType#R หมายถึง กรณีการเริ่มต้นระบบใหม่)   
    * เปิดแฟ้ม Response3.xml ในตัวอ่าน XML โปรดทราบว่า ไฟล์นี้เริ่มต้นจากรายการราก TraZ และโครงสร้างนี้ไม่ได้ถูกตั้งค่าคอนฟิกโดยใช้รูปแบบ ER   
6. คลิก เรียกใช้
    * คลิก เรียกดู และเลือกไฟล์ Response3.xml  
7. คลิก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  โปรดทราบว่า ชนิดการตอบสนองได้ถูกจดจำและถูกแยกวิเคราะห์อย่างถูกต้อง เป็นไม่ได้รับการสนับสนุน (ERModelEnumDataSourceHandler#แบบจำลอง EFSTA#enumType#U) ข้อความที่สอดคล้องกันได้ถูกวางไว้ใน Infolog (ตามการตั้งค่าการตรวจสอบ ER) และแบบจำลองข้อมูลส่วนใหญ่ไม่ได้ถูกกรอกข้อมูล   
    * เปิดแฟ้ม Response4.xml ในตัวอ่าน XML โปรดทราบว่า โครงสร้างของไฟล์นี้เกือบจะเหมือนกับ Response1.xml ที่มีการแยกวิเคราะห์เสร็จเรียบร้อยแล้ว ยกเว้นลำดับขององค์ประกอบที่ซ้อนกันขององค์ประกอบราก 'TraC'   
8. คลิก เรียกใช้
    * คลิก เรียกดู และเลือกไฟล์ Response4.xml  
9. คลิก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  โปรดทราบว่า ชนิดการตอบสนองได้ถูกจดจำและถูกแยกวิเคราะห์อย่างถูกต้อง เป็นไม่ได้รับการสนับสนุน (ERModelEnumDataSourceHandler#แบบจำลอง EFSTA#enumType#U)) ข้อความที่สอดคล้องกันได้ถูกวางไว้ใน Infolog และแบบจำลองข้อมูลส่วนใหญ่ไม่ได้ถูกกรอกข้อมูล ทั้งนี้เนื่องจากการตั้งค่าปัจจุบันของรูปแบบ ER นี้ สันนิษฐานลำดับขององค์ประกอบที่ซ้อนกันของรายการรากของไฟล์ขาเข้า   
10. ปิดหน้า
11. ในแผนภูมิ เลือก 'การตอบสนอง\ความสมบูรณ์ของธุรกรรม\TraC'
12. ในใบสั่งการแยกวิเคราะห์ขององค์ประกอบที่ซ้อนกันฟิลด์ เลือก 'ใดๆ'
    * เลือก ใดๆ ในฟิลด์ 'ลำดับการแยกวิเคราะห์ขององค์ประกอบที่ซ้อนกัน' เพื่ออนุญาตลำดับใดๆ ขององค์ประกอบที่ซ้อนกันให้สำหรับสินค้า XML ของรากนี้  
13. คลิก บันทึก
14. คลิก แม็ปรูปแบบไปยังแบบจำลอง
15. คลิก เรียกใช้
    * คลิก เรียกดู และเลือกไฟล์ Response4.xml  
16. คลิก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  โปรดทราบว่า ตอนนี้ชนิดการตอบสนองได้ถูกจดจำอย่างถูกต้องว่าเท่ากัน สำหรับไฟล์ Response1.xml  


