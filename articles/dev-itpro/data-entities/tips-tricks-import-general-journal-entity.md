---
title: "แนวทางปฏิบัติสำหรับการนำเข้าใบสำคัญโดยใช้เอนทิตีสมุดรายวันทั่วไป"
description: "หัวข้อนี้มีคำแนะนำสำหรับการนำเข้าข้อมูลลงในสมุดรายวันทั่วไปโดยใช้เอนทิตีสมุดรายวันทั่วไป"
author: twheeloc
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, Operations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 2771a31b5a4d418a27de0ebe1945d1fed2d8d6d6
ms.openlocfilehash: 688fa17072cb340d6d02be31528339fb98601825
ms.contentlocale: th-th
ms.lasthandoff: 11/03/2017

---

# <a name="best-practices-for-importing-vouchers-using-the-general-journal-entity"></a>แนวทางปฏิบัติสำหรับการนำเข้าใบสำคัญโดยใช้เอนทิตีสมุดรายวันทั่วไป

[!INCLUDE [banner](../includes/banner.md)]

หัวข้อนี้มีคำแนะนำสำหรับการนำเข้าข้อมูลลงในสมุดรายวันทั่วไปโดยใช้เอนทิตีสมุดรายวันทั่วไป  

คุณสามารถใช้เอนทิตีสมุดรายวันทั่วไปเพื่อนำเข้าใบสำคัญที่มีชนิดบัญชีหรือบัญชีตรงข้ามเป็น **บัญชีแยกประเภท ลูกค้า ผู้จัดจำหน่าย หรือธนาคาร**ได้ คุณสามารถป้อนใบสำคัญเป็นหนึ่งบรรทัด โดยใช้ทั้งฟิลด์ **บัญชี** และฟิลด์ **บัญชีตรงข้าม** หรือเป็นใบสำคัญหลายบรรทัด โดยใช้เฉพาะฟิลด์ **บัญชี** (และปล่อย **บัญชีตรงข้าม** ว่างไว้ในแต่ละบรรทัด) เอนทิตีของสมุดรายวันทั่วไปไม่สนับสนุนทุกชนิดบัญชี แต่จะมีเอนทิตีอื่นสำหรับสถานการณ์ที่จำเป็นต้องมีชนิดบัญชีชุดอื่น ตัวอย่างเช่น เมื่อต้องการนำเข้าธุรกรรมโครงการ ให้ใช้เอนทิตีสมุดรายวันค่าใช้จ่ายของโครงการ แต่ละเอนทิตีถูกออกแบบมาเพื่อสนับสนุนสถานการณ์จำลองเฉพาะ ซึ่งหมายความว่าฟิลด์เพิ่มเติมอาจพร้อมใช้งานในเอนทิตีสำหรับสถานการณ์จำลองเหล่านั้น แต่ไม่ได้อยู่ในเอนทิตีสำหรับสถานการณ์จำลองอื่น

## <a name="setup"></a>การตั้งค่า
ก่อนที่คุณจะนำเข้าโดยใช้เอนทิตีสมุดรายวันทั่วไป ให้ตรวจสอบการตั้งค่าต่อไปนี้:

-   **การตั้งค่าลำดับหมายเลขสำหรับหมายเลขชุดงานสมุดรายวัน** - โดยค่าเริ่มต้น เมื่อคุณนำเข้าโดยใช้เอนทิตีสมุดรายวันทั่วไป หมายเลขชุดงานสมุดรายวันจะใช้ลำดับหมายเลขที่กำหนดไว้ในพารามิเตอร์บัญชีแยกประเภททั่วไป ถ้าคุณตั้งค่าลำดับหมายเลขสำหรับหมายเลขชุดงานสมุดรายวันเป็น **ด้วยตนเอง** จะไม่ใช้หมายเลขเริ่มต้น การตั้งค่านี้ไม่ได้รับการสนับสนุน
-   **การตั้งค่าคอนฟิกมิติทางการเงิน** - ทุกองค์กรต้องกำหนดลำดับของมิติทางการเงินเมื่อมีการใช้เอนทิตีเพื่อนำเข้าธุรกรรม มีกำหนดลำดับสำหรับรูปแบบ **การรวมมิติบัญชีแยกประเภท** ที่ **บัญชีแยกประเภททั่วไป** &gt; **ผังบัญชี** &gt; **มิติ** &gt; **การตั้งค่าคอนฟิกมิติทางการเงินสำหรับการรวมแอพลิเคชัน** &gt; **เลือกเอนทิตีข้อมูล** เซ็กเมนต์ของบัญชีแยกประเภทที่ถูกนำเข้าต้องอยู่ในลำดับเดียวกัน มิฉะนั้น จะเกิดข้อผิดพลาดขึ้นในระหว่างการนำเข้า

## <a name="general-journal-entity-setup"></a>การตั้งค่าเอนทิตีสมุดรายวันทั่วไป
การตั้งค่าสองรายการในการจัดการข้อมูลมีผลกระทบต่อวิธีใช้หมายเลขชุดงานสมุดรายวันเริ่มต้นหรือหมายเลขใบสำคัญ:

-   **การประมวลผลตามการตั้งค่า** (บนเอนทิตีข้อมูล)
-   **สร้างโดยอัตโนมัติ** (การแม็ปฟิลด์)

ส่วนต่อไปนี้อธิบายผลกระทบของการตั้งค่าเหล่านี้ และยังอธิบายถึงวิธีสร้างหมายเลขชุดงานสมุดรายวันและหมายเลขใบสำคัญอีกด้วย

### <a name="journal-batch-number"></a>หมายเลขชุดงานสมุดรายวัน

-   การตั้งค่า **การประมวลผลตามการตั้งค่า** บนเอนทิตีสมุดรายวันทั่วไปไม่มีผลต่อวิธีการสร้างหมายเลขชุดงานสมุดรายวัน
-   ถ้าฟิลด์ **หมายเลขชุดงานสมุดรายวัน** ถูกตั้งค่าเป็น **สร้างโดยอัตโนมัติ** หมายเลขชุดงานสมุดรายวันใหม่จะถูกสร้างขึ้นให้กับทุกบรรทัดที่ถูกนำเข้า ลักษณะการทำงานนี้ไม่ได้รับการแนะนำ การตั้งค่า **สร้างโดยอัตโนมัติ** พบได้ในโครงการนำเข้าภายใต้ **ดูแผนที่**ในแท็บ **รายละเอียดการแม็ป**
-   ถ้าฟิลด์ **หมายเลขชุดงานสมุดรายวัน** ไม่ถูกตั้งค่าเป็น **สร้างโดยอัตโนมัติ** หมายเลขชุดงานสมุดรายวันใหม่จะถูกสร้างขึ้นดังนี้:
    -   ถ้าหมายเลขชุดงานสมุดรายวันที่ถูกกำหนดไว้ในแฟ้มนำเข้าตรงกับสมุดรายวันประจำวันที่ยังไม่ได้ลงรายการบัญชีที่มีอยู่ บรรทัดทั้งหมดที่มีหมายเลขชุดงานสมุดรายวันที่ตรงกันจะถูกนำเข้าลงในสมุดรายวันที่มีอยู่ จะไม่มีการนำเข้ารายการลงในหมายเลขชุดงานสมุดรายวันที่ลงรายการบัญชี แต่จะสร้างหมายเลขใหม่ขึ้น
    -   ถ้าหมายเลขชุดงานสมุดรายวันที่ถูกกำหนดไว้ในแฟ้มนำเข้าไม่ตรงกับสมุดรายวันประจำวันที่ยังไม่ได้ลงรายการบัญชีที่มีอยู่บรรทัดทั้งหมดที่มีหมายเลขชุดงานสมุดรายวันเดียวกันจะถูกจัดกลุ่มภายใต้สมุดรายวันใหม่ ตัวอย่างเช่น บรรทัดทั้งหมดที่มีหมายเลขชุดงานสมุดรายวันเป็น 1 จะถูกนำเข้าลงในสมุดรายวันใหม่ และบรรทัดทั้งหมดที่มีหมายเลขชุดงานสมุดรายวันเป็น 2 จะถูกนำเข้าลงในสมุดรายวันใหม่อีกรายการหนึ่ง หมายเลขชุดงานสมุดรายวันถูกสร้างขึ้นโดยใช้ลำดับหมายเลขที่กำหนดไว้ในพารามิเตอร์บัญชีแยกประเภททั่วไป

### <a name="voucher-number"></a>หมายเลขใบสำคัญ

-   เมื่อคุณใช้การตั้งค่า **การประมวลผลตามการตั้งค่า** บนเอนทิตีสมุดรายวันทั่วไป จะต้องมีหมายเลขใบสำคัญในไฟล์ที่นำเข้า ทุกธุรกรรมในสมุดรายวันทั่วไปถูกกำหนดให้กับหมายเลขใบสำคัญที่มีอยู่ในไฟล์ที่นำเข้า แม้ว่าใบสำคัญจะไม่สมดุล ถ้าคุณต้องการใช้การประมวลผลตามการตั้งค่า แต่คุณก็ต้องการใช้ลำดับหมายเลขที่กำหนดไว้สำหรับหมายเลขใบสำคัญด้วย มีโปรแกรมแก้ไขด่วนสำหรับการนำออกใช้ Dynamics 365 for Operations (กุมภาพันธ์ 2016) หมายเลขของโปรแกรมแก้ไขด่วนคือ 3170316 และสามารถดาวน์โหลดได้จาก Lifecycle services (LCS) สำหรับข้อมูลเพิ่มเติม ดู [ดาวน์โหลดโปรแกรมแก้ไขด่วนจาก Lifecycle Services](..\migration-upgrade\download-hotfix-lcs.md)
    -   เมื่อต้องการเปิดใช้งานฟังก์ชันนี้ ในชื่อสมุดรายวันที่ใช้สำหรับการนำเข้า ตั้งค่า **การปันส่วนหมายเลขเมื่อลงรายการบัญชี** เป็น **ใช่**
    -   ยังคงต้องกำหนดหมายเลขใบสำคัญในไฟล์ที่นำเข้า อย่างไรก็ตาม หมายเลขนี้เป็นแบบชั่วคราว และจะถูกแทนที่ด้วยหมายเลขใบสำคัญ เมื่อลงรายการบัญชีสมุดรายวัน คุณต้องตรวจสอบให้แน่ใจว่าบรรทัดของสมุดรายวันถูกจัดกลุ่มตามหมายเลขใบสำคัญชั่วคราวอย่างถูกต้อง ตัวอย่างเช่น ในระหว่างการลงรายการบัญชี พบสามบรรทัดที่มีหมายเลขใบสำคัญชั่วคราวเป็น 1 หมายเลขใบสำคัญชั่วคราวของบรรทัดทั้งสามนั้นจะถูกแทนที่ด้วยหมายเลขถัดไปในลำดับหมายเลข ถ้าสามบรรทัดเหล่านั้นไม่มีเอนทิตีที่สมดุล ใบสำคัญจะไม่ถูกลงรายการบัญชี ถัดไป หากพบว่าบรรทัดมีหมายเลขใบสำคัญชั่วคราวเป็น 2 หมายเลขนี้จะถูกแทนที่ด้วยหมายเลขใบสำคัญถัดไปในลำดับหมายเลข และต่อไปเรื่อยๆ

<!-- -->

-   เมื่อคุณไม่ใช้การตั้งค่า **การประมวลผลตามการตั้งค่า** คุณไม่จำเป็นต้องระบุหมายเลขใบสำคัญในไฟล์ที่นำเข้า หมายเลขใบสำคัญถูกสร้างขึ้นในระหว่างการนำเข้าตามการตั้งค่าชื่อสมุดรายวัน (**ใบสำคัญหนึ่งใบเท่านั้น****ในการเชื่อมต่อของยอดดุล**และต่อไปเรื่อยๆ) ตัวอย่างเช่น ถ้ามีการกำหนดชื่อสมุดรายวันเป็น **ในการเชื่อมต่อของยอดดุล**บรรทัดแรกจะได้รับหมายเลขใบสำคัญเริ่มต้นใหม่ ระบบจะประเมินบรรทัดเพื่อระบุว่าเดบิตเท่ากับเครดิตหรือไม่ ถ้ามีบัญชีตรงข้ามบนบรรทัด บรรทัดถัดไปที่มีการนำเข้าจะได้รับหมายเลขใบสำคัญใหม่ ถ้าไม่มีบัญชีตรงข้ามที่มีอยู่ ระบบจะประเมินว่าเดบิตเท่ากับเครดิตหรือไม่ในขณะที่มีการนำเข้าแต่ละบรรทัดใหม่
-   ถ้าฟิลด์ **หมายเลขใบสำคัญ** ถูกตั้งค่าเป็น **สร้างโดยอัตโนมัติ** การนำเข้าจะไม่สำเร็จ การตั้งค่า **สร้างโดยอัตโนมัติ** สำหรับฟิลด์ **หมายเลขใบสำคัญ** จะไม่ได้รับการสนับสนุน

โดยค่าเริ่มต้น เอนทิตีสมุดรายวันทั่วไปใช้การประมวลผลตามการตั้งค่า หลังจากที่คุณประเมินความต้องการทางธุรกิจสำหรับองค์กรของคุณแล้ว คุณสามารถเปลี่ยนการตั้งค่า **การประมวลผลตามการตั้งค่า** ได้โดยการคลิก **เอนทิตีข้อมูล** ในพื้นที่ทำงาน **การจัดการข้อมูล** การประมวลผลตามการตั้งค่าถูกใช้เพื่อเร่งความเร็วกระบวนการนำเข้า ถ้าคุณไม่ได้ใช้การประมวลผลตามการตั้งค่า การนำเข้าของการนำเข้าเอนทิตีสมุดรายวันทั่วไปจะช้าลง




