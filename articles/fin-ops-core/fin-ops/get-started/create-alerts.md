---
title: การสร้างกฎการแจ้งเตือน
description: หัวข้อนี้แสดงข้อมูลเกี่ยวกับการแจ้งเตือน และอธิบายวิธีการสร้างกฎการแจ้งเตือน
author: RichdiMSFT
ms.date: 10/08/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EventCreateRule
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: richdi
ms.search.validFrom: 2018-3-30
ms.dyn365.ops.version: Platform update 15
ms.openlocfilehash: 869a2f83360c1d6515bbe2868f1450f76ff3a13f
ms.sourcegitcommit: 34b478f175348d99df4f2f0c2f6c0c21b6b2660a
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 04/16/2021
ms.locfileid: "5909850"
---
# <a name="create-alert-rules"></a>สร้างกฎการแจ้งเตือน

[!include [banner](../includes/banner.md)]

## <a name="getting-started"></a>การเริ่มต้น

ก่อนที่คุณจะตั้งค่ากฎการแจ้งเตือน ควรตัดสินใจว่าคุณต้องการรับข้อความแจ้งเตือนเมื่อใดหรือในสถานการณ์ใดบ้าง เมื่อคุณทราบแล้วว่าเหตุการณ์ใดที่คุณต้องการได้รับการแจ้งเตือน ให้ค้นหาหน้าของข้อมูลที่ทำให้เกิดการปรากฎของเหตุการณ์นั้น เหตุการณ์อาจเป็นวันที่ที่มาถึง หรือการเปลี่ยนแปลงบางอย่างที่เกิดขึ้น ดังนั้น คุณต้องค้นหาหน้าที่ซึ่งมีการระบุวันที่ หรือที่ซึ่งฟิลด์ที่เปลี่ยนแปลงหรือเรกคอร์ดใหม่ที่ถูกสร้างขึ้น ปรากฏขึ้น หลังจากที่คุณมีข้อมูลดังกล่าวแล้ว คุณก็สามารถสร้างกฎการแจ้งเตือนได้

เมื่อคุณสร้างกฎการแจ้งเตือน คุณกำหนดเงื่อนไขที่ต้องปฏิบัติตาม ก่อนที่ข้อความแจ้งเตือนจะถูกทริกเกอร์ โดยทั่วไปแล้วเกณฑ์คือการจับคู่ระหว่างการเกิดขึ้นของเหตุการณ์หนึ่งและการตอบสนองเงื่อนไขบางอย่าง เมื่อเหตุการณ์เกิดขึ้น ระบบจะเริ่มต้นตรวจสอบตามเงื่อนไขที่ตั้งค่าไว้

## <a name="ensure-the-alert-batch-jobs-are-running"></a>ตรวจสอบให้แน่ใจว่ามีการรันชุดงานการแจ้งเตือน

ชุดงานสำหรับการแจ้งเตือนการเปลี่ยนแปลงข้อมูลและการแจ้งเตือนวันที่ครบกำหนดจะต้องรันสำหรับเงื่อนไขการแจ้งเตือนที่จะประมวลผลและการแจ้งเตือนที่จะส่ง เมื่อต้องการรันชุดงาน ให้ไปที่ **การจัดการระบบ** > **งานประจำงวด** > **การแจ้งเตือน** และเพิ่มชุดงานใหม่สำหรับ **การแจ้งเตือนตามการเปลี่ยนแปลง** และ/หรือ **การแจ้งเตือนวันที่ครบกำหนด** ถ้าจำเป็นต้องมีชุดงานที่ใช้งานได้ยาวนานและใช้งานบ่อย เลือก **การเกิดซ้ำ** และ **ไม่มีวันที่สิ้นสุด** ที่มี **รูปแบบการเกิดซ้ำ** เป็น **นาที** และ **จำนวน** เป็น **1**

## <a name="events"></a>เหตุการณ์

เหตุการณ์ที่ทริกเกอร์กฎการแจ้งเตือนอาจเป็นวันที่ที่มาถึงหรือการเปลี่ยนแปลงเฉพาะที่เกิดขึ้น ทริกเกอร์สำหรับเหตุการณ์ถูกกำหนดไว้บน FastTab **แจ้งเตือนฉันเมื่อ** ของกล่องโต้ตอบ **สร้างกฎการแจ้งเตือน** เหตุการณ์ที่พร้อมใช้งานสำหรับฟิลด์เฉพาะ จะขึ้นอยู่กับทริกเกอร์ที่ถูกเลือก

ตัวอย่างเช่น ถ้าคุณกำลังตั้งค่ากฎการแจ้งเตือนสำหรับฟิลด์ **วันที่เริ่มต้น** เหตุการณ์ตามวันครบกำหนดจะเหมาะสม ดังนั้น ชนิดเหตุการณ์ `is due in` จะพร้อมใช้งานสำหรับฟิลด์นั้น อย่างไรก็ตาม สำหรับฟิลด์ เช่น **ศูนย์ต้นทุน** เหตุการณ์ตามวันครบกำหนดจะไม่เหมาะสม ดังนั้น ชนิดเหตุการณ์ `is due in` จะไม่พร้อมใช้งาน แต่ชนิดเหตุการณ์ `has changed` จะพร้อมใช้งานแทน

## <a name="event-types"></a>ชนิดของเหตุการณ์

ชนิดเหตุการณ์สามชนิดสามารถเกิดขึ้นได้:

- **เหตุการณ์ชนิดการสร้างและชนิดการลบ** – เหตุการณ์เหล่านี้ทริกเกอร์ข้อความแจ้งเตือน เมื่อมีการสร้างหรือการลบเรกคอร์ด
- **เหตุการณ์ชนิดการอัพเดต** – เหตุการณ์เหล่านี้ทริกเกอร์ข้อความแจ้งเตือน เมื่อข้อมูลในฟิลด์เฉพาะเปลี่ยนแปลง
- **เหตุการณ์ชนิดวันครบกำหนด** – เหตุการณ์เหล่านี้ทริกเกอร์ข้อความแจ้งเตือน เมื่อวันที่มาถึง
    
สามารถเริ่มต้นการเปลี่ยนแปลงที่เกิดขึ้นได้โดยผู้ใช้ ตัวอย่างเช่น ผู้ใช้เปลี่ยนวันที่จัดส่งของใบสั่งซื้อ อีกทางหนึ่งคือ การเปลี่ยนแปลงอาจเกิดขึ้นเป็นส่วนหนึ่งของกระบวนการ ตัวอย่างเช่น ฟิลด์ **สถานะ** ในหน้า เปลี่ยนแปลงเพื่อสะท้อนวงจรชีวิตของกระบวนการต่างๆ ในระบบ

## <a name="conditions"></a>เงื่อนไข

บน FastTab **แจ้งเตือนฉันสำหรับ** ในกล่องโต้ตอบ **สร้างกฎการแจ้งเตือน** คุณสามารถใช้เงื่อนไขเพื่อควบคุมได้ เมื่อคุณได้รับการแจ้งเตือนเกี่ยวกับเหตุการณ์

ตัวอย่างเช่น คุณสามารถระบุว่า ระบบควรแจ้งเตือนคุณเมื่อสถานะของใบสั่งซื้อเปลี่ยนแปลง แต่ก็ต่อเมื่อสถานะตรงกับชุดเงื่อนไขที่เฉพาะเจาะจง กล่าวคือ คุณต้องการได้รับการแจ้งเตือน เมื่อสถานะของใบสั่งซื้อถูกตั้งค่าเป็น **ได้รับแล้ว** การเปลี่ยนแปลงนี้ในสถานะเป็นเหตุการณ์ที่ทริกเกอร์การแจ้งเตือน

ถัดไป คุณต้องตัดสินใจว่า ใบสั่งซื้อใดที่คุณต้องการจะรับการแจ้งเตือน ตัวอย่างเช่น คุณสามารถเลือกตัวเลือกใดตัวเลือกหนึ่งได้ดังต่อไปนี้ ตัวเลือกเหล่านี้กำหนดเงื่อนไขสำหรับกฎการแจ้งเตือน

- **เรกคอร์ดที่เลือกปัจจุบัน** – คุณได้รับข้อความแจ้งเตือน เมื่อสถานะของใบสั่งซื้อเฉพาะเปลี่ยนเป็น **ได้รับแล้ว**
- **เรกคอร์ดทั้งหมด** – คุณได้รับข้อความแจ้งเตือน เมื่อสถานะของใบสั่งซื้อถูกเปลี่ยนสำหรับสินค้าในมุมมองเพจที่ใช้งานอยู่ คุณสามารถใช้การกรองขั้นสูงที่มีอยู่บนหน้าเพื่อสร้างกฎสำหรับชุดของเรกคอร์ดเฉพาะ ตัวอย่างเช่น คุณสามารถสร้างข้อความแจ้งเตือนที่ถูกทริกเกอร์สำหรับใบสั่งซื้อทั้งหมดสำหรับลูกค้าในกลุ่มลูกค้าเฉพาะ
    
## <a name="expiry-of-rule"></a>วันหมดอายุของกฎ

บน FastTab **แจ้งเตือนฉันจนกว่า** ของกล่องโต้ตอบ **สร้างกฎการแจ้งเตือน** คุณสามารถระบุระยะเวลาที่ควรเปิดใช้งานกฎการแจ้งเตือนได้

## <a name="alert-contents"></a>แจ้งเตือนเนื้อหา

บน FastTab **แจ้งเตือนฉันด้วย** ของกล่องโต้ตอบ **สร้างกฎการแจ้งเตือน** คุณสามารถระบุข้อความชื่อเรื่องและข้อความข่าวสารที่ข้อความแจ้งเตือนควรใช้

## <a name="user-id"></a>รหัสผู้ใช้

บน FastTab **แจ้งเตือนฉันด้วย** ของกล่องโต้ตอบ **สร้างกฎการแจ้งเตือน** คุณสามารถระบุผู้ใช้ที่ควรได้รับข้อความแจ้งเตือนได้ โดยค่าเริ่มต้น มีการเลือกรหัสผู้ใช้ของคุณ ความสามารถในการเปลี่ยนผู้ใช้ที่ได้รับการแจ้งเตือนถูกจำกัดให้กับผู้ดูแลระบบองค์กร

## <a name="alerts-as-business-events"></a>การแจ้งเตือนเป็นเหตุการณ์ทางธุรกิจ

คุณสามารถส่งการแจ้งเตือนภายนอกโดยใช้กรอบงานเหตุการณ์ทางธุรกิจ เมื่อสร้างข้อความแจ้งเตือน ให้ตั้งค่า **ทั่วทั้งองค์กร** เป็น **ไม่** และตั้งค่า **ส่งภายนอก** เป็น **ใช่** หลังจากที่คุณได้การแจ้งเตือนที่ทริกเกอร์เหตุการณ์ทางธุรกิจแล้ว คุณสามารถทริกเกอร์โฟลว์ที่สร้างใน Power Automate โดยใช้ **เมื่อเหตุการณ์ทางธุรกิจเกิดขึ้น** ทริกเกอร์บนตัวเชื่อมต่อ Finance and Operations หรือส่งเหตุการณ์ไปยังปลายทางเหตุการณ์ทางธุรกิจอย่างชัดแจ้งผ่านทาง **แค็ตตาล็อกเหตุการณ์ทางธุรกิจ**

## <a name="create-an-alert-rule"></a>สร้างกฎการแจ้งเตือน 

0. ตรวจสอบให้แน่ใจว่ามีการรันชุดงานการแจ้งเตือน (ดูด้านบน)
1. เปิดหน้าที่มีข้อมูลที่จะตรวจสอบ
2. บนบานหน้าต่างการดำเนินการ บนแท็บ **ตัวเลือก** ในกลุ่ม **แบ่งปัน** เลือก **สร้างกฎการแจ้งเตือน**
3. ในกล่องโต้ตอบ **สร้างกฎการแจ้งเตือน** ในฟิลด์ **ฟิลด์** ให้เลือกฟิลด์ที่จะตรวจสอบ
4. ในฟิลด์ **เหตุการณ์** เลือกชนิดของเหตุการณ์
5. บน FastTab **แจ้งเตือนฉันสำหรับ** เลือกตัวเลือกที่ต้องการ ถ้าคุณต้องการส่งข้อความแจ้งเตือนเป็นเหตุการณ์ทางธุรกิจ ให้ตั้งค่าค่า **ทั่วทั้งองค์กร** เป็น **ไม่**
6. ถ้ากฎการแจ้งเตือนควรกลายเป็นปิดใช้งานในวันที่หนึ่งๆ บน FastTab **แจ้งเตือนฉันจนกว่า** ให้เลือกวันที่สิ้นสุด
7. บน FastTab **แจ้งเตือนฉันด้วย** ในฟิลด์ **ชื่อเรื่อง** ยอมรับหัวข้อเรื่องค่าเริ่มต้นสำหรับข้อความอีเมล หรือป้อนชื่อเรื่องใหม่ ข้อความจะเป็นหัวข้อเรื่องสำหรับข้อความอีเมลที่คุณได้รับ เมื่อการแจ้งเตือนถูกทริกเกอร์ ถ้าคุณต้องการส่งข้อความแจ้งเตือนเป็นเหตุการณ์ทางธุรกิจ ให้ตั้งค่า **ส่งภายนอก** เป็น **ใช่**
8. ในฟิลด์ **ข้อความ** ป้อนข้อความที่ไม่จำเป็นต้องระบุ ข้อความจะเป็นข้อความที่คุณได้รับ เมื่อมีการทริกเกอร์การแจ้งเตือน
9. เลือก **ตกลง** เพื่อบันทึกการตั้งค่าและสร้างกฎการแจ้งเตือน

## <a name="limitations-and-workarounds"></a>ข้อจำกัดและวิธีแก้ไขปัญหา

### <a name="workaround-for-creating-alerts-for-the-secondary-data-sources-of-a-form"></a>วิธีแก้ปัญหาสำหรับการสร้างข้อความแจ้งเตือนสำหรับแหล่งข้อมูลรองของฟอร์ม
คุณไม่สามารถสร้างการแจ้งเตือนสำหรับแหล่งข้อมูลรองบางแหล่งบนฟอร์ม ตัวอย่างเช่น เมื่อสร้างข้อความแจ้งเตือนบนฟอร์มโปรไฟล์การลงรายการบัญชีลูกค้าหรือผู้จัดจำหน่าย เฉพาะฟิลด์บนส่วนหัว (CustLedger หรือ VendLedger) เท่านั้นที่พร้อมใช้งานและไม่ใช่บัญชีมิติ วิธีการแก้ไขปัญหาสำหรับข้อจำกัดนี้ คือใช้ **SysTableBrowser** เพื่อเปิดตารางนั้นเป็นแหล่งข้อมูลหลัก 
1. เปิดตารางในฟอร์ม **SysTableBrowser**
    ```
        https://<EnvironmentURL>/?cmp=USMF&mi=SysTableBrowser&TableName=<TableName>
    ```
2. สร้างข้อความแจ้งเตือนจากฟอร์ม SysTableBrowser

### <a name="change-based-alerts-do-not-work-for-batch-status-changes"></a>การแจ้งเตือนตามการเปลี่ยนแปลงไม่ทำงานสำหรับการเปลี่ยนแปลงสถานะชุดงาน
การแจ้งเตือนตามการเปลี่ยนแปลงใช้กับการเปลี่ยนแปลงสถานะชุดงานไม่ได้ เนื่องจากถูกปิดใช้งานด้วยเหตุผลด้านประสิทธิภาพ คุณควรตั้งค่าความสามารถ **การแจ้งเตือนชุดงาน** แทน สำหรับข้อมูลเพิ่มเติม ดูได้ที่ [ตั้งค่าการแจ้งเตือนสำหรับแบบฟอร์มที่เพิ่มประสิทธิภาพชุดงาน](../../dev-itpro/sysadmin/alerts.md#set-up-alerts-for-batch-enhanced-forms)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]