---
# required metadata
title: ภาพรวมของงานการนำเข้าและส่งออกข้อมูล
description: ใช้พื้นที่ทำงานการจัดการข้อมูลเพื่อสร้าง และจัดการการนำเข้าข้อมูล และงานการส่งออก
author: peakerbl
ms.date: 10/21/2021
ms.topic: overview
ms.prod: null
ms.technology: null
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: peakerbl
ms.search.validFrom: '2016-02-28'
ms.dyn365.ops.version: AX 7.0.0
---

# <a name="data-import-and-export-jobs-overview"></a>ภาพรวมของงานการนำเข้าและส่งออกข้อมูล

[!include [banner](../includes/banner.md)]

เมื่อต้องการสร้างและจัดการงานส่งออกและนำเข้าข้อมูล ให้คุณใช้พื้นที่ทำงาน **การจัดการข้อมูล** โดยค่าเริ่มต้น กระบวนการนำเข้าและส่งออกข้อมูลจะสร้างตารางที่กำลังเตรียมสำหรับแต่ละเอนทิตี้้ในฐานข้อมูลเป้าหมาย ตารางที่กำลังเตรียมช่วยให้คุณได้ตรวจสอบ ล้าง หรือแปลงข้อมูลก่อนที่คุณจะย้าย

> [!NOTE]
> หัวข้อนี้สันนิษฐานว่า คุณมีความคุ้นเคยกับ [เอนทิตี้ข้อมูล](data-entities.md)

## <a name="data-importexport-process"></a>กระบวนการนำเข้า/ส่งออกข้อมูล
ต่อไปนี้เป็นขั้นตอนการนำเข้าหรือส่งออกข้อมูล

1. สร้างงานการนำเข้าหรือส่งออกโดยที่คุณได้ทำงานต่อไปนี้เสร็จสมบูรณ์แล้ว:

    - กำหนดประเภทของในโครงการ
    - ระบุเอนทิตี้้เพื่อนำเข้าหรือส่งออก
    - ตั้งค่ารูปแบบข้อมูลสำหรับงาน
    - ลำดับเอนทิตี้้ เพื่อที่จะประมวลผลในกลุ่มเชิงตรรกะ และตามลำดับที่เหมาะสม
    - กำหนดว่าจะใช้ตารางที่กำลังเตรียมหรือไม่

2. ตรวจสอบว่าข้อมูลต้นทางและข้อมูลเป้าหมายถูกแมปอย่างถูกต้อง
3. ตรวจสอบความปลอดภัยสำหรับงานการนำเข้าหรือส่งออกของคุณ
4. รันงานการนำเข้าและส่งออก
5. ตรวจสอบว่ามีการรันงานตามที่คาดไว้หรือไม่โดยการตรวจทานประวัติงาน
6. ล้างข้อมูลตารางที่กำลังเตรียม

ส่วนที่เหลือของหัวข้อนี้ให้รายละเอียดเพิ่มเติมเกี่ยวกับแต่ละขั้นตอนของกระบวนการ

> [!NOTE]
> เมื่อต้องการรีเฟรชแบบฟอร์มการนำเข้า/ส่งออกข้อมูลเพื่อดูความคืบหน้าล่าสุด ใช้ไอคอนการรีเฟรชแบบฟอร์ม ไม่แนะนำการรีเฟรชระดับเบราเซอร์ เนื่องจากจะยุติงานการนำเข้า/ส่งออกใดๆ ที่ไม่ได้ถูกรันในชุดงาน

## <a name="create-an-import-or-export-job"></a>สร้างงานการนำเข้าและส่งออก
คุณสามารถรันงานการนำเข้าและส่งออกได้ครั้งเดียวหรือหลายครั้งได้

### <a name="define-the-project-category"></a>กำหนดประเภทของในโครงการ
เราขอแนะนำให้คุณเลือกประเภทโครงการที่เหมาะสมสำหรับงานการนำเข้าและส่งออกของคุณอย่างใส่ใจ ประเภทโครงการสามารถช่วยให้คุณจัดการงานที่เกี่ยวข้อง

### <a name="identify-the-entities-to-import-or-export"></a>ระบุเอนทิตี้้เพื่อนำเข้าหรือส่งออก
คุณสามารถเพิ่มเอนทิตี้งานการนำเข้าและส่งออกหรือเลือกเทมเพลตที่จะใช้ เทมเพลตจะทำให้งานสมบูรณ์ด้วยรายการของเอนทิตี้้ ตัวเลือก **ใช้เทมเพลต** จะพร้อมใช้งานหลังจากที่คุณตั้งชื่องานและบันทึกงาน

### <a name="set-the-data-format-for-the-job"></a>ตั้งค่ารูปแบบข้อมูลสำหรับงาน
เมื่อคุณเลือกเอนทิตี้ คุณต้องเลือกรูปแบบของข้อมูลที่จะส่งออกหรือนำเข้า คุณกำหนดรูปแบบโดยใช้ไทล์ **การตั้งค่าแหล่งข้อมูล** รูปแบบข้อมูลต้นทางคือ ชุดของ **ชนิด** **รูปแบบไฟล์** **ตัวคั่นแถว** และ **ตัวคั่นคอลัมน์** นอกจากนั้น ยังมีแอททริบิวต์อื่นๆ แต่สิ่งเหล่านี้เป็นสิ่งสำคัญเพื่อให้เข้าใจ ตารางต่อไปนี้แสดงรายการชุดที่ถูกต้อง

| รูปแบบไฟล์            | ตัวคั่นแถว/คอลัมน์                       | ลักษณะ XML                 |
|------------------------|--------------------------------------------|---------------------------|
| Excel                  | Excel                                      | \-NA-                     |
| XML                    | \-NA-                                      | องค์ประกอบ XML แอททริบิวต์ XML |
| ความกว้างคงที่ซึ่งกำหนดเขต | เครื่องหมายจุลภาค อัฒภาค แท็บ แถบแนวตั้ง เครื่องหมายจุดคู่ | \-NA-                     |

> [!NOTE]
> ควรเลือกค่าที่ถูกต้องถือเป็นเรื่องสำคัญสำหรับ **ตัวแบ่งแถว** **ตัวแบ่งคอลัมน์** และ **ตัวบ่งคุณลักษณะข้อความ** ถ้าตัวเลือก **รูปแบบไฟล์** มีการตั้งค่าเป็น **แบ่ง** ตรวจสอบให้แน่ใจว่าข้อมูลของคุณไม่มีอักขระที่ใช้เป็นตัวแบ่งหรือตัวบ่งคุณลักษณะ เนื่องจากอาจเกิดข้อผิดพลาดระหว่างการนําเข้าและส่งออก

### <a name="sequence-the-entities"></a>ลำดับเอนทิตี้
คุณสามารถจัดลำดับเอนทิตี้้ได้ในเทมเพลตข้อมูล หรือในงานการนำเข้าและส่งออก เมื่อคุณรันงานที่ประกอบด้วยเอนทิตี้ข้อมูลมากกว่าหนึ่งรายการ คุณต้องมั่นใจว่าเอนทิตีข้อมูลที่จะถูกเรียงลำดับอย่างถูกต้อง คุณจะต้องเรียงลำดับเอนทิตีส่วนใหญ่เพื่อให้คุณสามารถระบุการขึ้นต่อกันของฟังก์ชันระหว่างเอนทิตี ถ้าเอนทิตีไม่มีการขึ้นต่อกันของฟังก์ชัน พวกเขาสามารถจัดกำหนดการสำหรับการส่งออกหรือการนำเข้าพร้อมกัน

#### <a name="execution-units-levels-and-sequences"></a>หน่วย ระดับ และลำดับของการดำเนินการ
หน่วยการดำเนินการ ระดับในหน่วยการดำเนินการ และลำดับของเอนทิตี้จะช่วยควบคุมลำดับที่ข้อมูลจะถูกส่งออกหรือนำเข้า

- เอนทิตี้ในหน่วยการดำเนินการอื่นถูกประมวลผลพร้อมกัน
- ในแต่ละหน่วยการดำเนินการ เอนทิตี้จะถูกประมวลผลพร้อมกันหากมีระดับเดียวกัน
- ในแต่ละระดับ เอนทิตี้จะถูกประมวลผลตามหมายเลขลำดับของตนในระดับนั้น
- หลังจากที่มีการประมวลผลหนึ่งระดับแล้ว ระดับถัดไปจะถูกประมวลผล

#### <a name="resequencing"></a>การเรียงลำดับใหม่
คุณอาจต้องการจัดลำดับเอนทิตี้ใหม่ในสถานการณ์ต่อไปนี้:

- ถ้ามีการใช้งานข้อมูลเพียงรายการเดียวสำหรับการเปลี่ยนแปลงทั้งหมดของคุณ คุณสามารถใช้ตัวเลือกการเรียงลำดับใหม่เพื่อเพิ่มเวลาการดำเนินการสำหรับงานทั้งหมด ในกรณีเหล่านี้ คุณสามารถใช้หน่วยการดำเนินการเพื่อแสดงถึงโมดูล ระดับที่จะแสดงถึงพื้นที่คุณลักษณะในโมดูล และลำดับที่จะแสดงถึงเอนทิตี้ โดยใช้วิธีการนี้ คุณสามารถทำงานในโมดูลต่าง ๆ พร้อมกันได้ แต่คุณยังคงสามารถทำงานในโมดูลหนึ่งตามลำดับได้เช่นกัน เพื่อช่วยรับประกันว่าการดำเนินงานพร้อมกันจะสำเร็จ คุณจะต้องพิจารณาการขึ้นต่อกันทั้งหมด
- ถ้ามีการใช้งานข้อมูลหลายรายการ (ตัวอย่างเช่น หนึ่งงานสำหรับแต่ละโมดูล) คุณสามารถใช้การจัดลำดับเพื่อให้มีผลกับระดับและลำดับของเอนทิตี้สำหรับการดำเนินการที่ดีที่สุด
- ถ้าไม่มีการขึ้นต่อกันเลย คุณสามารถลำดับเอนทิตี้ในหน่วยการดำเนินการที่แตกต่างกันสำหรับการเพิ่มประสิทธิภาพสูงสุด

เมนู **การเรียงลำดับใหม่** จะพร้อมใช้งานเมื่อมีการเลือกเอนทิตีหลายรายการ คุณสามารถเรียงลำดับใหม่ตามหน่วยการดำเนินการ ระดับ หรือตัวเลือกลำดับได้ คุณสามารถตั้งค่าการเพิ่มขึ้นเรียงลำดับเอนทิตี้ที่ถูกเลือกใหม่ ในหน่วย ระดับ และ/หรือหมายเลขลำดับที่ถูกเลือกสำหรับแต่ละเอนทิตี้จะถูกอัพเดตโดยการเพิ่มขึ้นที่ระบุ

#### <a name="sorting"></a>การเรียงลำดับ
สามารถใช้ตัวเลือก **เรียงลำดับตาม** เพื่อดูรายการเอนทิตี้ตามลำดับได้

### <a name="truncating"></a>การตัดให้สั้นลง
สำหรับโครงการที่นำเข้า คุณสามารถเลือกเพื่อตัดเรกคอร์ดในเอนทิตี้ให้สั้นลง ก่อนที่จะนำเข้า ซึ่งมีประโยชน์ ถ้าเรกคอร์ดของคุณต้องถูกนำเข้าลงในชุดของตารางเปล่า การตั้งค่านี้ถูกตามค่าเริ่มต้น

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a>ตรวจสอบว่าข้อมูลต้นทางและข้อมูลเป้าหมายถูกแมปอย่างถูกต้อง
การแมปมีฟังก์ชันที่ใช้กับทั้งงานการนำเข้าและส่งออก

- ในบริบทของงานการนำเข้า การแมปจะอธิบายว่าคอลัมน์ใดในไฟล์ต้นทางจะกลายเป็นคอลัมน์ในตารางที่กำลังจัดเตรียม ดังนั้น ระบบสามารถกำหนดว่าข้อมูลคอลัมน์ใดในไฟล์ต้นทางต้องถูกคัดลอกไปที่คอลัมน์ของตารางที่กำลังเตรียม
- ในบริบทของงานการนำเข้า การแมปจะอธิบายว่าคอลัมน์ใดในตารางที่กำลังจัดเตรียม (ซึ่งเป็นต้นทาง) จะกลายเป็นคอลัมน์ในไฟล์เป้าหมาย

ถ้าคอลัมน์มีชื่อในตารางที่กำลังจัดเตรียมและการจับคู่ไฟล์ ระบบจะสร้างการแมปตามชื่อโดยอัตโนมัติ อย่างไรก็ตาม ถ้าชื่อแตกต่างกัน คอลัมน์จะไม่ถูกแมปโดยอัตโนมัติ ในกรณีดังกล่าว คุณต้องดำเนินการแมปโดยการเลือกตัวเลือก **ดูแผนที่** บนเอนทิตี้ในงานข้อมูล

มีมุมมองการแมปสองอย่าง:**การแสดงภาพการแมป** ซึ่งเป็นมุมมองเริ่มต้น และ **รายละเอียดของการแมป** เครื่องหมายดอกจันสีแดง (\*) ระบุฟิลด์ที่จำเป็นใด ๆ ในเอนทิตี้ คุณจะต้องแมปฟิลด์เหล่านี้ก่อนจึงจะสามารถทำงานกับเอนทิตี้ได้ คุณสามารถยกเลิกการแมปฟิลด์อื่น ๆ ตามที่คุณต้องการเมื่อคุณทำงานกับเอนทิตี้ เมื่อต้องการยกเลิกการแมปฟิลด์ เลือกฟิลด์ในคอลัมน์ **เอนทิตี้** หรือคอลัมน์ **ต้นทาง** และจากนั้นเลือก **ลบสิ่งที่เลือก** เลือก **บันทึก** เพื่อบันทึกการเปลี่ยนแปลง และปิดหน้าดังกล่าวเพื่อกลับไปยังโครงการ คุณสามารถใช้กระบวนการเดียวกันนี้เพื่อแก้ไขการแมปฟิลด์จากแหล่งข้อมูลไปยังการจัดเตรียมหลังจากที่คุณนำเข้าแล้ว

คุณสามารถสร้างการแมปบนหน้าได้โดยการเลือก **สร้างการแมปต้นทาง** การแมปที่สร้างขึ้นทำหน้าที่เหมือนกับการแมปอัตโนมัติ ดังนั้น คุณต้องแมปฟิลด์ใด ๆ ที่ไม่ได้แมปด้วยตนเอง

![การแมปข้อมูล](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a>ตรวจสอบความปลอดภัยสำหรับงานการนำเข้าหรือส่งออกของคุณ
การเข้าถึงพื้นที่ทำงาน **การจัดการข้อมูล** อาจถูกจำกัด เพื่อให้ผู้ใช้ที่ไม่ใช่ผู้ดูแลระบบสามารถเข้าถึงงานข้อมูลที่เฉพาะเจาะจงได้ การเข้าถึงงานข้อมูลบ่งชี้ความสามารถในการเข้าถึงแบบเต็มไปยังประวัติการดำเนินงานของงานดังกล่าวและการเข้าถึงตารางที่กำลังเตรียม ดังนั้น คุณต้องแน่ใจว่ามีการควบคุมการเข้าถึงที่เหมาะสมเมื่อคุณสร้างงานข้อมูล

### <a name="secure-a-job-by-roles-and-users"></a>รักษาความปลอดภัยให้กับงานตามบทบาทและผู้ใช้
ใช้เมนู **บทบาทที่เกี่ยวข้อง** เพื่อจำกัดงานสำหรับบทบาทความปลอดภัยอย่างน้อยหนึ่งอย่าง เฉพาะผู้ใช้ในบทบาทเหล่านั้นที่สามารถเข้าถึงงานได้

นอกจากนี้คุณยังสามารถจำกัดงานให้กับผู้ใช้เฉพาะได้ เมื่อคุณรักษางานตามผู้ใช้แทนบทบาทความปลอดภัย จะไม่มีการควบคุมเพิ่มเติมถ้าผู้ใช้หลายคนถูกกำหนดให้กับบทบาท

### <a name="secure-a-job-by-legal-entity"></a>รักษาความปลอดภัยให้กับงานโดยนิติบุคคล
ลักษณะของงานข้อมูลทั่วไปเป็นแบบส่วนกลาง ดังนั้น ถ้างานข้อมูลถูกสร้างและใช้ในนิติบุคคล งานจะปรากฏให้เห็นในนิติบุคคลอื่น ๆ ในระบบ อาจมีการต้องการลักษณะการทำงานเริ่มต้นนี้ในสถานการณ์การใช้บางอย่าง ตัวอย่างเช่น องค์กรที่นำเข้าใบแจ้งหนี้โดยใช้เอนทิตีข้อมูลอาจมีทีมงานประมวลผลใบแจ้งหนี้ส่วนกลางที่รับผิดชอบการจัดการข้อผิดพลาดของใบแจ้งหนี้สำหรับทุกแผนกในองค์กร ในสถานการณ์นี้ จะเป็นประโยชน์สำหรับทีมงานการประมวลผลใบแจ้งหนี้ส่วนกลางเพื่อให้มีสิทธิ์ในการเข้าถึงงานการนำเข้าใบแจ้งหนี้จากนิติบุคคลทั้งหมด ดังนั้น ลักษณะการทำงานเริ่มต้นตรงตามความต้องการจากมุมมองของนิติบุคคล

อย่างไรก็ตาม องค์กรอาจต้องการมีทีมงานการประมวลผลใบแจ้งหนี้สำหรับแต่ละนิติบุคคล ในกรณีนี้ ทีมงานในนิติบุคคลควรมีการเข้าถึงได้เฉพาะกับงานการนำเข้าใบแจ้งหนี้ในนิติบุคคลของตนเอง เพื่อให้ตรงกับความต้องการนี้ คุณสามารถตั้งค่าคอนฟิกควบคุมการเข้าถึงงานข้อมูลตามนิติบุคคลโดยใช้เมนู **นิติบุคคลที่เกี่ยวข้อง** ภายในงานข้อมูลได้ หลังจากตั้งค่าคอนฟิกแล้ว ผู้ใช้จะสามารถดูงานที่พร้อมใช้งานในนิติบุคคลที่พวกเขากำลังล็อกอินอยู่เท่านั้น เมื่อต้องการดูงานจากนิติบุคคลอื่น ผู้ใช้ต้องสลับไปที่นิติบุคคลนั้น

งานจะได้รับการรักษาความปลอดภัยตามบทบาท ผู้ใช้ และนิติบุคคลในเวลาเดียวกัน

## <a name="run-the-import-or-export-job"></a>รันงานการนำเข้าและส่งออก
คุณสามารถรันงานครั้งเดียวโดยการเลือกปุ่ม **นำเข้า** หรือ **ส่งออก** หลังจากที่คุณกำหนดงานได้ เมื่อต้องการตั้งค่างานที่เกิดซ้ำ เลือก **สร้างงานข้อมูลที่เกิดซ้ำ**

> [!NOTE]
> งานการนำเข้าหรือการส่งออกสามารถรันได้โดยการเลือกปุ่ม **นำเข้า** หรือ **ส่งออก** การดำเนินการนี้จะจัดกำหนดการชุดงานเพื่อรันเพียงครั้งเดียว งานอาจไม่ดำเนินการทันทีถ้าบริการชุดงานมีการควบคุมปริมาณเนื่องจากมีการโหลดบนบริการชุดงาน งานยังสามารถถูกรันแบบซิงโครนัสได้โดยเลือก **นำเข้าเดี๋ยวนี้** หรือ **ส่งออกเดี๋ยวนี้** การดำเนินการนี้เริ่มต้นงานโดยทันที และจะมีประโยชน์ ถ้าชุดงานไม่ได้เริ่มต้นเนื่องจากการควบคุมปริมาณ นอกจากนี้ยังสามารถจัดกำหนดการงานที่จะดำเนินการในภายหลัง ซึ่งสามารถทำได้โดยการเลือกตัวเลือก **รันในชุดงาน** ทรัพยากรชุดงานขึ้นอยู่กับการควบคุมปริมาณ ดังนั้น ชุดงานจึงไม่อาจเริ่มต้นได้โดยทันที การใช้ชุดงานคือตัวเลือกที่แนะนำเนื่องจากจะช่วยให้คุณสามารถนำเข้าหรือส่งออกข้อมูลปริมาณมาก สามารถจัดกำหนดการชุดงานเพื่อรันในกลุ่มชุดงานเฉพาะ ซึ่งอนุญาตการควบคุมเพิ่มเติมจากมุมมองที่สร้างสมดุลในการโหลด

## <a name="validate-that-the-job-ran-as-expected"></a>ตรวจสอบว่ามีการรันงานตามที่คาดไว้หรือไม่
ประวัติงานจะพร้อมใช้งานสำหรับการแก้ไขปัญหาและการตรวจสอบทั้งงานการนำเข้าและส่งออก การรันงานในอดีตจะถูกจัดระเบียบตามช่วงเวลา

![ช่วงประวัติงาน](./media/dixf-job-history.md.png)

การรันงานแต่ละรายการจะแสดงรายละเอียดต่อไปนี้:

- รายละเอียดการดำเนินการ
- ล็อกการดำเนินการ

รายละเอียดการดำเนินการแสดงสถานะของแต่ละเอนทิตี้ข้อมูลที่งานประมวลผล ดังนั้น คุณสามารถค้นหาข้อมูลต่อไปนี้ได้อย่างรวดเร็ว:

- เอนทิตีใดถูกประมวลผล
- สำหรับเอนทิตี มีเรกคอร์ดจำนวนเท่าใดที่มีการประมวลผลเสร็จเรียบร้อยแล้ว และมีจำนวนเท่าใดที่ล้มเหลว
- เรกคอร์ดการแบ่งระยะสำหรับเอนทิตีแต่ละรายการ

คุณสามารถดาวน์โหลดข้อมูลการจัดเตรียมในไฟล์สำหรับงานการส่งออก หรือคุณสามารถดาวน์โหลดเป็นแพคเกจสำหรับงานการนำเข้าและส่งออก

จากรายละเอียดการดำเนินการ คุณสามารถเปิดล็อกการดำเนินการได้เช่นกัน

## <a name="parallel-imports"></a>การนำเข้าแบบขนาน
เมื่อต้องการเพิ่มความเร็วในการนำเข้าข้อมูล การประมวลผลแบบขนานของการนำเข้าไฟล์สามารถเปิดใช้งานได้ ถ้าเอนทิตี้สนับสนุนการนำเข้าแบบขนาน เมื่อต้องการตั้งค่าคอนฟิกการนำเข้าแบบขนานสำหรับเอนทิตี้ ควรปฏิบัติตามขั้นตอนต่อไปนี้

1. ไปที่ **การจัดการระบบ \> พื้นที่ทำงาน \> การจัดการข้อมูล**
2. ในส่วน **นำเข้า/ส่งออก** ให้เลือกไทล์ **พารามิเตอร์กรอบงาน** เพื่อเปิดหน้า **พารามิเตอร์กรอบงานการนำเข้า/ส่งออกข้อมูล**
3. บนแท็บ **การตั้งค่าเอนทิตี้** ให้เลือก **ตั้งค่าคอนฟิกพารามิเตอร์การดำเนินการเอนทิตี้** เพื่อเปิดหน้า **พารามิเตอร์การดำเนินการนำเข้าเอนทิตี้**
4. ตั้งค่าฟิลด์ต่อไปนี้เพื่อตั้งค่าคอนฟิกการนำเข้าแบบขนานสำหรับเอนทิตี้:

    - ในฟิลด์ **เอนทิตี้** เลือกเอนทิตี้
    - ในฟิลด์ **นำเข้าจำนวนเรกคอร์ดขีดจำกัด** ให้ป้อนจำนวนเรกคอร์ดขีดจำกัดสำหรับการนำเข้า นี่จะกำหนดจำนวนเรกคอร์ดที่จะถูกประมวลผลโดยเธรด ถ้าไฟล์มีเรกคอร์ด 10K จำนวนเรกคอร์ด 2500 รายการที่มีจำนวนงานเป็น 4 จะหมายถึง แต่ละเธรดจะประมวลผลเรกคอร์ด 2500 รายการ
    - ในฟิลด์ **นำเข้าจำนวนงาน** ให้ป้อนจำนวนงานที่นำเข้า การดำเนินการนี้ต้องไม่เกินเธรดชุดงานสูงสุดที่ปันส่วนสำหรับการประมวลผลชุดงานใน **การจัดการระบบ \> การตั้งค่าคอนฟิกเซิร์ฟเวอร์**

## <a name="job-history-clean-up"></a>การล้างข้อมูลประวัติงาน 
ต้องใช้ฟังก์ชันการล้างข้อมูลประวัติงานในการจัดการข้อมูล เพื่อจัดกำหนดการล้างข้อมูลประจำงวดของประวัติการดำเนินการ ฟังก์ชันนี้แทนที่ฟังก์ชันการล้างข้อมูลของตารางการแบ่งระยะก่อนหน้านี้ ซึ่งจะถูกเลิกใช้ในขณะนี้ ตารางต่อไปนี้จะถูกล้างข้อมูลโดยกระบวนการล้างข้อมูล

-   ตารางการแบ่งระยะทั้งหมด

-   DMFSTAGINGVALIDATIONLOG

-   DMFSTAGINGEXECUTIONERRORS

-   DMFSTAGINGLOGDETAIL

-   DMFSTAGINGLOG

-   DMFDEFINITIONGROUPEXECUTIONHISTORY

-   DMFEXECUTION

-   DMFDEFINITIONGROUPEXECUTION

คุณลักษณะ **การล้างประวัติการดำเนินการ** ต้องเปิดใช้งานในการจัดการลักษณะการทำงาน จากนั้นคุณจึงสามารถเข้าถึงได้จาก **การจัดการข้อมูล \> การล้างข้อมูลประวัติงาน**

### <a name="scheduling-parameters"></a>พารามิเตอร์การจัดกำหนดการ

เมื่อจัดกำหนดการกระบวนการล้างข้อมูล พารามิเตอร์ต่อไปนี้ต้องถูกระบุเพื่อกำหนดเงื่อนไขการล้างข้อมูล

-   **จำนวนของวันในการเก็บประวัติ** – มีการใช้การตั้งค่านี้เพื่อควบคุมจำนวนของประวัติการดำเนินการที่จะถูกรักษาไว้ นี่จะถูกระบุไว้ในจำนวนของวัน เมื่องานการล้างข้อมูลถูกจัดกำหนดการเป็นชุดงานที่เกิดซ้ำ การตั้งค่านี้จะทำหน้าที่เหมือนกับหน้าต่างการย้ายอย่างต่อเนื่อง จึงปล่อยให้ประวัติสำหรับจำนวนวันที่ระบุเหมือนเดิมเสมอ ในขณะที่ลบส่วนที่เหลือ ค่าเริ่มต้นคือ 7 วัน

-   **จำนวนของชั่วโมงในการดำเนินงาน** – โดยขึ้นอยู่กับจำนวนของประวัติที่จะถูกล้างข้อมูล เวลาการดำเนินการทั้งหมดสำหรับงานการล้างข้อมูลอาจแตกต่างกันไปตั้งแต่สองสามนาทีถึงสองสามชั่วโมง ต้องกำหนดพารามิเตอร์นี้เป็นจำนวนชั่วโมงที่งานจะดำเนินการ หลังจากที่งานการล้างข้อมูลได้ดำเนินการเท่ากับจำนวนชั่วโมงที่ระบุ งานจะจบการทำงานและจะดำเนินการล้างข้อมูลในครั้งถัดไปที่รันตามกำหนดการการเกิดซ้ำ

    สามารถระบุเวลาการดำเนินการสูงสุดได้โดยการตั้งค่าขีดจำกัดสูงสุดในจำนวนของชั่วโมงที่งานต้องรันโดยใช้การตั้งค่านี้ ตรรกะการล้างข้อมูลจะผ่านรหัสการดำเนินการงานหนึ่งรหัสในลำดับที่จัดเรียงตามลำดับวันเดือนปี ที่มีรายการที่เก่าที่สุดเป็นรายการแรกสำหรับการล้างข้อมูลประวัติการดำเนินการที่เกี่ยวข้อง ซึ่งจะหยุดการเบิกสินค้ารหัสการดำเนินการใหม่สำหรับการล้างข้อมูล เมื่อระยะเวลาการดำเนินการที่เหลืออยู่อยู่ภายใน 10% สุดท้ายของระยะเวลาที่ระบุ ในบางกรณี จะมีการคาดหวังว่างานการล้างข้อมูลจะดำเนินต่อไปนอกเหนือจากเวลาสูงสุดที่ระบุ ซึ่งส่วนใหญ่จะขึ้นอยู่กับจำนวนของเรกคอร์ดที่จะถูกลบสำหรับรหัสการดำเนินการปัจจุบันที่เริ่มต้นก่อนที่จะถึงขีดจำกัด 10% การล้างข้อมูลที่เริ่มต้นต้องเสร็จสมบูรณ์เพื่อให้มั่นใจในความสมบูรณ์ของข้อมูล ซึ่งหมายความว่าการล้างข้อมูลจะดำเนินต่อไป แม้จะเกินขีดจำกัดที่ระบุ เมื่อดำเนินการเสร็จสมบูรณ์แล้ว จะไม่มีการเบิกรหัสการดำเนินการใหม่และงานการล้างข้อมูลจะเสร็จสมบูรณ์ ประวัติการดำเนินการที่เหลืออยู่ที่ไม่ได้รับการล้างข้อมูลเนื่องจากการขาดเวลาการดำเนินการที่เพียงพอ จะถูกเบิกในครั้งต่อไปที่มีการจัดกำหนดการล้างข้อมูล ค่าเริ่มต้นและค่าต่ำสุดสำหรับการตั้งค่านี้ถูกตั้งค่าเป็น 2 ชั่วโมง

-   **ชุดงานที่เกิดซ้ำ** – งานการล้างข้อมูลสามารถรันเป็นการดำเนินการด้วยตนเองแบบครั้งเดียว หรือยังสามารถจัดกำหนดการสำหรับการดำเนินการที่เกิดซ้ำในชุดงานได้ด้วย ชุดงานสามารถจัดกำหนดการโดยใช้การตั้งค่า **รันในเบื้องหลัง** ซึ่งเป็นการตั้งค่าชุดงานมาตรฐาน

> [!NOTE]
> ถ้าไม่มีการล้างข้อมูลเรกคอร์ดในตารางการแบ่งระยะอย่างสมบูรณ์ ให้ตรวจสอบให้แน่ใจว่างานการล้างข้อมูลถูกจัดกำหนดการให้รันในการเกิดซ้ำ ตามที่อธิบายไว้ข้างต้น ในการดำเนินการล้างข้อมูลใดๆ งานจะทำการล้างข้อมูลรหัสการดำเนินการให้มากที่สุดเท่าที่จะเป็นไปได้ภายในชั่วโมงสูงสุดที่ระบุเท่านั้น ถ้าต้องการดำเนินการล้างข้อมูลเรกคอร์ดการแบ่งระยะที่เหลืออยู่ใดๆ ต้องจัดกำหนดการงานให้รันเป็นระยะๆ

## <a name="job-history-clean-up-and-archival"></a>การล้างข้อมูลประวัติงานและการเก็บถาวร 
ฟังก์ชันการล้างข้อมูลประวัติงานและการเก็บถาวรจะแทนที่ฟังก์ชันการล้างข้อมูลรุ่นก่อนหน้านี้ ส่วนนี้จะอธิบายความสามารถใหม่เหล่านี้

การเปลี่ยนแปลงหลักอย่างหนึ่งสำหรับฟังก์ชันล้างข้อมูล คือการใช้ชุดงานของระบบสำหรับการล้างข้อมูลประวัติ การใช้ชุดงานของระบบจะช่วยให้แอปการเงินและการดำเนินงานสามารถให้ชุดงานล้างข้อมูลมีการจัดกำหนดการ และรันโดยอัตโนมัติในทันทีที่ระบบพร้อม ไม่จำเป็นต้องจัดกำหนดการชุดงานด้วยตนเองอีกต่อไป ในโหมดการดำเนินการเริ่มต้นนี้ ชุดงานจะดำเนินการทุกชั่วโมง เริ่มต้นที่เที่ยงคืน และจะเก็บประวัติการดำเนินการสำหรับ 7 วันล่าสุด ประวัติการลบออกจะถูกเก็บถาวรสำหรับการดึงข้อมูลในอนาคต เริ่มต้นด้วยเวอร์ชัน 10.0.20 คุณลักษณะนี้จะเปิดใช้งานอยู่เสมอ

การเปลี่ยนแปลงที่สองในกระบวนการล้างข้อมูลเป็นการเก็บถาวรของประวัติการดำเนินการที่ลบออก งานการล้างข้อมูลจะเก็บเรกคอร์ดที่ลบไปยังที่เก็บ blob ที่ DIXF ใช้สำหรับการรวมปกติ ไฟล์ที่เก็บถาวรจะอยู่ในรูปแบบแพคเกจ DIXF และจะพร้อมใช้งาน 7 วันใน blob ระหว่างเวลาที่คุณสามารถดาวน์โหลดได้ อายุการใช้งานเริ่มต้น 7 วันสำหรับไฟล์ที่เก็บถาวรสามารถเปลี่ยนเป็นวันที่สูงสุด 90 วันในพารามิเตอร์

### <a name="changing-the-default-settings"></a>การเปลี่ยนแปลงการตั้งค่าเริ่มต้น
ฟังก์ชันนี้มีอยู่ในการแสดงตัวอย่างและต้องเปิดอยู่อย่างชัดแจ้งโดยการเปิดใช้งาน DMFEnableExecutionHistoryCleanupSystemJob ของเที่ยวบิน ลักษณะการทำงานล้างข้อมูลการแบ่งระยะต้องมีการเปิดใช้งานในการจัดการลักษณะการทำงานด้วย

เมื่อต้องการเปลี่ยนการตั้งค่าเริ่มต้นสำหรับการกำหนดอายุของไฟล์ที่เก็บถาวร ให้ไปที่พื้นที่ทำงานการจัดการข้อมูล แล้วเลือก **ล้างข้อมูลประวัติงาน** กำหนด **จำนวนวันที่จะเก็บบรรจุภัณฑ์ไว้ใน blob** เป็นค่าระหว่าง 7 และ 90 (รวม) การดำเนินการนี้จะมีผลต่อการเก็บถาวรที่สร้างขึ้นหลังจากที่ทำการเปลี่ยนแปลงนี้

### <a name="downloading-the-archived-package"></a>กำลังดาวน์โหลดแพคเกจที่เก็บถาวร
ฟังก์ชันนี้มีอยู่ในการแสดงตัวอย่างและต้องเปิดอยู่อย่างชัดแจ้งโดยการเปิดใช้งาน DMFEnableExecutionHistoryCleanupSystemJob ของเที่ยวบิน ลักษณะการทำงานล้างข้อมูลการแบ่งระยะต้องมีการเปิดใช้งานในการจัดการลักษณะการทำงานด้วย

เมื่อต้องการดาวน์โหลดประวัติการดำเนินการที่เก็บถาวร ให้ไปที่พื้นที่ทำงานการจัดการข้อมูล แล้วเลือก **ล้างข้อมูลประวัติงาน** เลือก **ประวัติการสำรองข้อมูลของแพคเกจ** เพื่อเปิดแบบฟอร์มประวัติ ฟอร์มนี้จะแสดงรายการของแพคเกจที่เก็บถาวรทั้งหมด คุณสามารถเลือกและดาวน์โหลดส่วนเก็บถาวรได้โดยการเลือก **ดาวน์โหลดแพคเกจ** แพคเกจที่ดาวน์โหลดจะอยู่ในรูปแบบแพคเกจ DIXF และมีไฟล์ต่อไปนี้:

-   ไฟล์ตารางการจัดเตรียมเอนทิตี
-   DMFDEFINITIONGROUPEXECUTION
-   DMFDEFINITIONGROUPEXECUTIONHISTORY
-   DMFEXECUTION
-   DMFSTAGINGEXECUTIONERRORS
-   DMFSTAGINGLOG
-   DMFSTAGINGLOGDETAILS
-   DMFSTAGINGVALIDATIONLOG



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
