---
title: ผู้ที่มีแนวโน้มจะเป็นลูกค้าจนถึงเงินสดในการรวมแบบสองทิศทาง
description: หัวข้อนี้แสดงข้อมูลเกี่ยวกับผู้ที่มีแนวโน้มจะเป็นลูกค้าจนถึงเงินสดในการรวมแบบสองทิศทาง
author: RamaKrishnamoorthy
manager: AnnBe
ms.date: 01/27/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: ramasri
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-01-27
ms.openlocfilehash: b21d468d672277be14877b93e291e9833659c54a
ms.sourcegitcommit: 0a741b131ed71f6345d4219a47cf5f71fec6744b
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 10/13/2020
ms.locfileid: "3997411"
---
# <a name="prospect-to-cash-in-dual-write"></a>ผู้ที่มีแนวโน้มจะเป็นลูกค้าจนถึงเงินสดในการรวมแบบสองทิศทาง

[!include [banner](../../includes/banner.md)]



เป้าหมายสำคัญของธุรกิจส่วนใหญ่คือ การแปลงผู้ที่มีแนวโน้มจะเป็นลูกค้าให้เป็นลูกค้า และจากนั้นรักษาความสัมพันธ์ทางธุรกิจที่มีความต่อเนื่องกับลูกค้าเหล่านั้น ในแอป Microsoft Dynamics 365 กระบวนการของผู้ที่มีแนวโน้มจะเป็นลูกค้าจนถึงเงินสดเกิดขึ้นโดยใช้ใบเสนอราคาหรือลำดับงานการประมวลผลใบสั่ง และมีการกระทบยอดและการรับรู้การเงิน การรวมของผู้ที่มีแนวโน้มจะเป็นลูกค้าจนถึงเงินสดที่มีการรวมแบบสองทิศทางจะสร้างลำดับงานที่จะใช้ใบเสนอราคาและใบสั่งที่มีต้นกำเนิดใน Dynamics 365 Sales หรือ Dynamics 365 Supply Chain Management และทำให้ใบเสนอราคาและใบสั่งพร้อมใช้งานในทั้งสองแอป

ในอินเทอร์เฟสแอป คุณสามารถเข้าถึงสถานะการประมวลผลและข้อมูลใบแจ้งหนี้ในเวลาจริงได้ ดังนั้น คุณจึงสามารถจัดการฟังก์ชันต่างๆ ได้ง่ายขึ้น เช่น การเก็บสต็อกผลิตภัณฑ์ การจัดการสินค้าคงคลัง และการเติมสินค้าใน Supply Chain Management โดยไม่ต้องสร้างใบเสนอราคาและใบสั่งใหม่อีกครั้ง

![โฟลว์ข้อมูลการรวมแบบสองทิศทางในผู้ที่มีแนวโน้มจะเป็นลูกค้าจนถึงเงินสด](../dual-write/media/dual-write-prospect-to-cash[1].png)

## <a name="prerequisites-and-mapping-setup"></a>การตั้งค่าการแม็ปและข้อกำหนดเบื้องต้น

ก่อนที่คุณจะสามารถซิงค์ใบเสนอราคาขายได้ คุณต้องอัพเดตการตั้งค่าต่อไปนี้

### <a name="setup-in-sales"></a>การตั้งค่าใน Sales

ใน Sales ไปยัง **การตั้งค่า \> การจัดการ \> การตั้งค่าระบบ \> Sales** และต้องมั่นใจว่ามีใช้การตั้งค่าต่อไปนี้:

- ตัวเลือกระบบ **ใช้ระบบคำนวณการให้รางวัล** ถูกตั้งค่าเป็น **ใช่**
- ฟิลด์ **วิธีการคำนวณส่วนลด** ถูกกำหนดเป็น **สินค้าในรายการ**

### <a name="sites-and-warehouses"></a>ไซต์และคลังสินค้า

ใน Supply Chain Management ต้องมีฟิลด์ **ไซต์** และ **คลังสินค้า** สำหรับรายการใบเสนอราคาและรายการใบสั่ง ถ้าคุณตั้งค่าไซต์และคลังสินค้าในการตั้งค่าใบสั่งเริ่มต้น จะมีการตั้งค่าฟิลด์เหล่านั้นโดยอัตโนมัติเมื่อคุณเพิ่มผลิตภัณฑ์ลงในรายการใบเสนอราคาหรือรายการใบสั่ง 

### <a name="number-sequences-for-quotations-and-orders"></a>ลำดับหมายเลขสำหรับใบเสนอราคาและใบสั่ง

ลำดับหมายเลขสำหรับ Supply Chain Management และ Sales ไม่ได้เชื่อมต่อ เมื่อมีการสร้างและซิงค์ใบเสนอราคาและใบสั่งใน Sales และ Supply Chain Management ถ้าใบสั่งขายที่สร้างขึ้นใน Sales ถูกซิงค์กับ Supply Chain Management จะมีหมายเลขใบสั่งขายเดียวกันใน Supply Chain Management เมื่อต้องการตรวจสอบให้แน่ใจว่าหมายเลขใบสั่งขายไม่ซ้ำกัน คุณต้องใช้ระบบลำดับหมายเลขที่แตกต่างกันในแอปสองแอป

ตัวอย่างเช่น ลำดับหมายเลขใน Supply Chain Management คือ **1, 2, 3, 4, 5, ...** และลำดับหมายเลขใน Sales คือ **100, 99, 98, ...** ถ้าคุณสร้างใบสั่งขาย 100 ใบใน Sales ในที่สุดหมายเลขใบสั่งจะถูกสร้างขึ้นซึ่งมีอยู่แล้วใน Supply Chain Management กล่าวคือ ลำดับหมายเลขสองลำดับจะทับซ้อนกันในที่สุดเมื่อมีการสร้างใบสั่งขายใน Supply Chain Management และ Sales แต่คุณอาจใช้ลำดับหมายเลข เช่น **F1, F2, F3, ...** ใน Supply Chain Management และลำดับหมายเลข เช่น **C1, C2, C3, ...** ใน Sales ลำดับหมายเลขเหล่านี้จะไม่มีการสร้างหมายเลขใบสั่งขายที่ซ้ำกัน

## <a name="sales-quotations"></a>ใบเสนอราคาขาย

ใบเสนอราคาขายสามารถถูกสร้างขึ้นใน Sales หรือ Supply Chain Management อย่างใดอย่างหนึ่ง ถ้าคุณสร้างใบเสนอราคาใน Sales จะมีการซิงค์กับ Supply Chain Management ในเวลาจริง ในทำนองเดียวกัน ถ้าคุณสร้างใบเสนอราคาใน Supply Chain Management จะมีการซิงค์กับ Sales ในเวลาจริง บันทึกคะแนนต่อไปนี้:

+ คุณสามารถเพิ่มส่วนลดให้กับผลิตภัณฑ์ในใบเสนอราคาได้ ในกรณีนี้ ส่วนลดจะถูกซิงค์กับ Supply Chain Management ฟิลด์ **ส่วนลด** **ค่าธรรมเนียม** และ **ภาษี** ในส่วนหัวถูกควบคุมโดยการตั้งค่าใน Supply Chain Management ขั้นตอนนี้ไม่สนับสนุนการแม็ปการรวม แต่ฟิลด์ **ราคา** **ส่วนลด** **ค่าธรรมเนียม** และ **ภาษี** จะถูกรักษาและจัดการใน Supply Chain Management
+ ฟิลด์ **ส่วนลด %** **ส่วนลด** และ **ยอดเงินค่าขนส่ง** ในส่วนหัวของใบเสนอราคาขายเป็นฟิลด์แบบอ่านอย่างเดียว
+ ฟิลด์ **เงื่อนไขการขนส่ง** **เงื่อนไขการจัดส่ง** **วิธีการขนส่ง** และ **โหมดการจัดส่ง** ไม่ได้เป็นส่วนหนึ่งของการแม็ปเริ่มต้น หากต้องการแม็ปฟิลด์เหล่านี้ คุณต้องตั้งค่าการแม็ปค่าที่เฉพาะเจาะจงสำหรับข้อมูลในองค์กรที่เอนทิตีถูกซิงค์

นอกจากนี้ ถ้าคุณกำลังใช้โซลูชัน Field Service ให้ตรวจสอบให้แน่ใจว่าได้เปิดใช้งานพารามิเตอร์ **สร้างด่วนบรรทัดคำขอใบเสนอราคา** อีกครั้ง การเปิดใช้งานพารามิเตอร์อีกครั้งช่วยให้คุณสามารถสร้างบรรทัดใบเสนอราคาได้อย่างต่อเนื่อง โดยใช้ฟังก์ชันการสร้างด่วน
1. นำทางไปยังแอพลิเคชัน Dynamics 365 Sales ของคุณ
2. เลือกไอคอนการตั้งค่าในแถบนำทางด้านบน
3. เลือก **การตั้งค่าขั้นสูง**
4. เลือกตัวเลือก **กำหนดค่าระบบ**
5. เลือกรายการเมนู **บรรทัดใบเสนอราคา**
6. ไปที่ส่วน **บริการข้อมูล** และเลือกกล่องกาเครื่องหมาย **อนุญาตให้มีการสร้างด่วน**

## <a name="sales-orders"></a>ใบสั่งขาย

ใบสั่งขายสามารถถูกสร้างขึ้นใน Sales หรือ Supply Chain Management อย่างใดอย่างหนึ่ง ถ้าคุณสร้างใบสั่งขายใน Sales จะมีการซิงค์กับ Supply Chain Management ในเวลาจริง ในทำนองเดียวกัน ถ้าคุณสร้างใบสั่งขายใน Supply Chain Management จะมีการซิงค์กับ Sales ในเวลาจริง บันทึกคะแนนต่อไปนี้:

+ ผลิตภัณฑ์ที่เขียนเพิ่มใน Dynamics 365 Sales จะปรากฏเป็นประเภทผลิตภัณฑ์ใน Dynamics 365 Supply Chain Management
+ การคำนวณส่วนลดและการปัดเศษ:

    - รูปแบบการคำนวณส่วนลดใน Sales แตกต่างจากแบบจำลองการคำนวณส่วนลดใน Supply Chain Management ใน Supply Chain Management ยอดส่วนลดขั้นสุดท้ายในรายการขายอาจเป็นผลของชุดของเปอร์เซ็นต์ส่วนลดและยอดส่วนลด ถ้ายอดเงินส่วนลดขั้นสุดท้ายนี้ถูกหารด้วยปริมาณในรายการ การปัดเศษสามารถเกิดขึ้นได้ อย่างไรก็ตาม การปัดเศษนี้จะไม่ถูกพิจารณา หากยอดส่วนลดต่อหน่วยที่ถูกปัดเศษถูกซิงค์กับ Sales เพื่อช่วยให้แน่ใจว่า ยอดเงินส่วนลดทั้งหมดจากรายการขายใน Supply Chain Management ถูกซิงโครไนส์กับ Sales อย่างถูกต้อง ยอดเงินเต็มจำนวนต้องถูกซิงค์โดยไม่มีการหารด้วยปริมาณสำหรับรายการ ดังนั้น คุณต้องกำหนดวิธีการคำนวณส่วนลดเป็น **สินค้าในรายการ** ใน Sales
    - เมื่อมีการซิงค์รายการใบสั่งขายจาก Sales ไปยัง Supply Chain Management จะมีการใช้ยอดส่วนลดในรายการเต็มจำนวน เนื่องจาก Supply Chain Management ไม่มีฟิลด์ที่สามารถจัดเก็บยอดส่วนลดเต็มจำนวนสำหรับรายการได้ ปริมาณถูกหารด้วยปริมาณและจัดเก็บไว้ในฟิลด์ **ส่วนลดต่อรายการ** การปัดเศษใดๆ ที่เกิดขึ้นระหว่างการหารนี้ จะถูกจัดเก็บในฟิลด์ **ค่าธรรมเนียมการขาย** ในรายการขาย

### <a name="example-synchronization-from-sales-to-supply-chain-management"></a>ตัวอย่าง: การซิงโครไนส์จาก Sales ไปยัง Supply Chain Management

คุณมีใบสั่งขายต่อไปนี้:

+ **Sales:** ปริมาณ = 3 ส่วนลดต่อรายการ = $10.00
+ **Supply Chain Management:** ปริมาณ = 3 ยอดส่วนลดต่อรายการ = $3.33 ค่าธรรมเนียมการขาย = –$0.01

ถ้าคุณซิงค์จาก Supply Chain Management ไปยัง Sales คุณจะได้รับผลลัพธ์ต่อไปนี้:

+ **Supply Chain Management:** ปริมาณ = 3 ยอดส่วนลดต่อรายการ = $3.33 ค่าธรรมเนียมการขาย = –$0.01
+ **Sales:** ปริมาณ = 3 ส่วนลดต่อรายการ = (3 × $3.33) + $0.01 = $10.00

## <a name="dual-write-solution-for-sales"></a>โซลูชันการรวมแบบสองทิศทางสำหรับ Sales

ฟิลด์ใหม่ได้ถูกเพิ่มลงในเอนทิตี **ใบสั่ง** และแสดงขึ้นบนหน้า ฟิลด์เหล่านี้ส่วนใหญ่จะปรากฏบนแท็บ **การรวม** ใน Sales เมื่อต้องการเรียนรู้เพิ่มเติมเกี่ยวกับวิธีการแม็ปฟิลด์สถานะ ให้อ้างอิงถึงหัวข้อคู่มือ เพื่อ [ตั้งค่าการแม็ปสำหรับฟิลด์สถานะของใบสั่งขาย](https://review.docs.microsoft.com/en-us/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/sales-status-map?branch=robin-dw-status-map)

+ ปุ่ม **สร้างใบแจ้งหนี้** และปุ่ม **ยกเลิกใบสั่ง** บนหน้า **ใบสั่งขาย** จะถูกซ่อนอยู่ใน Sales
+ ค่า **สถานะของใบสั่งขาย** จะยังคง **ใช้งานอยู่** เพื่อช่วยให้แน่ใจว่าการเปลี่ยนแปลงจาก Supply Chain Management สามารถดำเนินไปยังใบสั่งขายใน Sales ได้ เพื่อควบคุมลักษณะการทำงานนี้ ตั้งค่าค่า **Statecode \[สถานะ\]** เริ่มต้น เป็น **ใช้งานอยู่**

## <a name="invoices"></a>ใบแจ้งหนี้

ใบแจ้งหนี้ Sales จะถูกสร้างขึ้นใน Supply Chain Management และซิงค์ไปยัง Sales บันทึกคะแนนต่อไปนี้:

+ ฟิลด์ **หมายเลขใบแจ้งหนี้** ถูกเพิ่มไปยังเอนทิตี้ **ใบแจ้งหนี้** และแสดงขึ้นบนหน้า
+ ปุ่ม **สร้างใบแจ้งหนี้** บนหน้า **ใบสั่งขาย** ถูกซ่อนอยู่ เนื่องจากใบแจ้งหนี้จะถูกสร้างขึ้นใน Supply Chain Management และถูกซิงค์ไปยัง Sales หน้า **ใบแจ้งหนี้** จะไม่สามารถแก้ไขได้ เนื่องจากใบแจ้งหนี้จะถูกซิงค์จาก Supply Chain Management
+ ค่า **สถานะของใบสั่งขาย** จะเปลี่ยนเป็น **ออกใบแจ้งหนี้แล้ว** โดยอัตโนมัติ เมื่อใบแจ้งหนี้ที่เกี่ยวข้องจาก Supply Chain Management ถูกซิงโครไนส์ไปยัง Sales นอกจากนี้ เจ้าของใบสั่งขายที่มีการสร้างใบแจ้งหนี้จะยังถูกกำหนดให้เป็นเจ้าของของใบแจ้งหนี้อีกด้วย ดังนั้น เจ้าของใบสั่งขายสามารถดูใบแจ้งหนี้ได้
+ ฟิลด์ **เงื่อนไขการขนส่ง** **เงื่อนไขการจัดส่ง** และ **โหมดการจัดส่ง** ไม่ได้รวมอยู่ในการแม็ปเริ่มต้น หากต้องการแม็ปฟิลด์เหล่านี้ คุณต้องตั้งค่าการแม็ปค่าที่เฉพาะเจาะจงสำหรับข้อมูลในองค์กรที่เอนทิตีถูกซิงค์

## <a name="templates"></a>เท็มเพลต

ผู้ที่มีแนวโน้มจะเป็นลูกค้าจนถึงเงินสดรวมชุดของแผนผังเอนทิตีหลัก ที่ทำงานร่วมกันในระหว่างการโต้ตอบข้อมูลลูกค้า ดังที่แสดงในตารางต่อไปนี้

| แอป Finance and Operations | แอปที่เป็นแบบโมเดลใน Dynamics 365 | คำอธิบาย |
|-----------------------------|-----------------------------------|-------------|
| ส่วนหัวของใบแจ้งหนี้การขาย V2    | ใบแจ้งหนี้                          |             |
| รายการในใบแจ้งหนี้การขาย V2      | invoicedetails                    |             |
| ส่วนหัวของใบสั่งขาย CDS     | salesorders                       |             |
| รายการในใบสั่งขาย CDS       | salesorderdetails                 |             |
| รหัสจุดเริ่มต้นของใบสั่งขาย    | msdyn\_salesorderorigins          |             |
| ส่วนหัวของใบเสนอราคาขาย CDS  | ใบเสนอราคา                            |             |
| รายการในใบเสนอราคาขาย CDS   | quotedetails                      |             |

ต่อไปนี้เป็นแผนผังเอนทิตีหลักที่เกี่ยวข้องสำหรับผู้ที่มีแนวโน้มจะเป็นลูกค้าจนถึงเงินสด:

+ [ลูกค้า V3 สำหรับบัญชี](customer-mapping.md#customers-v3-to-accounts)
+ [ผู้ติดต่อของ CDS V2 สำหรับผู้ติดต่อ](customer-mapping.md#cds-contacts-v2-to-contacts)
+ [ลูกค้า V3 สำหรับผู้ติดต่อ](customer-mapping.md#customers-v3-to-contacts)
+ [ผลิตภัณฑ์ที่นำออกใช้ V2 สำหรับ msdyn_sharedproductdetails](product-mapping.md#released-products-v2-to-msdyn_sharedproductdetails)
+ [ผลิตภัณฑ์ทั้งหมดสำหรับ msdyn_globalproducts](product-mapping.md#all-products-to-msdyn_globalproducts)
+ [รายการราคา](product-mapping.md)

[!include [symbols](../../includes/dual-write-symbols.md)]

[!include [sales invoice](includes/SalesInvoiceHeaderV2Entity-invoice.md)]

[!include [sales invoice line](includes/SalesInvoiceLineV2Entity-invoicedetail.md)]

[!include [sales order header](includes/SalesOrderHeaderCDSEntity-salesorder.md)]

[!include [sales order line](includes/SalesOrderLineCDSEntity-salesorderdetails.md)]

[!include [sales order origin](includes/SalesOrderOriginEntity-msdyn-salesorderorigin.md)]

[!include [sales quotation header](includes/SalesQuotationHeaderCDSEntity-quote.md)]

[!include [sales quotation line](includes/SalesQuotationLineCDSEntity-QuoteDetails.md)]
