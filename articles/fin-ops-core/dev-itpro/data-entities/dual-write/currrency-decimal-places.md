---
title: การโยกย้ายชนิดข้อมูลสกุลเงินสำหรับการรวมแบบสองทิศทาง
description: หัวข้อนี้จะอธิบายวิธีการเปลี่ยนจำนวนตำแหน่งทศนิยมที่รองรับการรวมแบบสองทิศทางสำหรับสกุลเงิน
author: RamaKrishnamoorthy
ms.date: 12/08/2021
ms.topic: article
audience: Application User, IT Pro
ms.reviewer: tfehr
ms.search.region: global
ms.author: ramasri
ms.search.validFrom: 2020-04-06
ms.openlocfilehash: e9dc3e6c5fbec9636370b64a9bbdcf8a5834d332
ms.sourcegitcommit: 4be1473b0a4ddfc0ba82c07591f391e89538f1c3
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 01/31/2022
ms.locfileid: "8061847"
---
# <a name="currency-data-type-migration-for-dual-write"></a>การโยกย้ายชนิดข้อมูลสกุลเงินสำหรับการรวมแบบสองทิศทาง

[!include [banner](../../includes/banner.md)]



คุณสามารถเพิ่มจำนวนตำแหน่งทศนิยมที่ได้รับการสนับสนุนสำหรับค่าสกุลเงินได้สูงสุด 10 ตำแหน่ง ขีดจำกัดเริ่มต้นคือจุดทศนิยมสี่ตำแหน่ง โดยการเพิ่มจำนวนตำแหน่งทศนิยม คุณจะช่วยป้องกันการสูญเสียข้อมูล เมื่อคุณใช้การรวมแบบสองทิศทางเพื่อซิงค์ข้อมูล การเพิ่มขึ้นในจำนวนตำแหน่งทศนิยมคือการเปลี่ยนแปลงการเข้าร่วม เมื่อต้องการใช้งาน คุณต้องร้องขอความช่วยเหลือจาก Microsoft

กระบวนการในการเปลี่ยนจำนวนตำแหน่งทศนิยมมีสองขั้นตอน:

1. ร้องขอการโยกย้ายจาก Microsoft
2. เปลี่ยนจำนวนตำแหน่งทศนิยมใน Dataverse

แอปการเงินและการดำเนินงานและ Dataverse ต้องรองรับจำนวนตำแหน่งทศนิยมเดียวกันในค่าสกุลเงิน มิฉะนั้น การสูญเสียข้อมูลอาจเกิดขึ้น เมื่อข้อมูลนี้ถูกซิงค์ระหว่างแอป กระบวนการโยกย้ายตั้งค่าคอนฟิกวิธีการจัดเก็บสกุลเงินและอัตราแลกเปลี่ยนใหม่ แต่จะไม่เปลี่ยนแปลงข้อมูลใดๆ หลังจากที่การโยกย้ายเสร็จสมบูรณ์แล้ว คุณสามารถเพิ่มจำนวนตำแหน่งทศนิยมสำหรับรหัสสกุลเงินและการกำหนดราคา และข้อมูลที่ผู้ใช้ป้อนและมุมมองอาจมีจำนวนตำแหน่งทศนิยมมากขึ้น

ไม่จำเป็นต้องระบุการโยกย้าย ถ้าคุณอาจได้รับประโยชน์จากการสนับสนุนสำหรับตำแหน่งทศนิยมที่เพิ่มขึ้น เราขอแนะนำว่าคุณควรพิจารณาการโยกย้าย องค์กรที่ไม่จำเป็นต้องใช้ค่าที่มีตำแหน่งทศนิยมมากกว่าสี่ตำแหน่ง ไม่จำเป็นต้องโยกย้าย

## <a name="requesting-migration-from-microsoft"></a>การร้องขอการโยกย้ายจาก Microsoft

การจัดเก็บสำหรับคอลัมน์สกุลเงินที่มีอยู่ใน Dataverse ไม่สามารถสนับสนุนตำแหน่งทศนิยมที่มากกว่าสี่ตำแหน่ง ดังนั้น ในระหว่างกระบวนการโยกย้าย ค่าสกุลเงินจะถูกคัดลอกไปยังคอลัมน์ภายในใหม่ในฐานข้อมูล กระบวนการนี้จะเกิดขึ้นอย่างต่อเนื่อง จนกว่าจะมีการย้ายข้อมูลทั้งหมด เมื่อสิ้นสุดการโยกย้าย ชนิดการจัดเก็บใหม่จะแทนที่ชนิดการจัดเก็บเก่าภายใน แต่ค่าข้อมูลจะไม่มีการเปลี่ยนแปลง จากนั้น คอลัมน์สกุลเงินสามารถสนับสนุนตำแหน่งทศนิยมได้สูงสุด 10 ตำแหน่ง ในระหว่างกระบวนการโยกย้าย Dataverse สามารถใช้งานต่อไปได้โดยไม่มีการขัดจังหวะ

ในขณะเดียวกัน อัตราแลกเปลี่ยนจะถูกปรับเปลี่ยนเพื่อให้สนับสนุนตำแหน่งทศนิยมสูงสุด 12 ตำแหน่ง แทนที่จะใช้ขีดจำกัดปัจจุบันเป็น 10 ต้องมีการเปลี่ยนแปลงนี้เพื่อให้จำนวนตำแหน่งทศนิยมเหมือนกันในทั้งแอปการเงินและการดำเนินงานและ Dataverse

การโยกย้ายไม่เปลี่ยนแปลงข้อมูลใดๆ หลังจากที่มีการแปลงคอลัมน์สกุลเงินและอัตราแลกเปลี่ยนแล้ว ผู้ดูแลระบบสามารถตั้งค่าคอนฟิกระบบให้ใช้ตำแหน่งทศนิยมได้สูงสุด 10 ตำแหน่งสำหรับคอลัมน์สกุลเงิน โดยการระบุจำนวนตำแหน่งทศนิยมสำหรับสกุลเงินของธุรกรรมแต่ละสกุลเงินและสำหรับการกำหนดราคา

### <a name="request-a-migration"></a>ร้องขอการโยกย้าย

เมื่อต้องการทำให้คุณลักษณะนี้พร้อมใช้งาน อีเมล **CDSExpandDecimal@microsoft.com** และรวมข้อมูลต่อไปนี้:

+ **เรื่อง:** ร้องขอเพื่อเปิดใช้งานการสนับสนุนทศนิยมแบบขยายสำหรับ \<organizationID\>
+ **เนื้อหา:** ฉันต้องการเปิดใช้งานการสนับสนุนทศนิยมแบบขยายสำหรับองค์กรของฉัน \<organizationID\>

ตัวแทน Microsoft จะติดต่อคุณภายในสองถึงสามวันทำการสำหรับขั้นตอนถัดไป

เมื่อคุณร้องขอการโยกย้าย คุณควรตระหนักถึงรายละเอียดต่อไปนี้และวางแผนสำหรับรายละเอียดดังกล่าวให้สอดคล้องกัน:

+ เวลาที่จำเป็นต้องใช้ในการย้ายข้อมูลจะขึ้นอยู่กับจำนวนข้อมูลในระบบ การโยกย้ายฐานข้อมูลที่มีขนาดใหญ่อาจใช้เวลาหลายวัน
+ ขนาดของฐานข้อมูลจะเพิ่มขึ้นชั่วคราว ขณะที่การโยกย้ายกำลังเรียกใช้อยู่ เนื่องจากจำเป็นต้องมีพื้นที่เพิ่มเติมสำหรับดัชนี พื้นที่เพิ่มเติมส่วนใหญ่จะว่างเปล่า เมื่อการโยกย้ายเสร็จสมบูรณ์
+ ในระหว่างกระบวนการโยกย้าย ถ้าเกิดข้อผิดพลาดที่ทำให้ไม่สามารถดำเนินการย้ายข้อมูลให้เสร็จสิ้น ระบบจะเพิ่มการแจ้งเตือนไปยังฝ่ายสนับสนุนของ Microsoft เพื่อให้เจ้าหน้าที่สนับสนุนสามารถแทรกแซง อย่างไรก็ตาม ถึงแม้ว่าจะเกิดข้อผิดพลาดระหว่างการโยกย้าย Dataverse ยังคงพร้อมใช้งานทั้งหมดสำหรับการใช้งานปกติ
+ กระบวนการโยกย้ายไม่สามารถย้อนกลับได้

## <a name="changing-the-number-of-decimal-places"></a>การเปลี่ยนแปลงจำนวนตำแหน่งทศนิยม

หลังจากเสร็จสิ้นการโยกย้าย Dataverse สามารถจัดเก็บจำนวนที่มีตำแหน่งทศนิยมมากขึ้น ผู้ดูแลระบบสามารถเลือกจำนวนตำแหน่งทศนิยมที่ใช้สำหรับรหัสสกุลเงินที่ระบุและสำหรับการกำหนดราคา ผู้ใช้ Microsoft Power Apps, Power BI และ Power Automate สามารถดูและใช้ตัวเลขที่มีตำแหน่งทศนิยมมากขึ้นได้

เมื่อต้องการทำการเปลี่ยนแปลงนี้ คุณต้องปรับปรุงการตั้งค่าต่อไปนี้ใน Power Apps

+ **การตั้งค่าระบบ: ความแม่นยำของสกุลเงินสำหรับการกำหนดราคา** – คอลัมน์ **ตั้งค่าความแม่นยำของสกุลเงินที่ใช้สำหรับการกำหนดราคาทั่วทั้งระบบ** กำหนดลักษณะการทำงานของสกุลเงินสำหรับองค์กร เมื่อมีการเลือก **ความแม่นยำของการกำหนดราคา**
+ **การจัดการธุรกิจ: สกุลเงิน** – คอลัมน์ **ความแม่นยำของสกุลเงิน** ช่วยให้คุณสามารถระบุจำนวนตำแหน่งทศนิยมที่กำหนดเองสำหรับสกุลเงินที่ระบุ มีการสำรองไปยังการตั้งค่าทั้งองค์กร

มีข้อจำกัดบางรายการ:

+ คุณไม่สามารถตั้งค่าคอนฟิกคอลัมน์สกุลเงินในตารางได้
+ คุณสามารถระบุตำแหน่งทศนิยมมากกว่าสี่ตำแหน่งได้เฉพาะที่ระดับ **การกำหนดราคา** และ **สกุลเงินและธุรกรรม** เท่านั้น

### <a name="system-settings-currency-precision-for-pricing"></a>การตั้งค่าระบบ: ความแม่นยำของสกุลเงินสำหรับการกำหนดราคา

หลังจากการโยกย้ายเสร็จสมบูรณ์ ผู้ดูแลระบบจะสามารถกำหนดความแม่นยำของสกุลเงินได้ ไปที่ **การตั้งค่า \> การจัดการ** และเลือก **การตั้งค่าระบบ** จากนั้น บนแท็บ **ทั่วไป** ให้เปลี่ยนค่าของคอลัมน์ **ตั้งค่าความแม่นยำของสกุลเงินที่ใช้สำหรับการกำหนดราคาทั่วทั้งระบบ** ดังที่แสดงในภาพประกอบต่อไปนี้

![การตั้งค่าระบบสำหรับสกุลเงิน](media/currency-system-settings.png)

### <a name="business-management-currencies"></a>การจัดการธุรกิจ: สกุลเงิน

ถ้าคุณต้องการให้ความแม่นยำของสกุลเงินสำหรับสกุลเงินหนึ่งๆ แตกต่างจากความแม่นยำของสกุลเงินที่ใช้สำหรับการกำหนดราคา คุณสามารถเปลี่ยนแปลงได้ ไปที่ **การตั้งค่า \> การจัดการธุรกิจ** เลือก **สกุลเงิน** และเลือกสกุลเงินที่จะเปลี่ยน จากนั้น ตั้งค่าคอลัมน์ **ความแม่นยำของสกุลเงิน** เป็นจำนวนตำแหน่งทศนิยมที่คุณต้องการ ดังที่แสดงในภาพประกอบต่อไปนี้

![การตั้งค่าสกุลเงินสำหรับตำแหน่งที่ตั้งที่ระบุ](media/specific-currency.png)

### <a name="tables-currency-column"></a>ตาราง: คอลัมน์สกุลเงิน

จำนวนตำแหน่งทศนิยมที่สามารถตั้งค่าคอนฟิกสำหรับคอลัมน์สกุลเงินเฉพาะ จะถูกจำกัดไว้ที่สี่ตำแหน่ง

### <a name="default-currency-decimal-precision"></a>ความละเอียดทศนิยมของสกุลเงินเริ่มต้น
สำหรับลักษณะการทำงานที่คาดไว้สำหรับความละเอียดทศนิยมของสกุลเงินเริ่มต้นภายใต้การย้ายและสถานการณ์สถานการณ์ที่ไม่ใช่การย้าย ให้ดูที่ตารางต่อไปนี้ 

| วันที่สร้าง  | ฟิลด์ทศนิยมของสกุลเงิน    | องค์กรที่มีอยู่ (ไม่ได้ย้ายฟิลด์สกุลเงิน) | องค์กรที่มีอยู่ (ย้ายฟิลด์สกุลเงิน) | การลงรายการบัญชีที่สร้างองค์กรขึ้นใหม่รุ่น 9.2.21062.00134 |
|---------------------------------------------------------|-------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|------------------------------------------------|
| ฟิลด์สกุลเงินที่สร้างก่อน 9.2.21111.00146  |     |  |       |
|    | ความละเอียดสูงสุดที่มองเห็นได้ใน UI   | 4 หลัก    | 10 หลัก    | ไม่ระบุ    |
| | ความละเอียดสูงสุดที่มองเห็นได้ในฐานข้อมูลและ UI ผลการสอบถามฐานข้อมูล         | 4 หลัก   | 10 หลัก   | ไม่ระบุ    |
| ฟิลด์สกุลเงินที่สร้างหลัง 9.2.21111.00146 |    |  |     |   |
|   | ความละเอียดทศนิยมสูงสุดที่มองเห็นได้ใน UI     | 4 หลัก   | 10 หลัก   | 10 หลัก     |
|          | ความละเอียดทศนิยมสูงสุดที่มองเห็นได้ในฐานข้อมูลและ UI ผลการสอบถามฐานข้อมูล | 10 หลัก อย่างไรก็ตาม มีเพียง 4 ตัวที่มีนัยสําคัญเลขที่มีศูนย์ทั้งหมดเกินกว่าตัวเลขทศนิยม 4 หลัก ซึ่งเปิดใช้งานการย้ายโครงสร้างขององค์กรที่ง่ายขึ้นและเร็วขึ้น ถ้าต้องใช้ | 10 หลัก      | 10 หลัก     |

[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
