---
title: รวมการจัดซื้อระหว่าง Supply Chain Management และ Field Service
description: หัวข้อนี้อธิบายวิธีการรวมแบบสองทิศทางสนับสนุนการสร้างและการอัปเดตใบสั่งซื้อจากทั้ง Supply Chain Management และ Field Service
author: RichardLuan
ms.date: 11/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: rhaertle
ms.search.region: Global
ms.author: rhaertle
ms.search.validFrom: 2020-11-11
ms.dyn365.ops.version: Release 10.0.17
ms.openlocfilehash: d61fdbb8efd8251cac6db7d5acab3caeb03f7879
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 07/06/2021
ms.locfileid: "6346605"
---
# <a name="integrate-procurement-between-supply-chain-management-and-field-service"></a>รวมการจัดซื้อระหว่าง Supply Chain Management และ Field Service

[!include [banner](../../includes/banner.md)]

[!include [banner](../../includes/preview-banner.md)]

Microsoft Dynamics 365 Supply Chain Management มีฟังก์ชันการจัดซื้อที่มีประสิทธิภาพ Dynamics 365 Field Service มีฟังก์ชันที่คล้ายกัน ซึ่งสนับสนุนกระบวนการซื้อที่สัมพันธ์กับกระบวนการบริการ ฟังก์ชันในแอปทั้งสองนี้รวมเข้ากับแบบสองทิศทาง และกรณีที่ส่งผลเป็นการใช้งานข้ามฟังก์ชันจะเปิดใช้งานผ่านการแม็ปตาราง ตรรกะโซลูชัน มุมมอง และฟอร์ม

การรวมนี้จะสนับสนุนการสร้างใบสั่งซื้อ และส่วนใหญ่แล้ว การอัปเดตจากทั้งสองแอป อย่างไรก็ตาม Supply Chain Management จะควบคุมการกําหนดราคา ที่อยู่ และใบรับสินค้า กรณีการใช้ข้ามฟังก์ชันที่มีประสิทธิภาพหลายกรณีเปิดใช้งานสำหรับหลายองค์กรที่ใช้ทั้ง Field Service และ Supply Chain Management กรณีการใช้เหล่านี้ช่วยให้สามารถเริ่มต้นและติดตามการจัดซื้อระหว่างทั้งสองระบบได้

ภาพอธิบายต่อไปนี้จะแสดงตารางในทั้งสองระบบและวิธีการแม็ปตารางเหล่านั้น ใบสั่งซื้อใน Field Service จะอ้างอิงแถว *บัญชี* ในขณะที่ใบสั่งซื้อใน Supply Chain Management อ้างอิงแถว *ผู้จัดจำหน่าย* เมื่อต้องการแก้ไขการรวม การรวมแบบสองทิศทางจะใช้การอ้างอิงเพื่อเชื่อมโยงแถว *ผู้จัดจำหน่าย* กับแถว *บัญชี* สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [ข้อมูลหลักของผู้จัดจำหน่ายแบบรวม](vendor-mapping.md)

![การแม็ปสำหรับการจัดซื้อ](media/scm-field-service-tables.png)

## <a name="prerequisites"></a>ข้อกำหนดเบื้องต้น

หากต้องการรวม Supply Chain Management เข้ากับ Field Service คุณต้องติดตั้งส่วนประกอบต่อไปนี้

- Field Service รุ่น 8.8.31.60 หรือใหม่กว่า เพื่อการรวมใบสั่งซื้อทั้งหมด
- Supply Chain Management รุ่น 10.0.14 หรือใหม่กว่า
- การรวมแบบสองทิศทาง เพื่อรันโซลูชัน OneFSSCM

## <a name="installation-guidelines"></a>คำแนะนำการติดตั้ง

### <a name="prerequisites"></a>ข้อกำหนดเบื้องต้น

- **การรวมแบบสองทิศทาง** – สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [โฮมเพจการรวมแบบสองทิศทาง](dual-write-home-page.md#dual-write-setup)
- **Dynamics 365 Field Service** – สำหรับข้อมูลเพิ่มเติม ดูที่ [วิธีการติดตั้ง Dynamics 365 Field Service](/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service)

เมื่อเปิดใช้งานใน Microsoft Dataverse แล้ว การรวมแบบสองทิศทางและ Field Service จะแนะนำชั้นโซลูชันต่าง ๆ ที่ขยายสภาพแวดล้อมด้วยข้อมูลเมตา ฟอร์ม มุมมอง และตรรกะใหม่ โซลูชันเหล่านี้สามารถเปิดใช้งานใดก่อนก็ได้ ถึงแม้ว่าโดยปกติแล้วคุณจะติดตั้งตามลำดับที่ระบุที่นี่:

1. **Field Service Common** – Field Service Common ติดตั้งอยู่เมื่อติดตั้ง Field Service ในสภาพแวดล้อม
2. **Field Service (จุดยึด)** – Field Service (จุดยึด) ติดตั้งอยู่เมื่อติดตั้ง Field Service ในสภาพแวดล้อม 
3. **Supply Chain Management แบบขยาย** – Supply Chain Management แบบขยายจะถูกติดตั้งโดยอัตโนมัติเมื่อการรวมแบบสองทิศทางเปิดใช้งานในสภาพแวดล้อม 
4. **โซลูชัน OneFSSCM** – OneFSSCM จะถูกติดตั้งโดยอัตโนมัติโดยโซลูชันใดก็ตาม (Field Service หรือ Supply Chain Management) จะถูกติดตั้งหลังสุด

    - ถ้ามีการติดตั้ง Field Service ในสภาพแวดล้อมแล้ว และคุณเปิดใช้งานการรวมแบบสองทิศทาง ซึ่งติดตั้ง Supply Chain Management แบบขยาย OneFSSCM จะถูกติดตั้ง
    - ถ้ามีการติดตั้ง Supply Chain Management แบบขยาย ในสภาพแวดล้อมแล้ว และคุณติดตั้ง Field Service OneFSSCM จะถูกติดตั้ง

## <a name="initial-synchronization"></a>การซิงโครไนส์ครั้งแรก

เมื่อต้องการสร้างใบสั่งซื้อใหม่และใช้งานใบสั่งซื้อที่มีอยู่ คุณต้องซิงค์ข้อมูลอ้างอิงระหว่าง Supply Chain Management และ Dataverse คุณใช้ฟังก์ชันการรวมแรกเริ่มในการตรวจหาความสัมพันธ์ตารางและค้นหาตารางที่คุณต้องเปิดใช้งานให้กับแผนที่ระบุ

คุณต้องซิงค์ตารางต่อไปนี้:

- แม่แบบผลิตภัณฑ์

    เมื่อคุณรันการรวมครั้งแรก คุณจะได้รับรายการตารางทั้งหมดที่ต้องการ ต่อไปนี้เป็นตัวอย่างของแม่แบบเหล่านี้:

    - ผลิตภัณฑ์ทั้งหมด
    - ผลิตภัณฑ์ที่นำออกใช้ V2
    - Dataverse ผลิตภัณฑ์เฉพาะที่นำออกใช้

- ไซต์
- คลังสินค้า
- แม่แบบประเภทการจัดซื้อ

    ต่อไปนี้เป็นตัวอย่างของแม่แบบเหล่านี้:

    - ประเภทการจัดซื้อ
    - Pro
    - การจัดประเภทตามลำดับชั้นของผลิตภัณฑ์
    - การกำหนดประเภทผลิตภัณฑ์

- แม่แบบผู้จัดจำหน่าย เช่น ผู้จัดจำหน่าย V2
- แม่แบบผู้ติดต่อ เช่น ผู้ติดต่อ Dataverse V2
- แม่แบบผู้ปฏิบัติงาน เช่น ผู้ปฏิบัติงาน

การซิงโครไนส์ตารางช่วยให้มั่นใจว่าเอกสารทั้งหมด (ใบสั่งซื้อและใบรับสินค้า) ใน Supply Chain Management พร้อมใช้งานใน Dataverse

### <a name="account-and-vendor-tables"></a>ตารางบัญชีและผู้จัดจำหน่าย

ใบสั่งซื้อใน Field Service ขึ้นอยู่กับตารางบัญชีเพื่อติดตามผู้จัดจำหน่าย ดังนั้น ตาราง Dataverse ของใบสั่งซื้อจึงใช้บัญชีเพื่อติดตามผู้จัดจำหน่าย เพื่อรองรับความแตกต่างของคีย์นี้ ต้องมีการเรียกใช้งานสี่ลำดับงานต่อไปนี้เพื่อให้บัญชีผู้จัดจำหน่ายและบัญชียังคงซิงค์อยู่ 

- สร้างผู้จัดจำหน่ายในตารางบัญชี
- สร้างผู้จัดจำหน่ายในตารางผู้จัดจำหน่าย
- อัปเดตผู้จัดจำหน่ายในตารางบัญชี
- อัปเดตผู้จัดจำหน่ายในตารางผู้จัดจำหน่าย

ถ้าติดตั้ง OneFSSCM ไว้ เนื่องจากมีการติดตั้งทั้ง Field Service และ Supply Chain Management แบบขยาย ลำดับงานเหล่านี้จะเรียกใช้โดยอัตโนมัติ ถ้าไม่ได้ติดตั้ง Field Service ไว้ แต่คุณต้องการรวมตารางใบสั่งซื้อด้วย Dataverse คุณต้องเรียกใช้ลำดับงานเหล่านี้ต่อไปนี้ ทั้งสองกรณี ยกเว้นว่าคุณจะเริ่มตั้งแต่ต้น คุณอาจต้องตรวจสอบให้แน่ใจว่าผู้จัดจำหน่ายทั้งหมดถูกสร้างขึ้นเป็นบัญชีใน Dataverse ก่อนที่คุณจะสร้างใบสั่งซื้อ มิฉะนั้นจะเกิดข้อผิดพลาดขึ้น

### <a name="initial-synchronization"></a>การซิงโครไนส์ครั้งแรก

หลังจากข้อกำหนดเบื้องต้นหมดพร้อมใช้งาน ถ้าคุณต้องการให้ใบสั่งซื้อและใบรับสินค้าที่มีอยู่พร้อมใช้งานในทั้งสองระบบ คุณต้องซิงโครไนส์เริ่มต้นแม่แบบต่อไปนี้

- ส่วนหัวของใบสั่งซื้อ V2
- รายการใบสั่งซื้อ CDS
- ลบรายการใบสั่งซื้อ CDS แบบซอฟต์
- การรับสินค้าตามใบสั่งซื้อ
- การรับสินค้าตามใบสั่งซื้อผลิตภัณฑ์

## <a name="mappings-with-logic"></a>การแม็ปกับตรรกะ

การรวมการจัดซื้อจะขยายการแม็ปผลิตภัณฑ์ด้วยตรรกะต่อไปนี้ เพื่อให้แน่ใจว่าคอลัมน์ **ชนิดผลิตภัณฑ์ Field Service** มีการตั้งค่าอย่างถูกต้องในตารางผลิตภัณฑ์ใน Dataverse:

- ถ้า **ชนิดผลิตภัณฑ์** ตั้งค่าเป็น *ผลิตภัณฑ์* และ **กลุ่มแบบจำลองสินค้า ผลิตภัณฑ์ที่เก็บในคลัง** ได้รับการตั้งค่าเป็น *จริง* **ชนิดผลิตภัณฑ์ Field Service** จะถูกตั้งค่าเป็น *สินค้าคงคลัง*
- ถ้า **ชนิดผลิตภัณฑ์** ตั้งค่าเป็น *ผลิตภัณฑ์* และ **กลุ่มแบบจำลองสินค้า ผลิตภัณฑ์ที่เก็บในคลัง** ได้รับการตั้งค่าเป็น *เท็จ* **ชนิดผลิตภัณฑ์ Field Service** จะถูกตั้งค่าเป็น *ไม่ใช่สินค้าคงคลัง*
- ถ้า **ชนิดผลิตภัณฑ์** ตั้งค่าเป็น *บริการ* **ชนิดผลิตภัณฑ์ Field Service** จะถูกตั้งค่าเป็น *บริการ*

นอกจากนี้ Dataverse ยังมีตรรกะที่แม็ปผู้จัดจำหน่ายกับบัญชีที่เกี่ยวข้องด้วย ตรรกะนี้จะตั้งค่าบัญชีผู้จัดจำหน่ายใบแจ้งหนี้เริ่มต้น เมื่อสร้าง ตรรกะปลั๊กอินฝั่งเซิร์ฟเวอร์จะตั้งค่าบัญชีผู้จัดจำหน่ายใบแจ้งหนี้เริ่มต้นจากผู้จัดจำหน่ายที่เกี่ยวข้องกับบัญชี ผู้จัดจำหน่ายมีการอ้างอิงไปที่บัญชีใบแจ้งหนี้ที่ใช้ในการตั้งค่านี้

## <a name="supported-scenarios"></a>สถานการณ์จำลองที่ได้รับการสนับสนุน

- ใบสั่งซื้อสามารถสร้างขึ้นและอัปเดตได้โดยผู้ใช้ Dataverse อย่างไรก็ตาม กระบวนการและข้อมูลจะถูกควบคุมโดย Supply Chain Management ข้อจำกัดจากการอัปเดตในคอลัมน์ใบสั่งซื้อใน Supply Chain Management มีผลบังคับเมื่อการอัปเดตมาจาก Field Service ตัวอย่างเช่น คุณไม่สามารถอัปเดตใบสั่งซื้อถ้าใบสั่งซื้อมีการสรุปเป็นขั้นสุดท้ายแล้ว 
- ถ้าใบสั่งซื้อถูกควบคุมโดยการจัดการการเปลี่ยนแปลงใน Supply Chain Management ผู้ใช้ Field Service จะสามารถอัปเดตใบสั่งซื้อได้เฉพาะเมื่อสถานะการอนุมัติของ Supply Chain Management เป็น *แบบร่าง* เท่านั้น
- หลายคอลัมน์มีการจัดการโดย Supply Chain Management เท่านั้น จึงไม่สามารถอัปเดตใน Field Service ได้ หากต้องการทราบคอลัมน์ที่สามารถอัปเดตได้ ให้ตรวจทานตารางการแม็ปในผลิตภัณฑ์ เพื่อความเรียบง่าย คอลัมน์ส่วนใหญ่เหล่านี้ถูกตั้งค่าเป็นอ่านอย่างเดียวบนหน้า Dataverse 

    ตัวอย่างเช่น คอลัมน์ข้อมูลราคาจะจัดการโดย Supply Chain Management Supply Chain Management มีข้อตกลงทางการค้าที่ Field Service สามารถได้รับประโยชน์ คอลัมน์ เช่น **ราคาต่อหน่วย** **ส่วนลด** และ **ยอดเงินสุทธิ** จะมาจาก Supply Chain Management เท่านั้น เพื่อให้แน่ใจว่าราคาจะถูกซิงค์กับ Field Service คุณควรใช้คุณลักษณะ **ซิงค์** บนหน้า **ใบสั่งซื้อ** และ **ผลิตภัณฑ์ตามใบสั่งซื้อ** ใน Dataverse เมื่อมีการป้อนข้อมูลใบสั่งซื้อแล้ว สำหรับข้อมูลเพิ่มเติม ให้ดู [ซิงค์กับข้อมูลการจัดซื้อ Dynamics 365 Supply Chain Management ตามความต้องการ](#sync-procurement)

- คอลัมน์ **ผลรวม** พร้อมใช้งานเฉพาะใน Field Service เท่านั้น เนื่องจากไม่มีผลรวมที่เป็นปัจจุบันของใบสั่งซื้อใน Supply Chain Management ยอดรวมใน Supply Chain Management จะคํานวณตามพารามิเตอร์หลายตัวที่ไม่พร้อมใช้งานใน Field Service
- รายการใบสั่งซื้อที่มีการระบุเฉพาะประเภทการจัดซื้อ หรือที่ผลิตภัณฑ์ที่ระบุเป็นสินค้าที่มีชนิดเป็นผลิตภัณฑ์ *บริการ* หรือชนิดผลิตภัณฑ์ Field Service สามารถเริ่มต้นได้เฉพาะใน Supply Chain Management เท่านั้น จากนั้นรายการจะซิงค์ Dataverse และมองเห็นได้ใน Field Service
- ถ้ามีการติดตั้งเฉพาะ Field Service เท่านั้น ไม่ใช่ Supply Chain Management คอลัมน์ **คลังสินค้า** ถือเป็นข้อมูลบังคับในใบสั่งซื้อ อย่างไรก็ตาม ถ้ามีการติดตั้ง Supply Chain Management ข้อกําหนดนี้ไม่เข้มงวด เนื่องจาก Supply Chain Management อนุญาตให้มีการระบุบรรทัดใบสั่งซื้อที่ไม่มีการระบุคลังสินค้าในบางสถานการณ์
- ใบรับสินค้า (การรับใบสั่งซื้อใน Dataverse) มีการจัดการโดย Supply Chain Management และไม่สามารถสร้างจาก Dataverse ถ้ามีการติดตั้ง Supply Chain Management ใบรับสินค้าจาก Supply Chain Management จะถูกซิงค์จาก Supply Chain Management ไปยัง Dataverse
- ขีดจำกัดการรับสินค้าต่ำกว่าปริมาณการสั่งอนุญาตใน Supply Chain Management โซลูชัน OneFSSCM จะเพิ่มตรรกะ เพื่อให้เมื่อสร้างหรืออัปเดตรายการใบรับสินค้า (หรือผลิตภัณฑ์ในใบรับสินค้าตามใบสั่งซื้อใน Dataverse) แถวสมุดรายวันสินค้าคงคลังจะถูกสร้างขึ้นใน Dataverse เพื่อปรับปรุงปริมาณที่เหลืออยู่ซึ่งอยู่ระหว่างสถานการณ์ขีดจำกัดการรับสินค้าต่ำกว่าปริมาณการสั่งดังกล่าว

## <a name="unsupported-scenarios"></a>สถานการณ์จำลองที่ไม่ได้รับการสนับสนุน

- Field Service ป้องกันไม่ให้มีการเพิ่มรายการในใบสั่งซื้อที่ถูกยกเลิกใน Supply Chain Management การแก้ปัญหา คุณสามารถเปลี่ยนสถานะของระบบของใบสั่งซื้อใน Field Service แล้วเพิ่มบรรทัดใหม่ใน Field Service หรือ Supply Chain Management
- แม้ว่าแถวการจัดซื้อจะมีผลกระทบต่อระดับสินค้าคงคลังในทั้งสองระบบ แต่การรวมนี้จะไม่ตรวจสอบให้แน่ใจถึงการปรับแนวสินค้าคงคลังระหว่าง Supply Chain Management และ Field Service ทั้ง Field Service และ Supply Chain Management มีกระบวนการอื่นๆ ที่อัปเดตระดับสินค้าคงคลัง กระบวนการเหล่านั้นอยู่นอกขอบเขตการจัดซื้อ

## <a name="status-management"></a>การจัดการสถานะ

สถานะของใบสั่งซื้อใน Field Service แตกต่างจากสถานะใน Supply Chain Management

### <a name="field-service-purchase-order-and-purchase-order-product-statuses"></a>ใบสั่งซื้อ Field Service และสถานะผลิตภัณฑ์ตามใบสั่งซื้อ

| ส่วนหัว – สถานะของระบบ | ส่วนหัว – สถานะการอนุมัติ | สถานะของสินค้า |
|---|---|---|
| <ul><li>ฉบับร่าง</li><li>ส่ง</li><li>ถูกยกเลิก</li><li>รับผลิตภัณฑ์แล้ว</li><li>เรียกเก็บเงินแล้ว</li></ul> | <ul><li>Null</li><li>จำนวนที่อนุมัติ</li><li>ถูกปฏิเสธ</li></ul> | <ul><li>รอดำเนินการ</li><li>ได้รับ</li><li>ถูกยกเลิก</li></ul> |

### <a name="supply-chain-management-purchase-order-and-purchase-order-line-statuses"></a>สถานะของใบสั่งซื้อและรายการใบสั่งซื้อของ Supply Chain Management

สถานะการอนุมัติรายการจะเปิดใช้งานเฉพาะเมื่อมีลำดับงานเท่านั้น

| ส่วนหัว – สถานะของเอกสาร | ส่วนหัว – สถานะการอนุมัติ | สถานะของบรรทัด | สถานะการอนุมัติรายการ |
|---|---|---|---|
| <ul><li>ใบสั่งที่เปิดรับ (สินค้าค้างส่ง)</li><li>ได้รับ</li><li>ออกใบแจ้งหนี้แล้ว</li><li>ถูกยกเลิก</li></ul> | <ul><li>ฉบับร่าง</li><li>อยู่ระหว่างการตรวจทาน</li><li>จำนวนที่อนุมัติ</li><li>ถูกปฏิเสธ</li><li>อยู่ระหว่างการตรวจทานจากภายนอก</li><li>ยืนยัน</li><li>ขั้นสุดท้าย</li></ul> | <ul><li>ใบสั่งที่เปิดรับ (สินค้าค้างส่ง)</li><li>ได้รับ</li><li>ออกใบแจ้งหนี้แล้ว</li><li>ถูกยกเลิก</li></ul> | <ul><li>ไม่ได้ส่ง</li><li>อยู่ระหว่างการตรวจทาน</li><li>จำนวนที่อนุมัติ</li><li>ถูกปฏิเสธ</li></ul> |

กฎต่อไปนี้จะใช้กับคอลัมน์สถานะ

- สถานะใน Supply Chain Management ไม่สามารถอัปเดตจาก Field Service ได้ อย่างไรก็ตาม ในบางกรณี สถานะใน Field Service จะถูกอัปเดตเมื่อสถานะของใบสั่งซื้อใน Supply Chain Management มีการเปลี่ยนแปลง
- ถ้าใบสั่งซื้อใน Supply Chain Management อยู่ภายใต้การจัดการการเปลี่ยนแปลง และการเปลี่ยนแปลงอยู่ระหว่างการประมวลผล สถานะการอนุมัติคือ *แบบร่าง* หรือ *อยู่ระหว่างการตรวจทาน* ในกรณีนี้ สถานะการอนุมัติ Field Service จะถูกตั้งค่าเป็น *Null*
- ถ้าสถานะการอนุมัติใบสั่งซื้อใน Supply Chain Management ได้รับการตั้งค่าเป็น *อนุมัติแล้ว* *ในการตรวจทานจากภายนอก* *ยืนยันแล้ว* หรือ *ขั้นสุดท้าย* สถานะการอนุมัติใบสั่งซื้อ Field Service จะตั้งค่าเป็น *อนุมัติแล้ว*
- ถ้าสถานะการอนุมัติใบสั่งซื้อใน Supply Chain Management ได้รับการตั้งค่าเป็น *ถูกปฏิเสธ* สถานะการอนุมัติใบสั่งซื้อ Field Service จะตั้งค่าเป็น *ถูกปฏิเสธ*
- ถ้าสถานะส่วนหน้าของเอกสารใน Supply Chain Management เปลี่ยนเป็น *ใบสั่งส่งคืนสินค้า" (สินค้าค้างส่ง)* และสถานะฟิลด์ใบสั่งซื้อของ Field Service เป็น *ร่าง* หรือ *ยกเลิก* สถานะใบสั่งซื้อของ Field Service จะเปลี่ยนเป็น *ส่งแล้ว*
- ถ้าสถานะส่วนหัวของเอกสารใน Supply Chain Management เปลี่ยนเป็น *ยกเลิก* และไม่มีผลิตภัณฑ์การรับสินค้าตามใบสั่งซื้อใน Field Service สัมพันธ์กับใบสั่งซื้อ (ผ่านผลิตภัณฑ์ตามใบสั่งซื้อ) สถานะของระบบ Field Service จะตั้งค่าเป็น *ยกเลิก*
- ถ้าสถานะของรายการใบสั่งซื้อใน Supply Chain Management เป็น *ยกเลิก* สถานะผลิตภัณฑ์ตามใบสั่งซื้อใน Field Service จะถูกตั้งค่าเป็น *ยกเลิก* นอกจากนี้ ถ้าสถานะของบรรทัดใบสั่งซื้อใน Supply Chain Management มีการเปลี่ยนแปลงจาก *ยกเลิก* เป็นField Service *สินค้าค้างส่ง* สถานะสินค้าของผลิตภัณฑ์ตามใบสั่งซื้อใน Field Service จะถูกตั้งค่าเป็น *ค้างอยู่*

## <a name="sync-with-the-supply-chain-management-procurement-data-on-demand"></a><a id="sync-procurement"></a>ซิงค์กับข้อมูลการจัดซื้อของ Supply Chain Management ตามความต้องการ

Supply Chain Management ประกอบด้วยข้อมูลการจัดซื้อที่จัดการข้อตกลงทางการค้า ส่วนลด และสถานการณ์อื่น ๆ ที่ขึ้นอยู่กับกระบวนการรองใน Supply Chain Management กลไกการจัดซื้อจะใช้กฎที่ซับซ้อนเพื่อกำหนดราคาที่ดีที่สุดสำหรับใบเสนอราคาหรือใบสั่งซื้อที่กำหนด เมื่อคุณใช้การรวมแบบสองทิศทาง ข้อมูลจะไม่คงอยู่ในแบบสมวารตลอดสองสภาพแวดล้อมเสมอ โดยเฉพาะในกรณีที่สร้างหรืออัปเดตแถวจาก Dataverse และอาจทริกเกอร์กระบวนการปฏิบัติตามใน Supply Chain Management

## <a name="sync-the-procurement-data-from-supply-chain-management"></a>ซิงค์กับข้อมูลการจัดซื้อจาก Supply Chain Management

1. ใน Dataverse ไปที่ **สินค้าคงคลัง \> ใบสั่งซื้อ**
2. เลือก **สร้าง** เพื่อสร้างใบสั่งซื้อใหม่ หรือเลือกแถวสำหรับใบสั่งซื้อที่มีอยู่แล้ว
3. จากใบสั่งซื้อหรือบรรทัดใบสั่งซื้อ
4. บนบานหน้าต่างการดำเนินการ เลือก **ซิงค์**

คอลัมน์ทั้งหมดจาก Dataverse และ Field Service ที่ใช้ร่วมกันโดย Supply Chain Management จะถูกซิงค์

ต่อไปนี้เป็นสถานการณ์ที่คุณอาจใช้ฟังก์ชัน **ซิงค์**:

- ถ้าคุณเปลี่ยนแปลงแถวเดียวกันอย่างต่อเนื่องหลายชุดจาก Dataverse ให้รันฟังก์ชัน **ซิงค์**
- ถ้าคุณไม่แน่ใจว่าการเปลี่ยนแปลงอาจเป็นการเปลี่ยนแปลงต่อ ๆ มาจาก Dataverse หรือไม่ อาจเหมาะสมที่จะรันฟังก์ชัน **ซิงค์**
- หากคุณได้รับข้อความแสดงข้อผิดพลาดเกี่ยวกับการอัปเดตค่าจาก Supply Chain Management ให้รันฟังก์ชัน **ซิงค์** แล้วลองอัปเดตใน Dataverse ใหม่อีกครั้ง

## <a name="cancelling-the-posting-process"></a>การยกเลิกกระบวนการลงรายการบัญชี

ถ้ากระบวนการลงรายการบัญชีใบรับสินค้าถูกยกเลิกระหว่างการประมวลผล การรวมแบบสองทิศทางอาจสร้างแถวใบรับสินค้าใน Dataverse แต่ไม่สร้างแถวใบรับสินค้าใน Supply Chain Management สถานการณ์นี้เกิดขึ้นเนื่องจากการรวมแบบสองทิศทางไม่สนับสนุนธุรกรรมที่กระจาย

## <a name="templates"></a>เท็มเพลต

แม่แบบต่อไปนี้มีอยู่พร้อมให้รวมเอกสารที่เกี่ยวข้องกับการจัดซื้อ

| Supply Chain Management | Field Service | คำอธิบาย |
|---|---|---|
| [ส่วนหัวของใบสั่งซื้อ V2](mapping-reference.md#183) | Msdyn\_Purchaseorders | ตารางนี้ประกอบด้วยคอลัมน์ที่แสดงถึงส่วนหัวของใบสั่งซื้อ |
| [เอนทิตีรายการในใบสั่งซื้อ](mapping-reference.md#181) | Msdyn\_PurchaseOrderProducts | ตารางนี้ประกอบด้วยแถวที่แสดงถึงบรรทัดของใบสั่งซื้อ หมายเลขผลิตภัณฑ์จะใช้สำหรับการซิงโครไนส์ ซึ่งระบุผลิตภัณฑ์เป็นหน่วยการเก็บสต็อก (SKU) รวมถึงมิติของผลิตภัณฑ์ สำหรับข้อมูลเพิ่มเติมเกี่ยวกับการรวมผลิตภัณฑ์กับ Dataverse โปรดดูที่ [ประสบการณ์การใช้งานผลิตภัณฑ์แบบรวม](product-mapping.md) |
| [ส่วนหัวของใบรับสินค้า](mapping-reference.md#185) | Msdyn\_purchaseorderreceipts | ตารางนี้ประกอบด้วยส่วนหัวของใบรับสินค้าที่สร้างขึ้นเมื่อลงรายการบัญชีใบรับสินค้าใน Supply Chain Management |
| [รายการใบรับสินค้า](mapping-reference.md#184) | Msdyn\_purchaseorderreceiptproducts | ตารางนี้ประกอบด้วยบรรทัดของใบรับสินค้าที่สร้างขึ้นเมื่อลงรายการบัญชีใบรับสินค้าใน Supply Chain Management |
| [เอนทิตีการลบชั่วคราวสำหรับรายการใบสั่งซื้อ](mapping-reference.md#182) | Msdyn\_purchaseorderproducts | ตารางนี้ประกอบด้วยข้อมูลเกี่ยวกับบรรทัดใบสั่งซื้อที่ถูกลบออกแบบไม่ตั้งใจ รายการใบสั่งซื้อใน Supply Chain Management สามารถลบออกได้แบบไม่ตั้งใจเฉพาะเมื่อใบสั่งซื้อได้รับการยืนยันหรืออนุมัติแล้ว หากการจัดการการเปลี่ยนแปลงเปิดอยู่ มีแถวอยู่ในฐานข้อมูล Supply Chain Management และถูกเครื่องหมายเป็น **IsDeleted** เนื่องจาก Dataverse ไม่มีแนวคิดเกี่ยวกับการลบแบบไม่แน่นอน จึงควรซิงค์ข้อมูลนี้กับ Dataverse ด้วยวิธีนี้ บรรทัดที่ลบชั่วคราวใน Supply Chain Management สามารถลบออกจาก Dataverse โดยอัตโนมัติได้ ในกรณีนี้ ตรรกะการลบบรรทัดใน Dataverse อยู่ใน Supply Chain Management แบบขยาย |

[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
