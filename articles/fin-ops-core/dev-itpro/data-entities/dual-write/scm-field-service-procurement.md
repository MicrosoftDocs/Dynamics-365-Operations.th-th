---
title: รวมการจัดซื้อระหว่าง Supply Chain Management และ Field Service
description: หัวข้อนี้อธิบายวิธีการรวมแบบสองทิศทางสนับสนุนการสร้างและการอัปเดตใบสั่งซื้อจากทั้ง Supply Chain Management และ Field Service
author: RichardLuan
manager: tfehr
ms.date: 11/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: rhaertle
ms.search.region: Global
ms.author: riluan
ms.search.validFrom: 2020-11-11
ms.dyn365.ops.version: Release 10.0.17
ms.openlocfilehash: 79a971e3de43cb0161d4ac5012f657a947bc567c
ms.sourcegitcommit: afbdc268bcdb1755d7f1bc79ad1b7fc801b2e2f5
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 03/11/2021
ms.locfileid: "5579983"
---
# <a name="integrate-procurement-between-supply-chain-management-and-field-service"></a><span data-ttu-id="cde48-103">รวมการจัดซื้อระหว่าง Supply Chain Management และ Field Service</span><span class="sxs-lookup"><span data-stu-id="cde48-103">Integrate procurement between Supply Chain Management and Field Service</span></span>

[!include [banner](../../includes/banner.md)]

[!include [banner](../../includes/preview-banner.md)]

<span data-ttu-id="cde48-104">Microsoft Dynamics 365 Supply Chain Management มีฟังก์ชันการจัดซื้อที่มีประสิทธิภาพ</span><span class="sxs-lookup"><span data-stu-id="cde48-104">Microsoft Dynamics 365 Supply Chain Management provides robust procurement functionality.</span></span> <span data-ttu-id="cde48-105">Dynamics 365 Field Service มีฟังก์ชันที่คล้ายกัน ซึ่งสนับสนุนกระบวนการซื้อที่สัมพันธ์กับกระบวนการบริการ</span><span class="sxs-lookup"><span data-stu-id="cde48-105">Dynamics 365 Field Service offers similar functionality that supports the purchasing processes that are associated with the service process.</span></span> <span data-ttu-id="cde48-106">ฟังก์ชันในแอปทั้งสองนี้รวมเข้ากับแบบสองทิศทาง และกรณีที่ส่งผลเป็นการใช้งานข้ามฟังก์ชันจะเปิดใช้งานผ่านการแม็ปตาราง ตรรกะโซลูชัน มุมมอง และฟอร์ม</span><span class="sxs-lookup"><span data-stu-id="cde48-106">The functionality in these two apps is integrated through dual-write, and the resulting cross-functional use cases are enabled through table mappings, solution logic, views, and forms.</span></span>

<span data-ttu-id="cde48-107">การรวมนี้จะสนับสนุนการสร้างใบสั่งซื้อ และส่วนใหญ่แล้ว การอัปเดตจากทั้งสองแอป</span><span class="sxs-lookup"><span data-stu-id="cde48-107">This integration supports purchase order creation and, in most cases, updates from both apps.</span></span> <span data-ttu-id="cde48-108">อย่างไรก็ตาม Supply Chain Management จะควบคุมการกําหนดราคา ที่อยู่ และใบรับสินค้า</span><span class="sxs-lookup"><span data-stu-id="cde48-108">However, Supply Chain Management controls pricing, addresses, and product receipt.</span></span> <span data-ttu-id="cde48-109">กรณีการใช้ข้ามฟังก์ชันที่มีประสิทธิภาพหลายกรณีเปิดใช้งานสำหรับหลายองค์กรที่ใช้ทั้ง Field Service และ Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-109">Several powerful cross-functional use cases are enabled for organizations that use both Field Service and Supply Chain Management.</span></span> <span data-ttu-id="cde48-110">กรณีการใช้เหล่านี้ช่วยให้สามารถเริ่มต้นและติดตามการจัดซื้อระหว่างทั้งสองระบบได้</span><span class="sxs-lookup"><span data-stu-id="cde48-110">These use cases enable procurements to be initiated and tracked across both systems.</span></span>

<span data-ttu-id="cde48-111">ภาพอธิบายต่อไปนี้จะแสดงตารางในทั้งสองระบบและวิธีการแม็ปตารางเหล่านั้น</span><span class="sxs-lookup"><span data-stu-id="cde48-111">The following illustration shows the tables in both systems and how they are mapped to each other.</span></span> <span data-ttu-id="cde48-112">ใบสั่งซื้อใน Field Service จะอ้างอิงแถว *บัญชี* ในขณะที่ใบสั่งซื้อใน Supply Chain Management อ้างอิงแถว *ผู้จัดจำหน่าย*</span><span class="sxs-lookup"><span data-stu-id="cde48-112">Purchase orders in Field Service reference an *account* row, whereas purchase orders in Supply Chain Management reference a *vendor* row.</span></span> <span data-ttu-id="cde48-113">เมื่อต้องการแก้ไขการรวม การรวมแบบสองทิศทางจะใช้การอ้างอิงเพื่อเชื่อมโยงแถว *ผู้จัดจำหน่าย* กับแถว *บัญชี*</span><span class="sxs-lookup"><span data-stu-id="cde48-113">To resolve the integration, dual-write uses a reference to link *vendor* rows with *account* rows.</span></span> <span data-ttu-id="cde48-114">สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [ข้อมูลหลักของผู้จัดจำหน่ายแบบรวม](vendor-mapping.md)</span><span class="sxs-lookup"><span data-stu-id="cde48-114">For more information, see [Integrated vendor master](vendor-mapping.md).</span></span>

![การแม็ปกับการจัดซื้อ](media/scm-field-service-tables.png)

## <a name="prerequisites"></a><span data-ttu-id="cde48-116">ข้อกำหนดเบื้องต้น</span><span class="sxs-lookup"><span data-stu-id="cde48-116">Prerequisites</span></span>

<span data-ttu-id="cde48-117">หากต้องการรวม Supply Chain Management เข้ากับ Field Service คุณต้องติดตั้งส่วนประกอบต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="cde48-117">To integrate Supply Chain Management with Field Service, you must install the following components:</span></span>

- <span data-ttu-id="cde48-118">Field Service รุ่น 8.8.31.60 หรือใหม่กว่า เพื่อการรวมใบสั่งซื้อทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="cde48-118">Field Service version 8.8.31.60 or later, for comprehensive purchase order integration</span></span>
- <span data-ttu-id="cde48-119">Supply Chain Management รุ่น 10.0.14 หรือใหม่กว่า</span><span class="sxs-lookup"><span data-stu-id="cde48-119">Supply Chain Management version 10.0.14 or later</span></span>
- <span data-ttu-id="cde48-120">การรวมแบบสองทิศทาง เพื่อรันโซลูชัน OneFSSCM</span><span class="sxs-lookup"><span data-stu-id="cde48-120">Dual-write, to run the OneFSSCM solution</span></span>

## <a name="installation-guidelines"></a><span data-ttu-id="cde48-121">คำแนะนำการติดตั้ง</span><span class="sxs-lookup"><span data-stu-id="cde48-121">Installation guidelines</span></span>

### <a name="prerequisites"></a><span data-ttu-id="cde48-122">ข้อกำหนดเบื้องต้น</span><span class="sxs-lookup"><span data-stu-id="cde48-122">Prerequisites</span></span>

- <span data-ttu-id="cde48-123">**การรวมแบบสองทิศทาง** – สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [โฮมเพจการรวมแบบสองทิศทาง](dual-write-home-page.md#dual-write-setup)</span><span class="sxs-lookup"><span data-stu-id="cde48-123">**Dual-write** – For more information, see the [Dual-write home page](dual-write-home-page.md#dual-write-setup).</span></span>
- <span data-ttu-id="cde48-124">**Dynamics 365 Field Service** – สำหรับข้อมูลเพิ่มเติม ดูที่ [วิธีการติดตั้ง Dynamics 365 Field Service](https://docs.microsoft.com/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service)</span><span class="sxs-lookup"><span data-stu-id="cde48-124">**Dynamics 365 Field Service** – For more information, see [How to install Dynamics 365 Field Service](https://docs.microsoft.com/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service).</span></span>

<span data-ttu-id="cde48-125">เมื่อเปิดใช้งานใน Microsoft Dataverse แล้ว การรวมแบบสองทิศทางและ Field Service จะแนะนำชั้นโซลูชันต่าง ๆ ที่ขยายสภาพแวดล้อมด้วยข้อมูลเมตา ฟอร์ม มุมมอง และตรรกะใหม่</span><span class="sxs-lookup"><span data-stu-id="cde48-125">When they are enabled in Microsoft Dataverse, dual-write and Field Service introduce several solution layers that extend the environment with new metadata, forms, views, and logic.</span></span> <span data-ttu-id="cde48-126">โซลูชันเหล่านี้สามารถเปิดใช้งานใดก่อนก็ได้ ถึงแม้ว่าโดยปกติแล้วคุณจะติดตั้งตามลำดับที่ระบุที่นี่:</span><span class="sxs-lookup"><span data-stu-id="cde48-126">These solutions can be enabled in any order, though you typically install in the order that is given here:</span></span>

1. <span data-ttu-id="cde48-127">**Field Service Common** – Field Service Common ติดตั้งอยู่เมื่อติดตั้ง Field Service ในสภาพแวดล้อม</span><span class="sxs-lookup"><span data-stu-id="cde48-127">**Field Service Common** – Field Service Common is installed when Field Service is installed in the environment.</span></span>
2. <span data-ttu-id="cde48-128">**Field Service (จุดยึด)** – Field Service (จุดยึด) ติดตั้งอยู่เมื่อติดตั้ง Field Service ในสภาพแวดล้อม</span><span class="sxs-lookup"><span data-stu-id="cde48-128">**Field Service (Anchor)** – Field Service (Anchor) is installed when Field Service is installed in the environment.</span></span> 
3. <span data-ttu-id="cde48-129">**Supply Chain Management แบบขยาย** – Supply Chain Management แบบขยายจะถูกติดตั้งโดยอัตโนมัติเมื่อการรวมแบบสองทิศทางเปิดใช้งานในสภาพแวดล้อม</span><span class="sxs-lookup"><span data-stu-id="cde48-129">**Supply Chain Management Extended** – Supply Chain Management Extended is automatically installed when dual-write is enabled in an environment.</span></span> 
4. <span data-ttu-id="cde48-130">**โซลูชัน OneFSSCM** – OneFSSCM จะถูกติดตั้งโดยอัตโนมัติโดยโซลูชันใดก็ตาม (Field Service หรือ Supply Chain Management) จะถูกติดตั้งหลังสุด</span><span class="sxs-lookup"><span data-stu-id="cde48-130">**OneFSSCM solution** – OneFSSCM is automatically installed by whichever solution (Field Service or Supply Chain Management) is installed last.</span></span>

    - <span data-ttu-id="cde48-131">ถ้ามีการติดตั้ง Field Service ในสภาพแวดล้อมแล้ว และคุณเปิดใช้งานการรวมแบบสองทิศทาง ซึ่งติดตั้ง Supply Chain Management แบบขยาย OneFSSCM จะถูกติดตั้ง</span><span class="sxs-lookup"><span data-stu-id="cde48-131">If Field Service is already installed in the environment, and you enable dual-write, which installs Supply Chain Management Extended, OneFSSCM is installed.</span></span>
    - <span data-ttu-id="cde48-132">ถ้ามีการติดตั้ง Supply Chain Management แบบขยาย ในสภาพแวดล้อมแล้ว และคุณติดตั้ง Field Service OneFSSCM จะถูกติดตั้ง</span><span class="sxs-lookup"><span data-stu-id="cde48-132">If Supply Chain Management Extended is already installed in the environment, and you install Field Service, OneFSSCM is installed.</span></span>

## <a name="initial-synchronization"></a><span data-ttu-id="cde48-133">การซิงโครไนส์ครั้งแรก</span><span class="sxs-lookup"><span data-stu-id="cde48-133">Initial synchronization</span></span>

<span data-ttu-id="cde48-134">เมื่อต้องการสร้างใบสั่งซื้อใหม่และใช้งานใบสั่งซื้อที่มีอยู่ คุณต้องซิงค์ข้อมูลอ้างอิงระหว่าง Supply Chain Management และ Dataverse</span><span class="sxs-lookup"><span data-stu-id="cde48-134">To create new purchase orders and work with existing purchase orders, you must sync the reference data between Supply Chain Management and Dataverse.</span></span> <span data-ttu-id="cde48-135">คุณใช้ฟังก์ชันการรวมแรกเริ่มในการตรวจหาความสัมพันธ์ตารางและค้นหาตารางที่คุณต้องเปิดใช้งานให้กับแผนที่ระบุ</span><span class="sxs-lookup"><span data-stu-id="cde48-135">You use the initial write functionality to detect the table relationships and find the tables that you must enable for a given map.</span></span>

<span data-ttu-id="cde48-136">คุณต้องซิงค์ตารางต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="cde48-136">You must sync the following tables:</span></span>

- <span data-ttu-id="cde48-137">แม่แบบผลิตภัณฑ์</span><span class="sxs-lookup"><span data-stu-id="cde48-137">Product templates</span></span>

    <span data-ttu-id="cde48-138">เมื่อคุณรันการรวมครั้งแรก คุณจะได้รับรายการตารางทั้งหมดที่ต้องการ</span><span class="sxs-lookup"><span data-stu-id="cde48-138">When you run the initial write, you get a full list of the tables that are required.</span></span> <span data-ttu-id="cde48-139">ต่อไปนี้เป็นตัวอย่างของแม่แบบเหล่านี้:</span><span class="sxs-lookup"><span data-stu-id="cde48-139">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="cde48-140">ผลิตภัณฑ์ทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="cde48-140">All products</span></span>
    - <span data-ttu-id="cde48-141">ผลิตภัณฑ์ที่นำออกใช้ V2</span><span class="sxs-lookup"><span data-stu-id="cde48-141">Released products V2</span></span>
    - <span data-ttu-id="cde48-142">Dataverse ผลิตภัณฑ์เฉพาะที่นำออกใช้</span><span class="sxs-lookup"><span data-stu-id="cde48-142">Dataverse released distinct products</span></span>

- <span data-ttu-id="cde48-143">ไซต์</span><span class="sxs-lookup"><span data-stu-id="cde48-143">Sites</span></span>
- <span data-ttu-id="cde48-144">คลังสินค้า</span><span class="sxs-lookup"><span data-stu-id="cde48-144">Warehouses</span></span>
- <span data-ttu-id="cde48-145">แม่แบบประเภทการจัดซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-145">Procurement categories templates</span></span>

    <span data-ttu-id="cde48-146">ต่อไปนี้เป็นตัวอย่างของแม่แบบเหล่านี้:</span><span class="sxs-lookup"><span data-stu-id="cde48-146">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="cde48-147">ประเภทการจัดซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-147">Procurement categories</span></span>
    - <span data-ttu-id="cde48-148">Pro</span><span class="sxs-lookup"><span data-stu-id="cde48-148">Pro</span></span>
    - <span data-ttu-id="cde48-149">การจัดประเภทตามลำดับชั้นของผลิตภัณฑ์</span><span class="sxs-lookup"><span data-stu-id="cde48-149">Product category hierarchy</span></span>
    - <span data-ttu-id="cde48-150">การกำหนดประเภทผลิตภัณฑ์</span><span class="sxs-lookup"><span data-stu-id="cde48-150">Product category assignments</span></span>

- <span data-ttu-id="cde48-151">แม่แบบผู้จัดจำหน่าย เช่น ผู้จัดจำหน่าย V2</span><span class="sxs-lookup"><span data-stu-id="cde48-151">Vendor templates, such as Vendor V2</span></span>
- <span data-ttu-id="cde48-152">แม่แบบผู้ติดต่อ เช่น ผู้ติดต่อ Dataverse V2</span><span class="sxs-lookup"><span data-stu-id="cde48-152">Contact person templates, such as Dataverse Contacts V2</span></span>
- <span data-ttu-id="cde48-153">แม่แบบผู้ปฏิบัติงาน เช่น ผู้ปฏิบัติงาน</span><span class="sxs-lookup"><span data-stu-id="cde48-153">Worker templates, such as Worker</span></span>

<span data-ttu-id="cde48-154">การซิงโครไนส์ตารางช่วยให้มั่นใจว่าเอกสารทั้งหมด (ใบสั่งซื้อและใบรับสินค้า) ใน Supply Chain Management พร้อมใช้งานใน Dataverse</span><span class="sxs-lookup"><span data-stu-id="cde48-154">Synchronization of the tables ensures that all documents (purchase orders and product receipts) in Supply Chain Management are available in Dataverse.</span></span>

### <a name="account-and-vendor-tables"></a><span data-ttu-id="cde48-155">ตารางบัญชีและผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="cde48-155">Account and Vendor tables</span></span>

<span data-ttu-id="cde48-156">ใบสั่งซื้อใน Field Service ขึ้นอยู่กับตารางบัญชีเพื่อติดตามผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="cde48-156">Purchase orders in Field Service rely on the Account table to track vendors.</span></span> <span data-ttu-id="cde48-157">ดังนั้น ตาราง Dataverse ของใบสั่งซื้อจึงใช้บัญชีเพื่อติดตามผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="cde48-157">Therefore, the Dataverse tables for purchase orders use accounts to track vendors.</span></span> <span data-ttu-id="cde48-158">เพื่อรองรับความแตกต่างของคีย์นี้ ต้องมีการเรียกใช้งานสี่ลำดับงานต่อไปนี้เพื่อให้บัญชีผู้จัดจำหน่ายและบัญชียังคงซิงค์อยู่</span><span class="sxs-lookup"><span data-stu-id="cde48-158">To accommodate this key difference, the following four workflows must be activated to keep the accounts and vendors in sync:</span></span> 

- <span data-ttu-id="cde48-159">สร้างผู้จัดจำหน่ายในตารางบัญชี</span><span class="sxs-lookup"><span data-stu-id="cde48-159">Create Vendors in Accounts table</span></span>
- <span data-ttu-id="cde48-160">สร้างผู้จัดจำหน่ายในตารางผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="cde48-160">Create Vendors in Vendors table</span></span>
- <span data-ttu-id="cde48-161">อัปเดตผู้จัดจำหน่ายในตารางบัญชี</span><span class="sxs-lookup"><span data-stu-id="cde48-161">Update Vendors in Accounts table</span></span>
- <span data-ttu-id="cde48-162">อัปเดตผู้จัดจำหน่ายในตารางผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="cde48-162">Update Vendors in Vendors table</span></span>

<span data-ttu-id="cde48-163">ถ้าติดตั้ง OneFSSCM ไว้ เนื่องจากมีการติดตั้งทั้ง Field Service และ Supply Chain Management แบบขยาย ลำดับงานเหล่านี้จะเรียกใช้โดยอัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="cde48-163">If OneFSSCM is installed, because both Field Service and Supply Chain Management Extended are installed, these workflows are automatically activated.</span></span> <span data-ttu-id="cde48-164">ถ้าไม่ได้ติดตั้ง Field Service ไว้ แต่คุณต้องการรวมตารางใบสั่งซื้อด้วย Dataverse คุณต้องเรียกใช้ลำดับงานเหล่านี้ต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="cde48-164">If Field Service isn't installed, but you want to integrate the purchase order tables with Dataverse, you must activate these workflows.</span></span> <span data-ttu-id="cde48-165">ทั้งสองกรณี ยกเว้นว่าคุณจะเริ่มตั้งแต่ต้น คุณอาจต้องตรวจสอบให้แน่ใจว่าผู้จัดจำหน่ายทั้งหมดถูกสร้างขึ้นเป็นบัญชีใน Dataverse ก่อนที่คุณจะสร้างใบสั่งซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-165">In both cases, unless you start from scratch, you might have to ensure that all vendors are created as accounts in Dataverse before you create purchase orders.</span></span> <span data-ttu-id="cde48-166">มิฉะนั้นจะเกิดข้อผิดพลาดขึ้น</span><span class="sxs-lookup"><span data-stu-id="cde48-166">Otherwise, errors might occur.</span></span>

### <a name="initial-synchronization"></a><span data-ttu-id="cde48-167">การซิงโครไนส์ครั้งแรก</span><span class="sxs-lookup"><span data-stu-id="cde48-167">Initial synchronization</span></span>

<span data-ttu-id="cde48-168">หลังจากข้อกำหนดเบื้องต้นหมดพร้อมใช้งาน ถ้าคุณต้องการให้ใบสั่งซื้อและใบรับสินค้าที่มีอยู่พร้อมใช้งานในทั้งสองระบบ คุณต้องซิงโครไนส์เริ่มต้นแม่แบบต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="cde48-168">After all the prerequisites are in place, if you want existing purchase orders and product receipts to be available in both systems, you must do an initial synchronization of the following templates:</span></span>

- <span data-ttu-id="cde48-169">ส่วนหัวของใบสั่งซื้อ V2</span><span class="sxs-lookup"><span data-stu-id="cde48-169">Purchase Order Header V2</span></span>
- <span data-ttu-id="cde48-170">รายการใบสั่งซื้อ CDS</span><span class="sxs-lookup"><span data-stu-id="cde48-170">CDS Purchase Order Line</span></span>
- <span data-ttu-id="cde48-171">ลบรายการใบสั่งซื้อ CDS แบบซอฟต์</span><span class="sxs-lookup"><span data-stu-id="cde48-171">CDS Purchase Order Line soft delete</span></span>
- <span data-ttu-id="cde48-172">การรับสินค้าตามใบสั่งซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-172">Purchase Order Receipt</span></span>
- <span data-ttu-id="cde48-173">การรับสินค้าตามใบสั่งซื้อผลิตภัณฑ์</span><span class="sxs-lookup"><span data-stu-id="cde48-173">Purchase Order Receipt Product</span></span>

## <a name="mappings-with-logic"></a><span data-ttu-id="cde48-174">การแม็ปกับตรรกะ</span><span class="sxs-lookup"><span data-stu-id="cde48-174">Mappings with logic</span></span>

<span data-ttu-id="cde48-175">การรวมการจัดซื้อจะขยายการแม็ปผลิตภัณฑ์ด้วยตรรกะต่อไปนี้ เพื่อให้แน่ใจว่าคอลัมน์ **ชนิดผลิตภัณฑ์ Field Service** มีการตั้งค่าอย่างถูกต้องในตารางผลิตภัณฑ์ใน Dataverse:</span><span class="sxs-lookup"><span data-stu-id="cde48-175">The procurement integration extends the product mapping with the following logic to ensure that the **Field Service Product Type** column is correctly set in the products table in Dataverse:</span></span>

- <span data-ttu-id="cde48-176">ถ้า **ชนิดผลิตภัณฑ์** ตั้งค่าเป็น *ผลิตภัณฑ์* และ **กลุ่มแบบจำลองสินค้า ผลิตภัณฑ์ที่เก็บในคลัง** ได้รับการตั้งค่าเป็น *จริง* **ชนิดผลิตภัณฑ์ Field Service** จะถูกตั้งค่าเป็น *สินค้าคงคลัง*</span><span class="sxs-lookup"><span data-stu-id="cde48-176">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *True*, **Field Service Product Type** is set to *Inventory*.</span></span>
- <span data-ttu-id="cde48-177">ถ้า **ชนิดผลิตภัณฑ์** ตั้งค่าเป็น *ผลิตภัณฑ์* และ **กลุ่มแบบจำลองสินค้า ผลิตภัณฑ์ที่เก็บในคลัง** ได้รับการตั้งค่าเป็น *เท็จ* **ชนิดผลิตภัณฑ์ Field Service** จะถูกตั้งค่าเป็น *ไม่ใช่สินค้าคงคลัง*</span><span class="sxs-lookup"><span data-stu-id="cde48-177">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *False*, **Field Service Product Type** is set to *Non-Inventory*.</span></span>
- <span data-ttu-id="cde48-178">ถ้า **ชนิดผลิตภัณฑ์** ตั้งค่าเป็น *บริการ* **ชนิดผลิตภัณฑ์ Field Service** จะถูกตั้งค่าเป็น *บริการ*</span><span class="sxs-lookup"><span data-stu-id="cde48-178">If **Product Type** is set to *Service*, **Field Service Product Type** is set to *Service*.</span></span>

<span data-ttu-id="cde48-179">นอกจากนี้ Dataverse ยังมีตรรกะที่แม็ปผู้จัดจำหน่ายกับบัญชีที่เกี่ยวข้องด้วย</span><span class="sxs-lookup"><span data-stu-id="cde48-179">In addition, Dataverse includes logic that maps vendors with their related accounts.</span></span> <span data-ttu-id="cde48-180">ตรรกะนี้จะตั้งค่าบัญชีผู้จัดจำหน่ายใบแจ้งหนี้เริ่มต้น</span><span class="sxs-lookup"><span data-stu-id="cde48-180">This logic sets the default invoice vendor account.</span></span> <span data-ttu-id="cde48-181">เมื่อสร้าง ตรรกะปลั๊กอินฝั่งเซิร์ฟเวอร์จะตั้งค่าบัญชีผู้จัดจำหน่ายใบแจ้งหนี้เริ่มต้นจากผู้จัดจำหน่ายที่เกี่ยวข้องกับบัญชี</span><span class="sxs-lookup"><span data-stu-id="cde48-181">On create, server-side plug-in logic sets the default invoice vendor account from the vendor that is related to the account.</span></span> <span data-ttu-id="cde48-182">ผู้จัดจำหน่ายมีการอ้างอิงไปที่บัญชีใบแจ้งหนี้ที่ใช้ในการตั้งค่านี้</span><span class="sxs-lookup"><span data-stu-id="cde48-182">The vendor has a reference to the invoice account that is used to set this value.</span></span>

## <a name="supported-scenarios"></a><span data-ttu-id="cde48-183">สถานการณ์จำลองที่ได้รับการสนับสนุน</span><span class="sxs-lookup"><span data-stu-id="cde48-183">Supported scenarios</span></span>

- <span data-ttu-id="cde48-184">ใบสั่งซื้อสามารถสร้างขึ้นและอัปเดตได้โดยผู้ใช้ Dataverse</span><span class="sxs-lookup"><span data-stu-id="cde48-184">Purchase orders can be created and updated by Dataverse users.</span></span> <span data-ttu-id="cde48-185">อย่างไรก็ตาม กระบวนการและข้อมูลจะถูกควบคุมโดย Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-185">However, the process and data are controlled by Supply Chain Management.</span></span> <span data-ttu-id="cde48-186">ข้อจำกัดจากการอัปเดตในคอลัมน์ใบสั่งซื้อใน Supply Chain Management มีผลบังคับเมื่อการอัปเดตมาจาก Field Service</span><span class="sxs-lookup"><span data-stu-id="cde48-186">The constraints on updates to purchase order columns in Supply Chain Management apply when updates come from Field Service.</span></span> <span data-ttu-id="cde48-187">ตัวอย่างเช่น คุณไม่สามารถอัปเดตใบสั่งซื้อถ้าใบสั่งซื้อมีการสรุปเป็นขั้นสุดท้ายแล้ว</span><span class="sxs-lookup"><span data-stu-id="cde48-187">For example, you can't update a purchase order if it has been finalized.</span></span> 
- <span data-ttu-id="cde48-188">ถ้าใบสั่งซื้อถูกควบคุมโดยการจัดการการเปลี่ยนแปลงใน Supply Chain Management ผู้ใช้ Field Service จะสามารถอัปเดตใบสั่งซื้อได้เฉพาะเมื่อสถานะการอนุมัติของ Supply Chain Management เป็น *แบบร่าง* เท่านั้น</span><span class="sxs-lookup"><span data-stu-id="cde48-188">If the purchase order is controlled by change management in Supply Chain Management, a Field Service user can update the purchase order only when the Supply Chain Management approval status is *Draft*.</span></span>
- <span data-ttu-id="cde48-189">หลายคอลัมน์มีการจัดการโดย Supply Chain Management เท่านั้น จึงไม่สามารถอัปเดตใน Field Service ได้</span><span class="sxs-lookup"><span data-stu-id="cde48-189">Several columns are managed only by Supply Chain Management and can't be updated in Field Service.</span></span> <span data-ttu-id="cde48-190">หากต้องการทราบคอลัมน์ที่สามารถอัปเดตได้ ให้ตรวจทานตารางการแม็ปในผลิตภัณฑ์</span><span class="sxs-lookup"><span data-stu-id="cde48-190">To learn which columns can't be updated, review the mapping tables in the product.</span></span> <span data-ttu-id="cde48-191">เพื่อความเรียบง่าย คอลัมน์ส่วนใหญ่เหล่านี้ถูกตั้งค่าเป็นอ่านอย่างเดียวบนหน้า Dataverse</span><span class="sxs-lookup"><span data-stu-id="cde48-191">For the sake of simplicity, most of these columns are set to read-only on Dataverse pages.</span></span> 

    <span data-ttu-id="cde48-192">ตัวอย่างเช่น คอลัมน์ข้อมูลราคาจะจัดการโดย Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-192">For example, the columns for price information are managed by Supply Chain Management.</span></span> <span data-ttu-id="cde48-193">Supply Chain Management มีข้อตกลงทางการค้าที่ Field Service สามารถได้รับประโยชน์</span><span class="sxs-lookup"><span data-stu-id="cde48-193">Supply Chain Management has trade agreements that Field Service can benefit from.</span></span> <span data-ttu-id="cde48-194">คอลัมน์ เช่น **ราคาต่อหน่วย** **ส่วนลด** และ **ยอดเงินสุทธิ** จะมาจาก Supply Chain Management เท่านั้น</span><span class="sxs-lookup"><span data-stu-id="cde48-194">columns such as **Unit price**, **Discount**, and **Net amount** come only from Supply Chain Management.</span></span> <span data-ttu-id="cde48-195">เพื่อให้แน่ใจว่าราคาจะถูกซิงค์กับ Field Service คุณควรใช้คุณลักษณะ **ซิงค์** บนหน้า **ใบสั่งซื้อ** และ **ผลิตภัณฑ์ตามใบสั่งซื้อ** ใน Dataverse เมื่อมีการป้อนข้อมูลใบสั่งซื้อแล้ว</span><span class="sxs-lookup"><span data-stu-id="cde48-195">To ensure that the price is synced to Field Service, you should use the **Sync** feature on the **Purchase Order** and **Purchase Order Product** pages in Dataverse when purchase order data has been entered.</span></span> <span data-ttu-id="cde48-196">สำหรับข้อมูลเพิ่มเติม ให้ดู [ซิงค์กับข้อมูลการจัดซื้อ Dynamics 365 Supply Chain Management ตามความต้องการ](#sync-procurement)</span><span class="sxs-lookup"><span data-stu-id="cde48-196">For more information, see [Sync with the Dynamics 365 Supply Chain Management procurement data on demand](#sync-procurement).</span></span>

- <span data-ttu-id="cde48-197">คอลัมน์ **ผลรวม** พร้อมใช้งานเฉพาะใน Field Service เท่านั้น เนื่องจากไม่มีผลรวมที่เป็นปัจจุบันของใบสั่งซื้อใน Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-197">The **Totals** column is available only in Field Service, because there are no up-to-date totals of the purchase order in Supply Chain Management.</span></span> <span data-ttu-id="cde48-198">ยอดรวมใน Supply Chain Management จะคํานวณตามพารามิเตอร์หลายตัวที่ไม่พร้อมใช้งานใน Field Service</span><span class="sxs-lookup"><span data-stu-id="cde48-198">The totals in Supply Chain Management are calculated based on multiple parameters that aren't available in Field Service.</span></span>
- <span data-ttu-id="cde48-199">รายการใบสั่งซื้อที่มีการระบุเฉพาะประเภทการจัดซื้อ หรือที่ผลิตภัณฑ์ที่ระบุเป็นสินค้าที่มีชนิดเป็นผลิตภัณฑ์ *บริการ* หรือชนิดผลิตภัณฑ์ Field Service สามารถเริ่มต้นได้เฉพาะใน Supply Chain Management เท่านั้น</span><span class="sxs-lookup"><span data-stu-id="cde48-199">Purchase order lines where only a procurement category is specified, or where the product that is specified is an item of the *Service* product type or Field Service product type, can be initiated only in Supply Chain Management.</span></span> <span data-ttu-id="cde48-200">จากนั้นรายการจะซิงค์ Dataverse และมองเห็นได้ใน Field Service</span><span class="sxs-lookup"><span data-stu-id="cde48-200">The lines are then synced to Dataverse and are visible in Field Service.</span></span>
- <span data-ttu-id="cde48-201">ถ้ามีการติดตั้งเฉพาะ Field Service เท่านั้น ไม่ใช่ Supply Chain Management คอลัมน์ **คลังสินค้า** ถือเป็นข้อมูลบังคับในใบสั่งซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-201">If only Field Service is installed, not Supply Chain Management, the **Warehouse** column is mandatory on the purchase order.</span></span> <span data-ttu-id="cde48-202">อย่างไรก็ตาม ถ้ามีการติดตั้ง Supply Chain Management ข้อกําหนดนี้ไม่เข้มงวด เนื่องจาก Supply Chain Management อนุญาตให้มีการระบุบรรทัดใบสั่งซื้อที่ไม่มีการระบุคลังสินค้าในบางสถานการณ์</span><span class="sxs-lookup"><span data-stu-id="cde48-202">However, if Supply Chain Management is installed, this requirement is relaxed, because Supply Chain Management allows for purchase order lines where no warehouse is specified in certain situations.</span></span>
- <span data-ttu-id="cde48-203">ใบรับสินค้า (การรับใบสั่งซื้อใน Dataverse) มีการจัดการโดย Supply Chain Management และไม่สามารถสร้างจาก Dataverse ถ้ามีการติดตั้ง Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-203">Product receipts (purchase order receipts in Dataverse) are managed by Supply Chain Management and can't be created from Dataverse if Supply Chain Management is installed.</span></span> <span data-ttu-id="cde48-204">ใบรับสินค้าจาก Supply Chain Management จะถูกซิงค์จาก Supply Chain Management ไปยัง Dataverse</span><span class="sxs-lookup"><span data-stu-id="cde48-204">The product receipts from Supply Chain Management are synced from Supply Chain Management to Dataverse.</span></span>
- <span data-ttu-id="cde48-205">ขีดจำกัดการรับสินค้าต่ำกว่าปริมาณการสั่งอนุญาตใน Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-205">Under-delivery is allowed in Supply Chain Management.</span></span> <span data-ttu-id="cde48-206">โซลูชัน OneFSSCM จะเพิ่มตรรกะ เพื่อให้เมื่อสร้างหรืออัปเดตรายการใบรับสินค้า (หรือผลิตภัณฑ์ในใบรับสินค้าตามใบสั่งซื้อใน Dataverse) แถวสมุดรายวันสินค้าคงคลังจะถูกสร้างขึ้นใน Dataverse เพื่อปรับปรุงปริมาณที่เหลืออยู่ซึ่งอยู่ระหว่างสถานการณ์ขีดจำกัดการรับสินค้าต่ำกว่าปริมาณการสั่งดังกล่าว</span><span class="sxs-lookup"><span data-stu-id="cde48-206">The OneFSSCM solution adds logic so that, when the product receipt line (or purchase order receipt product in Dataverse) is created or updated, an inventory journal row is created in Dataverse to adjust the remaining quantity that is on order for under-delivery scenarios.</span></span>

## <a name="unsupported-scenarios"></a><span data-ttu-id="cde48-207">สถานการณ์จำลองที่ไม่ได้รับการสนับสนุน</span><span class="sxs-lookup"><span data-stu-id="cde48-207">Unsupported scenarios</span></span>

- <span data-ttu-id="cde48-208">Field Service ป้องกันไม่ให้มีการเพิ่มรายการในใบสั่งซื้อที่ถูกยกเลิกใน Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-208">Field Service prevents lines from being added to a canceled purchase order in Supply Chain Management.</span></span> <span data-ttu-id="cde48-209">การแก้ปัญหา คุณสามารถเปลี่ยนสถานะของระบบของใบสั่งซื้อใน Field Service แล้วเพิ่มบรรทัดใหม่ใน Field Service หรือ Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-209">As a workaround, you can change the system status of the purchase order in Field Service, and then add the new line in either Field Service or Supply Chain Management.</span></span>
- <span data-ttu-id="cde48-210">แม้ว่าแถวการจัดซื้อจะมีผลกระทบต่อระดับสินค้าคงคลังในทั้งสองระบบ แต่การรวมนี้จะไม่ตรวจสอบให้แน่ใจถึงการปรับแนวสินค้าคงคลังระหว่าง Supply Chain Management และ Field Service</span><span class="sxs-lookup"><span data-stu-id="cde48-210">Although procurement rows affect inventory levels in both systems, this integration doesn't ensure inventory alignment across Supply Chain Management and Field Service.</span></span> <span data-ttu-id="cde48-211">ทั้ง Field Service และ Supply Chain Management มีกระบวนการอื่นๆ ที่อัปเดตระดับสินค้าคงคลัง</span><span class="sxs-lookup"><span data-stu-id="cde48-211">Both Field Service and Supply Chain Management have other processes that update inventory levels.</span></span> <span data-ttu-id="cde48-212">กระบวนการเหล่านั้นอยู่นอกขอบเขตการจัดซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-212">Those processes are outside the scope of procurement.</span></span>

## <a name="status-management"></a><span data-ttu-id="cde48-213">การจัดการสถานะ</span><span class="sxs-lookup"><span data-stu-id="cde48-213">Status management</span></span>

<span data-ttu-id="cde48-214">สถานะของใบสั่งซื้อใน Field Service แตกต่างจากสถานะใน Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-214">The statuses of purchase orders in Field Service differ from the statuses in Supply Chain Management.</span></span>

### <a name="field-service-purchase-order-and-purchase-order-product-statuses"></a><span data-ttu-id="cde48-215">ใบสั่งซื้อ Field Service และสถานะผลิตภัณฑ์ตามใบสั่งซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-215">Field Service purchase order and purchase order product statuses</span></span>

| <span data-ttu-id="cde48-216">ส่วนหัว – สถานะของระบบ</span><span class="sxs-lookup"><span data-stu-id="cde48-216">Header – System status</span></span> | <span data-ttu-id="cde48-217">ส่วนหัว – สถานะการอนุมัติ</span><span class="sxs-lookup"><span data-stu-id="cde48-217">Header - Approval status</span></span> | <span data-ttu-id="cde48-218">สถานะของสินค้า</span><span class="sxs-lookup"><span data-stu-id="cde48-218">Item status</span></span> |
|---|---|---|
| <ul><li><span data-ttu-id="cde48-219">ฉบับร่าง</span><span class="sxs-lookup"><span data-stu-id="cde48-219">Draft</span></span></li><li><span data-ttu-id="cde48-220">ส่ง</span><span class="sxs-lookup"><span data-stu-id="cde48-220">Submitted</span></span></li><li><span data-ttu-id="cde48-221">ถูกยกเลิก</span><span class="sxs-lookup"><span data-stu-id="cde48-221">Cancelled</span></span></li><li><span data-ttu-id="cde48-222">รับผลิตภัณฑ์แล้ว</span><span class="sxs-lookup"><span data-stu-id="cde48-222">Product received</span></span></li><li><span data-ttu-id="cde48-223">เรียกเก็บเงินแล้ว</span><span class="sxs-lookup"><span data-stu-id="cde48-223">Billed</span></span></li></ul> | <ul><li><span data-ttu-id="cde48-224">Null</span><span class="sxs-lookup"><span data-stu-id="cde48-224">Null</span></span></li><li><span data-ttu-id="cde48-225">จำนวนที่อนุมัติ</span><span class="sxs-lookup"><span data-stu-id="cde48-225">Approved</span></span></li><li><span data-ttu-id="cde48-226">ถูกปฏิเสธ</span><span class="sxs-lookup"><span data-stu-id="cde48-226">Rejected</span></span></li></ul> | <ul><li><span data-ttu-id="cde48-227">รอดำเนินการ</span><span class="sxs-lookup"><span data-stu-id="cde48-227">Pending</span></span></li><li><span data-ttu-id="cde48-228">ได้รับ</span><span class="sxs-lookup"><span data-stu-id="cde48-228">Received</span></span></li><li><span data-ttu-id="cde48-229">ถูกยกเลิก</span><span class="sxs-lookup"><span data-stu-id="cde48-229">Cancelled</span></span></li></ul> |

### <a name="supply-chain-management-purchase-order-and-purchase-order-line-statuses"></a><span data-ttu-id="cde48-230">สถานะของใบสั่งซื้อและรายการใบสั่งซื้อของ Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-230">Supply Chain Management purchase order and purchase order line statuses</span></span>

<span data-ttu-id="cde48-231">สถานะการอนุมัติรายการจะเปิดใช้งานเฉพาะเมื่อมีลำดับงานเท่านั้น</span><span class="sxs-lookup"><span data-stu-id="cde48-231">Line approval statuses are active only when there is a line workflow.</span></span>

| <span data-ttu-id="cde48-232">ส่วนหัว – สถานะของเอกสาร</span><span class="sxs-lookup"><span data-stu-id="cde48-232">Header – documents status</span></span> | <span data-ttu-id="cde48-233">ส่วนหัว – สถานะการอนุมัติ</span><span class="sxs-lookup"><span data-stu-id="cde48-233">Header - Approval status</span></span> | <span data-ttu-id="cde48-234">สถานะของบรรทัด</span><span class="sxs-lookup"><span data-stu-id="cde48-234">Line status</span></span> | <span data-ttu-id="cde48-235">สถานะการอนุมัติรายการ</span><span class="sxs-lookup"><span data-stu-id="cde48-235">Line approval status</span></span> |
|---|---|---|---|
| <ul><li><span data-ttu-id="cde48-236">ใบสั่งที่เปิดรับ (สินค้าค้างส่ง)</span><span class="sxs-lookup"><span data-stu-id="cde48-236">Open Order (Back order)</span></span></li><li><span data-ttu-id="cde48-237">ได้รับ</span><span class="sxs-lookup"><span data-stu-id="cde48-237">Received</span></span></li><li><span data-ttu-id="cde48-238">ออกใบแจ้งหนี้แล้ว</span><span class="sxs-lookup"><span data-stu-id="cde48-238">Invoiced</span></span></li><li><span data-ttu-id="cde48-239">ถูกยกเลิก</span><span class="sxs-lookup"><span data-stu-id="cde48-239">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="cde48-240">ฉบับร่าง</span><span class="sxs-lookup"><span data-stu-id="cde48-240">Draft</span></span></li><li><span data-ttu-id="cde48-241">อยู่ระหว่างการตรวจทาน</span><span class="sxs-lookup"><span data-stu-id="cde48-241">In Review</span></span></li><li><span data-ttu-id="cde48-242">จำนวนที่อนุมัติ</span><span class="sxs-lookup"><span data-stu-id="cde48-242">Approved</span></span></li><li><span data-ttu-id="cde48-243">ถูกปฏิเสธ</span><span class="sxs-lookup"><span data-stu-id="cde48-243">Rejected</span></span></li><li><span data-ttu-id="cde48-244">อยู่ระหว่างการตรวจทานจากภายนอก</span><span class="sxs-lookup"><span data-stu-id="cde48-244">In External Review</span></span></li><li><span data-ttu-id="cde48-245">ยืนยัน</span><span class="sxs-lookup"><span data-stu-id="cde48-245">Confirmed</span></span></li><li><span data-ttu-id="cde48-246">ขั้นสุดท้าย</span><span class="sxs-lookup"><span data-stu-id="cde48-246">Finalized</span></span></li></ul> | <ul><li><span data-ttu-id="cde48-247">ใบสั่งที่เปิดรับ (สินค้าค้างส่ง)</span><span class="sxs-lookup"><span data-stu-id="cde48-247">Open Order (back order)</span></span></li><li><span data-ttu-id="cde48-248">ได้รับ</span><span class="sxs-lookup"><span data-stu-id="cde48-248">Received</span></span></li><li><span data-ttu-id="cde48-249">ออกใบแจ้งหนี้แล้ว</span><span class="sxs-lookup"><span data-stu-id="cde48-249">Invoiced</span></span></li><li><span data-ttu-id="cde48-250">ถูกยกเลิก</span><span class="sxs-lookup"><span data-stu-id="cde48-250">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="cde48-251">ไม่ได้ส่ง</span><span class="sxs-lookup"><span data-stu-id="cde48-251">Not Submitted</span></span></li><li><span data-ttu-id="cde48-252">อยู่ระหว่างการตรวจทาน</span><span class="sxs-lookup"><span data-stu-id="cde48-252">In Review</span></span></li><li><span data-ttu-id="cde48-253">จำนวนที่อนุมัติ</span><span class="sxs-lookup"><span data-stu-id="cde48-253">Approved</span></span></li><li><span data-ttu-id="cde48-254">ถูกปฏิเสธ</span><span class="sxs-lookup"><span data-stu-id="cde48-254">Rejected</span></span></li></ul> |

<span data-ttu-id="cde48-255">กฎต่อไปนี้จะใช้กับคอลัมน์สถานะ</span><span class="sxs-lookup"><span data-stu-id="cde48-255">The following rules are applied to the status columns:</span></span>

- <span data-ttu-id="cde48-256">สถานะใน Supply Chain Management ไม่สามารถอัปเดตจาก Field Service ได้</span><span class="sxs-lookup"><span data-stu-id="cde48-256">The status in Supply Chain Management can't be updated from Field Service.</span></span> <span data-ttu-id="cde48-257">อย่างไรก็ตาม ในบางกรณี สถานะใน Field Service จะถูกอัปเดตเมื่อสถานะของใบสั่งซื้อใน Supply Chain Management มีการเปลี่ยนแปลง</span><span class="sxs-lookup"><span data-stu-id="cde48-257">However, in some cases, the status in Field Service will be updated when the purchase order status in Supply Chain Management is changed.</span></span>
- <span data-ttu-id="cde48-258">ถ้าใบสั่งซื้อใน Supply Chain Management อยู่ภายใต้การจัดการการเปลี่ยนแปลง และการเปลี่ยนแปลงอยู่ระหว่างการประมวลผล สถานะการอนุมัติคือ *แบบร่าง* หรือ *อยู่ระหว่างการตรวจทาน*</span><span class="sxs-lookup"><span data-stu-id="cde48-258">If a purchase order in Supply Chain Management is under change management, and a change is being processed, the approval status is *Draft* or *In Review*.</span></span> <span data-ttu-id="cde48-259">ในกรณีนี้ สถานะการอนุมัติ Field Service จะถูกตั้งค่าเป็น *Null*</span><span class="sxs-lookup"><span data-stu-id="cde48-259">In this case, the Field Service approval status will be set to *Null*.</span></span>
- <span data-ttu-id="cde48-260">ถ้าสถานะการอนุมัติใบสั่งซื้อใน Supply Chain Management ได้รับการตั้งค่าเป็น *อนุมัติแล้ว* *ในการตรวจทานจากภายนอก* *ยืนยันแล้ว* หรือ *ขั้นสุดท้าย* สถานะการอนุมัติใบสั่งซื้อ Field Service จะตั้งค่าเป็น *อนุมัติแล้ว*</span><span class="sxs-lookup"><span data-stu-id="cde48-260">If the purchase order approval status in Supply Chain Management is set to *Approved*, *In External review*, *Confirmed*, or *Finalized*, the Field Service purchase order approval status will be set to *Approved*.</span></span>
- <span data-ttu-id="cde48-261">ถ้าสถานะการอนุมัติใบสั่งซื้อใน Supply Chain Management ได้รับการตั้งค่าเป็น *ถูกปฏิเสธ* สถานะการอนุมัติใบสั่งซื้อ Field Service จะตั้งค่าเป็น *ถูกปฏิเสธ*</span><span class="sxs-lookup"><span data-stu-id="cde48-261">If the purchase order approval status in Supply Chain Management is set to *Rejected*, the Field Service purchase order approval status will be set to *Rejected*.</span></span>
- <span data-ttu-id="cde48-262">ถ้าสถานะส่วนหน้าของเอกสารใน Supply Chain Management เปลี่ยนเป็น *ใบสั่งส่งคืนสินค้า" (สินค้าค้างส่ง)* และสถานะฟิลด์ใบสั่งซื้อของ Field Service เป็น *ร่าง* หรือ *ยกเลิก* สถานะใบสั่งซื้อของ Field Service จะเปลี่ยนเป็น *ส่งแล้ว*</span><span class="sxs-lookup"><span data-stu-id="cde48-262">If the document header status in Supply Chain Management is changed to *Open order (Back order)*, and the Field Service purchase order status is *Draft* or *Cancelled*, the Field Service purchase order status will be changed to *Submitted*.</span></span>
- <span data-ttu-id="cde48-263">ถ้าสถานะส่วนหัวของเอกสารใน Supply Chain Management เปลี่ยนเป็น *ยกเลิก* และไม่มีผลิตภัณฑ์การรับสินค้าตามใบสั่งซื้อใน Field Service สัมพันธ์กับใบสั่งซื้อ (ผ่านผลิตภัณฑ์ตามใบสั่งซื้อ) สถานะของระบบ Field Service จะตั้งค่าเป็น *ยกเลิก*</span><span class="sxs-lookup"><span data-stu-id="cde48-263">If the document header status in Supply Chain Management is changed to *Cancelled*, and no purchase order receipt products in Field Service are associated with the purchase order (via purchase order products), the Field Service system status is set to *Cancelled*.</span></span>
- <span data-ttu-id="cde48-264">ถ้าสถานะของรายการใบสั่งซื้อใน Supply Chain Management เป็น *ยกเลิก* สถานะผลิตภัณฑ์ตามใบสั่งซื้อใน Field Service จะถูกตั้งค่าเป็น *ยกเลิก*</span><span class="sxs-lookup"><span data-stu-id="cde48-264">If purchase order line status in Supply Chain Management is *Cancelled*, the purchase order product status in Field Service is set to *Cancelled*.</span></span> <span data-ttu-id="cde48-265">นอกจากนี้ ถ้าสถานะของบรรทัดใบสั่งซื้อใน Supply Chain Management มีการเปลี่ยนแปลงจาก *ยกเลิก* เป็นField Service *สินค้าค้างส่ง* สถานะสินค้าของผลิตภัณฑ์ตามใบสั่งซื้อใน Field Service จะถูกตั้งค่าเป็น *ค้างอยู่*</span><span class="sxs-lookup"><span data-stu-id="cde48-265">In addition, if the purchase order line status in Supply Chain Management is changed from *Cancelled* to *Back Order*, the purchase order product item status in Field Service is set to *Pending*.</span></span>

## <a name="sync-with-the-supply-chain-management-procurement-data-on-demand"></a><a id="sync-procurement"></a><span data-ttu-id="cde48-266">ซิงค์กับข้อมูลการจัดซื้อของ Supply Chain Management ตามความต้องการ</span><span class="sxs-lookup"><span data-stu-id="cde48-266">Sync with the Supply Chain Management procurement data on demand</span></span>

<span data-ttu-id="cde48-267">Supply Chain Management ประกอบด้วยข้อมูลการจัดซื้อที่จัดการข้อตกลงทางการค้า ส่วนลด และสถานการณ์อื่น ๆ ที่ขึ้นอยู่กับกระบวนการรองใน Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-267">Supply Chain Management includes procurement data that handles trade agreements, discounts, and other scenarios that rely on secondary processes in Supply Chain Management.</span></span> <span data-ttu-id="cde48-268">กลไกการจัดซื้อจะใช้กฎที่ซับซ้อนเพื่อกำหนดราคาที่ดีที่สุดสำหรับใบเสนอราคาหรือใบสั่งซื้อที่กำหนด</span><span class="sxs-lookup"><span data-stu-id="cde48-268">The procurement engine uses complex rules to determine the best price for a given purchase order.</span></span> <span data-ttu-id="cde48-269">เมื่อคุณใช้การรวมแบบสองทิศทาง ข้อมูลจะไม่คงอยู่ในแบบสมวารตลอดสองสภาพแวดล้อมเสมอ โดยเฉพาะในกรณีที่สร้างหรืออัปเดตแถวจาก Dataverse และอาจทริกเกอร์กระบวนการปฏิบัติตามใน Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-269">When you use dual-write, data isn't always kept synchronous across the two environments, especially in scenarios where the row was created or updated from Dataverse and might trigger follow-on processes in Supply Chain Management.</span></span>

## <a name="sync-the-procurement-data-from-supply-chain-management"></a><span data-ttu-id="cde48-270">ซิงค์กับข้อมูลการจัดซื้อจาก Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-270">Sync the procurement data from Supply Chain Management</span></span>

1. <span data-ttu-id="cde48-271">ใน Dataverse ไปที่ **สินค้าคงคลัง \> ใบสั่งซื้อ**</span><span class="sxs-lookup"><span data-stu-id="cde48-271">In Dataverse, go to **Inventory \> Purchase Order**.</span></span>
2. <span data-ttu-id="cde48-272">เลือก **สร้าง** เพื่อสร้างใบสั่งซื้อใหม่ หรือเลือกแถวสำหรับใบสั่งซื้อที่มีอยู่แล้ว</span><span class="sxs-lookup"><span data-stu-id="cde48-272">Select **New** to create a new purchase order, or select the row for an existing purchase order.</span></span>
3. <span data-ttu-id="cde48-273">จากใบสั่งซื้อหรือบรรทัดใบสั่งซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-273">From the purchase order or purchase order line.</span></span>
4. <span data-ttu-id="cde48-274">บนบานหน้าต่างการดำเนินการ เลือก **ซิงค์**</span><span class="sxs-lookup"><span data-stu-id="cde48-274">On the Action Pane, select **Sync**.</span></span>

<span data-ttu-id="cde48-275">คอลัมน์ทั้งหมดจาก Dataverse และ Field Service ที่ใช้ร่วมกันโดย Supply Chain Management จะถูกซิงค์</span><span class="sxs-lookup"><span data-stu-id="cde48-275">All columns from Dataverse and Field Service that are shared by Supply Chain Management are synced.</span></span>

<span data-ttu-id="cde48-276">ต่อไปนี้เป็นสถานการณ์ที่คุณอาจใช้ฟังก์ชัน **ซิงค์**:</span><span class="sxs-lookup"><span data-stu-id="cde48-276">Here are the situations where you might use the **Sync** function:</span></span>

- <span data-ttu-id="cde48-277">ถ้าคุณเปลี่ยนแปลงแถวเดียวกันอย่างต่อเนื่องหลายชุดจาก Dataverse ให้รันฟังก์ชัน **ซิงค์**</span><span class="sxs-lookup"><span data-stu-id="cde48-277">If you make multiple successive changes to the same row from Dataverse, run the **Sync** function.</span></span>
- <span data-ttu-id="cde48-278">ถ้าคุณไม่แน่ใจว่าการเปลี่ยนแปลงอาจเป็นการเปลี่ยนแปลงต่อ ๆ มาจาก Dataverse หรือไม่ อาจเหมาะสมที่จะรันฟังก์ชัน **ซิงค์**</span><span class="sxs-lookup"><span data-stu-id="cde48-278">If you aren't sure whether a change might be the second successive change from Dataverse, it might make sense to run the **Sync** function.</span></span>
- <span data-ttu-id="cde48-279">หากคุณได้รับข้อความแสดงข้อผิดพลาดเกี่ยวกับการอัปเดตค่าจาก Supply Chain Management ให้รันฟังก์ชัน **ซิงค์** แล้วลองอัปเดตใน Dataverse ใหม่อีกครั้ง</span><span class="sxs-lookup"><span data-stu-id="cde48-279">If you receive an error message about updating a value from Supply Chain Management, run the **Sync** function, and then retry the update in Dataverse.</span></span>

## <a name="cancelling-the-posting-process"></a><span data-ttu-id="cde48-280">การยกเลิกกระบวนการลงรายการบัญชี</span><span class="sxs-lookup"><span data-stu-id="cde48-280">Cancelling the posting process</span></span>

<span data-ttu-id="cde48-281">ถ้ากระบวนการลงรายการบัญชีใบรับสินค้าถูกยกเลิกระหว่างการประมวลผล การรวมแบบสองทิศทางอาจสร้างแถวใบรับสินค้าใน Dataverse แต่ไม่สร้างแถวใบรับสินค้าใน Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-281">If the product receipt posting process is cancelled during processing, then dual-write might create a product receipt row in Dataverse, but not create a product receipt row in Supply Chain Management.</span></span> <span data-ttu-id="cde48-282">สถานการณ์นี้เกิดขึ้นเนื่องจากการรวมแบบสองทิศทางไม่สนับสนุนธุรกรรมที่กระจาย</span><span class="sxs-lookup"><span data-stu-id="cde48-282">This situation happens because dual-write does not support distributed transactions.</span></span>

## <a name="templates"></a><span data-ttu-id="cde48-283">เท็มเพลต</span><span class="sxs-lookup"><span data-stu-id="cde48-283">Templates</span></span>

<span data-ttu-id="cde48-284">แม่แบบต่อไปนี้มีอยู่พร้อมให้รวมเอกสารที่เกี่ยวข้องกับการจัดซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-284">The following templates are available for the integration of procurement-related documents.</span></span>

| <span data-ttu-id="cde48-285">Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-285">Supply Chain Management</span></span> | <span data-ttu-id="cde48-286">Field Service</span><span class="sxs-lookup"><span data-stu-id="cde48-286">Field Service</span></span> | <span data-ttu-id="cde48-287">คำอธิบาย</span><span class="sxs-lookup"><span data-stu-id="cde48-287">Description</span></span> |
|---|---|---|
| <span data-ttu-id="cde48-288">ส่วนหัวของใบสั่งซื้อ V2</span><span class="sxs-lookup"><span data-stu-id="cde48-288">Purchase order header V2</span></span> | <span data-ttu-id="cde48-289">Msdyn\_Purchaseorders</span><span class="sxs-lookup"><span data-stu-id="cde48-289">msdyn\_Purchaseorders</span></span> | <span data-ttu-id="cde48-290">ตารางนี้ประกอบด้วยคอลัมน์ที่แสดงถึงส่วนหัวของใบสั่งซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-290">This table contains the columns that represent the purchase order header.</span></span> |
| <span data-ttu-id="cde48-291">เอนทิตีรายการในใบสั่งซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-291">Purchase order line entity</span></span> | <span data-ttu-id="cde48-292">Msdyn\_PurchaseOrderProducts</span><span class="sxs-lookup"><span data-stu-id="cde48-292">msdyn\_PurchaseOrderProducts</span></span> | <span data-ttu-id="cde48-293">ตารางนี้ประกอบด้วยแถวที่แสดงถึงบรรทัดของใบสั่งซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-293">This table contains the rows that represent lines on a purchase order.</span></span> <span data-ttu-id="cde48-294">หมายเลขผลิตภัณฑ์จะใช้สำหรับการซิงโครไนส์</span><span class="sxs-lookup"><span data-stu-id="cde48-294">The product number is used for synchronization.</span></span> <span data-ttu-id="cde48-295">ซึ่งระบุผลิตภัณฑ์เป็นหน่วยการเก็บสต็อก (SKU) รวมถึงมิติของผลิตภัณฑ์</span><span class="sxs-lookup"><span data-stu-id="cde48-295">This identifies the product as a stock keeping unit (SKU), including product dimensions.</span></span> <span data-ttu-id="cde48-296">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับการรวมผลิตภัณฑ์กับ Dataverse โปรดดูที่ [ประสบการณ์การใช้งานผลิตภัณฑ์แบบรวม](product-mapping.md)</span><span class="sxs-lookup"><span data-stu-id="cde48-296">For more information about product integration with Dataverse, see [Unified product experience](product-mapping.md).</span></span> |
| <span data-ttu-id="cde48-297">ส่วนหัวของใบรับสินค้า</span><span class="sxs-lookup"><span data-stu-id="cde48-297">Product receipt header</span></span> | <span data-ttu-id="cde48-298">Msdyn\_purchaseorderreceipts</span><span class="sxs-lookup"><span data-stu-id="cde48-298">msdyn\_purchaseorderreceipts</span></span> | <span data-ttu-id="cde48-299">ตารางนี้ประกอบด้วยส่วนหัวของใบรับสินค้าที่สร้างขึ้นเมื่อลงรายการบัญชีใบรับสินค้าใน Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-299">This table contains the product receipt headers that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| <span data-ttu-id="cde48-300">รายการใบรับสินค้า</span><span class="sxs-lookup"><span data-stu-id="cde48-300">Product receipt line</span></span> | <span data-ttu-id="cde48-301">Msdyn\_purchaseorderreceiptproducts</span><span class="sxs-lookup"><span data-stu-id="cde48-301">msdyn\_purchaseorderreceiptproducts</span></span> | <span data-ttu-id="cde48-302">ตารางนี้ประกอบด้วยบรรทัดของใบรับสินค้าที่สร้างขึ้นเมื่อลงรายการบัญชีใบรับสินค้าใน Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="cde48-302">This table contains the product receipt lines that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| <span data-ttu-id="cde48-303">เอนทิตีการลบชั่วคราวสำหรับรายการใบสั่งซื้อ</span><span class="sxs-lookup"><span data-stu-id="cde48-303">Purchase order line soft deleted entity</span></span> | <span data-ttu-id="cde48-304">Msdyn\_purchaseorderproducts</span><span class="sxs-lookup"><span data-stu-id="cde48-304">msdyn\_purchaseorderproducts</span></span> | <span data-ttu-id="cde48-305">ตารางนี้ประกอบด้วยข้อมูลเกี่ยวกับบรรทัดใบสั่งซื้อที่ถูกลบออกแบบไม่ตั้งใจ</span><span class="sxs-lookup"><span data-stu-id="cde48-305">This table contains information about purchase order lines that are soft-deleted.</span></span> <span data-ttu-id="cde48-306">รายการใบสั่งซื้อใน Supply Chain Management สามารถลบออกได้แบบไม่ตั้งใจเฉพาะเมื่อใบสั่งซื้อได้รับการยืนยันหรืออนุมัติแล้ว หากการจัดการการเปลี่ยนแปลงเปิดอยู่</span><span class="sxs-lookup"><span data-stu-id="cde48-306">A purchase order line in Supply Chain Management can be soft-deleted only when the purchase order has been confirmed or approved, if change management is turned on.</span></span> <span data-ttu-id="cde48-307">มีแถวอยู่ในฐานข้อมูล Supply Chain Management และถูกเครื่องหมายเป็น **IsDeleted**</span><span class="sxs-lookup"><span data-stu-id="cde48-307">The row exists in the Supply Chain Management database and is marked as **IsDeleted**.</span></span> <span data-ttu-id="cde48-308">เนื่องจาก Dataverse ไม่มีแนวคิดเกี่ยวกับการลบแบบไม่แน่นอน จึงควรซิงค์ข้อมูลนี้กับ Dataverse</span><span class="sxs-lookup"><span data-stu-id="cde48-308">Because Dataverse doesn't have a concept of soft-deletion, it's important that this information be synced to Dataverse.</span></span> <span data-ttu-id="cde48-309">ด้วยวิธีนี้ บรรทัดที่ลบชั่วคราวใน Supply Chain Management สามารถลบออกจาก Dataverse โดยอัตโนมัติได้</span><span class="sxs-lookup"><span data-stu-id="cde48-309">In this way, lines that are soft-deleted in Supply Chain Management can automatically be deleted from Dataverse.</span></span> <span data-ttu-id="cde48-310">ในกรณีนี้ ตรรกะการลบบรรทัดใน Dataverse อยู่ใน Supply Chain Management แบบขยาย</span><span class="sxs-lookup"><span data-stu-id="cde48-310">In this case, the logic for deleting a line in Dataverse is located in Supply Chain Management Extended.</span></span> |

[!include [banner](../../includes/dual-write-symbols.md)]

[!include [Currency](includes/productreceiptheader-msdyn-purchaseorderreceipts.md)]

[!include [Currency](includes/productreceiptline-msdyn-purchaseorderreceiptproducts.md)]

[!include [Currency](includes/purchaseorderheadersv2-msdyn-purchaseorders.md)]

[!include [Currency](includes/purchaseorderlinesoftdeletedtable-msdyn-purchaseorderproducts.md)]

[!include [Currency](includes/purchaseorderlinetable-msdyn-purchaseorderproducts.md)]


[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]