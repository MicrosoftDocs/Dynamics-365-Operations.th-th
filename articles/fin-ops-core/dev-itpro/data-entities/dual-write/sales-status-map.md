---
title: ตั้งค่าการแม็ปสำหรับคอลัมน์สถานะของใบสั่งขาย
description: หัวข้อนี้จะอธิบายถึงวิธีการตั้งค่าคอลัมน์สถานะของใบสั่งขายสำหรับการรวมแบบสองทิศทาง
author: dasani-madipalli
manager: tonyafehr
ms.date: 06/25/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: damadipa
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-06-25
ms.openlocfilehash: ecf26a2a697fa4d0485c1904041692a6c10ce9c3
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 03/09/2021
ms.locfileid: "5560420"
---
# <a name="set-up-the-mapping-for-the-sales-order-status-columns"></a>ตั้งค่าการแม็ปสำหรับคอลัมน์สถานะของใบสั่งขาย

[!include [banner](../../includes/banner.md)]

คอลัมน์ที่บ่งชี้สถานะของใบสั่งขายมีค่าการแจงนับที่แตกต่างกันใน Microsoft Dynamics 365 Supply Chain Management และ Dynamics 365 Sales ต้องมีการตั้งค่าเพิ่มเติมเพื่อแม็ปคอลัมน์เหล่านี้ในการรวมแบบสองทิศทาง

## <a name="columns-in-supply-chain-management"></a>คอลัมน์ใน Supply Chain Management

ใน Supply Chain Management คอลัมน์สองคอลัมน์จะสะท้อนถึงสถานะของใบสั่งขาย คอลัมน์ที่คุณต้องแม็ปคือ **สถานะ** และ **สถานะเอกสาร**

การแจง **สถานะ** ระบุสถานะโดยรวมของใบสั่ง สถานะนี้จะแสดงอยู่บนส่วนหน้าของใบสั่ง

การแจงนับ **สถานะ** มีค่าต่อไปนี้:

- เปิดใบสั่ง
- จัดส่งแล้ว
- ออกใบแจ้งหนี้แล้ว
- ยกเลิกแล้ว

การแจง **สถานะของเอกสาร** ระบุเอกสารล่าสุดที่สร้างขึ้นสำหรับใบสั่ง ตัวอย่างเช่น ถ้ายืนยันใบสั่งแล้ว เอกสารนี้เป็นการยืนยันใบสั่งขาย ถ้าใบสั่งขายมีการออกใบแจ้งหนี้แล้วบางส่วน บรรทัดที่เหลือจะถูกยืนยัน สถานะเอกสารยังคงมีการ **ออกใบแจ้งหนี้** เนื่องจากมีการสร้างใบแจ้งหนี้ในภายหลังในกระบวนการ

การแจงนับ **สถานะเอกสาร** มีค่าต่อไปนี้:

- ใบสั่งขาย
- รายการเบิกสินค้า
- บันทึกการจัดส่ง
- ใบแจ้งหนี้

## <a name="columns-in-sales"></a>คอลัมน์ใน Sales

ในการขาย มีสองคอลัมน์ที่บ่งชี้สถานะของใบสั่ง คอลัมน์ที่คุณต้องแม็ปคือ **สถานะ** และ **สถานะการประมวลผล**

การแจง **สถานะ** ระบุสถานะโดยรวมของใบสั่ง ซึ่งมีค่าดังต่อไปนี้:

- ที่ใช้งานอยู่
- ส่ง
- เติมเต็มแล้ว
- ออกใบแจ้งหนี้แล้ว
- ยกเลิกแล้ว

การแจงนับ **สถานะการประมวลผล** ถูกนำมาใช้เพื่อให้สามารถแม็ปสถานะได้อย่างถูกต้องกับ Supply Chain Management

ตารางต่อไปนี้แสดงการแม็ป **สถานะการประมวลผล** ใน Supply Chain Management

| สถานะการประมวลผล   | สถานะใน Supply Chain Management | สถานะเอกสารใน Supply Chain Management |
|---------------------|-----------------------------------|--------------------------------------------|
| ที่ใช้งานอยู่              | เปิดใบสั่ง                        | None                                       |
| ยืนยัน           | เปิดใบสั่ง                        | ใบสั่งขาย                               |
| เบิกสินค้าแล้ว              | เปิดใบสั่ง                        | รายการเบิกสินค้า                               |
| จัดส่งสินค้าแล้วบางส่วน | เปิดใบสั่ง                        | บันทึกการจัดส่ง                               |
| จัดส่งแล้ว           | จัดส่งแล้ว                         | บันทึกการจัดส่ง                               |
| ออกใบแจ้งหนี้แล้วบางส่วน  | จัดส่งแล้ว                         | ใบแจ้งหนี้                                    |
| ออกใบแจ้งหนี้แล้ว            | ออกใบแจ้งหนี้แล้ว                          | ใบแจ้งหนี้                                    |
| ยกเลิกแล้ว           | ยกเลิกแล้ว                         | ใช้ไม่ได้                             |

ตารางต่อไปนี้แสดงการแม็ป **สถานะการประมวลผล** ระหว่างการขายและ Supply Chain Management

| สถานะการประมวลผล   | สถานะในการขาย | สถานะใน Supply Chain Management |
|---------------------|-----------------|-----------------------------------|
| ที่ใช้งานอยู่              | ที่ใช้งานอยู่          | เปิดใบสั่ง                        |
| ยืนยัน           | ส่ง       | เปิดใบสั่ง                        |
| เบิกสินค้าแล้ว              | ส่ง       | เปิดใบสั่ง                        |
| จัดส่งสินค้าแล้วบางส่วน | ที่ใช้งานอยู่          | เปิดใบสั่ง                        |
| ออกใบแจ้งหนี้แล้วบางส่วน  | ที่ใช้งานอยู่          | เปิดใบสั่ง                        |
| ออกใบแจ้งหนี้แล้วบางส่วน  | เติมเต็มแล้ว       | จัดส่งแล้ว                         |
| ออกใบแจ้งหนี้แล้ว            | ออกใบแจ้งหนี้แล้ว        | ออกใบแจ้งหนี้แล้ว                          |
| ยกเลิกแล้ว           | ยกเลิกแล้ว       | ถูกยกเลิก                         |

## <a name="setup"></a>ตั้งค่า

เมื่อต้องการตั้งค่าการแม็ปสำหรับคอลัมน์สถานะของใบสั่งขาย คุณต้องเปิดใช้งานแอตทริบิวต์ **IsSOPIntegrationEnabled** **isIntegrationUser**

เมื่อต้องการเปิดใช้งานแอตทริบิวต์ **IsSOPIntegrationEnabled** ให้ทำตามขั้นตอนต่อไปนี้

1. ในเบราเซอร์ ไปที่ `https://<test-name>.crm.dynamics.com/api/data/v9.0/organizations` แทนที่ **\<test-name\>** ด้วยลิงก์ของบริษัทของคุณไปยังการขาย
2. บนหน้าที่เปิดอยู่ ให้ค้นหา **organizationid** และจดบันทึกค่า

    ![การค้นหา organizationid](media/sales-map-orgid.png)

3. ในการขาย ให้เปิดคอนโซลของเบราว์เซอร์แล้วรันสคริปต์ต่อไปนี้ ใช้ค่า **organizationid** จากขั้นตอนที่ 2

    ```javascript
    Xrm.WebApi.updateRecord("organization",
    "d9a7c5f7-acbf-4aa9-86e8-a891c43f748c", {"issopintegrationenabled" :
    true}).then(
        function success(result) {
            console.log("Account updated");
            // perform operations on row update
        },
        function (error) {
            console.log(error.message);
            // handle error conditions
        }
    );
    ```

    ![รหัส JavaScript ในคอนโซลของเบราว์เซอร์](media/sales-map-script.png)

4. ตรวจสอบว่ามีการตั้งค่า **IsSOPIntegrationEnabled** เป็น **จริง** ใช้ URL จากขั้นตอนที่ 1 เพื่อตรวจสอบค่า

    ![ตั้งค่า IsSOPIntegrationEnabled เป็นจริง](media/sales-map-integration-enabled.png)

เมื่อต้องการเปิดใช้งานแอตทริบิวต์ **isIntegrationUser** ให้ทำตามขั้นตอนต่อไปนี้

1. ในการขาย ให้ไปที่ **การตั้งค่า \> การกำหนดเอง \> การกำหนดเองของระบบ** เลือก **ตารางผู้ใช้** แล้วเปิด **ฟอร์ม \> ผู้ใช้**

    ![การเปิดแบบฟอร์มผู้ใช้](media/sales-map-user.png)

2. ในฟิลด์ Explorer ให้ค้นหา **โหมดผู้ใช้การรวม** และคลิกสองครั้งเพื่อเพิ่มในแบบฟอร์ม บันทึกการเปลี่ยนแปลง

    ![กำลังเพิ่มคอลัมน์โหมดผู้ใช้ในการรวมกับแบบฟอร์ม](media/sales-map-field-explorer.png)

3. ในการขาย ให้ไปที่ **การตั้งค่า \> ความปลอดภัย \> ผู้ใช้** และเปลี่ยนมุมมองจาก **ผู้ใช้ที่เปิดใช้งาน** เป็น **ผู้ใช้แอปพลิเคชัน**

    ![การเปลี่ยนมุมมองจากผู้ใช้ที่เปิดใช้งานเป็นผู้ใช้แอปพลิเคชัน](media/sales-map-enabled-users.png)

4. เลือกรายการสองรายการสำหรับ **DualWrite IntegrationUser**

    ![รายการของผู้ใช้แอปพลิเคชัน](media/sales-map-user-mode.png)

5. เปลี่ยนค่าของคอลัมน์ **โหมดผู้ใช้การรวม** เป็น **ใช่**

    ![การเปลี่ยนค่าของคอลัมน์โหมดผู้ใช้การรวม](media/sales-map-user-mode-yes.png)

ขณะนี้มีการแม็ปใบสั่งขายของคุณ


[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]