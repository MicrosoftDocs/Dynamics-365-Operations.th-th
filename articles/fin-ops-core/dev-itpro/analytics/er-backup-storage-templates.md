---
title: การจัดเก็บข้อมูลสำรองของเทมเพลตการรายงานทางอิเล็กทรอนิกส์
description: บทความนี้จะอธิบายถึงวิธีการใช้ที่จัดเก็บสำเนาสำรองของการรายงานทางอิเล็กทรอนิกส์ (ER) สำหรับการกู้คืนเท็มเพลต
author: NickSelin
ms.date: 04/29/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 27621
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-08-13
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 635e7152bece91d5dee47f82cef7052730eb0c82
ms.sourcegitcommit: 3289478a05040910f356baf1995ce0523d347368
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 07/01/2022
ms.locfileid: "9108966"
---
# <a name="backup-storage-of-er-templates"></a>การจัดเก็บข้อมูลสำรองของเท็มเพลต ER

[!include [banner](../includes/banner.md)]

[ภาพรวมการรายงานทางอิเล็กทรอนิกส์ (ER)](general-electronic-reporting.md) ทำให้ผู้ใช้ทางธุรกิจสามารถตั้งค่าคอนฟิกรูปแบบ สำหรับเอกสารขาออกที่สอดคล้องกับข้อกำหนดตามกฎหมายของประเทศ/ภูมิภาคต่างๆ รูปแบบ ER ที่ตั้งค่าคอนฟิกสามารถใช้เท็มเพลตที่กำหนดไว้ล่วงหน้าเพื่อสร้างเอกสารขาออกในรูปแบบต่าง ๆ เช่น Microsoft Excel Microsoft Word หรือเอกสาร PDF เท็มเพลตจะถูกกรอกข้อมูล ซึ่งจำเป็นต้องใช้ในการตั้งค่าคอนฟิกลำดับข้อมูล สำหรับเอกสารที่สร้างขึ้น

รูปแบบที่ตั้งค่าคอนฟิกแต่ละรูปแบบ สามารถเผยแพร่เป็นส่วนหนึ่งของโซลูชัน ER ได้ แต่ละโซลูชัน ER สามารถส่งออกจากอินสแตนซ์หนึ่งของการเงินและการดำเนินงาน และนำเข้าในอินสแตนซ์อื่นได้

กรอบงาน ER ใช้ [ตั้งค่าคอนฟิกการจัดการเอกสาร](../../fin-ops/organization-administration/configure-document-management.md) เพื่อเก็บเท็มเพลตที่จำเป็นสำหรับอินสแตนซ์การเงินและการดำเนินงานปัจจุบัน ทั้งนี้ขึ้นอยู่กับการตั้งค่าของกรอบงาน ER ข้อมูล Microsoft Azure Blob หรือโฟลเดอร์ Microsoft SharePoint สามารถถูกเลือกเป็นที่ตั้งที่จัดเก็บหลัก ที่มีอยู่จริงสำหรับเท็มเพลตได้ (สำหรับข้อมูลเพิ่มเติม ดู [ตั้งค่าคอนฟิกกรอบงานการรายงานทางอิเล็กทรอนิกส์ (ER)](electronic-reporting-er-configure-parameters.md)) ตาราง DocuValue จัดเก็บเรกคอร์ดสำหรับแต่ละเท็มเพลต ในแต่ละเรกคอร์ด ฟิลด์ **AccessInformation** จะจัดเก็บพาธของไฟล์เท็มเพลต ที่อยู่ในสถานที่เก็บที่ตั้งค่าคอนฟิกไว้

เมื่อคุณจัดการอินสแตนซ์การเงินและการดำเนินงานของคุณ คุณอาจตัดสินใจที่จะโยกย้ายอินสแตนซ์ปัจจุบันไปยังที่ตั้งอื่น ตัวอย่างเช่น คุณอาจโยกย้ายอินสแตนซ์การผลิตของคุณ ไปยังสภาพแวดล้อม sandbox ใหม่ ถ้าคุณได้ตั้งค่าคอนฟิกกรอบงาน ER เพื่อจัดเก็บเท็มเพลตในที่เก็บข้อมูล Blob แล้วตาราง DocuValue ในสภาพแวดล้อม sandbox ใหม่ จะอ้างอิงถึงอินสแตนซ์ของที่เก็บข้อมูล Blob ในสภาพแวดล้อมการผลิต อย่างไรก็ตามอินสแตนซ์นี้ไม่สามารถเข้าถึงได้จากสภาพแวดล้อม sandbox เนื่องจากกระบวนการย้ายไม่สนับสนุนการย้ายของวัตถุในที่เก็บข้อมูล Blob ถ้าคุณพยายามที่จะรันกรอบงาน ER ซึ่งใช้เท็มเพลตเพื่อสร้างเอกสารทางธุรกิจ แล้วมีข้อยกเว้นเกิดขึ้น และคุณจะได้รับการแจ้งเตือนเกี่ยวกับเท็มเพลตที่ขาดหายไป แล้วคุณยังถูกแนะนำให้ใช้เครื่องมือการล้างข้อมูล ER เพื่อลบแล้วนำเข้าการตั้งค่าคอนฟิกรูปแบบ ER ที่มีเท็มเพลตได้อีกครั้ง เนื่องจากคุณอาจมีการตั้งค่าคอนฟิกกรอบงาน ER หลายรูปแบบ กระบวนการนี้อาจใช้เวลานาน

การจัดเก็บข้อมูลสำรองของของเทมแพลต ER สามารถช่วยคุณสร้างเท็มเพลต เพื่อให้สามารถสร้างเอกสารทางธุรกิจได้เสมอ

> [!NOTE]
> คุณลักษณะนี้สามารถใช้ได้เฉพาะเมื่อมีการเลือกพื้นที่เก็บ Blob เป็นที่ตั้งที่จัดเก็บจริงสำหรับเท็มเพลต ER เท่านั้น

## <a name="automated-recovery-and-notification"></a>การกู้คืนและการแจ้งเตือนอัตโนมัติ

สำหรับคุณลักษณะนี้จะมีการบันทึกการตั้งค่าคอนฟิกรูปแบบ ER ใหม่ทั้งหมดในสภาพแวดล้อมปัจจุบันโดยอัตโนมัติไปที่สถานที่เก็บสำรองสำหรับเท็มเพลต (ตารางฐานข้อมูล ERDocuDatabaseStorage) เมื่อเหตุการณ์ต่อไปนี้เกิดขึ้น:

- คุณนำเข้าการตั้งค่าคอนฟิกรูปแบบ ER ใหม่ที่มีเท็มเพลต
- คุณสร้างแบบร่างของการตั้งค่าคอนฟิกรูปแบบ ER ที่ประกอบด้วยเท็มเพลตสำเร็จ

สำเนาสำรองของเท็มเพลตจะถูกย้ายไปยังอินสแตนซ์ใหม่ของการเงินและการดำเนินงานโดยเป็นส่วนหนึ่งของฐานข้อมูลแอพลิเคชัน

ถ้าจำเป็นต้องใช้เท็มเพลตของรูปแบบ ER สำหรับการสร้างเอกสารขาออก เช่น ให้ประมวลผลการชำระเงินให้แก่ผู้จัดจำหน่าย โดยรวมถึงการสร้างใบแจ้งการชำระเงินและรายงานการควบคุม แต่ไม่พบเท็มเพลตที่จำเป็นในสถานที่จัดเก็บหลัก จะเกิดเหตุการณ์นี้เกิดขึ้น:

- ถ้าเท็มเพลตจะพร้อมใช้งานในที่ตั้งที่จัดเก็บสำรองข้อมูล จะมีการดำเนินการโดยอัตโนมัติจากสถานที่จัดเก็บสำรองข้อมูล โดยคืนค่าไปที่สถานที่เก็บหลักและใช้สำหรับการดำเนินการปัจจุบัน
- ผู้ใช้ทุกคนที่ได้รับการกำหนดบทบาทเป็น **นักพัฒนาการรายงานทางอิเล็กทรอนิกส์** หรือ **ผู้ดูแลระบบ** จะได้รับการแจ้งเตือนเกี่ยวกับปัญหาเท็มเพลตที่ขาดหายไปผ่านศูนย์ปฏิบัติการ ข้อความที่ปรากฏจะขึ้นอยู่กับค่าของพารามิเตอร์ **การรันขั้นตอนการกู้คืนเท็มเพลตที่เสียหายโดยอัตโนมัติ** :

    - หากพารามิเตอร์นี้ถูกตั้งค่าเป็น **ปิด** ข้อความจะแนะนำให้คุณเริ่มต้นกระบวนการชุดงาน เพื่อแก้ไขปัญหาคล้ายคลึงกันสำหรับเท็มเพลตการตั้งค่าคอนฟิกรูปแบบ ER อื่นๆ ข้อความมีลิงค์ที่คุณสามารถใช้เพื่อเริ่มต้นกระบวนการชุดงาน
    - ถ้ามีการตั้งค่าพารามิเตอร์นี้เป็น **เปิด** ข้อความแจ้งให้คุณทราบว่ามีการค้นพบปัญหาเท็มเพลตที่ขาดหายไปและกระบวนการชุดงานใหม่ **กู้ค่าเท็มเพลตที่เสียหายจากสำเนาสำรองฐานข้อมูลภายใน** ได้มีการจัดตารางแล้ว กระบวนการชุดงานนี้จะแก้ไขปัญหาที่คล้ายกันสำหรับเท็มเพลตอื่นโดยอัตโนมัติ

ในการตั้งค่าพารามิเตอร์ **การรันขั้นตอนการกู้คืนเท็มเพลตที่เสียหายโดยอัตโนมัติ** ให้ทำตามขั้นตอนนี้:

1. ในการเงินและการดำเนินงาน เปิด **การจัดการองค์กร \> การรายงานทางอิเล็กทรอนิกส์ \> หน้าการตั้งค่าคอนฟิก**
2. ในหน้า **การตั้งค่าคอนฟิก** บนบานหน้าต่างการดำเนินการ บนแท็บ **การตั้งค่าคอนฟิก** ในกลุ่ม **การตั้งค่าล่วงหน้า** เลือก **พารามิเตอร์ผู้ใช้**
3. ในกล่องโต้ตอบ **พารามิเตอร์ผู้ใช้** ให้กำหนดค่าที่จำเป็นสำหรับพารามิเตอร์ **การรันขั้นตอนการกู้คืนเท็มเพลตที่เสียหายโดยอัตโนมัติ**

> [!NOTE]
> พารามิเตอร์นี้ได้รับการกำหนดเป็นผู้ใช้แอพลิเคชันและบริษัทที่ถูกบันทึกเฉพาะ

![หน้าการตั้งค่าคอนฟิก ER](./media/GER-BackupTemplates-1.png)

ภาพประกอบต่อไปนี้แสดงตัวอย่างของข้อความที่จะปรากฏขึ้นเมื่อ **รันขั้นตอนการกู้คืนเท็มเพลตที่ขาดหายไปในชุดงานโดยอัตโนมัติ** โดยพารามิเตอร์ถูกตั้งเป็น **เปิด**

![หน้าสมุดรายวันการชำระเงินให้แก่ผู้จัดจำหน่าย](./media/GER-BackupTemplates-2.png)

ภาพประกอบต่อไปนี้แสดงกระบวนการชุดงาน **การกู้ค่าเท็มเพลตที่เสียหายจากสำเนาสำรองฐานข้อมูลภายใน** บนหน้า **ชุดงาน**

![หน้าชุดงาน](./media/GER-BackupTemplates-3.png)

ล็อกการดำเนินการของกระบวนการชุดงาน **การกู้ค่าเท็มเพลตที่เสียหายจากสำเนาสำรองฐานข้อมูลภายใน** รวมถึงข้อมูลเกี่ยวกับเท็มเพลตที่ได้รับการคืนค่าจากสถานที่จัดเก็บสำรองข้อมูลไปยังสถานที่เก็บหลัก

![หน้าประวัติชุดงาน](./media/GER-BackupTemplates-4.png)

โดยค่าเริ่มต้น กระบวนการสร้างสำเนาสำรองของเท็มเพลตที่อยู่ในการตั้งค่าคอนฟิกรูปแบบ ER โดยอัตโนมัติจะเปิดใช้งานอยู่แล้ว เมื่อต้องการหยุดการทำสำเนาสำรองของเท็มเพลต ตั้งค่าตัวเลือก **หยุดทำสำเนาสำรองของเท็มเพลต** เป็น **ใช่** บนแท็บ **เอกสารแนบ** ของหน้า **พารามิเตอร์การรายงานทางอิเล็กทรอนิกส์** คุณสามารถเปิดหน้านี้ได้จากพื้นที่ทำงาน **การรายงานทางอิเล็กทรอนิกส์**

หากคุณตั้งค่าตัวเลือก **หยุดทำสำเนาสำรองของเท็มเพลต** เป็น **ใช่** และไม่ต้องการเก็บสำเนาสำรองที่ทำไว้ก่อนหน้านี้ของเท็มเพลต ให้เลือก **ล้างข้อมูลพื้นที่จัดเก็บสำรอง** บนหน้า **พารามิเตอร์การรายงานทางอิเล็กทรอนิกส์**

ถ้าคุณอัพเกรดสภาพแวดล้อมของคุณเป็นการเงินและการดำเนินงาน รุ่น 10.0.5 (เดือนตุลาคม 2019) และต้องการย้ายไปยังสภาพแวดล้อมใหม่ที่มีการตั้งค่าคอนฟิกรูปแบบ ER ซึ่งสามารถรันได้ให้เลือก **กรอกข้อมูลในที่จัดเก็บข้อมูลสำรอง** บนหน้า **พารามิเตอร์การรายงานทางอิเล็กทรอนิกส์** ก่อนที่จะเกิดการย้าย ปุ่มนี้จะเริ่มต้นกระบวนการทำสำเนาสำรองของเท็มเพลตที่พร้อมใช้งานทั้งหมด เพื่อให้สามารถจัดเก็บในสถานที่เก็บข้อมูลสำรองของ ER สำหรับเท็มเพลตได้

![หน้าพารามิเตอร์การรายงานทางอิเล็กทรอนิกส์](./media/GER-BackupTemplates-5.png)

## <a name="manual-recovery"></a>การกู้คืนด้วยตนเอง

ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **คืนค่าแม่แบบที่ใช้งานไม่ได้** เพื่อเริ่มต้นกระบวนการของการคืนค่าแม่แบบ ER ด้วยตนเองจากสถานที่เก็บข้อมูลสํารองไปยังสถานที่เก็บข้อมูลหลัก ก่อนที่คุณจะเริ่มกระบวนการนี้ บนหน้า **คืนค่าแม่แบบที่ใช้งานไม่ได้** คุณสามารถกำหนดว่าจะปฏิบัติแบบโต้ตอบได้ หรือกระบวนการชุดงานจะถูกกำหนดสำหรับการทำงานนี้

## <a name="supported-deployments"></a>การปรับใช้ที่สนับสนุน

ในการเงินและการดำเนินงาน รุ่น 10.0.5 การจัดเก็บข้อมูลสำรองของคุณลักษณะของเทมเพลต ER จะพร้อมใช้งานในการปรับใช้งานระบบคลาวด์เท่านั้น

## <a name="additional-resources"></a>แหล่งข้อมูลเพิ่มเติม

[ภาพรวมการรายงานทางอิเล็กทรอนิกส์ (ER)](general-electronic-reporting.md)

[ตั้งค่าคอนฟิกกรอบงานการรายงานทางอิเล็กทรอนิกส์ (ER)](electronic-reporting-er-configure-parameters.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
