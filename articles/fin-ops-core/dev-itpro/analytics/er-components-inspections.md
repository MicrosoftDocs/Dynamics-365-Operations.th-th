---
title: ตรวจสอบส่วนประกอบ ER ที่ตั้งค่าคอนฟิกเพื่อป้องกันปัญหารันไทม์
description: บทความนี้อธิบายถึงวิธีการตรวจสอบส่วนประกอบของการรายงานทางอิเล็กทรอนิกส์ (ER) ที่ตั้งค่าคอนฟิกไว้เพื่อป้องกันไม่ให้เกิดปัญหารันไทม์ซึ่งอาจเกิดขึ้นได้
author: kfend
ms.date: 09/14/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.region: Global
ms.author: filatovm
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.custom: 220314
ms.assetid: ''
ms.search.form: ERSolutionTable, ERDataModelDesigner, ERModelMappingTable, ERModelMappingDesigner, EROperationDesigner
ms.openlocfilehash: 1ca59d6c26dbcf065adb952409da30002d951f62
ms.sourcegitcommit: a1d14836b40cfc556f045c6a0d2b4cc71064a6af
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/14/2022
ms.locfileid: "9476866"
---
# <a name="inspect-the-configured-er-component-to-prevent-runtime-issues"></a>ตรวจสอบส่วนประกอบ ER ที่ตั้งค่าคอนฟิกเพื่อป้องกันปัญหารันไทม์

[!include[banner](../includes/banner.md)]

ทุก ๆ [รูปแบบ](er-overview-components.md#format-components-for-outgoing-electronic-documents) [การรายงานทางอิเล็กทรอนิกส์ (ER)](general-electronic-reporting.md) และส่วนประกอบ [การแมปแบบจำลอง](er-overview-components.md#model-mapping-component) สามารถ [ตรวจสอบความถูกต้อง](er-fillable-excel.md#validate-an-er-format) ในเวลาที่ออกแบบได้ ในระหว่างการตรวจสอบความถูกต้องนี้ การตรวจสอบความสอดคล้องกันจะดำเนินการเพื่อช่วยป้องกันปัญหารันไทม์ซึ่งอาจเกิดขึ้น เช่น ข้อผิดพลาดในการดำเนินการและการลดประสิทธิภาพการทำงาน สำหรับทุกปัญหาที่พบ การตรวจสอบจะระบุเส้นทางของส่วนประกอบที่เป็นปัญหา สำหรับปัญหาบางอย่าง การแก้ไขอัตโนมัติจะพร้อมใช้งาน

โดยค่าเริ่มต้น การตรวจสอบความถูกต้องจะใช้โดยอัตโนมัติในกรณีต่อไปนี้สำหรับการตั้งค่าคอนฟิก ER ที่มีส่วนประกอบ ER ดังกล่าวก่อนหน้านี้:

- คุณ [นำเข้า](general-electronic-reporting.md#importing-an-er-component-from-lcs-to-use-it-internally) รุ่นใหม่ของการตั้งค่าคอนฟิก ER ใหม่ไปยังอินสแตนซ์ของ Microsoft Dynamics 365 Finance
- คุณเปลี่ยนสถานะการตั้งค่าคอนฟิก ER ที่สามารถแก้ไขได้จาก **แบบร่าง** เป็น **เสร็จสมบูรณ์**
- คุณ [ปรับใช้](general-electronic-reporting.md#upgrading-a-format-selecting-a-new-version-of-base-format-rebase) การตั้งค่าคอนฟิก ER ที่สามารถแก้ไขได้โดยใช้รุ่นพื้นฐานใหม่

คุณสามารถเรียกใช้การตรวจสอบความถูกต้องนี้อย่างชัดแจ้ง เลือกตัวเลือกอย่างใดอย่างหนึ่งจากสามตัวเลือกต่อไปนี้และปฏิบัติตามขั้นตอนที่ระบุ:

- ตัวเลือก 1:

    1. ไปที่ **การจัดการองค์กร \> การรายงานทางอิเล็กทรอนิกส์ \> การตั้งค่าคอนฟิก**
    2. ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้เลือกการตั้งค่าคอนฟิก ER ที่ต้องการที่มีรูปแบบ ER หรือส่วนประกอบการแมปแบบจำลอง ER
    3. บนแท็บด่วน **รุ่น** เลือกรุ่นที่ต้องการของการตั้งค่าคอนฟิก ER ที่เลือก
    4. บนบานหน้าต่างการดำเนินการ เลือก **ตรวจสอบความถูกต้อง**

- ตัวเลือก 2 สำหรับรูปแบบ ER:

    1. ไปที่ **การจัดการองค์กร \> การรายงานทางอิเล็กทรอนิกส์ \> การตั้งค่าคอนฟิก**
    2. ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้เลือกการตั้งค่าคอนฟิก ER ที่ต้องการที่มีส่วนประกอบรูปแบบ ER
    3. บนแท็บด่วน **รุ่น** เลือกรุ่นที่ต้องการของการตั้งค่าคอนฟิก ER ที่เลือก
    4. บนบานหน้าต่างการดำเนินการ เลือก **ตัวออกแบบ**
    5. บนหน้า **ตัวออกแบบรูปแบบ** บนบานหน้าต่างการดำเนินการ ให้เลือก **ตรวจสอบความถูกต้อง**

- ตัวเลือก 3 สำหรับการแมปแบบจำลอง ER:

    1. ไปที่ **การจัดการองค์กร \> การรายงานทางอิเล็กทรอนิกส์ \> การตั้งค่าคอนฟิก**
    2. ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้เลือกการตั้งค่าคอนฟิก ER ที่ต้องการที่มีส่วนประกอบการแมปแบบจำลอง ER
    3. บนแท็บด่วน **รุ่น** เลือกรุ่นที่ต้องการของการตั้งค่าคอนฟิก ER ที่เลือก
    4. บนบานหน้าต่างการดำเนินการ เลือก **ตัวออกแบบ**
    5. บนหน้า **การแมปแบบจำลองกับแหล่งข้อมูล** บนแผงการดำเนินการ เลือก **ตัวออกแบบ**
    6. บนหน้า **ตัวออกแบบการแมปแบบจำลอง** บนแผงการดำเนินการ เลือก **ตรวจสอบความถูกต้อง**

เมื่อต้องการข้ามการตรวจสอบความถูกต้องเมื่อมีการนำเข้าการตั้งค่าคอนฟิก ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การจัดการองค์กร \> การรายงานทางอิเล็กทรอนิกส์ \> การตั้งค่าคอนฟิก**
2. ในหน้า **การตั้งค่าคอนฟิก** บนบานหน้าต่างการดำเนินการ บนแท็บ **การตั้งค่าคอนฟิก** ในกลุ่ม **การตั้งค่าล่วงหน้า** เลือก **พารามิเตอร์ผู้ใช้**
3. ตั้งค่าตัวเลือก **ตรวจสอบความถูกต้องการตั้งค่าคอนฟิกหลังจากนำเข้า** เป็น **ไม่**

เมื่อต้องการข้ามการตรวจสอบความถูกต้องเมื่อคุณเปลี่ยนแปลงหรือปรับใช้สถานะของรุ่น ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การจัดการองค์กร \> การรายงานทางอิเล็กทรอนิกส์ \> การตั้งค่าคอนฟิก**
2. ในหน้า **การตั้งค่าคอนฟิก** บนบานหน้าต่างการดำเนินการ บนแท็บ **การตั้งค่าคอนฟิก** ในกลุ่ม **การตั้งค่าล่วงหน้า** เลือก **พารามิเตอร์ผู้ใช้**
3. ตั้งค่าตัวเลือก **ข้ามการตรวจสอบความถูกต้องเมื่อสถานะของการตั้งค่าคอนฟิกเปลี่ยนแปลงและปรับใช้** เป็น **ใช่**

ER ใช้ประเภทต่อไปนี้ในการตรวจสอบความสอดคล้องกันของกลุ่มการตรวจสอบ:

- **ความสามารถในการปฏิบัติการ** การตรวจสอบที่พบปัญหาที่สำคัญซึ่งอาจเกิดขึ้นเมื่อรันไทม์ ปัญหาเหล่านี้ส่วนใหญ่จะอยู่ในระดับ **ข้อผิดพลาด** 
- **ประสิทธิภาพ** – การตรวจสอบที่ตรวจพบปัญหาที่อาจทำให้เกิดการดำเนินการที่ไม่มีประสิทธิภาพของส่วนประกอบ ER ที่ตั้งค่าคอนฟิก ปัญหาเหล่านี้ส่วนใหญ่จะอยู่ในระดับ **คำเตือน**
- **ความถูกต้องของข้อมูล** – การตรวจสอบที่ตรวจพบปัญหาที่อาจทำให้เกิดปัญหาการสูญเสียข้อมูลหรือรันไทม์ ปัญหาเหล่านี้ส่วนใหญ่จะอยู่ในระดับ **คำเตือน**

## <a name="list-of-inspections"></a>รายการของการตรวจสอบ

ตารางต่อไปนี้จะแสดงภาพรวมของการตรวจสอบที่ ER มีให้ สำหรับข้อมูลเพิ่มเติมเกี่ยวกับการตรวจสอบเหล่านี้ ให้ใช้การเชื่อมโยงในคอลัมน์แรกเพื่อไปที่ส่วนที่เกี่ยวข้องของบทความนี้ ส่วนเหล่านี้จะอธิบายชนิดของส่วนประกอบที่ ER ให้การตรวจสอบและวิธีที่คุณสามารถตั้งค่าคอนฟิกส่วนประกอบ ER เพื่อช่วยป้องกันปัญหา

<table>
<thead>
<tr>
<th>ชื่อ</th>
<th>ประเภท</th>
<th>ระดับ</th>
<th>ข้อความ</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href='#i1'>ชนิดการแปลง</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>ผิดพลาด</td>
<td>
<p>ไม่สามารถแปลงนิพจน์ชนิด &lt;ชนิด&gt; เป็นฟิลด์ชนิด &lt;ชนิด&gt;</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> ข้อยกเว้นสำหรับชนิด</p>
</td>
</tr>
<tr>
<td><a href='#i2'>ความเข้ากันได้ของชนิด</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>ผิดพลาด</td>
<td>
<p>นิพจน์ที่ตั้งค่าคอนฟิกไม่สามารถใช้ได้เนื่องจากมีการรวมกันขององค์ประกอบรูปแบบปัจจุบันไปยังแหล่งข้อมูลเป็นนิพจน์นี้ส่งคืนค่าชนิดของชนิดข้อมูล &lt;ชนิด&gt; ที่อยู่นอกขอบเขตของชนิดข้อมูลที่รองรับโดยองค์ประกอบรูปแบบปัจจุบันของชนิด &lt;ชนิด&gt;</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> ข้อยกเว้นของชนิด</p>
</td>
</tr>
<tr>
<td><a href='#i3'>ขาดองค์ประกอบการตั้งค่าคอนฟิก</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>ผิดพลาด</td>
<td>
<p>ไม่พบพาธ &lt;พาธ&gt;</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> ไม่พบองค์ประกอบของพาธการตั้งค่าคอนฟิก &lt;พาธ&gt;</p>
</td>
</tr>
<tr>
<td><a href='#i4'>ความสามารถในการปฏิบัติการนิพจน์กับฟังก์ชันตัวกรอง</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>ผิดพลาด</td>
<td>
<p>นิพจน์รายการของฟังก์ชัน FILTER ไม่สามารถสอบถามได้</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> ไม่สนับสนุนการกรองข้อมูล ตรวจสอบความถูกต้องของการตั้งค่าคอนฟิกเพื่อดูรายละเอียดเพิ่มเติมเกี่ยวกับเรื่องนี้</p>
</td>
</tr>
<tr>
<td rowspan='2'><a href='#i5'>ความสามารถในการปฏิบัติการของแหล่งข้อมูล GROUPBY</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>ผิดพลาด</td>
<td>พาธ &lt;พาธ&gt; ไม่รองรับการสอบถาม</td>
</tr>
<tr>
<td>ความสามารถในการปฏิบัติการ</td>
<td>ผิดพลาด</td>
<td>
<p>การจัดกลุ่มตามฟังก์ชันไม่สามารถดำเนินการโดยใช้การสอบถาม</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> การจัดกลุ่มตามฟังก์ชันไม่สามารถดำเนินการโดยใช้การสอบถาม</p>
</td>
</tr>
<tr>
<td><a href='#i6'>ความสามารถในการปฏิบัติการของแหล่งข้อมูล JOIN</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>ผิดพลาด</td>
<td>
<p>ไม่สามารถรวม &lt;พาธ&gt; ของรายการที่ไม่ใช่ตัวกรองข้อมูลในการสอบถาม</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> แหล่งข้อมูลที่รวมฟังก์ชันควรเป็นนิพจน์ของตัวกรอง ฟิลด์ที่คำนวณถูกเรียกอย่างไม่ถูกต้อง</p>
</td>
</tr>
<tr>
<td><a href='#i7'>ความเป็นที่ต้องการมากกว่าของฟังก์ชัน FILTER เทียบกับฟังก์ชัน WHERE</a></td>
<td>ประสิทธิภาพ</td>
<td>คำเตือน</td>
<td>การใช้ฟังก์ชัน FILTER สำหรับนิพจน์นี้จะเป็นที่ต้องการมากกว่า WHERE จากมุมมองประสิทธิภาพการทำงาน เลือก แก้ไข เพื่อแทนที่โดยอัตโนมัติ</td>
</tr>
<tr>
<td><a href='#i8'>ความเป็นที่ต้องการมากกว่าของฟังก์ชัน ALLITEMSQUERY เทียบกับฟังก์ชัน ALLITEMS</a></td>
<td>ประสิทธิภาพ</td>
<td>คำเตือน</td>
<td>การใช้ฟังก์ชัน ALLITEMSQUERY สำหรับนิพจน์นี้จะเป็นที่ต้องการมากกว่า ALLITEMS จากมุมมองประสิทธิภาพการทำงาน เลือก แก้ไข เพื่อแทนที่โดยอัตโนมัติ</td>
</tr>
<tr>
<td><a href='#i9'>การพิจารณากรณีของรายการที่ว่างเปล่า</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>คำเตือน</td>
<td>
<p>รายการ &lt;พาธ&gt; ไม่มีการตรวจสอบสำหรับกรณีของรายการที่ว่างเปล่า อาจทำให้เกิดข้อผิดพลาดขณะดำเนินการ เพิ่มการตรวจสอบสำหรับกรณีของรายการที่ว่างเปล่า</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> รายการว่างเปล่าที่ &lt;พาธ&gt;</p>
<p><b><a href='#i9a'>ปัญหาที่อาจเกิดขึ้น</a>:</b> มีการเติมข้อมูลรายการหนึ่งครั้งในขณะที่แหล่งข้อมูลมีการเติมข้อมูลจากหลายเรกคอร์ด</p>
</td>
</tr>
<tr>
<td><a href='#i10'>ความสามารถในการปฏิบัติการนิพจน์กับฟังก์ชันตัวกรอง (การแคช)</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>ผิดพลาด</td>
<td>
<p>ฟังก์ชัน FILTER ไม่สามารถใช้กับชนิดแหล่งข้อมูลที่เลือกได้ แหล่งข้อมูลของชนิดเรกคอร์ดตารางใช้ได้เฉพาะเมื่อไม่มีการแคชไว้และไม่มีการเพิ่มแหล่งข้อมูลที่ซ้อนกันด้วยตนเอง</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> ไม่สนับสนุนการกรองข้อมูล ตรวจสอบความถูกต้องของการตั้งค่าคอนฟิกเพื่อดูรายละเอียดเพิ่มเติมเกี่ยวกับเรื่องนี้</p>
</td>
</tr>
<tr>
<td><a href='#i11'>ขาดการผูกข้อมูล</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>คำเตือน</td>
<td>
<p>พาธ &lt;พาธ&gt; ไม่มีการผูกกับแหล่งข้อมูลใด ๆ ในการใช้การแมปแบบจำลอง</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> พาธ &lt;พาธ&gt; ไม่ถูกผูกไว้</p>
</td>
</tr>
<tr>
<td><a href='#i12'>เทมเพลตไม่มีการเชื่อมโยง</a></td>
<td>ความสมบูรณ์ของข้อมูล</td>
<td>คำเตือน</td>
<td>ชื่อ &lt;ไฟล์&gt; ถูกลิงค์ไปยังไม่มีส่วนประกอบของไฟล์และจะถูกลบออกหลังจากเปลี่ยนสถานะของรุ่นการตั้งค่าคอนฟิก</td>
</tr>
<tr>
<td><a href='#i13'>รูปแบบที่ไม่ได้ซิงค์</a></td>
<td>ความสมบูรณ์ของข้อมูล</td>
<td>คำเตือน</td>
<td>ชื่อที่กำหนดของ &lt;ชื่อส่วนประกอบ&gt; ไม่มีอยู่ใน &lt;ชื่อแผ่นงาน&gt; แผ่นงาน Excel</td>
</tr>
<tr>
<td><a href='#i14'>รูปแบบที่ไม่ได้ซิงค์</a></td>
<td>ความสมบูรณ์ของข้อมูล</td>
<td>คำเตือน</td>
<td>
<p>&lt;แท็กการควบคุมเนื้อหา Word&gt; ไม่มีแท็กอยู่ในไฟล์เทมเพลต Word</p>
<p><b>การทำงานผิดพลาด:</b> &lt;แท็กการควบคุมเนื้อหา Word&gt; ไม่มีแท็กอยู่ในไฟล์เทมเพลต Word</p>
</td>
</tr>
<tr>
<td><a href='#i15'>ไม่มีการแมปเริ่มต้น</a></td>
<td>ความสมบูรณ์ของข้อมูล</td>
<td>ผิดพลาด</td>
<td>
<p>มีการแมปแบบแผนที่มากกว่าหนึ่งแบบเกิดขึ้นสำหรับการกำหนดค่าคอนฟิก &lt;ชื่อแบบจำลอง (ตัวบอกราก)&gt; แบบจำลองข้อมูลในการกำหนดค่าคอนฟิก &lt;ที่เรียกแยกกันโดยมีเครื่องหมายจุลภาคคั่น&gt; ตั้งค่าการกําหนดค่าคอนฟิกค่าใดค่าหนึ่งเป็นค่าเริ่มต้น</p>
<p><b>การทำงานผิดพลาด:</b> มีการแมปแบบจำลองมากกว่าหนึ่งรายการสำหรับการกำหนดค่าคอนฟิก &lt;ชื่อแบบจำลอง (ตัวบอกราก)&gt; แบบจำลองข้อมูลในการกำหนดค่าคอนฟิก &lt;ที่เรียกแยกกันโดยมีเครื่องหมายจุลภาคคั่น&gt; กําหนดการตั้งค่าคอนฟิกตัวใดค่าหนึ่งเป็นค่าเริ่มต้น</p>
</td>
</tr>
<tr>
<td><a href='#i16'>การตั้งค่าส่วนประกอบส่วนหัวหรือส่วนท้ายไม่สอดคล้องกัน</a></td>
<td>ความสมบูรณ์ของข้อมูล</td>
<td>ผิดพลาด</td>
<td>
<p>ส่วนหัว/ส่วนท้าย (&lt;ชนิดของส่วนประกอบ: ส่วนหัวหรือส่วนท้าย&gt;) ไม่สอดคล้องกัน</p>
<p><b>รันไทม์:</b> จะใช้ส่วนประกอบที่กำหนดค่าคอนฟิกล่าสุดในช่วงรันไทม์ ถ้ามีการเรียกใช้เวอร์ชันแบบร่างของรูปแบบ ER ที่กำหนดค่าคอนฟิกไว้</p>
</td>
</tr>
<tr>
<td><a href='#i17'>การตั้งค่าส่วนประกอบหน้าไม่สอดคล้องกัน</a></td>
<td>ความสมบูรณ์ของข้อมูล</td>
<td>ผิดพลาด</td>
<td>มีส่วนประกอบของช่วงมากกว่าสองช่วงที่ไม่มีการจำลอง โปรดลบส่วนประกอบที่ไม่จําเป็น</td>
</tr>
<tr>
<td><a href='#i18'>ความสามารถในการปฏิบัติการนิพจน์กับฟังก์ชัน ORDERBY</a></td>
<td>ความสามารถในการปฏิบัติการ</td>
<td>ผิดพลาด</td>
<td>
<p>นิพจน์รายการของฟังก์ชัน ORDERBY ไม่สามารถสอบถามได้</p>
<p><b>ข้อผิดพลาดรันไทม์:</b> ไม่สนับสนุนการเรียงลำดับ ตรวจสอบความถูกต้องของการตั้งค่าคอนฟิกเพื่อดูรายละเอียดเพิ่มเติมเกี่ยวกับเรื่องนี้</p>
</td>
</tr>
<tr>
<td><a href='#i19'>อาร์ทิแฟกต์แอปพลิเคชันที่ล้าสมัย</a></td>
<td>ความสมบูรณ์ของข้อมูล</td>
<td>คำเตือน</td>
<td>
<p>&lt;พาธ&gt; องค์ประกอบถูกทำเครื่องหมายว่าเก่าเกินไป<br>หรือ<br>&lt;พาธ&gt; องค์ประกอบถูกทำเครื่องหมายว่าเก่าเกินไปพร้อมข้อความ &lt;เนื้อหาข้อความ&gt;</p>
<p><b>ตัวอย่างข้อผิดพลาดรันไทม์:</b> ไม่พบ '&lt;พาธ&gt;' คลาส</p>
</td>
</tr>
</tbody>
</table>

## <a name="type-conversion"></a><a id="i1"></a>ชนิดการแปลง

ER จะตรวจสอบว่าชนิดข้อมูลของฟิลด์แบบจำลองข้อมูลเข้ากันได้กับชนิดข้อมูลของนิพจน์ที่มีการตั้งค่าคอนฟิกเป็นการรวมของฟิลด์นั้นหรือไม่ หากชนิดข้อมูลเข้ากันไม่ได้ ข้อผิดพลาดในการตรวจสอบความถูกต้องเกิดขึ้นในโปรแกรมออกแบบการแมปแบบจำลอง ER ข้อความที่คุณได้รับระบุว่า ER ไม่สามารถแปลงนิพจน์ชนิด A ไปยังฟิลด์ชนิด B

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกแบบจำลองข้อมูล ER และส่วนประกอบการแมปแบบจำลอง ER พร้อมกัน
2. ในแผนภูมิแบบจำลองข้อมูล ให้เพิ่มฟิลด์ที่ชื่อ **X** และเลือก **จำนวนเต็ม** เป็นชนิดข้อมูล

    ![ชนิดของฟิลด์ X และข้อมูลจำนวนเต็มที่เพิ่มลงในแผนภูมิโหมดข้อมูลบนหน้าแบบจำลองข้อมูล](./media/er-components-inspections-01.png)

3. ในตัวออกแบบการแมปแบบจำลอง ในบานหน้าต่าง **ที่มาของข้อมูล** ให้เพิ่มที่มาของข้อมูลของชนิด **ฟิลด์จากการคำนวณ**
4. ตั้งชื่อแหล่งข้อมูล **Y** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `INTVALUE(100)`
5. ผูก **X** กับ **Y**
6. ในตัวออกแบบแบบจำลองข้อมูล ให้เปลี่ยนชนิดข้อมูลของฟิลด์ **X** จาก **จำนวนเต็ม** เป็น **Int64**
7. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง**

    ![การตรวจสอบความถูกต้องส่วนประกอบของการแมปแบบจำลองที่แก้ไขได้บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-01.gif)

8. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของการแมปแบบจำลองของการตั้งค่าคอนฟิก ER ที่เลือกบนหน้า **การตั้งค่าคอนฟิก**

    ![การตรวจสอบส่วนประกอบของการแมปแบบจำลองในหน้าการกำหนดค่าคอนฟิก](./media/er-components-inspections-01a.png)

9. โปรดสังเกตว่าเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง ข้อความระบุว่าค่าของชนิด **จำนวนเต็ม** ที่นิพจน์ `INTVALUE(100)` ของการส่งคืนแหล่งข้อมูล **Y** ไม่สามารถจัดเก็บในฟิลด์แบบจำลองข้อมูล **X** ของ ชนิด **Int64**

ภาพประกอบต่อไปนี้แสดงข้อผิดพลาดรันไทม์ที่เกิดขึ้นถ้าคุณละเว้นคำเตือนและเลือก **เรียกใช้** เพื่อเรียกใช้รูปแบบที่มีการตั้งค่าคอนฟิกให้ใช้การแมปแบบจำลอง

![ข้อผิดพลาดรันไทม์บนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-01b.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

อัปเดตโครงสร้างแบบจำลองข้อมูลด้วยการเปลี่ยนชนิดข้อมูลของฟิลด์แบบจำลองข้อมูลเพื่อให้ตรงกับชนิดข้อมูลของนิพจน์ที่มีการตั้งค่าคอนฟิกไว้สำหรับการผูกข้อมูลของฟิลด์นั้น สำหรับตัวอย่างก่อนหน้านี้ ชนิดข้อมูลของฟิลด์ **X** ต้องเปลี่ยนให้เป็น **จำนวนเต็ม**

#### <a name="option-2"></a>ตัวเลือก 2

อัปเดตการแมปแบบจำลองด้วยการเปลี่ยนนิพจน์ของแหล่งข้อมูลที่ผูกกับฟิลด์แบบจำลองข้อมูล สำหรับตัวอย่างก่อนหน้านี้ นิพจน์ของแหล่งข้อมูล **Y** ต้องเปลี่ยนเป็น `INT64VALUE(100)`

## <a name="type-compatibility"></a><a id="i2"></a>ความเข้ากันได้ของชนิด

ER จะตรวจสอบว่าชนิดข้อมูลขององค์ประกอบรูปแบบเข้ากันได้กับชนิดข้อมูลของนิพจน์ที่มีการตั้งค่าคอนฟิกเป็นการรวมขององค์ประกอบรูปแบบนั้นหรือไม่ หากชนิดข้อมูลเข้ากันไม่ได้ ข้อผิดพลาดในการตรวจสอบความถูกต้องเกิดขึ้นในโปรแกรมออกแบบการดำเนินงาน ER ข้อความที่คุณได้รับระบุว่านิพจน์ที่ตั้งค่าคอนฟิกไม่สามารถใช้ได้เนื่องจากมีการรวมกันขององค์ประกอบรูปแบบปัจจุบันไปยังแหล่งข้อมูล เนื่องจากนิพจน์นี้ส่งคืนค่าชนิดของชนิดข้อมูล A ที่อยู่นอกขอบเขตของชนิดข้อมูลที่รองรับโดยองค์ประกอบรูปแบบปัจจุบันของชนิด B

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกแบบจำลองข้อมูล ER และส่วนประกอบการรูปแบบ ER พร้อมกัน
2. ในแผนภูมิแบบจำลองข้อมูล ให้เพิ่มฟิลด์ที่ชื่อ **X** และเลือก **จำนวนเต็ม** เป็นชนิดข้อมูล
3. ในแผนภูมิโครงสร้างรูปแบบ ให้เพิ่มองค์ประกอบรูปแบบของชนิด **ตัวเลข**
4. ชื่อองค์ประกอบรูปแบบใหม่ **Y** ในฟิลด์ **ชนิดตัวเลข** ให้เลือก **จำนวนเต็ม** เป็นชนิดข้อมูล
5. ผูก **X** กับ **Y**
6. ในแผนภูมิโครงสร้างรูปแบบ ให้เปลี่ยนชนิดข้อมูลขององค์ประกอบรูปแบบ **Y** จาก **เลขจำนวนเต็ม** เป็น **Int64**
7. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของรูปแบบที่แก้ไขได้บนหน้า **ตัวออกแบบรูปแบบ**

    ![การตรวจสอบความเข้ากันได้ของชนิดบนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-02.gif)

8. โปรดสังเกตว่าเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง ข้อความระบุว่านิพจน์ที่ตั้งค่าคอนฟิกสามารถยอมรับได้เฉพาะค่า **Int64** ดังนั้น ค่าของฟิลด์แบบจำลองข้อมูล **X** ของชนิด **จำนวนเต็ม** ไม่สามารถป้อนในองค์ประกอบรูปแบบ **Y**

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

อัปเดตโครงสร้างรูปแบบด้วยการเปลี่ยนชนิดข้อมูลขององค์ประกอบรูปแบบ **ตัวเลข** เพื่อให้ตรงกับชนิดข้อมูลของนิพจน์ ที่คุณตั้งค่าคอนฟิกไว้สำหรับการผูกข้อมูลขององค์ประกอบนั้น ในตัวอย่างก่อนหน้านี้ ค่า **ชนิดตัวเลข** ขององค์ประกอบรูปแบบ **X** ต้องเปลี่ยนให้เป็น **จำนวนเต็ม**

#### <a name="option-2"></a>ตัวเลือก 2

อัปเดตการแมปรูปแบบขององค์ประกอบรูปแบบ **X** โดยการเปลี่ยนแปลงนิพจน์จาก `model.X` เป็น `INT64VALUE(model.X)`

## <a name="missing-configuration-element"></a><a id="i3"></a>ขาดองค์ประกอบการตั้งค่าคอนฟิก

ER ตรวจสอบว่านิพจน์การผูกมีเฉพาะแหล่งข้อมูลที่มีการตั้งค่าคอนฟิกในส่วนประกอบ ER ที่แก้ไขได้เท่านั้น สำหรับการผูกทั้งหมดที่มีแหล่งข้อมูลที่ขาดหายไปในส่วนประกอบ ER ที่แก้ไขได้ เกิดข้อผิดพลาดในการตรวจสอบความถูกต้องในตัวออกแบบการดำเนินงาน ER หรือตัวออกแบบการแมปแบบจำลอง ER

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกแบบจำลองข้อมูล ER และส่วนประกอบการแมปแบบจำลอง ER พร้อมกัน
2. ในแผนภูมิแบบจำลองข้อมูล ให้เพิ่มฟิลด์ที่ชื่อ **X** และเลือก **จำนวนเต็ม** เป็นชนิดข้อมูล

    ![แผนภูมิแบบจำลองข้อมูลของฟิลด์ X และข้อมูลจำนวนเต็มบนหน้าแบบจำลองข้อมูล](./media/er-components-inspections-01.png)

3. ในตัวออกแบบการแมปแบบจำลอง ในบานหน้าต่าง **แหล่งข้อมูล** ให้เพิ่มที่มาของข้อมูลของชนิด **ฟิลด์จากการคำนวณ**
4. ตั้งชื่อแหล่งข้อมูล **Y** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `INTVALUE(100)`
5. ผูก **X** กับ **Y**
6. ในตัวออกแบบการแมปแบบจำลอง ในบานหน้าต่าง **แหล่งข้อมูล** ให้ลบแหล่งข้อมูล **Y**
7. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง**

    ![การตรวจสอบส่วนประกอบของการแมปแบบจำลอง ER ที่แก้ไขได้บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-03.gif)

8. โปรดสังเกตว่าเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง ข้อความระบุว่าการผูกกันของฟิลด์แบบจำลองข้อมูล **X** มีพาธที่อ้างอิงถึงแหล่งข้อมูล **Y** แต่ไม่พบแหล่งข้อมูลนี้

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

เลือก **ยกเลิกการผูก** เพื่อแก้ไขปัญหานี้โดยอัตโนมัติโดยการลบการผูกข้อมูลแหล่งข้อมูลที่ขาดหายไป

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

ยกเลิกการผูกฟิลด์แบบจำลองข้อมูล **X** เพื่อหยุดการอ้างอิงถึงแหล่งข้อมูล **Y** ที่ไม่มีอยู่

#### <a name="option-2"></a>ตัวเลือก 2

ในตัวออกแบบการแมปแบบจำลอง ในบานหน้าต่าง **แหล่งข้อมูล** ให้เพิ่มแหล่งข้อมูล **Y** อีกครั้ง

## <a name="executability-of-an-expression-with-filter-function"></a><a id="i4"></a>ความสามารถในการปฏิบัติการนิพจน์กับฟังก์ชันตัวกรอง

ฟังก์ชัน ER [FILTER](er-functions-list-filter.md) ที่มีอยู่แล้วภายในใช้เพื่อเข้าถึงตารางของแอปพลิเคชัน มุมมอง หรือเอนทิตีข้อมูลโดยการวางการเรียก SQL เดียวเพื่อให้ได้ข้อมูลที่จำเป็นในฐานะรายการของเรกคอร์ด แหล่งข้อมูลของชนิด **รายการเรกคอร์ด** ถูกใช้เป็นอาร์กิวเมนต์ของฟังก์ชันนี้และระบุแหล่งที่มาของแอปพลิเคชันสำหรับการโทร ER ตรวจสอบว่าสามารถสร้างการสอบถาม SQL โดยตรงกับแหล่งข้อมูลที่อ้างถึงในฟังก์ชัน `FILTER` หรือไม่ ถ้าไม่สามารถสร้างการสอบถามโดยตรงได้ เกิดข้อผิดพลาดในการตรวจสอบความถูกต้องในตัวออกแบบการแมปแบบจำลอง ER ข้อความที่คุณได้รับแจ้งว่านิพจน์ ER ที่มีฟังก์ชัน `FILTER` ไม่สามารถเรียกใช้ในขณะรันไทม์

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกส่วนประกอบการแมปแบบจำลอง ER
2. เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ เรกคอร์ดตาราง**
3. ตั้งชื่อแหล่งข้อมูล **ผู้จัดจำหน่าย** ใหม่ ในฟิลด์ **ตาราง** ให้เลือก **VendTable** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTable
4. เพิ่มแหล่งข้อมูลของชนิด **ฟิลด์ที่มีการคำนวณ**
5. ตั้งชื่อแหล่งข้อมูล **FilteredVendor** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `FILTER(Vendor, Vendor.AccountNum="US-101")`
6. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง** และตรวจสอบว่านิพจน์ `FILTER(Vendor, Vendor.AccountNum="US-101")` ในแหล่งข้อมูล **ผู้จัดจำหน่าย** สามารถสอบถามได้หรือไม่
7. ปรับเปลี่ยนแหล่งข้อมูล **ผู้จัดจำหน่าย** โดยการเพิ่มฟิลด์ที่ซ้อนกันของชนิด **ฟิลด์ที่คำนวณได้** เพื่อให้ได้หมายเลขบัญชีผู้จัดจำหน่ายที่ตัด
8. ตั้งชื่อฟิลด์ที่ซ้อนกัน **$AccNumber** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `TRIM(Vendor.AccountNum)`
9. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง** และตรวจสอบว่านิพจน์ `FILTER(Vendor, Vendor.AccountNum="US-101")` ในแหล่งข้อมูล **ผู้จัดจำหน่าย** สามารถสอบถามได้หรือไม่

    ![การตรวจสอบว่านิพจน์ที่มีฟังก์ชัน FILTER สามารถสอบถามบนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-04.gif)

10. โปรดสังเกตว่าเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง เนื่องจากแหล่งข้อมูล **ผู้จัดจำหน่าย** ประกอบด้วยฟิลด์ที่ซ้อนกันของชนิด **ฟิลด์ที่คำนวณได้** ที่ไม่อนุญาตให้มีการแปลนิพจน์ของแหล่งข้อมูล **FilteredVendor** ที่คำสั่ง SQL โดยตรง

ภาพประกอบต่อไปนี้แสดงข้อผิดพลาดรันไทม์ที่เกิดขึ้นถ้าคุณละเว้นคำเตือนและเลือก **เรียกใช้** เพื่อเรียกใช้รูปแบบที่มีการตั้งค่าคอนฟิกให้ใช้การแมปแบบจำลอง

![ข้อผิดพลาดรันไทม์ที่เกิดขึ้นเมื่อคุณเรียกใช้การจัดรูปแบบที่แก้ไขได้บนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-04a.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

แทนที่จะเพิ่มฟิลด์ที่ซ้อนกันของชนิด **ฟิลด์ที่คำนวณได้** ให้กับแหล่งข้อมูล **ผู้จัดจำหน่าย** ให้เพิ่มฟิลด์ **$AccNumber** ที่ซ้อนกันลงในแหล่งข้อมูล **FilteredVendor** และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `TRIM(FilteredVendor.AccountNum)` ด้วยวิธีนี้ นิพจน์ `FILTER(Vendor, Vendor.AccountNum="US-101")` สามารถเรียกใช้ในระดับ SQL และคำนวณฟิลด์ **$AccNumbe** ที่ซ้อนกันได้ภายหลัง

#### <a name="option-2"></a>ตัวเลือก 2

เปลี่ยนนิพจน์ของแหล่งข้อมูล **FilteredVendor** จาก `FILTER(Vendor, Vendor.AccountNum="US-101")` เป็น `WHERE(Vendor, Vendor.AccountNum="US-101")` เราไม่แนะนำให้คุณเปลี่ยนนิพจน์สำหรับตารางที่มีจำนวนมากของข้อมูล (ตารางธุรกรรม) เนื่องจากเรกคอร์ดทั้งหมดจะถูกนำมาใช้และการเลือกเรกคอร์ดที่ต้องการจะดำเนินการในหน่วยความจำ วิธีการนี้อาจทำให้ประสิทธิภาพการทำงานดีขึ้น สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [ฟังก์ชัน WHERE ER](er-functions-list-where.md)

## <a name="executability-of-a-groupby-data-source"></a><a id="i5"></a>ความสามารถในการปฏิบัติการของแหล่งข้อมูล GROUPBY

แหล่งข้อมูล **GROUPBY** แบ่งผลลัพธ์การสอบถามเป็นกลุ่มของเรกคอร์ด โดยทั่วไปจะใช้เพื่อวัตถุประสงค์ในการทำการรวมหนึ่งรายการขึ้นไปในแต่ละกลุ่ม ทุกแหล่งข้อมูล **GROUPBY** สามารถตั้งค่าคอนฟิกได้เพื่อให้เรียกใช้ในระดับฐานข้อมูลหรือในหน่วยความจำ เมื่อตั้งค่าคอนฟิกแหล่งข้อมูล **GROUPBY** เพื่อให้เรียกใช้ในระดับฐานข้อมูล ER จะตรวจสอบว่าสามารถสร้างการสอบถาม SQL โดยตรงกับแหล่งข้อมูลที่อ้างถึงในแหล่งข้อมูลนั้นได้หรือไม่ ถ้าไม่สามารถสร้างการสอบถามโดยตรงได้ เกิดข้อผิดพลาดในการตรวจสอบความถูกต้องในตัวออกแบบการแมปแบบจำลอง ER ข้อความที่คุณได้รับระบุว่าแหล่งข้อมูล **GROUPBY** ที่ตั้งค่าคอนฟิกไม่สามารถเรียกใช้ในขณะรันไทม์

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกส่วนประกอบการแมปแบบจำลอง ER
2. เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ เรกคอร์ดตาราง**
3. ตั้งชื่อแหล่งข้อมูลใหม่ **Trans** ในฟิลด์ **ตาราง** ให้เลือก **VendTrans** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTrans
4. เพิ่มแหล่งข้อมูลของชนิด **จัดกลุ่มตาม**
5. ตั้งชื่อแหล่งข้อมูลใหม่ **GroupedTrans** และตั้งค่าคอนฟิกในลักษณะต่อไปนี้:

    - เลือกแหล่งข้อมูล **Trans** เป็นแหล่งที่มาของเรกคอร์ดที่ควรมีการจัดกลุ่ม
    - ในฟิลด์ **สถานที่การดำเนินการ** ให้เลือก **การสอบถาม** เพื่อระบุว่าคุณต้องการเรียกใช้แหล่งข้อมูลนี้ในระดับฐานข้อมูล

    ![กำลังตั้งค่าคอนฟิกแหล่งข้อมูลบนหน้าแก้ไขพารามิเตอร์ 'จัดกลุ่มตาม'](./media/er-components-inspections-05a.gif)

6. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง** และตรวจสอบว่าแหล่งข้อมูล **GroupedTrans** ที่ตั้งค่าคอนฟิกสามารถสอบถามได้หรือไม่
7. ปรับเปลี่ยนแหล่งข้อมูล **Trans** โดยการเพิ่มฟิลด์ที่ซ้อนกันของชนิด **ฟิลด์ที่คำนวณได้** เพื่อให้ได้หมายเลขบัญชีผู้จัดจำหน่ายที่ตัด
8. ตั้งชื่อแหล่งข้อมูล **$AccNumber** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `TRIM(Trans.AccountNum)`

    ![ตั้งค่าคอนฟิกแหล่งข้อมูลในหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-05a.png)

9. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง** และตรวจสอบว่าแหล่งข้อมูล **GroupedTrans** ที่ตั้งค่าคอนฟิกสามารถสอบถามได้หรือไม่

    ![ตรวจสอบความถูกต้องของส่วนประกอบการแมปแบบจำลอง ER และการตรวจสอบว่าสามารถสอบถามแหล่งข้อมูล GroupedTrans ได้บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-05b.png)

10. โปรดสังเกตว่าเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง เนื่องจากแหล่งข้อมูล **Trans** ประกอบด้วยฟิลด์ที่ซ้อนกันของชนิด **ฟิลด์ที่คำนวณได้** ที่ไม่อนุญาตให้มีการเรียกใช้งานแหล่งข้อมูล **GroupedTrans** ที่คำสั่ง SQL โดยตรง

ภาพประกอบต่อไปนี้แสดงข้อผิดพลาดรันไทม์ที่เกิดขึ้นถ้าคุณละเว้นคำเตือนและเลือก **เรียกใช้** เพื่อเรียกใช้รูปแบบที่มีการตั้งค่าคอนฟิกให้ใช้การแมปแบบจำลอง

![ข้อผิดพลาดรันไทม์ที่เกิดขึ้นเมื่อคำเตือนถูกละเว้นบนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-05c.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

แทนที่จะเพิ่มฟิลด์ที่ซ้อนกันของชนิด **ฟิลด์ที่คำนวณได้** ให้กับแหล่งข้อมูล **Trans** ให้เพิ่มฟิลด์ **$AccNumber** ที่ซ้อนกันสำหรับรายการ **GroupedTrans.lines** ของแหล่งข้อมูล **GroupedTrans** และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `TRIM(GroupedTrans.lines.AccountNum)` ด้วยวิธีนี้ แหล่งข้อมูล **GroupedTrans** สามารถเรียกใช้ในระดับ SQL และคำนวณฟิลด์ **$AccNumber** ที่ซ้อนกันได้ภายหลัง

#### <a name="option-2"></a>ตัวเลือก 2

เปลี่ยนค่าของฟิลด์ **สถานที่การดำเนินการ** สำหรับแหล่งข้อมูล **GroupedTrans** จาก **การสอบถาม** เป็น **ในหน่วยความจำ** เราไม่แนะนำให้คุณเปลี่ยนค่าสำหรับตารางที่มีจำนวนมากของข้อมูล (ตารางธุรกรรม) เนื่องจากเรกคอร์ดทั้งหมดจะถูกนำมาใช้ และการจัดกลุ่มและการรวมจะดำเนินการในหน่วยความจำ วิธีการนี้อาจทำให้ประสิทธิภาพการทำงานดีขึ้น

## <a name="executability-of-a-join-data-source"></a><a id="i6"></a>ความสามารถในการปฏิบัติการของแหล่งข้อมูล JOIN

แหล่งข้อมูล [JOIN](er-join-data-sources.md) จะรวมเรกคอร์ดจากตารางฐานข้อมูลสองตารางขึ้นไป โดยขึ้นอยู่กับฟิลด์ที่เกี่ยวข้อง ทุกแหล่งข้อมูล **JOIN** สามารถตั้งค่าคอนฟิกได้เพื่อให้เรียกใช้ในระดับฐานข้อมูลหรือในหน่วยความจำ เมื่อตั้งค่าคอนฟิกแหล่งข้อมูล **JOIN** เพื่อให้เรียกใช้ในระดับฐานข้อมูล ER จะตรวจสอบว่าสามารถสร้างการสอบถาม SQL โดยตรงกับแหล่งข้อมูลที่อ้างถึงในแหล่งข้อมูลนั้นได้หรือไม่ ถ้าไม่สามารถสร้างการสอบถาม SQL โดยตรงได้ด้วยอย่างน้อยหนึ่งแหล่งข้อมูลอ้างอิง เกิดข้อผิดพลาดในการตรวจสอบความถูกต้องในตัวออกแบบการแมปแบบจำลอง ER ข้อความที่คุณได้รับระบุว่าแหล่งข้อมูล **JOIN** ที่ตั้งค่าคอนฟิกไม่สามารถเรียกใช้ในขณะรันไทม์

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกส่วนประกอบการแมปแบบจำลอง ER
2. เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ เรกคอร์ดตาราง**
3. ตั้งชื่อแหล่งข้อมูล **ผู้จัดจำหน่าย** ใหม่ ในฟิลด์ **ตาราง** ให้เลือก **VendTable** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTable
4. เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ เรกคอร์ดตาราง**
5. ตั้งชื่อแหล่งข้อมูลใหม่ **Trans** ในฟิลด์ **ตาราง** ให้เลือก **VendTrans** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTrans
6. เพิ่มแหล่งข้อมูลของชนิด **ฟิลด์ที่คำนวณได้** เป็นฟิลด์ซ้อนกันของแหล่งข้อมูล **ผู้จัดจำหน่าย**
7. ตั้งชื่อแหล่งข้อมูล **FilteredTrans** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `FILTER(Trans, Trans.AccountNum=Vendor.AccountNum)`
8. เพิ่มแหล่งข้อมูลของชนิด **Join**
9. ตั้งชื่อแหล่งข้อมูลใหม่ **JoinedList** และตั้งค่าคอนฟิกในลักษณะต่อไปนี้:

    1. เพิ่มแหล่งข้อมูล **ผู้จัดจำหน่าย** เป็นชุดของเรกคอร์ดแรกที่จะรวม
    2. เพิ่มแหล่งข้อมูล **Vendor.FilteredTrans** เป็นชุดของเรกคอร์ดที่สองที่จะรวม เลือก **ภายใน** เป็นชนิด
    3. ในฟิลด์ **ดำเนินการ** ให้เลือก **การสอบถาม** เพื่อระบุว่าคุณต้องการเรียกใช้แหล่งข้อมูลนี้ในระดับฐานข้อมูล

    ![ตั้งค่าคอนฟิกแหล่งข้อมูลในหน้าตัวออกแบบ Join](./media/er-components-inspections-06a.gif)

10. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง** และตรวจสอบว่าแหล่งข้อมูล **JoinedList** ที่ตั้งค่าคอนฟิกสามารถสอบถามได้หรือไม่
11. เปลี่ยนนิพจน์ของแหล่งข้อมูล **Vendor.FilteredTrans** จาก `FILTER(Trans, Trans.AccountNum=Vendor.AccountNum)` เป็น `WHERE(Trans, Trans.AccountNum=Vendor.AccountNum)`
12. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง** และตรวจสอบว่าแหล่งข้อมูล **JoinedList** ที่ตั้งค่าคอนฟิกสามารถสอบถามได้หรือไม่

    ![ตรวจสอบความถูกต้องของส่วนประกอบการแมปแบบจำลองที่แก้ไขได้ และการตรวจสอบว่าสามารถสอบถามแหล่งข้อมูล JoinedList ได้บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-06b.png)

13. โปรดสังเกตว่าเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง เนื่องจากนิพจน์ของแหล่งข้อมูล **Vendor.FilteredTrans** ไม่สามารถแปลเป็นการเรียก SQL โดยตรงได้ นอกจากนี้ การเรียก SQL โดยตรงไม่อนุญาตการเรียกสำหรับแหล่งข้อมูล **JoinedList** ที่จะแปลเป็นคำสั่ง SQL โดยตรง

    ![ข้อผิดพลาดรันไทม์จากการตรวจสอบความถูกต้องของแหล่งข้อมูล JoinedList บนหน้าตัวออกแบบการแมปแบบจำลองล้มเหลว](./media/er-components-inspections-06c.png)

ภาพประกอบต่อไปนี้แสดงข้อผิดพลาดรันไทม์ที่เกิดขึ้นถ้าคุณละเว้นคำเตือนและเลือก **เรียกใช้** เพื่อเรียกใช้รูปแบบที่มีการตั้งค่าคอนฟิกให้ใช้การแมปแบบจำลอง

![เรียกใช้รูปแบบที่แก้ไขได้บนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-06e.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

เปลี่ยนนิพจน์ของแหล่งข้อมูล **Vendor.FilteredTrans** จาก `WHERE(Trans, Trans.AccountNum=Vendor.AccountNum)` กลับเป็น `FILTER(Trans, Trans.AccountNum=Vendor.AccountNum)` ตามคำเตือนที่แนะนำ

![นิพจน์ที่อัปเดตของแหล่งข้อมูลในหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-06d.png)

#### <a name="option-2"></a>ตัวเลือก 2

เปลี่ยนค่าของฟิลด์ **ดำเนินการ** สำหรับแหล่งข้อมูล **JoinedList** จาก **การสอบถาม** เป็น **ในหน่วยความจำ** เราไม่แนะนำให้คุณเปลี่ยนค่าสำหรับตารางที่มีจำนวนมากของข้อมูล (ตารางธุรกรรม) เนื่องจากเรกคอร์ดทั้งหมดจะถูกนำมาใช้ และการรวมจะเกิดขึ้นในหน่วยความจำ วิธีการนี้อาจทำให้ประสิทธิภาพการทำงานดีขึ้น คำเตือนการตรวจสอบความถูกต้องจะแสดงขึ้นเพื่อแจ้งให้คุณทราบเกี่ยวกับความเสี่ยงนี้

## <a name="preferability-of-filter-vs-where-function"></a><a id="i7"></a>ความเป็นที่ต้องการมากกว่าของฟังก์ชัน FILTER เทียบกับฟังก์ชัน WHERE

ฟังก์ชัน ER [FILTER](er-functions-list-filter.md) ที่มีอยู่แล้วภายในใช้เพื่อเข้าถึงตารางของแอปพลิเคชัน มุมมอง หรือเอนทิตีข้อมูลโดยการวางการเรียก SQL เดียวเพื่อให้ได้ข้อมูลที่จำเป็นในฐานะรายการของเรกคอร์ด ฟังก์ชัน [WHERE](er-functions-list-where.md) ค้นหาเรกคอร์ดทั้งหมดจากต้นทางที่กำหนดและบันทึกการเลือกในหน่วยความจำ แหล่งข้อมูลของชนิด **รายการเรกคอร์ด** ถูกใช้เป็นอาร์กิวเมนต์ของทั้งสองฟังก์ชันและระบุแหล่งที่มาสำหรับการรับเรกคอร์ด ER ตรวจสอบว่าสามารถสร้างการเรียกใช้ SQL โดยตรงกับแหล่งข้อมูลที่อ้างถึงในฟังก์ชัน **WHERE** หรือไม่ ถ้าไม่สามารถสร้างการเรียกใช้โดยตรงได้ เกิดคำเตือนในการตรวจสอบความถูกต้องในตัวออกแบบการแมปแบบจำลอง ER ข้อความที่คุณได้รับแนะนำให้คุณใช้ฟังก์ชัน **FILTER** แทนที่จะใช้ฟังก์ชัน **WHERE** ที่จะช่วยปรับปรุงประสิทธิภาพ

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกส่วนประกอบการแมปแบบจำลอง ER
2. เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ เรกคอร์ดตาราง**
3. ตั้งชื่อแหล่งข้อมูลใหม่ **Trans** ในฟิลด์ **ตาราง** ให้เลือก **VendTrans** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTrans
4. เพิ่มแหล่งข้อมูลของชนิด **ฟิลด์ที่คำนวณได้** เป็นฟิลด์ซ้อนกันของแหล่งข้อมูล **ผู้จัดจำหน่าย**
5. ตั้งชื่อแหล่งข้อมูล **FilteredTrans** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `WHERE(Trans, Trans.AccountNum="US-101")`
6. เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ เรกคอร์ดตาราง**
7. ตั้งชื่อแหล่งข้อมูล **ผู้จัดจำหน่าย** ใหม่ ในฟิลด์ **ตาราง** ให้เลือก **VendTable** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTable
8. เพิ่มแหล่งข้อมูลของชนิด **ฟิลด์ที่มีการคำนวณ**
9. ตั้งชื่อแหล่งข้อมูล **FilteredVendor** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `WHERE(Vendor, Vendor.AccountNum="US-101")`
10. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง**

    ![ตรวจสอบส่วนประกอบของการแมปแบบจำลองที่แก้ไขได้บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-07a.png)

11. โปรดสังเกตว่าคำเตือนการตรวจสอบความถูกต้องขอแนะนำให้คุณใช้ฟังก์ชัน **FILTER** แทนที่จะใช้ฟังก์ชัน **WHERE** สำหรับแหล่งข้อมูล **FilteredVendor** และ **FilteredTrans**

    ![คำแนะนำให้ใช้ฟังก์ชัน FILTER แทนที่จะใช้ฟังก์ชัน WHERE บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-07b.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

เลือก **แก้ไข** เพื่อแทนที่ฟังก์ชัน **WHERE** โดยอัตโนมัติโดยฟังก์ชัน **FILTER** ในนิพจน์ของแหล่งข้อมูลทั้งหมดที่จะปรากฏในกริดบนแท็บ **คำเตือน** สำหรับชนิดของการตรวจสอบนี้

อีกทางหนึ่งคือ คุณสามารถเลือกแถวสำหรับคำเตือนเดียวในกริดแล้วเลือก **แก้ไขที่เลือก** ในกรณีนี้ นิพจน์จะถูกเปลี่ยนโดยอัตโนมัติในแหล่งข้อมูลที่ระบุไว้ในคำเตือนที่เลือกเท่านั้น

![การเลือก Fix เพื่อแทนที่ฟังก์ชัน WHERE ด้วยฟังก์ชัน FILTER บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-07c.png)

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

คุณสามารถปรับนิพจน์ของแหล่งข้อมูลทั้งหมดในกริดการตรวจสอบความถูกต้องด้วยตนเองได้ โดยแทนฟังก์ชัน **WHERE** ด้วยฟังก์ชัน **FILTER**

## <a name="preferability-of-allitemsquery-vs-allitems-function"></a><a id="i8"></a>ความเป็นที่ต้องการมากกว่าของฟังก์ชัน ALLITEMSQUERY เทียบกับฟังก์ชัน ALLITEMS

ฟังก์ชัน ER [ALLITEMS](er-functions-list-allitems.md) และ [ALLITEMSQUERY](er-functions-list-allitemsquery.md) ส่งคืนค่า **รายการเรกคอร์ด** ที่ทำให้แบนใหม่ที่ประกอบด้วยรายการของเรกคอร์ดที่แสดงถึงรายการทั้งหมดที่ตรงกับพาธที่ระบุ ER ตรวจสอบว่าสามารถสร้างการเรียกใช้ SQL โดยตรงกับแหล่งข้อมูลที่อ้างถึงในฟังก์ชัน **ALLITEMS** หรือไม่ ถ้าไม่สามารถสร้างการเรียกใช้โดยตรงได้ เกิดคำเตือนในการตรวจสอบความถูกต้องในตัวออกแบบการแมปแบบจำลอง ER ข้อความที่คุณได้รับแนะนำให้คุณใช้ฟังก์ชัน **ALLITEMSQUERYR** แทนที่จะใช้ฟังก์ชัน **ALLITEMS** ที่จะช่วยปรับปรุงประสิทธิภาพ

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกส่วนประกอบการแมปแบบจำลอง ER
2. เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ เรกคอร์ดตาราง**
3. ตั้งชื่อแหล่งข้อมูล **ผู้จัดจำหน่าย** ใหม่ ในฟิลด์ **ตาราง** ให้เลือก **VendTable** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTable
4. เพิ่มแหล่งข้อมูลแบบพารามิเตอร์ชนิด **ฟิลด์ที่มีการคำนวณ** เพิ่มรับเรกคอร์ดจากผู้จัดจำหน่ายหลายราย:
5. ตั้งชื่อแหล่งข้อมูล **FilteredVendor** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `FILTER(Vendor, OR(Vendor.AccountNum="US-101",Vendor.AccountNum="US-102"))`
6. เพิ่มแหล่งข้อมูลชองชนิด **ฟิลด์ที่มีการคำนวณ** เพิ่มรับธุรกรรมของผู้จัดจำหน่ายที่กรองแล้วทั้งหมด
7. ตั้งชื่อแหล่งข้อมูล **FilteredVendorTrans** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `ALLITEMS(FilteredVendor.'<Relations'.'VendTrans.VendTable_AccountNum')`
8. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง**

    ![การตรวจสอบส่วนประกอบของการแมปแบบจำลองที่แก้ไขได้บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-08a.png)

9. โปรดสังเกตว่าเกิดคำเตือนในการตรวจสอบความถูกต้อง ข้อความแนะนำว่าคุณควรใช้ฟังก์ชัน **ALLITEMSQUERY** แทนที่จะใช้ฟังก์ชัน **ALLITEMS** สำหรับแหล่งข้อมูล **FilteredVendorTrans**

    ![คำแนะนำให้ใช้ฟังก์ชัน ALLITEMSQUERY แทนที่จะใช้ฟังก์ชัน ALLITEMS บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-08b.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

เลือก **แก้ไข** เพื่อแทนที่ฟังก์ชัน **ALLITEMS** โดยอัตโนมัติโดยฟังก์ชัน **ALLITEMSQUERY** ในนิพจน์ของแหล่งข้อมูลทั้งหมดที่จะปรากฏในกริดบนแท็บ **คำเตือน** สำหรับชนิดของการตรวจสอบนี้

อีกทางหนึ่งคือ คุณสามารถเลือกแถวสำหรับคำเตือนเดียวในกริดแล้วเลือก **แก้ไขที่เลือก** ในกรณีนี้ นิพจน์จะถูกเปลี่ยนโดยอัตโนมัติในแหล่งข้อมูลที่ระบุไว้ในคำเตือนที่เลือกเท่านั้น

![การเลือก Fix ที่เลือกไว้บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-08c.png)

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

คุณสามารถปรับนิพจน์ของแหล่งข้อมูลทั้งหมดที่กล่าวถึงในกริดการตรวจสอบความถูกต้องด้วยตนเองได้โดยแทนฟังก์ชัน **ALLITEMS** ด้วยฟังก์ชัน **ALLITEMSQUERY**

## <a name="consideration-of-empty-list-cases"></a><a id="i9"></a>การพิจารณากรณีของรายการที่ว่างเปล่า

คุณสามารถตั้งค่าคอนฟิกรูปแบบ ER หรือส่วนประกอบการแมปรูปแบบเพื่อให้ได้ค่าฟิลด์ของแหล่งข้อมูลของชนิด **รายการเรกคอร์ด** ตรวจสอบว่าการออกแบบของคุณพิจารณากรณีที่มีแหล่งข้อมูลที่เรียกว่าไม่มีเรกคอร์ด (นั่นคือ ฟิลด์นี้ว่างเปล่า) เพื่อป้องกันไม่ให้เกิดข้อผิดพลาดรันไทม์เมื่อมีการนำค่ามาใช้จากฟิลด์ของเรกคอร์ดที่ไม่มีอยู่

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกแบบจำลองข้อมูล ER การแมปแบบจำลอง ER และส่วนประกอบรูปแบบ ER พร้อมกัน
2. ในแผนภูมิแบบจำลองข้อมูล ให้เพิ่มรายการรากที่ชื่อ **Root3**
3. ปรับเปลี่ยนรายการ **Root3** โดยการเพิ่มรายการที่ซ้อนกันของชนิด **รายการเรกคอร์ด**
4. ตั้งชื่อ **ผู้จัดจำหน่าย** รายการที่ซ้อนกันใหม่
5. ปรับเปลี่ยนสินค้า **ผู้จัดจำหน่าย** ในลักษณะต่อไปนี้:

    - เพิ่มฟิลด์ที่ซ้อนกันของชนิด **สตริง** และตั้งชื่อเป็น **Name**
    - เพิ่มฟิลด์ที่ซ้อนกันของชนิด **สตริง** และ **AccountNumber** นั้น

    ![การเพิ่มฟิลด์ที่ซ้อนกันบนหน้าแบบจำลองข้อมูล](./media/er-components-inspections-09a.png)

6. ในตัวออกแบบการแมปแบบจำลอง ในบานหน้าต่าง **แหล่งข้อมูล** ให้เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ ตารางบันทึก**
7. ตั้งชื่อแหล่งข้อมูล **ผู้จัดจำหน่าย** ใหม่ ในฟิลด์ **ตาราง** ให้เลือก **VendTable** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTable
8. เพิ่มแหล่งข้อมูลของชนิด **ทั่วไป \\ พารามิเตอร์ป้อนเข้าของผู้ใช้** ในการค้นหาบัญชีผู้จัดจำหน่ายในกล่องโต้ตอบรันไทม์
9. ตั้งชื่อแหล่งข้อมูล **RequestedAccountNum** ใหม่ ในฟิลด์ **ป้ายชื่อ** ให้ป้อน **หมายเลขบัญชีของผู้จัดจำหน่าย** ในฟิลด์ **ชื่อชนิดของข้อมูลการดำเนินงาน** ให้เว้นค่าเริ่มต้น **คำอธิบาย**
10. เพิ่มแหล่งข้อมูลแบบพารามิเตอร์ชนิด **ฟิลด์ที่มีการคำนวณ** เพิ่มกรองผู้จัดจำหน่ายที่จำเป็น:
11. ตั้งชื่อแหล่งข้อมูล **FilteredVendor** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `FILTER(Vendor, Vendor.AccountNum=RequestedAccountNum)`
12. ผูกรายการแบบจำลองข้อมูลเพื่อตั้งค่าคอนฟิกแหล่งข้อมูลในลักษณะต่อไปนี้:

    - ผูก **FilteredVendor** กับ **ผู้จัดจำหน่าย**
    - ผูก **FilteredVendor.AccountNum** กับ **Vendor.AccountNumber**
    - ผูก **FilteredVendor.'name()'** กับ **Vendor.Name**

    ![การผูกรายการแบบจำลองข้อมูลในหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-09b.png)

13. ในแผนภูมิรูปแบบโครงสร้าง เพิ่มรายการต่อไปนี้เพื่อสร้างเอกสารขาออกในรูปแบบ XML ที่มีรายละเอียดผู้จัดจำหน่าย:

    1. เพิ่มองค์ประกอบ XML ของราก **ใบแจ้งยอด**
    2. สำหรับองค์ประกอบ XML **ใบแจ้งยอด** เพิ่มองค์ประกอบ XML **ฝ่าย** ที่ซ้อนกัน
    3. สำหรับองค์ประกอบ XML **ฝ่าย** เพิ่มแอตทริบิวต์ XML ที่ซ้อนกันต่อไปนี้

        - ชื่อ
        - AccountNum

14. ผูกองค์ประกอบรูปแบบไปยังแหล่งข้อมูลที่ให้ไว้ในลักษณะต่อไปนี้:

    - ผูกองค์ประกอบรูปแบบ **คำสั่ง\\ฝ่าย\\ชื่อ** เข้ากับกับฟิลด์แหล่งข้อมูล **แบบจำลอง.ผู้จัดจำหน่าย.ชื่อ**
    - ผูกองค์ประกอบรูปแบบ **คำสั่ง\\ฝ่าย\\AccountNum** เข้ากับกับฟิลด์แหล่งข้อมูล **แบบจำลอง.ผู้จัดจำหน่าย.หมายเลขบัญชี'**

15. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของรูปแบบที่แก้ไขได้บนหน้า **ตัวออกแบบรูปแบบ**

    ![ตรวจสอบความถูกต้องขององค์ประกอบรูปแบบที่คุณผูกกับแหล่งข้อมูลบนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-09c.png)

16. โปรดสังเกตว่าเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง ข้อความระบุว่าอาจเกิดข้อผิดพลาดสำหรับส่วนประกอบรูปแบบ **ใบแจ้งยอด\\ฝ่าย\\ชื่อ** และ **ใบแจ้งยอด\\ฝ่าย\\หมายเลขบัญชี** ในขณะรันไทม์ถ้ารายการ `model.Vendor` ว่างเปล่า

    ![ข้อผิดพลาดการตรวจสอบความถูกต้องเกี่ยวกับข้อผิดพลาดที่อาจเกิดขึ้นสำหรับส่วนประกอบรูปแบบที่กำหนดไว้](./media/er-components-inspections-09d.png)

ภาพประกอบต่อไปนี้แสดงข้อผิดพลาดรันไทม์ที่เกิดขึ้นถ้าคุณละเว้นคำเตือน เลือก **เรียกใช้** เพื่อเรียกใช้รูปแบบ และเลือกหมายเลขบัญชีของผู้จัดจำหน่ายที่ไม่มีอยู่ เนื่องจากไม่มีผู้จัดจำหน่ายที่ร้องขออยู่ รายการ `model.Vendor` จะว่างเปล่า (นั่นคือ จะไม่มีเรกคอร์ด)

![ข้อผิดพลาดรันไทม์ที่เกิดขึ้นระหว่างการเรียกใช้การแมปรูปแบบ](./media/er-components-inspections-09e.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

สำหรับแถวที่เลือกในกริดบนแท็บ **คำเตือน** คุณสามารถเลือก **ยกเลิกการผูก** การผูกที่ชี้ไปในคอลัมน์ **พาธ** จะถูกลบออกจากองค์ประกอบรูปแบบโดยอัตโนมัติ

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

คุณสามารถผูกองค์ประกอบรูปแบบ **ใบแจ้งยอด\\ฝ่าย\\ชื่่อ** เข้ากับกับรายการแหล่งข้อมูล `model.Vendor` เมื่อรันไทม์ การผูกข้อมูลนี้เรียกแหล่งข้อมูล `model.Vendor` เป็นอันดับแรก เมื่อ `model.Vendor` ส่งคืนรายการเรกคอร์ดที่ว่างเปล่า จะไม่มีการเรียกใช้องค์ประกอบรูปแบบซ้อนกัน ดังนั้น จึงไม่มีคำเตือนการตรวจสอบความถูกต้องสำหรับการตั้งค่าคอนฟิกรูปแบบนี้

![การผูกองค์ประกอบรูปแบบกับรายการแหล่งข้อมูลบนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-09e.gif)

#### <a name="option-2"></a>ตัวเลือก 2

เปลี่ยนการผูกขององค์ประกอบรูปแบบ **คำสั่ง\\ฝ่าย\\ชื่อ** จาก `model.Vendor.Name` เป็น `FIRSTORNULL(model.Vendor).Name` เงื่อนไขการรวมที่มีการอัปเดตจะแปลงเรกคอร์ดแรกของแหล่งข้อมูล `model.Vendor` ของชนิด **รายการเรกคอร์ด** ไปยังแหล่งข้อมูลใหม่ของชนิด **เรกคอร์ด** แหล่งข้อมูลใหม่นี้ประกอบด้วยชุดของฟิลด์เดียวกัน

- ถ้ามีเรกคอร์ดอย่างน้อยหนึ่งเรกคอร์ดในแหล่งข้อมูล `model.Vendor` ฟิลด์ของเรกคอร์ดดังกล่าวจะถูกเติมด้วยค่าของฟิลด์ของเรกคอร์ดแรกของแหล่งข้อมูล `model.Vendor` ในกรณีนี้ การผูกข้อมูลที่อัปเดตแล้วส่งคืนชื่อผู้จัดจำหน่าย
- มิฉะนั้น ฟิลด์ทั้งหมดของเรกคอร์ดที่สร้างขึ้นจะถูกเติมด้วยค่าเริ่มต้นสำหรับชนิดข้อมูลของฟิลด์นั้น ในกรณีนี้ มีการส่งคืนสตริงที่ว่างเปล่าเป็นค่าเริ่มต้นของชนิดข้อมูล **สตริง**

ดังนั้น จึงไม่มีคำเตือนการตรวจสอบความถูกต้องสำหรับองค์ประกอบรูปแบบ **คำสั่ง\\ฝ่าย\\ชื่อ** เมื่อผูกกับนิพจน์ `FIRSTORNULL(model.Vendor).Name`

![การผูกที่เปลี่ยนแปลงแก้ไขคำเตือนการตรวจสอบความถูกต้องบนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-09f.gif)

#### <a name="option-3"></a>ตัวเลือก 3

ถ้าคุณต้องการระบุข้อมูลที่ป้อนในเอกสารที่สร้างขึ้นอย่างชัดแจ้งเมื่อแหล่งข้อมูล `model.Vendor` ของชนิด **รายการเรกคอร์ด** ส่งคืนไม่มีเรกคอร์ด (ข้อความที่ **ไม่มีอยู่** ในตัวอย่างนี้) ให้เปลี่ยนการผูกขององค์ประกอบรูปแบบ **ใบแจ้งยอด\\ฝ่าย\\ชื่อ** จาก `model.Vendor.Name` เป็น `IF(NOT(ISEMPTY(model.Vendor)), model.Vendor.Name, "Not available")` และคุณสามารถใช้นิพจน์ `IF(COUNT(model.Vendor)=0, model.Vendor.Name, "Not available")`

### <a name="additional-consideration"></a><a id="i9a"></a>การพิจารณาเพิ่มเติม

การตรวจสอบยังเตือนคุณเกี่ยวกับปัญหาที่อาจเกิดขึ้นอีกประการหนึ่ง ตามค่าเริ่มต้น ในขณะที่คุณผูกองค์ประกอบรูปแบบ **ใบแจ้งยอด\\ฝ่าย\\ชื่อ** และ **ใบแจ้งยอด\\ฝ่าย\\เลขที่บัญชี** ให้กับฟิลด์ที่เหมาะสมของแหล่งข้อมูล `model.Vendor` ของชนิด **รายการเรกคอร์ด** จะมีการเรียกใช้การผูกเหล่านั้นและจะใช้ค่าของฟิลด์ที่เหมาะสมของเรกคอร์ดแรกของแหล่งข้อมูล `model.Vendor` ถ้ารายการดังกล่าวไม่ว่างเปล่า

เนื่องจากคุณไม่ได้ผูกองค์ประกอบรูปแบบ **ใบแจ้งยอด\\ฝ่าย** กับแหล่งข้อมูล `model.Vendor` องค์ประกอบ **ใบแจ้งยอด\\ฝ่าย** จะไม่มีการวนซ้ำสำหรับเรกคอร์ดทั้งหมดของแหล่งข้อมูล `model.Vendor` ในระหว่างการดำเนินการจัดรูปแบบ เอกสารที่สร้างขึ้นจะถูกเติมด้วยข้อมูลจากเรกคอร์ดหนึ่งของรายการเรกคอร์ดเท่านั้น ถ้ารายการดังกล่าวประกอบด้วยเรกคอร์ดหลายเรกคอร์ด การทำเช่นนี้อาจเป็นปัญหาถ้ารูปแบบนี้มีไว้เพื่อให้กรอกเอกสารที่สร้างขึ้นด้วยข้อมูลเกี่ยวกับผู้จัดจำหน่ายทั้งหมดจากแหล่งข้อมูล `model.Vendor` เมื่อต้องการแก้ไขปัญหานี้ ให้ผูกองค์ประกอบ **ใบแจ้งยอด\\ฝ่าย** กับแหล่งข้อมูล `model.Vendor`

## <a name="executability-of-an-expression-with-filter-function-caching"></a><a id="i10"></a>ความสามารถในการปฏิบัติการนิพจน์กับฟังก์ชันตัวกรอง (การแคช)

หลายฟังก์ชัน ER ภายใน รวมถึง [FILTER](er-functions-list-filter.md) และ [ALLITEMSQUERY](er-functions-list-allitemsquery.md) ใช้เพื่อเข้าถึงตารางของแอปพลิเคชัน มุมมอง หรือเอนทิตีข้อมูลโดยการวางการเรียก SQL เดียวเพื่อให้ได้ข้อมูลที่จำเป็นในฐานะรายการของเรกคอร์ด แหล่งข้อมูลของชนิด **รายการเรกคอร์ด** ถูกใช้เป็นอาร์กิวเมนต์ของแต่ละฟังก์ชันเหล่านี้และระบุแหล่งที่มาของแอปพลิเคชันสำหรับการโทร ER ตรวจสอบว่าสามารถสร้างการเรียกใช้ SQL โดยตรงกับแหล่งข้อมูลที่อ้างถึงในหนึ่งในฟังก์ชันเหล่านี้หรือไม่ ถ้าไม่สามารถสร้างการเรียกใช้โดยตรงได้ เนื่องจากแหล่งข้อมูลอ้างอิงถูกทำเครื่องหมายเป็น [แคช](trace-execution-er-troubleshoot-perf.md#improve-the-model-mapping-based-on-information-from-the-execution-trace) เกิดข้อผิดพลาดในการตรวจสอบความถูกต้องในโปรแกรมออกแบบการแมปแบบจำลอง ER ข้อความที่คุณได้รับแจ้งว่านิพจน์ ER ที่มีหนึ่งในฟังก์ชันเหล่านี้ไม่สามารถเรียกใช้ในขณะรันไทม์

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกส่วนประกอบการแมปแบบจำลอง ER
2. เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ เรกคอร์ดตาราง**
3. ตั้งชื่อแหล่งข้อมูล **ผู้จัดจำหน่าย** ใหม่ ในฟิลด์ **ตาราง** ให้เลือก **VendTable** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTable
4. เพิ่มแหล่งข้อมูลของชนิด **ทั่วไป \\ พารามิเตอร์ป้อนเข้าของผู้ใช้** ในการค้นหาบัญชีผู้จัดจำหน่ายในกล่องโต้ตอบรันไทม์
5. ตั้งชื่อแหล่งข้อมูล **RequestedAccountNum** ใหม่ ในฟิลด์ **ป้ายชื่อ** ให้ป้อน **หมายเลขบัญชีของผู้จัดจำหน่าย** ในฟิลด์ **ชื่อชนิดของข้อมูลการดำเนินงาน** ให้เว้นค่าเริ่มต้น **คำอธิบาย**
6. เพิ่มแหล่งข้อมูลแบบพารามิเตอร์ชนิด **ฟิลด์ที่มีการคำนวณ** เพิ่มกรองผู้จัดจำหน่ายที่จำเป็น:
7. ตั้งชื่อแหล่งข้อมูล **FilteredVendor** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `FILTER(Vendor, Vendor.AccountNum=RequestedAccountNum)`
8. ทำเครื่องหมายแหล่งข้อมูล **ผู้จัดจำหน่าย** ที่ตั้งค่าคอนฟิกเป็นแคช

    ![การกำหนดค่าส่วนประกอบของการแมปแบบจำลองบนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-10a.gif)

9. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของการแมปแบบจำลองที่แก้ไขได้บนหน้า **ตัวออกแบบการแมปแบบจำลอง**

    ![การตรวจสอบฟังก์ชัน FILTER ที่นำไปใช้กับแหล่งข้อมูลผู้จัดจำหน่ายที่แคชไว้บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-10a.png)

10. โปรดสังเกตว่าเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง ข้อความแจ้งว่าฟังก์ชัน **FILTER** ไม่สามารถนำไปใช้แหล่งข้อมูล **ผู้จัดจำหน่าย** ที่ถูกเก็บไว้ในแคช

ภาพประกอบต่อไปนี้แสดงข้อผิดพลาดรันไทม์ที่เกิดขึ้นถ้าคุณละเว้นคำเตือนและเลือก **เรียกใช้** เพื่อเรียกใช้รูปแบบ

![ข้อผิดพลาดรันไทม์ที่เกิดขึ้นระหว่างการเรียกใช้การแมปรูปแบบบนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-10b.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

ลบแฟล็ก **แคช** จากแหล่งข้อมูล **ผู้จัดจำหน่าย** แหล่งข้อมูล **FilteredVendor** จะกลายเป็นสามารถดำเนินการได้ แต่แหล่งข้อมูล **ผู้จัดจำหน่าย** ที่อ้างถึงในตาราง VendTable จะสามารถเข้าถึงได้ทุกครั้งที่มีการเรียกแหล่งข้อมูล **FilteredVendor**

#### <a name="option-2"></a>ตัวเลือก 2

เปลี่ยนนิพจน์ของแหล่งข้อมูล **FilteredVendor** จาก `FILTER(Vendor, Vendor.AccountNum="US-101")` เป็น `WHERE(Vendor, Vendor.AccountNum="US-101")` ในกรณีนี้ แหล่งข้อมูล **ผู้จัดจำหน่าย** ที่มีการอ้างอิงในตาราง VendTable จะมีการเข้าถึงในระหว่างการเรียกแรกของแหล่งข้อมูล **ผู้จัดจำหน่าย** เท่านั้น อย่างไรก็ตาม การเลือกเรกคอร์ดจะมีการดำเนินการในหน่วยความจำ วิธีการนี้อาจทำให้ประสิทธิภาพการทำงานดีขึ้น

## <a name="missing-binding"></a><a id="i11"></a>ขาดการผูกข้อมูล

เมื่อคุณตั้งค่าคอนฟิกส่วนประกอบรูปแบบ ER แบบจำลองข้อมูลพื้นฐาน ER จะถูกนำเสนอเป็นแหล่งข้อมูลเริ่มต้นสำหรับรูปแบบ ER เมื่อเรียกใช้รูปแบบ ER ที่ตั้งค่าคอนฟิก [การแมปแบบจำลองเริ่มต้น](er-country-dependent-model-mapping.md) สำหรับแบบจำลองพื้นฐานจะใช้ในการกรอกแบบจำลองข้อมูลด้วยข้อมูลของแอปพลิเคชัน ตัวออกแบบรูปแบบ ER แสดงคำเตือนถ้าคุณผูกองค์ประกอบรูปแบบไปยังรายการแบบจำลองข้อมูลที่ไม่ได้ผูกกับแหล่งข้อมูลใด ๆ ในการแมปแบบจำลองที่เลือกไว้เป็นการแมปแบบจำลองเริ่มต้นสำหรับรูปแบบที่แก้ไขได้ ไม่สามารถเรียกใช้การผูกข้อมูลชนิดนี้เมื่อรันไทม์ได้ เนื่องจากรูปแบบที่เรียกใช้ไม่สามารถกรอกข้อมูลองค์ประกอบที่ผูกกับข้อมูลของแอปพลิเคชันได้ ข้อผิดพลาดเกิดขึ้นขณะรันไทม์

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกแบบจำลองข้อมูล ER การแมปแบบจำลอง ER และส่วนประกอบรูปแบบ ER พร้อมกัน
2. ในแผนภูมิแบบจำลองข้อมูล ให้เพิ่มรายการรากที่ชื่อ **Root3**
3. ปรับเปลี่ยนรายการ **Root3** โดยการเพิ่มรายการที่ซ้อนกันใหม่ของชนิด **รายการเรกคอร์ด**
4. ตั้งชื่อ **ผู้จัดจำหน่าย** รายการที่ซ้อนกันใหม่
5. ปรับเปลี่ยนสินค้า **ผู้จัดจำหน่าย** ในลักษณะต่อไปนี้:

    - เพิ่มฟิลด์ที่ซ้อนกันของชนิด **สตริง** และตั้งชื่อเป็น **Name**
    - เพิ่มฟิลด์ที่ซ้อนกันของชนิด **สตริง** และ **AccountNumber** นั้น

    ![การเพิ่มฟิลด์ที่ซ้อนกันให้กับรายการของผู้จัดจำหน่ายบนหน้าแบบจำลองข้อมูล](./media/er-components-inspections-11a.png)

6. ในตัวออกแบบการแมปแบบจำลอง ในบานหน้าต่าง **แหล่งข้อมูล** ให้เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ ตารางบันทึก**
7. ตั้งชื่อแหล่งข้อมูล **ผู้จัดจำหน่าย** ใหม่ ในฟิลด์ **ตาราง** ให้เลือก **VendTable** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง VendTable
8. เพิ่มแหล่งข้อมูลของชนิด **ทั่วไป \\ พารามิเตอร์ป้อนเข้าของผู้ใช้** ในการสอบถามบัญชีผู้จัดจำหน่ายในกล่องโต้ตอบรันไทม์
9. ตั้งชื่อแหล่งข้อมูล **RequestedAccountNum** ใหม่ ในฟิลด์ **ป้ายชื่อ** ให้ป้อน **หมายเลขบัญชีของผู้จัดจำหน่าย** ในฟิลด์ **ชื่อชนิดของข้อมูลการดำเนินงาน** ให้เว้นค่าเริ่มต้น **คำอธิบาย**
10. เพิ่มแหล่งข้อมูลแบบพารามิเตอร์ชนิด **ฟิลด์ที่มีการคำนวณ** เพิ่มกรองผู้จัดจำหน่ายที่จำเป็น:
11. ตั้งชื่อแหล่งข้อมูล **FilteredVendor** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `FILTER(Vendor, Vendor.AccountNum=RequestedAccountNum)`
12. ผูกรายการแบบจำลองข้อมูลเพื่อตั้งค่าคอนฟิกแหล่งข้อมูลในลักษณะต่อไปนี้:

    - ผูก **FilteredVendor** กับ **ผู้จัดจำหน่าย**
    - ผูก **FilteredVendor.AccountNum** กับ **Vendor.AccountNumber**

    > [!NOTE]
    > ฟิลด์แบบจำลองข้อมูล **ผู้จัดจำหน่าย.ชื่อ** ยังคงไม่ถูกผูกไว้

    ![รายการแบบจำลองข้อมูลที่ผูกกับแหล่งข้อมูลที่ถูกกำหนดค่าคอนฟิกและรายการแบบจำลองข้อมูลที่ยังไม่ได้ผูกไว้บนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-11b.png)

13. ในแผนภูมิรูปแบบโครงสร้าง เพิ่มรายการต่อไปนี้เพื่อสร้างเอกสารขาออกในรูปแบบ XML ที่มีรายละเอียดของผู้จัดจำหน่ายที่สอบถาม:

    1. เพิ่มองค์ประกอบ XML ของราก **ใบแจ้งยอด**
    2. สำหรับองค์ประกอบ XML **ใบแจ้งยอด** เพิ่มองค์ประกอบ XML **ฝ่าย** ที่ซ้อนกัน
    3. สำหรับองค์ประกอบ XML **ฝ่าย** เพิ่มแอตทริบิวต์ XML ที่ซ้อนกันต่อไปนี้

        - ชื่อ
        - AccountNum

14. ผูกองค์ประกอบรูปแบบไปยังแหล่งข้อมูลที่ให้ไว้ในลักษณะต่อไปนี้:

    - ผูกองค์ประกอบรูปแบบ **ใบแจ้งยอด\\ฝ่าย** เข้ากับกับรายการแหล่งข้อมูล `model.Vendor`
    - ผูกองค์ประกอบรูปแบบ **คำสั่ง\\ฝ่าย\\ชื่อ** เข้ากับกับฟิลด์แหล่งข้อมูล **แบบจำลอง.ผู้จัดจำหน่าย.ชื่อ**
    - ผูกองค์ประกอบรูปแบบ **คำสั่ง\\ฝ่าย\\AccountNum** เข้ากับกับฟิลด์แหล่งข้อมูล **แบบจำลอง.ผู้จัดจำหน่าย.หมายเลขบัญชี'**

15. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของรูปแบบที่แก้ไขได้บนหน้า **ตัวออกแบบรูปแบบ**

    ![การตรวจสอบความถูกต้องส่วนประกอบรูปแบบ ER บนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-11c.png)

16. โปรดสังเกตว่าเกิดคำเตือนในการตรวจสอบความถูกต้อง ข้อความระบุว่าฟิลด์แหล่งข้อมูล **แบบจำลอง.ผู้จัดจำหน่าย.ชื่อ** ไม่ได้ผูกกับแหล่งข้อมูลใด ๆ ในการแมปแบบจำลองที่มีการตั้งค่าคอนฟิกให้ใช้โดยรูปแบบนี้ ดังนั้น องค์ประกอบรูปแบบ **ใบแจ้งยอด\\ฝ่าย\\ชื่อ** อาจไม่ได้รับการกรอกข้อมูลในขณะรันไทม์ และข้อยกเว้นรันไทม์อาจเกิดขึ้น

    ![การตรวจสอบความถูกต้องส่วนประกอบรูปแบบ ER บนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-11d.png)

ภาพประกอบต่อไปนี้แสดงข้อผิดพลาดรันไทม์ที่เกิดขึ้นถ้าคุณละเว้นคำเตือนและเลือก **เรียกใช้** เพื่อเรียกใช้รูปแบบ

![การเรียกใช้รูปแบบที่แก้ไขได้บนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-11e.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

ปรับเปลี่ยนการแมปแบบจำลองที่ตั้งค่าคอนฟิกโดยเพิ่มการรวมสำหรับฟิลด์แหล่งข้อมูล **แบบจำลอง.ผู้จัดจำหน่าย.ชื่อ**

#### <a name="option-2"></a>ตัวเลือก 2

ปรับเปลี่ยนรูปแบบที่กำหนดค่าคอนฟิกด้วยการลบการผูกสำหรับองค์ประกอบรูปแบบ **ใบแจ้งยอด\\ฝ่าย\\ชื่อ**

## <a name="not-linked-template"></a><a id="i12"></a>เทมเพลตไม่มีการเชื่อมโยง

เมื่อคุณตั้งค่าคอนฟิกส่วนประกอบของรูปแบบ ER [ด้วยตนเอง](er-fillable-excel.md#manual-entry) เพื่อใช้เทมเพลตเพื่อสร้างเอกสารขาออก คุณต้องเพิ่มองค์ประกอบ **Excel\\ไฟล์** ด้วยตนเอง เพิ่มเทมเพลตที่จำเป็นต้องใช้เป็นสิ่งที่แนบมากับส่วนประกอบที่แก้ไขได้ และเลือกสิ่งที่แนบไว้ในองค์ประกอบ **Excel\\ไฟล์** ที่เพิ่ม ด้วยวิธีนี้ คุณบ่งชี้ว่าองค์ประกอบเพิ่มเติมจะเติมเทมเพลตที่เลือกเมื่อรันไทม์ เมื่อคุณกำหนดค่าคอนฟิกรุ่นของส่วนประกอบรูปแบบในสถานะ **แบบร่าง** คุณอาจเพิ่มหลายเทมเพลตไปยังส่วนประกอบที่แก้ไขได้แล้วเลือกแต่ละเทมเพลตในองค์ประกอบ **Excel\\File** เพื่อเรียกใช้รูปแบบ ER ด้วยวิธีนี้ คุณสามารถดูวิธีการกรอกข้อมูลเทมเพลตที่แตกต่างกันในขณะทำงาน ถ้าคุณมีเทมเพลตที่ไม่ได้เลือกไว้ในองค์ประกอบ **Excel\\ไฟล์** ใด ๆ ตัวออกแบบรูปแบบ ER จะแจ้งเตือนคุณว่าเทมเพลตจะถูกลบออกจากรุ่นของส่วนประกอบรูปแบบ ER ที่สามารถแก้ไขได้เมื่อสถานะมีการเปลี่ยนแปลงจาก **แบบร่าง** เป็น **เสร็จสมบูรณ์**

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกส่วนประกอบรูปแบบ ER
2. ในแผนภูมิโครงสร้างรูปแบบ ให้เพิ่มองค์ประกอบ **Excel\\ไฟล์**
3. สำหรับองค์ประกอบ **Excel\\ไฟล์** ที่คุณเพิ่งเพิ่ม ให้เพิ่มไฟล์สมุดงาน Excel **A.xlsx** เป็นไฟล์แนบ ใช้ชนิดเอกสารที่มีการตั้งค่าคอนฟิกใน [พารามิเตอร์ ER](electronic-reporting-er-configure-parameters.md#parameters-to-manage-documents) เพื่อระบุการจัดเก็บเทมเพลตรูปแบบ ER
4. สำหรับองค์ประกอบ **Excel\\ไฟล์** ให้เพิ่มไฟล์สมุดงาน Excel อื่น **B.xlsx** เป็นไฟล์แนบ ใช้ชนิดเอกสารเดียวกันกับที่ใช้สำหรับไฟล์สมุดงาน A
5. ในองค์ประกอบ **Excel\\ไฟล์** ให้เลือกไฟล์สมุดงาน A
6. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของรูปแบบที่แก้ไขได้บนหน้า **ตัวออกแบบรูปแบบ**

    ![การตรวจสอบความถูกต้องของส่วนประกอบของรูปแบบที่แก้ไขได้ของไฟล์สมุดงานในหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-12a.gif)

7. โปรดสังเกตว่าเกิดคำเตือนในการตรวจสอบความถูกต้อง ข้อความระบุว่าไฟล์สมุดงาน B.xlsx ไม่ได้เชื่อมโยงกับส่วนประกอบใด ๆ และจะถูกลบออกหลังจากสถานะของรุ่นการตั้งค่าคอนฟิกมีการเปลี่ยนแปลง

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

ปรับเปลี่ยนรูปแบบที่ตั้งค่าคอนฟิกด้วยการลบเทมเพลตทั้งหมดที่ไม่ได้เชื่อมโยงกับองค์ประกอบ **Excel\\ไฟล์** ใดๆ

## <a name="not-synced-format"></a><a id="i13"></a>รูปแบบที่ไม่ได้ซิงค์

เมื่อคุณ [ตั้งค่าคอนฟิก](er-fillable-excel.md) ส่วนประกอบของรูปแบบ ER เพื่อใช้เทมเพลต Excel เพื่อสร้างเอกสารขาออก คุณสามารถเพิ่มองค์ประกอบ **Excel\\ไฟล์** ด้วยตนเอง เพิ่มเทมเพลตที่จำเป็นต้องใช้เป็นสิ่งที่แนบมากับส่วนประกอบที่แก้ไขได้ และเลือกสิ่งที่แนบไว้ในองค์ประกอบ **Excel\\ไฟล์** ที่เพิ่ม ด้วยวิธีนี้ คุณบ่งชี้ว่าองค์ประกอบเพิ่มเติมจะเติมเทมเพลตที่เลือกเมื่อรันไทม์ เนื่องจากเทมเพลต Excel ที่เพิ่มมีการออกแบบภายนอก รูปแบบ ER ที่สามารถแก้ไขได้อาจประกอบด้วยชื่อ Excel ที่ขาดหายไปจากเทมเพลตที่เพิ่ม ตัวออกแบบรูปแบบ ER เตือนคุณเกี่ยวกับความไม่สอดคล้องกันระหว่างคุณสมบัติต่าง ๆ ของรูปแบบ ER ซึ่งอ้างอิงถึงชื่อที่ไม่ได้รวมอยู่ในเทมเพลต Excel ที่เพิ่ม

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกส่วนประกอบรูปแบบ ER
2. ในแผนภูมิโครงสร้างรูปแบบ ให้เพิ่ม **รายงาน** องค์ประกอบ **Excel\\ไฟล์**
3. สำหรับองค์ประกอบ **Excel\\ไฟล์** ที่คุณเพิ่งเพิ่ม ให้เพิ่มไฟล์สมุดงาน Excel **A.xlsx** เป็นไฟล์แนบ ใช้ชนิดเอกสารที่มีการตั้งค่าคอนฟิกใน [พารามิเตอร์ ER](electronic-reporting-er-configure-parameters.md#parameters-to-manage-documents) เพื่อระบุการจัดเก็บเทมเพลตรูปแบบ ER

    > [!IMPORTANT]
    > ตรวจสอบให้แน่ใจว่าสมุดงาน Excel ที่เพิ่มเข้ามาไม่มีชื่อ **ReportTitle**

4. เพิ่มองค์ประกอบ **Excel\\เซลล์** องค์ประกอบ **ชื่อเรื่อง** เป็นองค์ประกอบที่ซ้อนกันขององค์ประกอบ **รายงาน** ในฟิลด์ **ช่วงของ Excel** ให้ป้อน **ReportTitle**
5. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบของรูปแบบที่แก้ไขได้บนหน้า **ตัวออกแบบรูปแบบ**

    ![การตรวจสอบความถูกต้องขององค์ประกอบที่ซ้อนกันและฟิลด์บนหน้าตัวออกแบบรูปแบบ](./media/er-components-inspections-13a.png)

6. โปรดสังเกตว่าเกิดคำเตือนในการตรวจสอบความถูกต้อง ข้อความระบุว่าชื่อ **ReportTitle** ไม่มีอยู่บนแผ่นงาน **Sheet1** ของเทมเพลต Excel ที่คุณกำลังใช้อยู่

    ![คำเตือนการตรวจสอบความถูกต้องว่าชื่อ ReportTitle ไม่มีอยู่บน Sheet1 ของเทมเพลต Excel](./media/er-components-inspections-13b.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

ปรับเปลี่ยนรูปแบบที่ตั้งค่าคอนฟิกด้วยการลบองค์ประกอบทั้งหมดที่อ้างอิงถึงชื่อ Excel ที่ขาดหายไปจากเทมเพลต

#### <a name="option-2"></a>ตัวเลือก 2

[อัปเดต](er-fillable-excel.md#template-import) รูปปแบบ ER ที่แก้ไขได้โดยการนำเข้าเทมเพลต Excel โครงสร้างของรูปแบบ ER ที่สามารถแก้ไขได้จะ [ถูกซิงค์](modify-electronic-reporting-format-reapply-excel-template.md) กับโครงสร้างของเทมเพลต Excel ที่นำเข้า

### <a name="additional-consideration"></a>การพิจารณาเพิ่มเติม

เมื่อต้องการเรียนรู้วิธีการซิงค์โครงสร้างรูปแบบกับเทมเพลต ER ในโปรแกรมแก้ไขเทมเพลตของ [การจัดการเอกสารทางธุรกิจ](er-business-document-management.md) ให้ดูที่ [ปรับปรุงโครงสร้างของเทมเพลตเอกสารธุรกิจ](er-bdm-update-structure.md)

## <a name="not-synced-with-a-word-template-format"></a><a id="i14"></a>ไม่ได้ซิงค์กับรูปแบบเทมเพลต Word

เมื่อคุณ [กำหนดค่าคอนฟิก](er-fillable-excel.md) ส่วนประกอบของรูปแบบ ER เพื่อใช้เทมเพลต Word เพื่อสร้างเอกสารขาออก คุณจะสามารถเพิ่มองค์ประกอบ **Excel\\ไฟล์** ด้วยตนเองได้ เพิ่มเทมเพลต Word ที่จำเป็นต้องใช้เป็นสิ่งที่แนบมากับส่วนประกอบที่แก้ไขได้ และเลือกสิ่งที่แนบไว้ในองค์ประกอบ **Excel\\ไฟล์** ที่เพิ่มขึ้น

> [!NOTE]
> เมื่อแนบเอกสาร Word โปรแกรมออกแบบรูปแบบ ER จะแสดงองค์ประกอบที่แก้ไขได้เป็น **Word\\ไฟล์**

ด้วยวิธีนี้ คุณบ่งชี้ว่าองค์ประกอบเพิ่มเติมจะเติมเทมเพลตที่เลือกเมื่อรันไทม์ เนื่องจากเทมเพลต Word ที่เพิ่มขึ้นมีการออกแบบภายนอก รูปแบบ ER ที่สามารถแก้ไขได้อาจมีการอ้างอิงถึงตัวควบคุมเนื้อหา Word ที่ขาดหายไปจากเทมเพลตที่เพิ่มขึ้น ตัวออกแบบรูปแบบ ER จะเตือนคุณเกี่ยวกับความไม่สอดคล้องกันระหว่างคุณสมบัติของส่วนประกอบรูปแบบ ER ซึ่งอ้างอิงถึงตัวควบคุมเนื้อหาที่ไม่ได้รวมอยู่ในเทมเพลต Word ที่เพิ่มขึ้น

ตัวอย่างที่แสดงว่าปัญหานี้อาจเกิดขึ้น ดูได้ที่ [กำหนดค่าคอนฟิกรูปแบบที่แก้ไขได้เพื่อระงับส่วนสรุป](er-design-configuration-word-suppress-controls.md#configure-to-suppress-control)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

แก้ไขรูปแบบที่กำหนดค่าคอนฟิกด้วยการลบสูตร **เอาออก** จากองค์ประกอบรูปแบบที่กล่าวถึงในคําเตือนการตรวจสอบความถูกต้อง

#### <a name="option-2"></a>ตัวเลือก 2

แก้ไขการใช้เทมเพลต Word ด้วย [การเพิ่ม](er-design-configuration-word-suppress-controls.md#tag-control) แท็กที่ต้องใช้ในการควบคุมเนื้อหา Word ที่เกี่ยวข้อง

## <a name="no-default-mapping"></a><a id="i15"></a>ไม่มีการแมปเริ่มต้น

เมื่อได้ดำเนินการตรวจสอบ [การผูกข้อมูลที่ขาดหายไป](#i11) แล้ว การผูกข้อมูลรูปแบบที่ตรวจสอบจะประเมินเทียบกับการผูกมัดของส่วนประกอบการแมปแบบโมเดลที่เกี่ยวข้อง เนื่องจากคุณสามารถนำเข้าการกำหนดค่าการแมปโมเดล ER [จำนวนมาก](./tasks/er-manage-model-mapping-configurations-july-2017.md) ไปยังอินสแตนซ์ Finance ของคุณได้ และค่าคอนฟิกแต่ละค่าอาจมีส่วนประกอบการแม็พโมเดลที่เกี่ยวข้อง ค่าคอนฟิกหนึ่งจะต้องถูกเลือกเป็นค่าคอนฟิกเริ่มต้น มิฉะนั้น เมื่อคุณพยายามเรียกใช้ แก้ไข หรือตรวจสอบความถูกต้องของรูปแบบ ER ที่ตรวจสอบแล้ว จะเกิดข้อยกเว้นขึ้น และคุณจะได้รับข้อความต่อไปนี้ "มีการแมปแบบลองมากกว่าหนึ่งรายการสำหรับ \<model name (root descriptor)\> แบบจำลองข้อมูลในค่าคอนฟิก \<configuration names separated by comma\> ตั้งค่าการกําหนดค่าคอนฟิกค่าใดค่าหนึ่งเป็นค่าเริ่มต้น

ตัวอย่างที่แสดงว่าปัญหานี้จะเกิดขึ้นและจะสามารถแก้ไขได้อย่างไร ดูได้ที่ [จัดการการแม็พที่ได้รับหลายรายการสำหรับรูทแบบจำลองเดียว](er-multiple-model-mappings.md)

## <a name="inconsistent-setting-of-header-or-footer-components"></a><a id="i16"></a>การตั้งค่าส่วนประกอบส่วนหัวหรือส่วนท้ายไม่สอดคล้องกัน

เมื่อคุณ [กำหนดค่าคอนฟิก](er-fillable-excel.md) ส่วนประกอบรูปแบบ ER เพื่อใช้เทมเพลต Excel เพื่อสร้างเอกสารขาออก คุณจะสามารถเพิ่มส่วนประกอบ **Excel\\ส่วนหัว** เพื่อเติมในส่วนหัวที่ด้านบนของแผ่นงานในสมุดงาน Excel ได้ คุณยังสามารถเพิ่มส่วนประกอบ **Excel\\ส่วนท้าย** เพื่อเติมส่วนท้ายที่ด้านล่างของแผ่นงานได้ สำหรับส่วนประกอบ **Excel\\ส่วนหัว** หรือ **Excel\\ส่วนท้าย** ทุกตัวที่คุณเพิ่ม คุณต้องตั้งค่าคุณสมบัติ **ลักษณะที่ปรากฏของส่วนหัว/ส่วนท้าย** เพื่อระบุหน้าที่เรียกใช้ส่วนประกอบ เนื่องจากคุณสามารถกำหนดค่าคอนฟิกส่วนประกอบ **Excel\\ส่วนหัว** หรือ **Excel\\ส่วนท้าย** หลายส่วน สำหรับส่วนประกอบ **แผ่นงาน** เดี่ยวได้ และคุณสามารถสร้างส่วนหัวหรือส่วนท้ายที่ต่างกันของหน้าชนิดต่างๆ ในแผ่นงาน Excel ได้ คุณต้องกำหนดค่าคอนฟิกของส่วนประกอบ **Excel\\ส่วนหัว** หรือ **Excel\\ส่วนท้าย** เดียวเพื่อกำหนดค่าเฉพาะของคุณสมบัติ **ลักษณะที่ปรากฏของส่วนหัว/ส่วนท้าย** ถ้ามีการกำหนดค่าคอนฟิกส่วนประกอบ **Excel\\ส่วนหัว** หรือ **Excel\\ส่วนท้าย** มากกว่าหนึ่งรายการไว้เป็นค่าเฉพาะของคุณสมบัติ **ลักษณะที่ปรากฏของส่วนหัว/ส่วนท้าย** ข้อผิดพลาดการตรวจสอบความถูกต้องจะเกิดขึ้น และคุณจะได้รับข้อความแสดงข้อผิดพลาดต่อไปนี้ "ส่วนหัว/ส่วนท้าย (&lt;ชนิดส่วนประกอบ: ส่วนหัวหรือส่วนท้าย&gt;) ไม่สอดคล้องกัน"

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

แก้ไขรูปแบบที่ถูกกำหนดค่าคอนฟิกด้วยการลบส่วนประกอบ **Excel\\ส่วนหัว** หรือ **Excel\\ส่วนท้าย** อย่างใดอย่างหนึ่งที่ไม่สอดคล้องกัน

#### <a name="option-2"></a>ตัวเลือก 2

แก้ไขค่าของคุณสมบัติ **ลักษณะที่ปรากฏของส่วนหัว/ส่วนท้าย** สำหรับส่วนประกอบ **Excel\\ส่วนหัว** หรือ **Excel\\ส่วนท้าย** ที่ไม่สอดคล้องกัน

## <a name="inconsistent-setting-of-page-component"></a><a id="i17"></a>การตั้งค่าส่วนประกอบหน้าไม่สอดคล้องกัน

เมื่อคุณ [ตั้งค่าคอนฟิก](er-fillable-excel.md) ส่วนประกอบรูปแบบ ER เพื่อใช้เทมเพลต Excel เพื่อสร้างเอกสารขาออก คุณสามารถเพิ่มส่วนประกอบ **หน้า\\Excel** เพื่อแบ่งหน้าเอกสารที่สร้างขึ้นโดยใช้สูตร ER ในทุกส่วนประกอบ **หน้า\\Excel** ที่คุณเพิ่ม คุณสามารถเพิ่มส่วนประกอบ [งช่วง](er-fillable-excel.md#range-component) ที่ซ้อนกันหลายส่วน และยังคงสอดคล้องกับ [โครงสร้าง](er-fillable-excel.md#page-component-structure) ต่อไปนี้:

- ส่วนประกอบ **ช่วง** ที่ซ้อนกันแรกสามารถตั้งค่าคอนฟิกได้เพื่อตั้งค่าคุณสมบัติ **ทิศทางการจำลอง** เป็น **ไม่มีการจำลอง** ช่วงนี้ใช้ในการแบ่งหน้าส่วนหัวในเอกสารที่สร้างขึ้น
- คุณสามารถเพิ่มส่วนประกอบ **ช่วง** ที่ซ้อนกันอื่น ๆ ได้หลายตัวซึ่งตั้งค่าคุณสมบัติ **ทิศทางการจำลอง** เป็น **แนวตั้ง** ช่วงเหล่านี้จะใช้ในการเติมเอกสารที่สร้างขึ้น
- ส่วนประกอบ **ช่วง** ที่ซ้อนกันสุดท้ายสามารถตั้งค่าคอนฟิกได้เพื่อตั้งค่าคุณสมบัติ **ทิศทางการจำลอง** เป็น **ไม่มีการจำลอง** ช่วงนี้จะใช้เพื่อให้ส่วนท้ายของหน้าในเอกสารที่สร้างขึ้นและเพิ่มตัวแบ่งหน้าที่ต้องการ

หากคุณไม่ต้องปฏิบัติตามโครงสร้างนี้กับรูปแบบ ER ในตัวออกแบบรูปแบบ ER ณ เวลาการออกแบบ จะเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง และคุณจะได้รับข้อความแสดงข้อผิดพลาดต่อไปนี้: "มีส่วนประกอบของช่วงมากกว่าสองช่วงที่ไม่มีการจำลอง โปรดลบส่วนประกอบที่ไม่จําเป็น"

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

แก้ไขรูปแบบที่ตั้งค่าคอนฟิกโดยการเปลี่ยนคุณสมบัติ **ทิศทางการจำลอง** ของส่วนประกอบ **ช่วง\\Excel** ที่ไม่สอดคล้องกันทั้งหมด

## <a name="executability-of-an-expression-with-orderby-function"></a><a id="i18"></a>ความสามารถในการปฏิบัติการนิพจน์กับฟังก์ชัน ORDERBY

ฟังก์ชัน [ORDERBY](er-functions-list-orderby.md) ER ในตัวใช้ในการเรียงลำดับเรกคอร์ดของแหล่งข้อมูล ER ชนิด **[รายการเรกคอร์ด](er-formula-supported-data-types-composite.md#record-list)** ที่ระบุเป็นอาร์กิวเมนต์ของฟังก์ชัน

อาร์กิวเมนต์ของฟังก์ชัน `ORDERBY` สามารถ [ระบุ](er-functions-list-orderby.md#syntax-2) เพื่อเรียงลำดับเรกคอร์ดของตาราง มุมมอง หรือเอนทิตี้ข้อมูลของแอปพลิเคชันโดยการกำหนดการเรียกฐานข้อมูลเดียวเพื่อรับข้อมูลที่เรียงลำดับเป็นรายการของเรกคอร์ด แหล่งข้อมูลของชนิด **รายการเรกคอร์ด** ถูกใช้เป็นอาร์กิวเมนต์ของฟังก์ชันและระบุแหล่งที่มาของแอปพลิเคชันสำหรับการเรียก

ER ตรวจสอบว่าสามารถสร้างการสอบถามฐานข้อมูลโดยตรงกับแหล่งข้อมูลที่อ้างถึงในฟังก์ชัน `ORDERBY` หรือไม่ ถ้าไม่สามารถสร้างการสอบถามโดยตรงได้ เกิดข้อผิดพลาดในการตรวจสอบความถูกต้องในตัวออกแบบการแมปแบบจำลอง ER ข้อความที่คุณได้รับแจ้งว่านิพจน์ ER ที่มีฟังก์ชัน `ORDERBY` ไม่สามารถเรียกใช้ในขณะรันไทม์

ขั้นตอนต่อไปนี้แสดงวิธีการที่ปัญหานี้อาจเกิดขึ้น

1. เริ่มต้นการตั้งค่าคอนฟิกส่วนประกอบการแมปแบบจำลอง ER
2. เพิ่มแหล่งข้อมูลของชนิด **Dynamics 365 for Operations \\ เรกคอร์ดตาราง**
3. ตั้งชื่อแหล่งข้อมูล **ผู้จัดจำหน่าย** ใหม่ ในฟิลด์ **ตาราง** ให้เลือก **VendTable** เพื่อระบุว่าแหล่งข้อมูลนี้จะร้องขอตาราง **VendTable**
4. เพิ่มแหล่งข้อมูลของชนิด **ฟิลด์ที่มีการคำนวณ**
5. ตั้งชื่อแหล่งข้อมูลใหม่ **OrderedVendors** และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `ORDERBY("Query", Vendor, Vendor.AccountNum)`
 
    ![ตั้งค่าคอนฟิกแหล่งข้อมูลในหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-18-1.png)

6. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบการแมปแบบจำลองที่แก้ไขได้ บนหน้า **ตัวออกแบบการแมปแบบจำลอง** และตรวจสอบว่านิพจน์ในแหล่งข้อมูล **OrderedVendors** สามารถสอบถามได้หรือไม่
7. ปรับเปลี่ยนแหล่งข้อมูล **ผู้จัดจำหน่าย** โดยการเพิ่มฟิลด์ที่ซ้อนกันของชนิด **ฟิลด์ที่คำนวณได้** เพื่อให้ได้หมายเลขบัญชีผู้จัดจำหน่ายที่ตัด
8. ตั้งชื่อฟิลด์ที่ซ้อนกัน **$AccNumber** ใหม่และตั้งค่าคอนฟิกเพื่อให้มีนิพจน์ `TRIM(Vendor.AccountNum)`
9. เลือก **ตรวจสอบความถูกต้อง** เพื่อตรวจสอบส่วนประกอบการแมปแบบจำลองที่แก้ไขได้ บนหน้า **ตัวออกแบบการแมปแบบจำลองr** และตรวจสอบว่านิพจน์ในแหล่งข้อมูล **ผู้จัดจำหน่าย** สามารถสอบถามได้หรือไม่

    ![การตรวจสอบว่านิพจน์ในแหล่งข้อมูลผู้จัดจำหน่ายสามารถสอบถามบนหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-components-inspections-18-2.png)

10. โปรดสังเกตว่าเกิดข้อผิดพลาดในการตรวจสอบความถูกต้อง เนื่องจากแหล่งข้อมูล **ผู้จัดจำหน่าย** ประกอบด้วยฟิลด์ที่ซ้อนกันของชนิด **ฟิลด์ที่คำนวณได้** ที่ไม่อนุญาตให้มีการแปลนิพจน์ของแหล่งข้อมูล **OrderedVendors** ที่คำสั่งฐานข้อมูลโดยตรง เกิดข้อผิดพลาดเดียวกันขณะรันไทม์ ถ้าคุณละเว้นข้อผิดพลาดการตรวจสอบความถูกต้องและเลือก **เรียกใช้** เพื่อเรียกใช้การแมปแบบจำลองนี้

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

#### <a name="option-1"></a>ตัวเลือก 1

แทนที่จะเพิ่มฟิลด์ที่ซ้อนกันของชนิด **ฟิลด์ที่คำนวณได้** ให้กับแหล่งข้อมูล **ผู้จัดจำหน่าย** ให้เพิ่มฟิลด์ **$AccNumber** ที่ซ้อนกันลงในแหล่งข้อมูล **FilteredVendors** และตั้งค่าคอนฟิกฟิลด์เพื่อให้มีนิพจน์ `TRIM(FilteredVendor.AccountNum)` ด้วยวิธีนี้ นิพจน์ `ORDERBY("Query", Vendor, Vendor.AccountNum)` สามารถเรียกใช้ที่ระดับฐานข้อมูลและการคำนวณฟิลด์ **$AccNumbe** ที่ซ้อนกันสามารถดำเนินการได้ภายหลัง

#### <a name="option-2"></a>ตัวเลือก 2

เปลี่ยนนิพจน์ของแหล่งข้อมูล **FilteredVendors** จาก `ORDERBY("Query", Vendor, Vendor.AccountNum)` เป็น `ORDERBY("InMemory", Vendor, Vendor.AccountNum)` เราไม่แนะนำให้คุณเปลี่ยนนิพจน์สำหรับตารางที่มีจำนวนมากของข้อมูล (ตารางธุรกรรม) เนื่องจากเรกคอร์ดทั้งหมดจะถูกนำมาใช้และการจัดลำดับเรกคอร์ดที่ต้องการจะดำเนินการในหน่วยความจำ วิธีการนี้อาจทำให้ประสิทธิภาพการทำงานดีขึ้น

## <a name="obsolete-application-artifact"></a><a id="i19"></a>อาร์ทิแฟกต์แอปพลิเคชันที่ล้าสมัย

เมื่อคุณออกแบบส่วนประกอบการแม็ปแบบจำลอง ER หรือส่วนประกอบรูปแบบ ER คุณสามารถตั้งค่าคอนฟิกนิพจน์ ER เพื่อเรียกอาร์ทิแฟกต์แอปพลิเคชันใน ER เช่น ตารางฐานข้อมูล วิธีการของคลาส เป็นต้น ใน Finance รุ่น 10.0.30 และใหม่กว่า คุณสามารถบังคับให้ ER เตือนคุณว่าอาร์ทิแฟกต์แอปพลิเคชันที่อ้างอิงถูกเลือกไว้ในรหัสต้นทางที่ล้าสมัย คําเตือนนี้มีประโยชน์เนื่องจากโดยปกติแล้ว อาร์ทิแฟกต์ที่ล้าสมัยจะถูกลบออกจากรหัสต้นทางในที่สุด การได้รับแจ้งเกี่ยวกับสถานะของอาร์ทิแฟกต์สามารถหยุดคุณโดยใช้วัตถุที่ล้าสมัยในส่วนประกอบ ER ที่แก้ไขได้ ก่อนที่จะลบออกจากรหัสต้นทาง ช่วยป้องกันไม่ให้เกิดข้อผิดพลาดในการเรียกอาร์ทิแฟกต์แอปพลิเคชันที่ไม่มีอยู่จากส่วนประกอบ ER ในรันไทม์

เปิดใช้งานคุณลักษณะ **ตรวจสอบองค์ประกอบที่เก่าเกินไปของแหล่งข้อมูลการรายงานทางอิเล็กทรอนิกส์** ในพื้นที่ทำงาน **การจัดการคุณลักษณะ** เพื่อเริ่มการประเมินแอททริบิวต์ที่ล้าสมัยของอาร์ทิแฟกต์แอปพลิเคชันในระหว่างการตรวจสอบส่วนประกอบ ER ที่แก้ไขได้ ขณะนี้ แอททริบิวต์ที่ล้าสมัยได้รับการประเมินค่าชนิดต่อไปนี้ของอาร์ทิแฟกต์แอปพลิเคชัน:

- ตารางฐานข้อมูล
    - ฟิลด์ของตาราง
    - วิธีของตาราง
- คลาสแอปพลิเคชัน
    - วิธีของคลาส

> [!NOTE]
> คําเตือนจะเกิดขึ้นในระหว่างการตรวจสอบส่วนประกอบ ER ที่แก้ไขได้ ของแหล่งข้อมูลที่อ้างอิงถึงอาร์ทิแฟกต์ที่ล้าสมัยเฉพาะเมื่อมีการใช้แหล่งข้อมูลนี้ในการผูกส่วนประกอบ ER นี้อย่างน้อยหนึ่งส่วนเท่านั้น

> [!TIP]
> เมื่อมีการใช้คลาส [SysObsoleteAttribute](../dev-ref/xpp-attribute-classes.md#sysobsoleteattribute) เพื่อแจ้งให้คอมไพเลอร์ทราบเพื่อออกข้อความเตือนแทนข้อผิดพลาด คําเตือนการตรวจสอบจะแสดงคําเตือนในการตรวจสอบที่ระบุไว้ในคําเตือนของรหัสต้นทางในเวลาการออกแบบบนแท็บด่วน **รายละเอียด** ในหน้า **โปรแกรมออกแบบการแม็ปแบบจำลอง** หรือ **โปรแกรมออกแบบรูปแบบ**

รูปภาพประกอบต่อไปนี้จะแสดงคําเตือนการตรวจสอบความถูกต้องที่เกิดขึ้นเมื่อฟิลด์ `DEL_Email` ของตารางแอปพลิเคชัน `CompanyInfo` ที่ล้าสมัยของตารางผูกกับฟิลด์โมเดลข้อมูลโดยใช้แหล่งข้อมูล `company` ที่ตั้งค่าคอนฟิก

![ตรวจสอบคำเตือนการตรวจสอบความถูกต้องในแท็บด่วนรายละเอียดในหน้าตัวออกแบบการแม็ปแบบจำลอง](./media/er-components-inspections-19a.png)

### <a name="automatic-resolution"></a>การแก้ปัญหาอัตโนมัติ

ไม่มีตัวเลือกในการแก้ไขปัญหานี้โดยอัตโนมัติพร้อมใช้งาน

### <a name="manual-resolution"></a>การแก้ปัญหาด้วยตนเอง

แก้ไขการแม็ปแบบจำลองที่ตั้งค่าคอนฟิกหรือรูปแบบโดยการเอาการผูกข้อมูลทั้งหมดออกไปยังแหล่งข้อมูลที่อ้างอิงถึงอาร์ทิแฟกต์แอปพลิเคชันที่ล้าสมัย

## <a name="additional-resources"></a>แหล่งข้อมูลเพิ่มเติม

[ฟังก์ชัน ALLITEMS ER](er-functions-list-allitems.md)

[ฟังก์ชัน ALLITEMSQUERY ER](er-functions-list-allitemsquery.md)

[ฟังก์ชัน INT64VALUE ER](er-functions-conversion-int64value.md)

[ฟังก์ชัน INTVALUE ER](er-functions-conversion-intvalue.md)

[ฟังก์ชัน FILTER ER](er-functions-list-filter.md)

[ฟังก์ชั่น WHERE ER](er-functions-list-where.md)

[ใช้แหล่งข้อมูล JOIN เพื่อดึงข้อมูลจากหลายตารางแอปพลิเคชันในการแมปแบบจำลอง ER](er-join-data-sources.md)

[ติดตามการดำเนินการของรูปแบบ ER เพื่อแก้ไขปัญหาประสิทธิภาพ](trace-execution-er-troubleshoot-perf.md)

[ภาพรวมของการจัดการเอกสารทางธุรกิจ](er-business-document-management.md)

[ระงับการควบคุมเนื้อหา Word ในรายงานที่สร้างขึ้น](er-design-configuration-word-suppress-controls.md)

[จัดการการแมปที่ได้รับมาหลายรายการสำหรับรากของแบบจำลองเดียว](er-multiple-model-mappings.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
