---
title: ชนิดของปลายทาง ER อีเมล
description: หัวข้อนี้อธิบายวิธีการตั้งค่าคอนฟิกปลายทางอีเมลให้กับแต่ละส่วนประกอบโฟลเดอร์หรือไฟล์ ของรูปแบบการรายงานทางอิเล็กทรอนิกส์ (ER)
author: NickSelin
manager: AnnBe
ms.date: 12/03/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: DocuType, ERSolutionTable, ERFormatDestinationTable
audience: Application User
ms.reviewer: kfend
ms.custom: 97423
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-05-31
ms.dyn365.ops.version: AX 7.0.1
ms.openlocfilehash: 0a8ee5c16e2292481e24ada4853eed9a6824ef2d
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 03/09/2021
ms.locfileid: "5562033"
---
# <a name="email-er-destination-type"></a><span data-ttu-id="60615-103">ชนิดของปลายทาง ER อีเมล</span><span class="sxs-lookup"><span data-stu-id="60615-103">Email ER destination type</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="60615-104">เมื่อรันรูปแบบการรายงานทางอิเล็กทรอนิกส์ (ER) แล้ว คุณสามารถสร้างเอกสารขาออกอย่างน้อยหนึ่งรายการ</span><span class="sxs-lookup"><span data-stu-id="60615-104">When an Electronic reporting (ER) format is run, one or more outbound documents can be generated.</span></span> <span data-ttu-id="60615-105">ส่วนประกอบรูปแบบ **โฟลเดอร์** หรือ **ไฟล์** ที่ใช้ในรูปแบบ ER เพื่อระบุโครงสร้างของเอกสารขาออก</span><span class="sxs-lookup"><span data-stu-id="60615-105">**Folder** or **File** format components are used in ER formats to specify the structure of outbound documents.</span></span> <span data-ttu-id="60615-106">คุณสามารถตั้งค่าคอนฟิกปลายทางอีเมลสำหรับชนิดของส่วนประกอบเหล่านี้เพื่อส่งเอกสารขาออกเป็นเอกสารแนบทางอีเมล</span><span class="sxs-lookup"><span data-stu-id="60615-106">You can configure an email destination for these types of components to send outbound documents as email attachments.</span></span>

<span data-ttu-id="60615-107">คุณสามารถตั้งค่าคอนฟิกปลายทางอีเมลสำหรับแต่ละส่วนประกอบ **โฟลเดอร์** หรือ **ไฟล์** ของรูปแบบ ER</span><span class="sxs-lookup"><span data-stu-id="60615-107">You can configure an email destination for each **Folder** or **File** component of an ER format.</span></span> <span data-ttu-id="60615-108">ในกรณีนี้ **เอกสารขาออกแต่ละฉบับจะถูกส่งอีเมลทีละรายการ**</span><span class="sxs-lookup"><span data-stu-id="60615-108">In this case, **each outbound document is emailed individually**.</span></span> <span data-ttu-id="60615-109">ยึดตามการตั้งค่าปลายทางนี้ เอกสารที่สร้างขึ้นจะถูกส่งเป็นเอกสารแนบของอีเมล</span><span class="sxs-lookup"><span data-stu-id="60615-109">Based on this destination setting, a generated document is delivered as an attachment of an email.</span></span> 

> [!NOTE]
> <span data-ttu-id="60615-110">ถ้าไม่มีการสร้างเอกสารไว้ เนื่องจากนิพจน์ **ที่เปิดใช้งาน** สำหรับส่วนประกอบ **ไฟล์** ที่เกี่ยวข้องถูกตั้งค่าคอนฟิกให้ส่งคืนค่าบูลีน **เท็จ** จะไม่มีการส่งอีเมล ถึงแม้ว่าจะมีการตั้งค่าคอนฟิกปลายทางอีเมลและเปิดใช้งานสำหรับส่วนประกอบ</span><span class="sxs-lookup"><span data-stu-id="60615-110">If no document is generated, because the **Enabled** expression for the relevant **File** component has been configured to return a **False** Boolean value, no email is sent, even if an email destination is configured and enabled for the component.</span></span>

<span data-ttu-id="60615-111">นอกจากนี้คุณยังสามารถ [จัดกลุ่ม](#grouping) ส่วนประกอบหลาย **โฟลเดอร์** หรือ **ไฟล์** เข้าด้วยกัน แล้วตั้งค่าคอนฟิกปลายทางอีเมลสำหรับส่วนประกอบทั้งหมดในกลุ่มได้</span><span class="sxs-lookup"><span data-stu-id="60615-111">You can also [group](#grouping) several **Folder** or **File** components together, and then configure an email destination for all the components in the group.</span></span> <span data-ttu-id="60615-112">ในกรณีนี้ เอกสารขาออกทั้งหมดที่สร้างขึ้นโดยส่วนประกอบที่เป็นของกลุ่ม **จะถูกส่งเป็นเอกสารแนบหลายแห่งของอีเมลเดียว**</span><span class="sxs-lookup"><span data-stu-id="60615-112">In this case, all outbound documents that are generated by components that belong to the group **are sent as multiple attachments of a single email**.</span></span> <span data-ttu-id="60615-113">ยึดตามการตั้งค่าปลายทางนี้ แต่ละเอกสารที่สร้างขึ้นจะถูกส่งเป็นเอกสารแนบของอีเมลเดียว</span><span class="sxs-lookup"><span data-stu-id="60615-113">Based on this destination setting, each generated document is delivered as an attachment of a single email.</span></span>

> [!NOTE]
> <span data-ttu-id="60615-114">ถ้ามีการสร้างเอกสารอย่างน้อยหนึ่งเอกสารโดยส่วนประกอบ **ไฟล์** ในกลุ่มของส่วนประกอบ อีเมลจะถูกส่ง</span><span class="sxs-lookup"><span data-stu-id="60615-114">If at least one document is generated by a **File** component in a group of components, an email is sent.</span></span> <span data-ttu-id="60615-115">ถ้าไม่มีการสร้างเอกสารไว้โดยส่วนประกอบที่จัดกลุ่ม เนื่องจากนิพจน์ **ที่เปิดใช้งาน** สำหรับแต่ละส่วนประกอบ **ไฟล์** ถูกตั้งค่าคอนฟิกให้ส่งคืนค่าบูลีน **เท็จ** จะไม่มีการส่งอีเมล ถึงแม้ว่าจะมีการตั้งค่าคอนฟิกปลายทางอีเมลและเปิดใช้งานสำหรับกลุ่มของส่วนประกอบนั้น</span><span class="sxs-lookup"><span data-stu-id="60615-115">If no document is generated by grouped components, because the **Enabled** expression for each **File** component has been configured to return a **False** Boolean value, no email is sent, even if an email destination is configured and enabled for that group of components.</span></span>
>
> <span data-ttu-id="60615-116">**อีเมล** เป็นปลายทางเดียวที่สามารถตั้งค่าคอนฟิกสำหรับกลุ่มส่วนประกอบ</span><span class="sxs-lookup"><span data-stu-id="60615-116">**Email** is the only destination that can be configured for a group of components.</span></span> <span data-ttu-id="60615-117">เมื่อต้องการจัดส่งเอกสารที่มีการส่งอีเมลโดยใช้การตั้งค่าปลายทางของอีเมลสำหรับกลุ่ม ให้เพิ่มเรกคอร์ดต้นทางหนึ่งรายการขึ้นไป เลือกส่วนประกอบที่คุณต้องการ จากนั้นตั้งค่าคอนฟิกปลายทางอื่นสำหรับเรกคอร์ดนี้</span><span class="sxs-lookup"><span data-stu-id="60615-117">To deliver a document that is emailed based on the email destination setting for a group, add one more destination record, select the component that you want, and then configure another destination for this record.</span></span>

<span data-ttu-id="60615-118">กลุ่มส่วนประกอบต่าง ๆ สามารถตั้งค่าคอนฟิกสำหรับการตั้งค่าคอนฟิกรูปแบบ ER เดียว</span><span class="sxs-lookup"><span data-stu-id="60615-118">Multiple groups of components can be configured for a single ER format configuration.</span></span> <span data-ttu-id="60615-119">ด้วยวิธีนี้ คุณสามารถตั้งค่าคอนฟิกปลายทางอีเมลสำหรับกลุ่มส่วนประกอบและปลายทางอีเมลทั้งหมดสำหรับส่วนประกอบต่าง ๆ ได้</span><span class="sxs-lookup"><span data-stu-id="60615-119">In this way, you can configure an email destination for every group of components and an email destination for every component.</span></span>

## <a name="configure-an-email-destination"></a><span data-ttu-id="60615-120">ตั้งค่าคอนฟิกปลายทางอีเมล</span><span class="sxs-lookup"><span data-stu-id="60615-120">Configure an email destination</span></span>

<span data-ttu-id="60615-121">เมื่อต้องการส่งไฟล์ผลลัพธ์หรือไฟล์ผลลัพธ์หลายไฟล์ทางอีเมล บนหน้า **ปลายทางการรายงานทางอิเล็กทรอนิกส์** บนแท็บด่วน **ปลายทางของไฟล์** ให้เลือกส่วนประกอบหรือกลุ่มส่วนประกอบในกริด แล้วเลือก **การตั้งค่า**</span><span class="sxs-lookup"><span data-stu-id="60615-121">To send an output file or several output files by email, on the **Electronic reporting destination** page, on the **File destination** FastTab, select a component or group of components in the grid, and then select **Settings**.</span></span> <span data-ttu-id="60615-122">ในกล่องโต้ตอบ **การตั้งค่าปลายทาง** ที่ปรากฏขึ้นบนแท็บ **อีเมล** ให้ตั้งค่าตัวเลือก **ที่เปิดใช้งาน** เป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="60615-122">In the **Destination settings** dialog box that appears, on the **Email** tab, set the **Enabled** option to **Yes**.</span></span> <span data-ttu-id="60615-123">คุณสามารถระบุผู้รับอีเมลและแก้ไขชื่อเรื่องและเนื้อหาอีเมลได้</span><span class="sxs-lookup"><span data-stu-id="60615-123">You can then specify email recipients, and edit the subject and body of the email message.</span></span> <span data-ttu-id="60615-124">คุณสามารถตั้งค่าข้อความค่าคงที่สำหรับชื่อเรื่องและเนื้อหาอีเมล หรือใช้ [สูตร](er-formula-language.md) ER เพื่อสร้างข้อความอีเมลแบบไดนามิกได้</span><span class="sxs-lookup"><span data-stu-id="60615-124">You can either set up constant text for the email subject and body, or use ER [formulas](er-formula-language.md) to dynamically create email texts.</span></span>

<span data-ttu-id="60615-125">คุณสามารถตั้งค่าคอนฟิกที่อยู่อีเมลสำหรับ ER ได้สองวิธี</span><span class="sxs-lookup"><span data-stu-id="60615-125">You can configure email addresses for ER in two ways.</span></span> <span data-ttu-id="60615-126">คุณสามารถดำเนินการตั้งค่าคอนฟิกให้เสร็จสมบูรณ์ได้ในลักษณะเดียวกับที่ใช้คุณสมบัติการจัดการการพิมพ์ หรือคุณสามารถแก้ไขที่อยู่อีเมลโดยใช้การอ้างอิงโดยตรงกับการตั้งค่าคอนฟิก ER ผ่านสูตร</span><span class="sxs-lookup"><span data-stu-id="60615-126">The configuration can be completed in the same way that the Print Management feature completes it, or you can resolve an email address by using a direct reference to the ER configuration through a formula.</span></span>

<span data-ttu-id="60615-127">[![การตั้งค่าตัวเลือกที่เปิดใช้งานเป็น ใช่ สำหรับปลายทางอีเมล](./media/ER_Destinations-EnableSingleDestination.png)](./media/ER_Destinations-EnableSingleDestination.png)</span><span class="sxs-lookup"><span data-stu-id="60615-127">[![Setting the Enabled option to Yes for an email destination](./media/ER_Destinations-EnableSingleDestination.png)](./media/ER_Destinations-EnableSingleDestination.png)</span></span>

## <a name="email-address-types"></a><span data-ttu-id="60615-128">ชนิดของที่อยู่อีเมล</span><span class="sxs-lookup"><span data-stu-id="60615-128">Email address types</span></span>

<span data-ttu-id="60615-129">ถ้าคุณเลือก **แก้ไข** ถัดจากฟิลด์ **ถึง** หรือ **สำเนาถึง** ในกล่องโต้ตอบ **การตั้งค่าปลายทาง** กล่องโต้ตอบ **อีเมลไปที่** จะปรากฏขึ้น</span><span class="sxs-lookup"><span data-stu-id="60615-129">If you select **Edit** next to the **To** or **Cc** field in the **Destination settings** dialog box, the **Email to** dialog box appears.</span></span> <span data-ttu-id="60615-130">เลือก **เพิ่ม** และจากนั้นคุณสามารถเลือกชนิดของที่อยู่อีเมลที่จะใช้</span><span class="sxs-lookup"><span data-stu-id="60615-130">Select **Add**, and then select the type of email address to use.</span></span> <span data-ttu-id="60615-131">อีเมลสองชนิดที่ได้รับการสนับสนุน: **อีเมลการจัดการการพิมพ์** และ **อีเมลการตั้งค่าคอนฟิก**</span><span class="sxs-lookup"><span data-stu-id="60615-131">Two types are currently supported: **Print Management email** and **Configuration email**.</span></span>

<span data-ttu-id="60615-132">[![การเลือกชนิดของที่อยู่อีเมล](./media/ER_Destinations-EmailSelectAddressType.png)](./media/ER_Destinations-EmailSelectAddressType.png)</span><span class="sxs-lookup"><span data-stu-id="60615-132">[![Selecting the type of email address](./media/ER_Destinations-EmailSelectAddressType.png)](./media/ER_Destinations-EmailSelectAddressType.png)</span></span>

### <a name="print-management-email"></a><span data-ttu-id="60615-133">พิมพ์อีเมลการจัดการ</span><span class="sxs-lookup"><span data-stu-id="60615-133">Print Management email</span></span>

<span data-ttu-id="60615-134">ถ้าคุณเลือก **อีเมลการจัดการการพิมพ์** เป็นชนิดที่อยู่อีเมล คุณสามารถป้อนที่อยู่อีเมลคงที่ในกล่องโต้ตอบ **อีเมล** เพื่อตั้งค่าฟิลด์ต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="60615-134">If you select **Print Management email** as the email address type, you can enter fixed email addresses in the **Email to** dialog box by setting the following fields:</span></span>

- <span data-ttu-id="60615-135">ในฟิลด์ **แหล่งที่มาอีเมล** ให้เลือก **ไม่มี**</span><span class="sxs-lookup"><span data-stu-id="60615-135">In the **Email source** field, select **None**.</span></span>
- <span data-ttu-id="60615-136">ในฟิลด์ **ที่อยู่อีเมลเพิ่มเติม คั่นด้วย ";"** ให้ป้อนที่อยู่อีเมลคงที่</span><span class="sxs-lookup"><span data-stu-id="60615-136">In the **Additional email addresses, separated by ";"** field, enter the fixed email addresses.</span></span>

<span data-ttu-id="60615-137">อีกทางหนึ่งคือ คุณสามารถได้รับที่อยู่อีเมลจากรายละเอียดผู้ติดต่อของฝ่ายที่คุณสร้างเอกสารขาออก</span><span class="sxs-lookup"><span data-stu-id="60615-137">Alternatively, you can obtain email addresses from the contact details of the party that you generate an outbound document for.</span></span> <span data-ttu-id="60615-138">เมื่อต้องการใช้ที่อยู่อีเมลที่คุณยังไม่ได้แก้ไข ในฟิลด์ **แหล่งที่มาอีเมล** เลือก [บทบาท](../../fin-ops/organization-administration/overview-global-address-book.md#party-roles) ของฝ่ายสำหรับปลายทางของไฟล์</span><span class="sxs-lookup"><span data-stu-id="60615-138">To use email addresses that aren't fixed, in the **Email source** field, select the [role](../../fin-ops/organization-administration/overview-global-address-book.md#party-roles) of the party for a file destination.</span></span> <span data-ttu-id="60615-139">ระบบสนับสนุนบทบาทต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="60615-139">The following roles are supported:</span></span>

- <span data-ttu-id="60615-140">ลูกค้า</span><span class="sxs-lookup"><span data-stu-id="60615-140">Customer</span></span>
- <span data-ttu-id="60615-141">ผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="60615-141">Vendor</span></span>
- <span data-ttu-id="60615-142">ผู้ที่อาจเป็นลูกค้า</span><span class="sxs-lookup"><span data-stu-id="60615-142">Prospect</span></span>
- <span data-ttu-id="60615-143">การติดต่อ</span><span class="sxs-lookup"><span data-stu-id="60615-143">Contact</span></span>
- <span data-ttu-id="60615-144">คู่แข่ง</span><span class="sxs-lookup"><span data-stu-id="60615-144">Competitor</span></span>
- <span data-ttu-id="60615-145">ผู้ปฏิบัติงาน</span><span class="sxs-lookup"><span data-stu-id="60615-145">Worker</span></span>
- <span data-ttu-id="60615-146">ผู้ขอเปิด</span><span class="sxs-lookup"><span data-stu-id="60615-146">Applicant</span></span>
- <span data-ttu-id="60615-147">ผู้ที่มีแนวโน้มจะเป็นผู้จัดจำหน่าย</span><span class="sxs-lookup"><span data-stu-id="60615-147">Prospective vendor</span></span>
- <span data-ttu-id="60615-148">ผู้จัดจำหน่ายที่ไม่ได้รับอนุญาต</span><span class="sxs-lookup"><span data-stu-id="60615-148">Disallowed vendor</span></span>

<span data-ttu-id="60615-149">ตัวอย่างเช่น ถ้าต้องการตั้งค่าคอนฟิกปลายทางอีเมลสำหรับรูปแบบ ER ซึ่งใช้ในการประมวลผลการชำระเงินให้แก่ผู้จัดจำหน่าย ให้เลือกบทบาท **ผู้จัดจำหน่าย**</span><span class="sxs-lookup"><span data-stu-id="60615-149">For example, to configure an email destination for an ER format that is used to process vendor payments, select the **Vendor** role.</span></span>

<span data-ttu-id="60615-150">หลังจากที่คุณเลือกบทบาทที่ต้องการแล้ว ให้เลือกปุ่ม **ผูก** (สัญลักษณ์ลูกโซ่) ถัดจากฟิลด์ **บัญชีแหล่งที่มาของอีเมล** เพื่อเปิดหน้า [ตัวออกแบบสูตร](general-electronic-reporting-formula-designer.md)</span><span class="sxs-lookup"><span data-stu-id="60615-150">After you select the desired role, select the **Bind** button (chain symbol) next to the **Email source account** field to open the [Formula designer](general-electronic-reporting-formula-designer.md) page.</span></span> <span data-ttu-id="60615-151">จากนั้นคุณสามารถใช้หน้านี้เพื่อตั้งค่าคอนฟิกสูตรที่ส่งคืน เมื่อรันไทม์ หมายเลขบัญชีของฝ่ายที่กำหนดให้กับบทบาทที่ตั้งค่าคอนฟิกจากเอกสารที่ประมวลผลแล้วไปยังปลายทางอีเมล</span><span class="sxs-lookup"><span data-stu-id="60615-151">You can then use this page to configure a formula that returns, at runtime, the account number of the party that is assigned to the configured role from the processed document to the email destination.</span></span>

> [!NOTE]
> <span data-ttu-id="60615-152">สูตรการตั้งค่าคอนฟิก ER โดยเฉพาะ</span><span class="sxs-lookup"><span data-stu-id="60615-152">Formulas are specific to the ER configuration.</span></span>

<span data-ttu-id="60615-153">บนหน้า **ตัวออกแบบสูตร** ในฟิลด์ **สูตร** ให้ป้อนการอ้างอิงเฉพาะเอกสารให้กับบทบาทที่สนับสนุน</span><span class="sxs-lookup"><span data-stu-id="60615-153">On the **Formula designer** page, in the **Formula** field, enter a document-specific reference to a supported role.</span></span> <span data-ttu-id="60615-154">แทนที่จะพิมพ์ข้อมูลอ้างอิง ในบานหน้าต่าง **แหล่งข้อมูล** ให้ค้นหาและเลือกโหนดของแหล่งข้อมูลที่แสดงถึงบัญชีของบทบาทที่ตั้งค่าคอนฟิก แล้วเลือก **เพิ่มแหล่งข้อมูล** เพื่ออัพเดตสูตร</span><span class="sxs-lookup"><span data-stu-id="60615-154">Instead of typing the reference, in the **Data source** pane, find and select the data source node that represents an account of the configured role, and then select **Add data source** to update the formula.</span></span> <span data-ttu-id="60615-155">ตัวอย่างเช่น ถ้าคุณตั้งค่าคอนฟิกปลายทางอีเมลสำหรับการตั้งค่าคอนฟิก **การโอนย้ายเครดิต ISO 20022** ซึ่งใช้ในการประมวลผลการชำระเงินให้แก่ผู้จัดจำหน่าย โหนดที่แสดงถึงบัญชีผู้จัดจำหน่ายคือ `'$PaymentsForCoveringLetter'.Creditor.Identification.SourceID`</span><span class="sxs-lookup"><span data-stu-id="60615-155">For example, if you configure the email destination for the **ISO 20022 Credit Transfer** configuration that is used to process vendor payments, the node that represents a vendor account is `'$PaymentsForCoveringLetter'.Creditor.Identification.SourceID`.</span></span>

![ตั้งค่าคอนฟิกบัญชีแหล่งที่มาของอีเมล](./media/er_destinations-emaildefineaddresssource.gif)

<span data-ttu-id="60615-157">ถ้าหมายเลขบัญชีของบทบาทที่ตั้งค่าคอนฟิกไว้เฉพาะสำหรับอินสแตนซ์ทั้งหมดของ Microsoft Dynamics 365 Finance ฟิลด์ **บริษัทของแหล่งที่มาของอีเมล** ในกล่องโต้ตอบ **อีเมลไป** จะยังคงอยู่</span><span class="sxs-lookup"><span data-stu-id="60615-157">If the account numbers of the configured role are unique for the whole instance of Microsoft Dynamics 365 Finance, the **Company of email source** field in the **Email to** dialog box can remain blank.</span></span>

<span data-ttu-id="60615-158">อีกทางหนึ่งคือ คุณอาจมีสถานการณ์ที่บุคคลที่แตกต่างกันใน [สมุดที่อยู่สากล](../../fin-ops/organization-administration/overview-global-address-book.md) มีการลงทะเบียนใน ([นิติบุคคล](../../fin-ops/organization-administration/organizations-organizational-hierarchies.md#legal-entities)) บริษัทต่าง ๆ ซึ่งทั้งหมดจะใช้หมายเลขบัญชีเดียวกันกับบทบาทที่ตั้งค่าคอนฟิกไว้</span><span class="sxs-lookup"><span data-stu-id="60615-158">Alternatively, you might have a situation where different parties in the [Global address book](../../fin-ops/organization-administration/overview-global-address-book.md) have been registered in different companies ([legal entities](../../fin-ops/organization-administration/organizations-organizational-hierarchies.md#legal-entities)) in such a way that they all use the same account number to fill the configured role.</span></span> <span data-ttu-id="60615-159">ในกรณีนี้ หมายเลขบัญชีสำหรับบทบาทที่ตั้งค่าคอนฟิกไม่มีเฉพาะสำหรับอินสแตนซ์การเงินทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="60615-159">In this case, account numbers for the configured role aren't unique for the whole Finance instance.</span></span> <span data-ttu-id="60615-160">ดังนั้น เพื่อเลือกฝ่ายอย่างชัดแจ้ง คุณจึงไม่สามารถระบุได้เฉพาะหมายเลขบัญชี</span><span class="sxs-lookup"><span data-stu-id="60615-160">Therefore, to explicitly select a party, you can't specify only an account number.</span></span> <span data-ttu-id="60615-161">นอกจากนี้คุณต้องระบุบริษัทที่มีการลงทะเบียนฝ่ายไว้ในขอบเขตของการกรอกข้อมูลในบทบาทที่ตั้งค่าคอนฟิกไว้</span><span class="sxs-lookup"><span data-stu-id="60615-161">You must also specify the company that the party has been registered in the scope of to fill the configured role.</span></span> <span data-ttu-id="60615-162">เลือกปุ่ม **ผูก** (สัญลักษณ์ลูกโซ่) ถัดจากฟิลด์ **บริษัทของแหล่งที่มาของอีเมล** ในกล่องโต้ตอบ **อีเมลไป** เพื่อเปิดหน้า [ตัวออกแบบสูตร](general-electronic-reporting-formula-designer.md)</span><span class="sxs-lookup"><span data-stu-id="60615-162">Select the **Bind** button (chain symbol) next to the **Company of email source** field in the **Email to** dialog box to open the [Formula designer](general-electronic-reporting-formula-designer.md) page.</span></span> <span data-ttu-id="60615-163">คุณสามารถใช้หน้านี้เพื่อตั้งค่าคอนฟิกสูตรที่ส่งคืนรหัสของบริษัทที่ต้องพบแหล่งที่มาที่ต้องการในขอบเขต เมื่อรันไทม์</span><span class="sxs-lookup"><span data-stu-id="60615-163">You can then use this page to configure a formula that returns, at runtime, the code of the company that the desired source must be found in the scope of.</span></span>

> [!TIP]
> <span data-ttu-id="60615-164">ถ้าคุณต้องใช้รหัสบริษัทเพื่อรันรูปแบบ ER แต่รูปแบบ ER ไม่ได้ระบุแหล่งข้อมูลใด ๆ ที่รหัสบริษัทจะได้รับ ตั้งค่าคอนฟิกสูตร `GetCurrentCompany()` โดยใช้ฟังก์ชัน ER [GETCURRENTCOMPANY](er-functions-other-getcurrentcompany.md) ที่มีอยู่แล้วภายใน</span><span class="sxs-lookup"><span data-stu-id="60615-164">If you must use the company code to run an ER format, but the ER format doesn't provide any data source that the company code can be obtained from, configure the `GetCurrentCompany()` formula by using the built-in [GETCURRENTCOMPANY](er-functions-other-getcurrentcompany.md) ER function.</span></span>

> [!NOTE]
> <span data-ttu-id="60615-165">สูตรการตั้งค่าคอนฟิก ER โดยเฉพาะ</span><span class="sxs-lookup"><span data-stu-id="60615-165">Formulas are specific to the ER configuration.</span></span>

<span data-ttu-id="60615-166">เมื่อต้องการระบุชนิดของที่อยู่อีเมลที่ต้องใช้ในการรันไทม์ ในกล่องโต้ตอบ **อีเมล์ไปที่** ให้เลือก **แก้ไข** ถัดจากฟิลด์ **ถึง** เพื่อเปิดกล่องโต้ตอบแบบหล่นลง **กำหนดที่อยู่อีเมล**</span><span class="sxs-lookup"><span data-stu-id="60615-166">To specify the type of email addresses that must be used at runtime, in the **Email to** dialog box, select **Edit** next to the **To** field to open the **Assign email address** drop-down dialog box.</span></span> <span data-ttu-id="60615-167">จากนั้นตั้งค่าฟิลด์เหล่านี้:</span><span class="sxs-lookup"><span data-stu-id="60615-167">Then set the following fields:</span></span>

- <span data-ttu-id="60615-168">ในฟิลด์ **วัตถุประสงค์** ให้เลือกวัตถุประสงค์ที่ต้องการ</span><span class="sxs-lookup"><span data-stu-id="60615-168">In the **Purpose** field, select the desire purposes.</span></span> <span data-ttu-id="60615-169">จะมีการใช้เฉพาะที่อยู่อีเมลของวัตถุประสงค์ที่เลือกจากผู้ติดต่อของฝ่ายที่ค้นพบเท่านั้น</span><span class="sxs-lookup"><span data-stu-id="60615-169">Only email addresses of the selected purposes from contacts of the discovered party will be used.</span></span>
- <span data-ttu-id="60615-170">ตั้งค่าตัวเลือก **ผู้ติดต่อหลัก** เป็น **ใช่** เพื่อใช้ที่อยู่อีเมลที่ได้รับการตั้งค่าคอนฟิกสำหรับฝ่ายที่พบเป็นที่อยู่อีเมลหลัก</span><span class="sxs-lookup"><span data-stu-id="60615-170">Set the **Primary contact** option to **Yes** to use an email address that is configured for the discovered party as the primary email address.</span></span>

> [!NOTE]
> <span data-ttu-id="60615-171">ถ้ามีการเลือกวัตถุประสงค์ไว้ในฟิลด์ **วัตถุประสงค์** และตัวเลือก **ผู้ติดต่อหลัก** ถูกตั้งค่าเป็น **ใช่** ในเวลาเดียวกัน อีเมลทั้งหมดที่ตอบสนองอย่างน้อยหนึ่งเกณฑ์ที่ตั้งค่าคอนฟิกจะถูกนำมาใช้ในขณะทำงาน</span><span class="sxs-lookup"><span data-stu-id="60615-171">If purposes are selected in the **Purpose** field and the **Primary contact** option is set to **Yes** at the same time, every email that satisfies at least one configured criterion will be used at runtime.</span></span>

### <a name="configuration-email"></a><span data-ttu-id="60615-172">อีเมลการตั้งค่าคอนฟิก</span><span class="sxs-lookup"><span data-stu-id="60615-172">Configuration email</span></span>

<span data-ttu-id="60615-173">เลือก **อีเมลการตั้งค่าคอนฟิก** เป็นชนิดที่อยู่อีเมล์ถ้าการตั้งค่าคอนฟิกที่คุณใช้มีโหนดในแหล่งข้อมูลที่ส่งคืนที่อยู่อีเมลแอดเดรสเดียวหรือที่อยู่อีเมลหลายรายการที่คั่นด้วยเครื่องหมายอัฒภาค (;)</span><span class="sxs-lookup"><span data-stu-id="60615-173">Select **Configuration email** as the email address type if the configuration that you use has a node in the data sources that returns either a single email address or multiple email addresses that are separated by semicolons (;).</span></span> <span data-ttu-id="60615-174">คุณสามารถใช้ [แหล่งข้อมูล](general-electronic-reporting.md#FormatComponentOutbound) และ [ฟังก์ชัน](er-formula-language.md#functions) ในตัวออกแบบสูตรเพื่อรับที่อยู่อีเมลที่จัดรูปแบบได้อย่างถูกต้องหรือที่อยู่อีเมลที่มีการจัดรูปแบบที่คั่นด้วยเครื่องหมายอัฒภาคอย่างถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="60615-174">You can use [data sources](general-electronic-reporting.md#FormatComponentOutbound) and [functions](er-formula-language.md#functions) in the formula designer to get a correctly formatted email address or correctly formatted email addresses that are separated by semicolons.</span></span> <span data-ttu-id="60615-175">ตัวอย่างเช่น ถ้าคุณใช้การตั้งค่าคอนฟิก **การโอนย้ายเครดิต ISO 20022** โหนดที่แสดงถึงที่อยู่อีเมลหลักของผู้จัดจำหน่ายจากรายละเอียดผู้ติดต่อของผู้จัดจำหน่ายที่ควรส่งจดหมายการครอบคลุมไปไว้คือ `'$PaymentsForCoveringLetter'.Creditor.ContactDetails.Email`</span><span class="sxs-lookup"><span data-stu-id="60615-175">For example, if you use the **ISO 20022 Credit Transfer** configuration, the node that represents the primary email address of a vendor from the vendor contact details that the covering letter should be sent to is `'$PaymentsForCoveringLetter'.Creditor.ContactDetails.Email`.</span></span>

<span data-ttu-id="60615-176">[![ตั้งค่าคอนฟิกแหล่งที่มาของที่อยู่อีเมล](./media/ER_Destinations-EmailDefineAddressSource2.png)](./media/ER_Destinations-EmailDefineAddressSource2.png)</span><span class="sxs-lookup"><span data-stu-id="60615-176">[![Configuring an email address source](./media/ER_Destinations-EmailDefineAddressSource2.png)](./media/ER_Destinations-EmailDefineAddressSource2.png)</span></span>

## <a name="group-format-components"></a><a id="grouping"></a><span data-ttu-id="60615-177">ส่วนประกอบรูปแบบกลุ่ม</span><span class="sxs-lookup"><span data-stu-id="60615-177">Group format components</span></span>

<span data-ttu-id="60615-178">เมื่อต้องการจัดกลุ่มส่วนประกอบของรูปแบบ บนหน้า **ปลายทางการรายงานทางอิเล็กทรอนิกส์** บนแท็บด่วน **ปลายทางของไฟล์** ให้เลือกส่วนประกอบในกริด แล้วเลือก **กลุ่ม**</span><span class="sxs-lookup"><span data-stu-id="60615-178">To group format components, on the **Electronic reporting destination** page, on the **File destination** FastTab, select the components in the grid, and then select **Group**.</span></span>

<span data-ttu-id="60615-179">**อีเมล** เป็นปลายทางที่ได้รับการตั้งค่าคอนฟิกไว้ก่อนหน้านี้เท่านั้นที่จะยังคงพร้อมใช้งานสำหรับส่วนประกอบที่เลือก</span><span class="sxs-lookup"><span data-stu-id="60615-179">**Email** is the only previously configured destination that is still available for the selected components.</span></span> <span data-ttu-id="60615-180">มีปลายทางที่ตั้งค่าคอนฟิกก่อนหน้านี้ไม่พร้อมใช้งาน เนื่องจากไม่ได้รับการสนับสนุนสำหรับกลุ่มส่วนประกอบ</span><span class="sxs-lookup"><span data-stu-id="60615-180">No other previously configured destinations are available, because they are considered unsupported for a group of components.</span></span> <span data-ttu-id="60615-181">คุณจะได้รับการแจ้งเตือนเกี่ยวกับการเปลี่ยนแปลงเหล่านี้ตามความเหมาะสม</span><span class="sxs-lookup"><span data-stu-id="60615-181">You will be notified about these changes as appropriate.</span></span>

<span data-ttu-id="60615-182">เรกคอร์ดที่คุณเพิ่มไว้ก่อนหน้านี้ถือเป็นหัวข้อของกลุ่มที่สร้างขึ้น</span><span class="sxs-lookup"><span data-stu-id="60615-182">The record that you previously added is considered the header of the group that is created.</span></span> <span data-ttu-id="60615-183">เรกคอร์ดหัวข้อนี้มีการตั้งค่าปลายทางของอีเมลสำหรับกลุ่ม</span><span class="sxs-lookup"><span data-stu-id="60615-183">This header record holds the email destination settings for the group.</span></span> <span data-ttu-id="60615-184">เรกคอร์ดอื่น ๆ เป็นสมาชิกของกลุ่มที่จะใช้การตั้งค่าปลายทางอีเมลของเรกคอร์ดหัวข้อของกลุ่ม</span><span class="sxs-lookup"><span data-stu-id="60615-184">Other records are group members that will use the email destination settings of the group's header record.</span></span>

<span data-ttu-id="60615-185">เมื่อต้องการยกเลิกการจัดกลุ่มส่วนประกอบของรูปแบบ บนแท็บด่วน **ปลายทางของไฟล์** ให้เลือกเรกคอร์ดที่เป็นสมาชิกของกลุ่ม แล้วเลือก **ยกเลิกการจัดกลุ่ม**</span><span class="sxs-lookup"><span data-stu-id="60615-185">To ungroup format components, on the **File destination** FastTab, select a record that belongs to the group, and then select **Ungroup**.</span></span>

- <span data-ttu-id="60615-186">ถ้าคุณเลือกเรกคอร์ดหัวข้อ กลุ่มทั้งกลุ่มจะถูกยกเลิกการจัดกลุ่ม</span><span class="sxs-lookup"><span data-stu-id="60615-186">If you select a header record, the whole group will be ungrouped.</span></span>
- <span data-ttu-id="60615-187">ถ้าคุณเลือกเรกคอร์ดสมาชิก และเป็นเรกคอร์ดของสมาชิกล่าสุดในกลุ่ม กลุ่มทั้งกลุ่มจะถูกยกเลิกการจัดกลุ่ม</span><span class="sxs-lookup"><span data-stu-id="60615-187">If you select a member record, and it's the last member record in a group, the whole group will be ungrouped.</span></span>
- <span data-ttu-id="60615-188">ถ้าคุณเลือกเรกคอร์ดของสมาชิกที่ไม่ใช่เรกคอร์ดสมาชิกล่าสุดในกลุ่ม เรกคอร์ดดังกล่าวจะถูกแยกออกจากกลุ่มปัจจุบัน</span><span class="sxs-lookup"><span data-stu-id="60615-188">If you select a member record that isn't the last member record in a group, that record will be excluded from the current group.</span></span>

<span data-ttu-id="60615-189">ภาพประกอบต่อไปนี้แสดงโครงสร้างของรูปแบบ ER ที่ได้รับการตั้งค่าคอนฟิกไว้เพื่อผลิตไฟล์ขาออกแบบซิปที่มีบันทึกจดหมายเรียกเก็บเงินและใบแจ้งหนี้ของลูกค้าที่เหมาะสมในรูปแบบไฟล์ PDF</span><span class="sxs-lookup"><span data-stu-id="60615-189">The following illustration shows the structure of an ER format that was configured to produce a zipped outbound file that contains a collection letter note and appropriate customer invoices in PDF format.</span></span>

<span data-ttu-id="60615-190">[![โครงสร้างของรูปแบบ ER ที่สร้างเอกสารขาออก](./media/ER_Destinations-Email-Grouping1.png)](./media/ER_Destinations-Email-Grouping1.png)</span><span class="sxs-lookup"><span data-stu-id="60615-190">[![Structure of an ER format that generates outbound documents](./media/ER_Destinations-Email-Grouping1.png)](./media/ER_Destinations-Email-Grouping1.png)</span></span>

<span data-ttu-id="60615-191">ภาพประกอบต่อไปนี้จะแสดงกระบวนการ ดังที่อธิบายไว้ในหัวข้อนี้ ซึ่งจัดกลุ่มแต่ละส่วนประกอบและเปิดใช้งานปลายทาง **อีเมล** สำหรับกลุ่มใหม่ ดังนั้นจึงมีการส่งจดหมายเรียกเก็บเงินพร้อมกับใบแจ้งหนี้ของลูกค้าที่เหมาะสมเป็นเอกสารแนบทางอีเมล</span><span class="sxs-lookup"><span data-stu-id="60615-191">The following illustration shows the process, as described in this topic, of grouping individual components and enabling the **Email** destination for the new group, so that a collection letter note is sent together with appropriate customer invoices as email attachments.</span></span>

<span data-ttu-id="60615-192">[![การจัดกลุ่มแต่ละส่วนประกอบและการเปิดใช้งานปลายทางอีเมล](./media/ER_Destinations-Email-Grouping2.gif)](./media/ER_Destinations-Email-Grouping2.gif)</span><span class="sxs-lookup"><span data-stu-id="60615-192">[![Grouping individual components and enabling the Email destination](./media/ER_Destinations-Email-Grouping2.gif)](./media/ER_Destinations-Email-Grouping2.gif)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="60615-193">ทรัพยากรเพิ่มเติม</span><span class="sxs-lookup"><span data-stu-id="60615-193">Additional resources</span></span>

- [<span data-ttu-id="60615-194">ภาพรวมการรายงานทางอิเล็กทรอนิกส์ (ER)</span><span class="sxs-lookup"><span data-stu-id="60615-194">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="60615-195">ปลายทางการรายงานทางอิเล็กทรอนิกส์ (ER)</span><span class="sxs-lookup"><span data-stu-id="60615-195">Electronic reporting (ER) destinations</span></span>](electronic-reporting-destinations.md)
- [<span data-ttu-id="60615-196">โปรแกรมออกแบบสูตรในการรายงานทางอิเล็กทรอนิกส์ (ER)</span><span class="sxs-lookup"><span data-stu-id="60615-196">Formula designer in Electronic reporting (ER)</span></span>](general-electronic-reporting-formula-designer.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]