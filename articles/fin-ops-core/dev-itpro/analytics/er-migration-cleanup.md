---
title: การล้างข้อมูลการย้าย ER
description: หัวข้อนี้อธิบายวิธีที่คุณสามารถใช้ฟังก์ชันการล้างข้อมูลการย้าย ER เพื่อแก้ไขปัญหาเกี่ยวกับแม่แบบ ER
author: NickSelin
ms.date: 04/29/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, ERWorkspace, ERParameters, ERMigrationCleanup
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-01-01
ms.dyn365.ops.version: AX 8.0.0
ms.openlocfilehash: 8b6e81e47cd781bbe856676b1cecb50b8ee1adfc
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 07/06/2021
ms.locfileid: "6351060"
---
# <a name="er-migration-cleanup"></a>การล้างข้อมูลการย้าย ER 

[!include[banner](../includes/banner.md)]

เมื่อคุณจัดการอินสแตนซ์ Finance ของคุณ คุณอาจตัดสินใจที่จะโยกย้ายอินสแตนซ์ปัจจุบันของคุณไปยังที่ตั้งอื่น ตัวอย่างเช่น คุณอาจโยกย้ายอินสแตนซ์การผลิตของคุณ ไปยังสภาพแวดล้อม sandbox ใหม่ ถ้าคุณได้ตั้งค่าคอนฟิกกรอบงานการรายงานทางอิเล็กทรอนิกส์ (ER) เพื่อจัดเก็บแม่แบบในที่เก็บข้อมูล Blob ของ Microsoft Azure แล้วตาราง **DocuValue** ในสภาพแวดล้อม sandbox ใหม่ จะอ้างอิงถึงอินสแตนซ์ของที่เก็บข้อมูล Blob ในสภาพแวดล้อมการผลิต อย่างไรก็ตาม อินสแตนซ์นี้ไม่สามารถเข้าถึงได้จากสภาพแวดล้อม sandbox เนื่องจากกระบวนการย้ายไม่สนับสนุนการย้ายของวัตถุในที่เก็บข้อมูล Blob แต่คาดว่า ในสภาพแวดล้อม sandbox ใหม่ คุณอ้างอิงถึงอินสแตนซ์ของ Blob ที่เก็บในสภาพแวดล้อม sandbox ที่ยังไม่ได้รับแม่แบบ ER

ดังนั้น ถ้าคุณพยายามที่จะเรียกใช้กรอบงาน ER ซึ่งใช้เแม่แบบเพื่อสร้างเอกสารทางธุรกิจ แล้วมีข้อยกเว้นเกิดขึ้น และคุณจะได้รับการแจ้งเตือนเกี่ยวกับแม่แบบที่ขาดหายไป แล้วคุณยังถูกแนะนำให้ใช้ตัวเลือกการล้างข้อมูลการย้าย ER เพื่อลบแล้วนำเข้าการตั้งค่าคอนฟิกรูปแบบ ER ที่มีเท็มเพลตได้อีกครั้ง

[![การรันรูปแบบ ER](./media/er-migration-cleanup-run.png)](./media/er-migration-cleanup-run.png)

คุณจะได้รับข้อผิดพลาดคล้ายกัน ถ้าคุณนําทางไปยังหน้า **การตั้งค่าคอนฟิก** (**การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**) และในแผนภูมิการตั้งค่าคอนฟิก พยายามลบการตั้งค่าคอนฟิกรูปแบบ ER ที่ใช้แม่แบบ

[![การลบรูปแบบ ER](./media/er-migration-cleanup-delete.png)](./media/er-migration-cleanup-delete.png)

ดําเนินการขั้นตอนต่อไปนี้เพื่อแก้ไขปัญหาเกี่ยวกับแม่แบบ ER ที่คุณไม่สามารถเข้าถึงได้

1.  ไปที่ **การจัดการองค์กร** \> **ประจำงวด** \> หน้า **การล้างข้อมูลการย้าย**
2.  เลือกการตั้งค่าคอนฟิกรูปแบบ ER ที่ไม่สามารถดําเนินการหรือลบได้
3.  เลือก **ลบ**
4.  ยืนยันการลบการตั้งค่าคอนฟิกรูปแบบ ER ที่เลือก
5.  [นําเข้า](download-electronic-reporting-configuration-lcs.md) การตั้งค่าคอนฟิกรูปแบบ ER ที่ลบไปยังอินสแตนซ์ Finance ปัจจุบัน

## <a name="applicability"></a>การใช้งาน

> [สําคัญ] ตัวเลือก **การล้างข้อมูลการย้าย** ถูกกําหนดเป้าหมายเฉพาะสําหรับการตั้งค่าคอนฟิกรูปแบบ ER ที่ประกอบด้วยแม่แบบ ER ที่ไม่สามารถเข้าถึงได้เท่านั้น เมื่อคุณลบการตั้งค่าคอนฟิกรูปแบบ ER โดยใช้ตัวเลือก **การล้างข้อมูลการย้าย** ER ลบแม่แบบที่เกี่ยวข้องกับสิ่งประดิษฐ์การตั้งค่าคอนฟิกในฐานข้อมูลใบสมัครเท่านั้น การมีอยู่ของแฟ้มที่ตั้งจริงที่เหมาะสมในการจัดเก็บ Blob จะไม่ผ่านการตรวจสอบ แต่จะสันนิษฐานว่าไม่มีแทน ดังนั้น ไม่ใช้ตัวเลือก **การล้างข้อมูลการย้าย** เป็นทางเลือกสําหรับตัวเลือกการลบการตั้งค่าคอนฟิก ER บนหน้า **การตั้งค่าคอนฟิก** ใช้ตัวเลือก **การล้างข้อมูลการย้าย** เฉพาะเมื่อตัวเลือกการลบการตั้งค่าคอนฟิก ER บนหน้า **การตั้งค่าคอนฟิก** ล้มเหลว
>
> ถ้าคุณใช้ตัวเลือก **การล้างข้อมูลการย้าย** เพื่อลบการตั้งค่าคอนฟิกแม่แบบ ER เมื่อแม่แบบที่อ้างอิงถึงพร้อมใช้งานในการเก็บข้อมูล Blob คุณลบเฉพาะสิ่งประดิษฐ์การตั้งค่าคอนฟิกที่เกี่ยวข้องในฐานข้อมูลใบสมัครเท่านั้น แฟ้มที่มีอยู่จริงของแม่แบบในการจัดเก็บ Blob ยังคงอยู่ ไม่สามารถเขียนทับแฟ้มในที่เก็บข้อมูล Blob ได้อีกต่อไป สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [KB4557217](https://fix.lcs.dynamics.com/Issue/Details?kb=4557217) นอกจากนี้ คุณจะไม่สามารถนําเข้าการตั้งค่าคอนฟิกที่ถูกลบอีกครั้งโดยใช้การล้างข้อมูลการย้ายในสภาพแวดล้อมนี้ เมื่อต้องการแก้ไขปัญหานี้ คุณจําเป็นต้องค้นหาแฟ้มที่สอดคล้องกันในการจัดเก็บ Blob และลบด้วยตนเอง

[![การนำเข้ารูปแบบ ER](./media/er-migration-cleanup-import.png)](./media/er-migration-cleanup-import.png)

ปัญหาที่คล้ายกันอาจเกิดขึ้น ถ้าคุณย้ายอินสแตนซ์ของโปรแกรมประยุกต์ไปยังตําแหน่งที่ตั้งอื่นที่ถูกใช้เป็นเป้าหมายการย้ายมากกว่าหนึ่งครั้ง และที่เก็บข้อมูล Blob ประกอบด้วยแฟ้มแม่แบบ ER อยู่แล้ว

เนื่องจากคุณสามารถมีการตั้งค่าคอนฟิกกรอบงาน ER หลายรูปแบบ กระบวนการนี้อาจใช้เวลานาน ดังนั้น การใช้คุณลักษณะ [ที่เก็บสํารองของแม่แบบ ER](er-backup-storage-templates.md) เพื่อกู้คืนโดยอัตโนมัติแม่แบบที่มีการอ้างอิงที่ไม่ทำงานจึงเป็นที่ต้องการ


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]