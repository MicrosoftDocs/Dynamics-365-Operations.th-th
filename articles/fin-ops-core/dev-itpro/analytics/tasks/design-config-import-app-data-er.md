---
title: ออกแบบการตั้งค่าคอนฟิก ER เพื่อแยกวิเคราะห์เอกสารขาเข้า
description: กระบวนงานนี้แสดงวิธีการออกแบบการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) เพื่อแยกวิเคราะห์เอกสารอิเล็กทรอนิกส์ขาเข้า
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 446a4676ad00c93d691d3048408c32d7ad373d2d
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/05/2020
ms.locfileid: "4682104"
---
# <a name="design-er-configurations-to-parse-incoming-documents"></a>ออกแบบการตั้งค่าคอนฟิก ER เพื่อแยกวิเคราะห์เอกสารขาเข้า

[!include [banner](../../includes/banner.md)]

กระบวนงานนี้แสดงวิธีการออกแบบการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) เพื่อแยกวิเคราะห์เอกสารอิเล็กทรอนิกส์ขาเข้า ในกระบวนงานนี้ คุณจะนำเข้าการตั้งค่าคอนฟิก ER ที่กำหนดซึ่งได้ถูกสร้างขึ้นสำหรับบริษัทตัวอย่าง Litware, Inc. และใช้ในการแยกวิเคราะห์เอกสารทางอิเล็กทรอนิกส์ขาเข้า เพื่อทำขั้นตอนเหล่านี้ในกระบวนงานให้เสร็จสมบูรณ์ อันดับแรกคุณต้องทำกระบวนงาน "ER สร้างผู้ให้บริการการตั้งค่าคอนฟิก และทำเครื่องหมายเป็น ใช้งานอยู่" ให้เสร็จสมบูรณ์

กระบวนงานนี้ถูกสร้างขึ้นสำหรับผู้ใช้ที่มีบทบาทผู้ดูแลระบบหรือนักพัฒนาการรายงานทางอิเล็กทรอนิกส์ที่ได้รับมอบหมาย

ขั้นตอนเหล่านี้สามารถเสร็จสมบูรณ์ได้โดยใช้ชุดข้อมูลใดๆ ก่อนที่คุณจะเริ่มต้น ดาวน์โหลด และบันทึกแฟ้มที่แสดงรายการอยู่ในหัวข้อ "แยกวิเคราะห์เอกสารขาเข้าเพื่อปรับปรุงข้อมูลแอพลิเคชัน" ([แยกวิเคราะห์เอกสารที่กำลังจะมาถึง](../parse-incoming-electronic-documents.md)) แฟ้ม ได้แก่: EFSTA model.xml, EFSTA format.xml, Response1.xml, Response2.xml, Response3.xml, Response4.xml

1. ไปที่การจัดการองค์กร > พื้นที่ทำงาน > การรายงานทางอิเล็กทรอนิกส์
    * ตรวจสอบให้แน่ใจว่าผู้ให้บริการการตั้งค่าคอนฟิกสำหรับบริษัทตัวอย่าง Litware, Inc. พร้อมใช้งาน และทำเครื่องหมายเป็น ใช้งานอยู่ ถ้าคุณไม่เห็นผู้ให้บริการการตั้งค่าคอนฟิกนี้ จะต้องดำเนินขั้นตอนต่างๆ ในกระบวนงาน "สร้างผู้ให้บริการการตั้งค่าคอนฟิก และทำเครื่องหมายเป็น ใช้งานอยู่" ให้เสร็จสมบูรณ์
2. เลือก การตั้งค่าคอนฟิกการรายงาน
    * สถานการณ์ต่อไปนี้จะถูกใช้เพื่อแสดงความสามารถในการแยกวิเคราะห์เอกสารอิเล็กทรอนิกส์ขาเข้าในรูปแบบ XML: โปรแกรมประยุกต์ ERP ร้องขอข้อมูลจาก Web Service (เช่น บริการทางบัญชี [efsta](http://efsta.org/)) และแยกวิเคราะห์การตอบขาเข้าเพื่อปรับปรุงข้อมูลโปรแกรมประยุกต์ตามลำดับ สำหรับวิธีมีประสิทธิภาพมากที่สุดในการแยกวิเคราะห์ มีการใช้รูปแบบ ER เดียว แม้ว่าจะมีโครงสร้างที่แตกต่างกันของเอกสารขาเข้าที่คาดไว้ในรูปแบบ XML

## <a name="import-and-review-er-configurations"></a>นำเข้าและตรวจทานการตั้งค่าคอนฟิก ER

นำเข้าการตั้งค่าคอนฟิกแบบจำลอง ER ที่ประกอบด้วยรูปแบบจำลองข้อมูลตัวอย่างที่ออกแบบมาเพื่อจัดเก็บรายละเอียดเกี่ยวกับไฟล์ขาเข้า

1. เลือก แลกเปลี่ยน
2. เลือก โหลดจากไฟล์ XML
    * เลือก เรียกดู และเลือกไฟล์แบบจำลอง EFSTA.xml
3. เลือก ตกลง
4. ในแผนภูมิ เลือก 'แบบจำลอง EFSTA'
5. เลือก ตัวออกแบบ
    * ตรวจทานโครงสร้างของแบบจำลองข้อมูลที่นำเข้า การแจงนับ enumType ถูกกำหนดเพื่อจดจำประเภทของการตอบสนองชนิดของบริการต่อไปนี้: เพื่อรับการยืนยันเกี่ยวกับการส่งของธุรกรรม เพื่อรับข้อมูลเกี่ยวกับธุรกรรมล่าสุดที่ส่ง และเพื่อจดจำชนิดการตอบสนองที่ไม่สนับสนุน
6. ในแผนภูมิ ให้ขยาย 'การตอบสนอง'
    * มีการกำหนดรายการราก 'การตอบสนอง' เพื่อระบุชนิดของข้อมูลที่ต้องมาจากการตอบสนองบริการที่สนับสนุน เพื่อปรับปรุงข้อมูลแอพลิเคชันให้สอดคล้องกัน
7. ปิดหน้า
    * คุณจะนำเข้าการตั้งค่าคอนฟิกรูปแบบ ER ที่ระบุวิธีที่จะแยกวิเคราะห์เอกสารขาเข้าเพื่อจัดเก็บข้อมูลในแบบจำลองข้อมูล ER
8. เลือก แลกเปลี่ยน
9. เลือก โหลดจากไฟล์ XML
    * เลือก เรียกดู และเลือกไฟล์รูปแบบ EFSTA.xml
10. เลือก ตกลง
11. ในแผนภูมิ ขยาย 'แบบจำลอง EFSTA'
12. ในแผนภูมิ เลือก 'แบบจำลอง EFSTA\รูปแบบ EFSTA'
13. เลือก ตัวออกแบบ
14. เลือก ขยาย/ยุบ
    * องค์ประกอบรูปแบบ CASE ที่ใช้เป็นราก และประกอบด้วยองค์ประกอบไฟล์ที่ซ้อนกันสามรายการ ซึ่งหมายความว่า รูปแบบนี้ถูกออกแบบเพื่อแยกวิเคราะห์ไฟล์ขาเข้าของหลายรูปแบบ
15. ในแผนภูมิ เลือก 'การตอบสนอง\ความสมบูรณ์ของธุรกรรม\TraC'
    * การตอบสนองเกี่ยวกับธุรกรรมที่ส่งจะเริ่มต้นจากองค์ประกอบราก 'TraC'
16. ในแผนภูมิ เลือก 'การตอบสนอง\คำขอของธุรกรรมล่าสุด\Tra'
    * การตอบสนองเกี่ยวกับธุรกรรมที่ส่งสุดท้ายจะเริ่มต้นจากองค์ประกอบราก 'Era'
17. ในแผนภูมิ เลือก 'การตอบสนอง\การตอบสนองที่ไม่คาดคิด\ข้อความ'
    * มีการเพิ่มองค์ประกอบของ FILE ที่สามด้วยองค์ประกอบ TEXT ที่ซ้อนกัน เพื่อจดจำชนิดของการตอบสนองอื่นใดๆ ที่แตกต่างจากสิ่งที่กล่าวมาข้างต้น
18. เลือก แม็ปรูปแบบไปยังแบบจำลอง
    * การแม็ปแบบจำลองนี้ประกอบด้วยคำนิยามของโฟลว์ข้อมูล เพื่อจัดเก็บรายละเอียดของเอกสารขาเข้าที่แยกวิเคราะห์โดยใช้รายการของแบบจำลองข้อมูล
19. เลือก ตัวออกแบบ
20. ในแผนภูมิ ให้ขยาย 'รูปแบบ'
21. ในแผนภูมิ ขยาย 'รูปแบบ\การตอบสนอง: กรณี(การตอบสนอง)'
    * ตรวจทานโครงสร้างของแหล่งข้อมูล 'รูปแบบ' มีการเสนอการตอบสนองทั้งสามชนิดโดยแยกต่างหาก
22. ในแผนภูมิ เลือก 'รูปแบบ\การตอบสนอง: กรณี(การตอบสนอง)\aType'
    * รายการแหล่งที่มาข้อมูล 'aType' ได้ถูกเพิ่มเพื่อบ่งชี้ชนิดการตอบสนอง และถูกผูกกับรายการแบบจำลองข้อมูล 'ชนิด'
23. เลือกแท็บ การตรวจสอบ
24. ในแผนภูมิ เลือก 'พิมพ์ = format.Responses.aType'
    * มีการตั้งค่าคอนฟิกการตรวจสอบ ER เพื่อแจ้งผู้ใช้เกี่ยวกับสถานการณ์ เมื่อโครงสร้างการตอบสนองไม่ตรงกับการยืนยันเกี่ยวกับการส่งของธุรกรรม หรือข้อมูลเกี่ยวกับธุรกรรมที่ส่งล่าสุด (กรณีของการตอบสนองที่ไม่สนับสนุน)
25. ปิดหน้า

## <a name="run-model-mapping-of-er-format-configured-for-parsing-incoming-files"></a>รันการแม็ปรูปแบบของรูป ER ที่ตั้งค่าคอนฟิกสำหรับการแยกวิเคราะห์ไฟล์ขาเข้า

คุณจะรันการแม็ปแบบจำลองที่สร้างขึ้นเพื่อวัตถุประสงค์ในการทดสอบ เพื่อดูวิธีที่รูปแบบ ER ที่ถูกตั้งค่าคอนฟิกจะแยกวิเคราะห์การตอบสนองบริการขาเข้า ขั้นตอนนี้ใช้ไฟล์ XML ที่แตกต่างกันในการจำลองชนิดต่างๆ ของการตอบสนองบริการเว็บ

1. เปิดแฟ้ม Response1.xml ในตัวอ่าน xml เช่น เว็บเบราเซอร์ แฟ้มนี้ประกอบด้วยรายละเอียดการยืนยันเกี่ยวกับธุรกรรมที่เสร็จสมบูรณ์ ('TraC' คือ องค์ประกอบราก)
2. เลือก รัน
    * เลือก เรียกดู และเลือกไฟล์ Response1.xml
3. เลือก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  ชนิดของการตอบสนองได้รับการยอมรับและแยกวิเคราะห์อย่างถูกต้อง (`ERModelEnumDataSourceHandler#EFSTA model#enumType#C` หมายถึงกรณีความสมบูรณ์ของธุรกรรม)
    * เปิดแฟ้ม Response2.xml ในตัวอ่าน XML แฟ้มนี้ประกอบด้วยข้อมูลเกี่ยวกับธุรกรรมล่าสุดที่ส่ง (`Tra` คือ องค์ประกอบราก)
4. เลือก รัน
    * เลือก เรียกดู และเลือกไฟล์ Response2.xml
5. เลือก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  ชนิดของการตอบสนองได้รับการยอมรับและแยกวิเคราะห์อย่างถูกต้อง (`ERModelEnumDataSourceHandler#EFSTA model#enumType#R` หมายถึงกรณีการเริ่มต้นระบบใหม่)
    * เปิดแฟ้ม Response3.xml ในตัวอ่าน XML ไฟล์นี้เริ่มต้นจากรายการราก TraZ และโครงสร้างนี้ไม่ได้ถูกตั้งค่าคอนฟิกโดยใช้รูปแบบ ER
6. เลือก รัน
    * เลือก เรียกดู และเลือกไฟล์ Response3.xml
7. เลือก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  ชนิดของการตอบสนองได้รับการยอมรับอย่างถูกต้องเนื่องจากไม่ได้รับการสนับสนุน (`ERModelEnumDataSourceHandler#EFSTA model#enumType#U`) ข้อความที่สอดคล้องกันได้ถูกวางไว้ใน Infolog (ตามการตั้งค่าการตรวจสอบ ER) และแบบจำลองข้อมูลส่วนใหญ่ไม่ได้ถูกกรอกข้อมูล
    * เปิดแฟ้ม Response4.xml ในตัวอ่าน XML โครงสร้างของไฟล์นี้เกือบจะเหมือนกับ Response1.xml ที่มีการแยกวิเคราะห์เสร็จเรียบร้อยแล้ว ยกเว้นลำดับขององค์ประกอบที่ซ้อนกันขององค์ประกอบราก 'TraC'
8. เลือก รัน
    * เลือก เรียกดู และเลือกไฟล์ Response4.xml
9. เลือก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  ชนิดของการตอบสนองได้รับการยอมรับอย่างถูกต้องเนื่องจากไม่ได้รับการสนับสนุน (`ERModelEnumDataSourceHandler#EFSTA model#enumType#U`)) ข้อความที่สอดคล้องกันได้ถูกวางไว้ใน Infolog และแบบจำลองข้อมูลส่วนใหญ่ไม่ได้ถูกกรอกข้อมูล ลักษณะการทำงานนี้เนื่องจากการตั้งค่าปัจจุบันของรูปแบบ ER นี้ สันนิษฐานลำดับขององค์ประกอบที่ซ้อนกันของรายการรากของไฟล์ขาเข้า
10. ปิดหน้า
11. ในแผนภูมิ เลือก 'การตอบสนอง\ความสมบูรณ์ของธุรกรรม\TraC'
12. ในใบสั่งการแยกวิเคราะห์ขององค์ประกอบที่ซ้อนกันฟิลด์ เลือก 'ใดๆ'
    * เลือก ใดๆ ในฟิลด์ 'ลำดับการแยกวิเคราะห์ขององค์ประกอบที่ซ้อนกัน' เพื่ออนุญาตลำดับใดๆ ขององค์ประกอบที่ซ้อนกันสำหรับรายการ XML ของรากนี้
13. เลือก บันทึก
14. เลือก แม็ปรูปแบบไปยังแบบจำลอง
15. เลือก รัน
    * เลือก เรียกดู และเลือกไฟล์ Response4.xml
16. เลือก ตกลง
    * ตรวจทานผลลัพธ์ที่สร้างขึ้น  ตอนนี้ชนิดการตอบสนองได้ถูกจดจำอย่างถูกต้องว่าเท่ากัน สำหรับไฟล์ Response1.xml


[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]