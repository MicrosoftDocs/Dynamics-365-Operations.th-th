---
title: สร้างการตั้งค่าคอนฟิกที่จำเป็นต้องใช้เพื่อนำเข้าข้อมูลจากไฟล์ภายนอกของ ER
description: หัวข้อนี้อธิบายวิธีการออกแบบการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ เพื่อนำเข้าข้อมูลลงในแอป Microsoft Dynamics 365 Finance จากไฟล์ภายนอก
author: NickSelin
manager: AnnBe
ms.date: 08/29/2018
ms.topic: business-process
ms.prod: ''
ms.technology: ''
ms.search.form: DefaultDashboard, ERWorkspace, ERSolutionTable, ERDataModelDesigner, ERSolutionCreateDropDialog, EROperationDesigner, ERModelMappingTable, ERModelMappingDesigner, ERExpressionDesignerFormula, Tax1099Summary, VendSettlementTax1099
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 1b8a94173c7c5367b79bfcb354f0397515d94445
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 03/09/2021
ms.locfileid: "5564301"
---
# <a name="er-create-required-configurations-to-import-data-from-an-external-file"></a>สร้างการตั้งค่าคอนฟิกที่จำเป็นต้องใช้เพื่อนำเข้าข้อมูลจากไฟล์ภายนอกของ ER

[!include [banner](../../includes/banner.md)]

ขั้นตอนต่อไปนี้อธิบายวิธีที่ผู้ใช้ในบทบาทผู้ดูแลระบบ หรือนักพัฒนาการรายงานทางอิเล็กทรอนิกส์ สามารถออกแบบการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) ที่จะนำเข้าข้อมูลลงในแอพลิเคชันจากไฟล์ภายนอก ในตัวอย่างนี้ คุณจะสร้างการตั้งค่าคอนฟิก ER ที่จำเป็นสำหรับบริษัทตัวอย่าง Litware, Inc. เพื่อทำขั้นตอนเหล่านี้ให้เสร็จสมบูรณ์ อันดับแรกคุณต้องทำขั้นตอนในคู่มืองาน "ER สร้างผู้ให้บริการการตั้งค่าคอนฟิก และทำเครื่องหมายเป็น ใช้งานอยู่" ให้เสร็จสมบูรณ์ ขั้นตอนเหล่านี้สามารถเสร็จสมบูรณ์ได้โดยใช้ชุดข้อมูล USMF นอกจากนี้คุณจะต้องดาวน์โหลดและบันทึกไฟล์ต่อไปนี้ในเครื่อง โดยใช้ลิงค์จากหัวข้อภาพรวมการรายงานทางอิเล็กทรอนิกส์ (https://go.microsoft.com/fwlink/?linkid=852550): 1099model.xml, 1099format.xml, 1099entries.xml, 1099entries.xlsx

ER ทำให้ผู้ใช้ทางธุรกิจสามารถตั้งค่าคอนฟิกกระบวนการนำเข้าไฟล์ข้อมูลภายนอกไปยังตารางใน ในรูปแบบ .XML หรือ .TXT อย่างใดอย่างหนึ่ง ก่อนอื่น การตั้งค่าคอนฟิกแบบจำลองข้อมูลนามธรรมและแบบจำลองข้อมูล ER ต้องได้รับการออกแบบเพื่อแสดงถึงข้อมูลที่คุณกำลังนำเข้า ถัดไป คุณต้องกำหนดโครงสร้างของไฟล์ที่คุณกำลังนำเข้าและวิธีการที่คุณจะใช้เพื่อนำข้อมูลจากไฟล์ไปยังแบบจำลองข้อมูลนามธรรม ต้องสร้างการตั้งค่าคอนฟิกรูปแบบ ER ที่แม็ปไปยังแบบจำลองข้อมูลที่ได้รับการออกแบบมาสำหรับแบบจำลองข้อมูลนามธรรมนั้น จากนั้น ต้องขยายการตั้งค่าคอนฟิกแบบจำลองข้อมูลด้วยการแม็ปที่อธิบายว่า ข้อมูลที่นำเข้าจะยังคงเป็นแบบจำลองข้อมูลนามธรรมได้อย่างไร และถูกใช้เพื่ออัพเดตตารางใน อย่างไร  การตั้งค่าคอนฟิกแบบจำลองข้อมูล ER จะต้องผนวกกับการแม็ปแบบจำลองใหม่ที่อธิบายการเชื่อมโยงข้อมูลของแบบจำลองข้อมูลไปยังปลายทางของแอพลิเคชัน  

สถานการณ์จำลองต่อไปนี้แสดงความสามารถในการนำเข้าข้อมูล ER นี่รวมถึงธุรกรรมผู้จัดจำหน่ายที่มีการติดตามภายนอก และจากนั้น ถูกนำเข้าเพื่อที่จะรายงานในภายหลังในการชำระเงินของผู้จัดจำหน่ายสำหรับของ 1099   

## <a name="add-a-new-er-model-configuration"></a>เพิ่มการตั้งค่าคอนฟิกแบบจำลองของ ER ใหม่
1. ไปที่การจัดการองค์กร > พื้นที่ทำงาน > การรายงานทางอิเล็กทรอนิกส์

    ตรวจสอบว่าผู้ให้บริการการตั้งค่าคอนฟิกสำหรับบริษัทตัวอย่าง 'Litware, Inc.' พร้อมใช้งาน และทำเครื่องหมายเป็นใช้งานอยู่ ถ้าคุณไม่เห็นผู้ให้บริการการตั้งค่าคอนฟิกนี้ ก่อนอื่นคุณต้องดำเนินขั้นตอนต่างๆ ในกระบวนงาน "สร้างผู้ให้บริการการตั้งค่าคอนฟิก และทำเครื่องหมายเป็น ใช้งานอยู่" ให้เสร็จสมบูรณ์   

2. คลิก การตั้งค่าคอนฟิกการรายงาน

    แทนที่จะสร้างแบบจำลองใหม่เพื่อสนับสนุนการนำเข้าข้อมูล ให้โหลดไฟล์ 1099model.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้ ไฟล์นี้ประกอบด้วยแบบจำลองข้อมูลที่กำหนดเองของธุรกรรมของผู้จัดจำหน่าย แบบจำลองข้อมูลนี้ถูกแม็ปไปยังส่วนประกอบของข้อมูลที่อยู่ในเอนทิตีข้อมูล AOT   

3. คลิก แลกเปลี่ยน
4. คลิก โหลดจากไฟล์ XML

    คลิก เรียกดู และนำทางไปยังไฟล์ 1099model.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้  

5. คลิก ตกลง
6. ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099'

## <a name="review-data-model-settings"></a>ตรวจทานการตั้งค่าแบบจำลองข้อมูล
1. คลิก ตัวออกแบบ

    แบบจำลองนี้ได้รับการออกแบบมาเพื่อแสดงธุรกรรมของผู้จัดจำหน่ายจากจุดยืนทางธุรกิจ และจะแยกจากการใช้งาน   

2. ในแผนภูมิ ขยาย '1099-MISC'
3. ในแผนภูมิ ให้เลือก '1099-MISC\ธุรกรรม'
4. ในแผนภูมิ ขยาย '1099-MISC\ธุรกรรม'

    ธุรกรรมองค์ประกอบของแบบจำลองนี้แสดงถึงธุรกรรมแต่ละรายการ องค์ประกอบย่อยจะใช้เพื่อระบุรายละเอียดที่จำเป็น เช่น บัญชีผู้จัดจำหน่ายและวันที่ของธุรกรรม สำหรับแต่ละธุรกรรม   

5. ปิดหน้า

## <a name="add-a-new-er-format-configuration-that-supports-data-import"></a>เพิ่มการตั้งค่าคอนฟิกรูปแบบของ ER ใหม่ที่สนับสนุนการนำเข้าข้อมูล
ขั้นตอนต่างๆ ในงานย่อยนี้แสดงวิธีการสร้างการตั้งค่าคอนฟิกรูปแบบใหม่เพื่อจัดการการนำเข้าข้อมูลจากไฟล์ภายนอก   
1. คลิก สร้างการตั้งค่าคอนฟิก เพื่อเปิดกล่องโต้ตอบการวาง
2. ในฟิลด์ใหม่ ป้อน 'จัดรูปแบบตามแบบจำลองข้อมูล แบบจำลองการชำระเงิน 1099'
3. เลือก ใช่ ในฟิลด์สนับสนุนการนำเข้าข้อมูล
4. กดแป้น ESC เพื่อปิดหน้านี้

    แทนที่จะสร้างรูปแบบใหม่เพื่อสนับสนุนการนำเข้าข้อมูล ให้โหลดไฟล์ 1099format.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้ ไฟล์นี้ประกอบด้วยโครงสร้างของไฟล์ที่กำหนดที่คุณกำลังนำเข้า และการแม็ปของโครงสร้างไปยังแบบจำลองข้อมูลที่กำหนดเองของธุรกรรมของผู้จัดจำหน่าย   
5. คลิก แลกเปลี่ยน
6. คลิก โหลดจากไฟล์ XML
    คลิก เรียกดู และนำทางไปยังไฟล์ 1099format.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้  
7. คลิก ตกลง
8. ในแผนภูมิ ขยาย 'แบบจำลองการชำระเงิน 1099'
9. ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099\รูปแบบสำหรับนำเข้าธุรกรรมชองผู้จัดจำหน่าย'

## <a name="review-format-settings"></a>ตรวจทานการตั้งค่ารูปแบบ
1. คลิก ตัวออกแบบ
2. เปิด 'แสดงรายละเอียด'
3. คลิก ขยาย/ยุบ
4. คลิก ขยาย/ยุบ

    รูปแบบที่ได้รับการออกแบบแสดงถึงโครงสร้างของไฟล์ภายนอกที่คาดไว้ ไฟล์นี้ต้องอยู่ในรูปแบบ XML และมีองค์ประกอบรากของการชำระเงิน ธุรกรรมของผู้จัดจำหน่ายแต่ละรายการจะแสดงโดยองค์ประกอบของธุรกรรมที่มีกำหนดว่ามีความหลากหลายตั้งแต่ศูนย์ถึงหลายระดับ ซึ่งหมายความว่าไฟล์ขาเข้าอาจประกอบด้วยธุรกรรมศูนย์รายการจนถึงหลายรายการ องค์ประกอบที่ซ้อนกันขององค์ประกอบ 'ธุรกรรม' แสดงถึงแอททริบิวต์ของธุรกรรมเดียว โปรดทราบว่าแอททริบิวต์ทั้งหมด ยกเว้นประเทศ ถูกทำเครื่องหมายเป็นบังคับ ซึ่งหมายความว่าจำเป็นต้องมีรายการเหล่านั้นในไฟล์นำเข้า   

## <a name="review-the-settings-of-the-format-mapping-to-the-data-model"></a>ตรวจทานการตั้งค่าการแม็ปรูปแบบไปยังแบบจำลองข้อมูล
1. คลิก แม็ปรูปแบบไปยังแบบจำลอง

    การแม็ป 'สำหรับการนำเข้าธุรกรรมของผู้จัดจำหน่าย' ประกอบด้วย กฎการโอนย้ายข้อมูลจากไฟล์ XML ขาเข้าไปยังส่วนที่เลือกของแบบจำลองข้อมูลที่กำหนดเอง ซึ่งกำหนดโดยการเลือกคำนิยาม 1099-MISC  

2. คลิก ตัวออกแบบ
3. เปิด 'แสดงรายละเอียด'
4. ในแผนภูมิ ขยาย 'รูปแบบ: เรกคอร์ด'
5. ในแผนภูมิ ให้เลือก 'รูปแบบ: เรกคอร์ด'

    โปรดทราบว่ารูปแบบที่ได้รับการออกแบบมาจะแสดงอยู่ที่นี่โดยเป็นส่วนประกอบของแหล่งข้อมูล  

6. ในแผนภูมิ ให้ขยาย `format: Record\*settlement: XML Element 1..1 (settlement): Record`
7. ในแผนภูมิ ให้ขยาย `format: Record\*settlement: XML Element 1..1 (settlement): Record\transaction: XML Element 0..* (transaction): Record list`
8. ในแผนภูมิ ให้ขยาย `format: Record\*settlement: XML Element 1..1 (settlement): Record\transaction: XML Element 0..* (transaction): Record list\*vendor: XML Element 1..1 (vendor): Record`
9. ในแผนภูมิ ให้ขยาย `format: Record\*settlement: XML Element 1..1 (settlement): Record\transaction: XML Element 0..* (transaction): Record list\country: XML Element 0..1 (country): Record`
10. ในแผนภูมิ ให้เลือก `format: Record\*settlement: XML Element 1..1 (settlement): Record\transaction: XML Element 0..* (transaction): Record list\*vendor: XML Element 1..1 (vendor): Record`

    โปรดทราบว่า การแสดงองค์ประกอบรูปแบบที่บังคับและแบบไม่บังคับจะแตกต่างกันในส่วนประกอบของแหล่งข้อมูล 'รูปแบบ' ที่กำหนดไว้ล่วงหน้า  
11. ในแผนภูมิ ขยาย 'ธุรกรรม: รายการเรกคอร์ด= รูปแบบ.การชำระเงิน.'$enumerated''

    โปรดทราบว่าองค์ประกอบของรูปแบบที่กำหนดโครงสร้างของไฟล์นำเข้าจะถูกเชื่อมโยงข้อมูลกับองค์ประกอบของแบบจำลองข้อมูลที่กำหนดเอง เนื้อหาของไฟล์ XML ที่นำเข้าจะถูกจัดเก็บขณะรันไทม์ในแบบจำลองข้อมูลที่มีอยู่โดยขึ้นอยู่กับการเชื่อมโยงข้อมูลเหล่านี้ ให้ความสำคัญกับการเชื่อมโยงข้อมูลขององค์ประกอบประเทศ สำหรับองค์ประกอบของธุรกรรมใดๆ ในไฟล์ขาเข้าที่ไม่มีองค์ประกอบดังกล่าว ระบบจะเติมข้อมูลรหัสประเทศเริ่มต้น 'USA' ในแบบจำลองข้อมูล  

12. คลิกแท็บ การตรวจสอบความถูกต้อง

    การแม็ปรูปแบบนี้อาจประกอบด้วยตรรกะที่ผู้ใช้กำหนดเพื่อตรวจสอบความถูกต้องของข้อมูลที่นำเข้าจากจุดยืนทางธุรกิจ ตัวอย่างเช่น โดยขึ้นอยู่กับการตั้งค่า สำหรับธุรกรรมใดๆ ในไฟล์การนำเข้าที่ไม่มีรหัสประเทศที่กำหนดไว้ ข้อความเตือนจะถูกสร้างขึ้นใน Infolog ซึ่งจะแจ้งผู้ใช้เกี่ยวกับกรณี และระบุหมายเลขลำดับของธุรกรรมนั้นๆ  

13. ปิดหน้า

## <a name="run-the-format-mapping-to-the-data-model"></a>รันการแม็ปรูปแบบไปยังแบบจำลองข้อมูล
ดำเนินการแม็ปรูปแบบนี้เพื่อทำการทดสอบ ใช้ไฟล์ 1099entries.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้ คุณสามารถส่งออกไฟล์นี้จากสมุดงาน 1099entries.xlsx ที่ใช้ในการจัดการธุรกรรมของผู้จัดจำหน่าย เอาท์พุทที่สร้างขึ้นจะถูกนำเข้าจากไฟล์ XML ที่เลือก และเติมข้อมูลแบบจำลองข้อมูลที่กำหนดเองในขณะที่นำเข้าจริง  

1. คลิก เรียกใช้

    คลิก เรียกดู และนำทางไปยังไฟล์ 1099entries.xml ที่คุณดาวน์โหลดไว้ก่อนหน้านี้  

2. คลิก ตกลง

    สังเกตข้อความเตือนเกี่ยวกับรหัสประเทศที่ขาดหายไปสำหรับธุรกรรมในไฟล์ที่นำเข้า  
    
    ตรวจสอบเอาท์พุทในรูปแบบ XML ซึ่งแสดงข้อมูลที่นำเข้าจากไฟล์ที่เลือก และนำไปยังแบบจำลองข้อมูล   

3. ปิดหน้า
4. ปิดหน้า

## <a name="review-the-settings-for-the-model-mapping-to-the-destinations"></a>ตรวจทานการตั้งค่าสำหรับการแม็ปแบบจำลองไปยังปลายทาง
1. ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099'
2. คลิก ตัวออกแบบ
3. คลิก แม็ปแบบจำลองกับแหล่งข้อมูล

    การแม็ปสำหรับการนำเข้าธุรกรรมด้วยตนเอง 1099 ถูกกำหนดด้วยชนิดทิศทาง 'ไปยังปลายทาง' ซึ่งหมายความว่ามีการป้อนเพื่อสนับสนุนการนำเข้าข้อมูล และประกอบด้วยการตั้งค่าของกฎที่กำหนดวิธีการใช้ไฟล์ภายนอกที่นำเข้า และข้อมูลแบบจำลองข้อมูลที่ยังคงเป็นนามธรรมเพื่ออัพเดตตารางในแอพลิเคชัน  

4. คลิก ตัวออกแบบ
5. ในแผนภูมิ ขยาย 'แบบจำลอง: แบบจำลองข้อมูล 1099 แบบจำลองการชำระเงิน'
6. ในแผนภูมิ ขยาย 'แบบจำลอง: แบบจำลองข้อมูล 1099 แบบจำลองการชำระเงิน\ธุรกรรม: รายการเรกคอร์ด'

    โปรดทราบว่าแบบจำลองที่ได้รับการออกแบบมาจะแสดงอยู่ที่นี่โดยเป็นองค์ประกอบของแหล่งข้อมูล ขณะรันไทม์ จะประกอบด้วยข้อมูลที่นำเข้าจากไฟล์ภายนอก ตารางหลายตารางถูกเพิ่มเป็นองค์ประกอบแหล่งข้อมูลเพื่อให้แน่ใจว่าข้อมูลที่นำเข้าสอดคล้องกับข้อมูลของแอพลิเคชันปัจจุบัน ซึ่งรวมทั้งว่า บัญชีผู้จัดจำหน่ายธุรกรรมการนำเข้าพร้อมใช้งานในระบบหรือไม่ มีชุดข้อมูลของรหัสประเทศและรัฐที่นำเข้าหรือไม่ ฯลฯ  

7. ในแผนภูมิ ให้เลือก 'แบบจำลอง: แบบจำลองข้อมูล 1099 แบบจำลองการชำระเงิน\ธุรกรรม: รายการเรกคอร์ด\$ล้มเหลว: ฟิลด์ที่คำนวณได้ = IF(OR(ISEMPTY(model.Transactions.'$refs'.vendor), ISEMPTY(model.Transactions.'$refs'.vendor1099), ISEMPTY(model.Transactions.'$refs'.box1099), ISEMPTY(model.Transactions.'$refs'.country), ISEMPTY(model.Transactions.'$refs'.state), ISEMPTY(model.Transactions.'$refs'.location)), true, false): Boolean'
8. คลิก แก้ไข
9. คลิก แก้ไขสูตร

    เมื่อการตรวจสอบอย่างน้อยหนึ่งรายการล้มเหลวสำหรับธุรกรรมเดี่ยวที่นำเข้า ธุรกรรมนี้จะถูกทำเครื่องหมายเป็นล้มเหลวโดยแอททริบิวต์แหล่งข้อมูล '$failed'  

10. ปิดหน้า
11. คลิก ยกเลิก
12. ในแผนภูมิ ให้เลือก 'tax1099trans: ตาราง 'VendSettlementTax1099' เรกคอร์ด= แบบจำลอง.ตรวจสอบแล้ว'
13. คลิก แก้ไขปลายทาง

    ระบบจะเพิ่มปลายทาง ER นี้เพื่อระบุวิธีการที่ข้อมูลที่นำเข้าจะอัพเดตตารางแอพลิเคชัน ในกรณีนี้ มีการเลือกตารางข้อมูล VendSettlementTax1099 เนื่องจากมีการเลือกการดำเนินการเรกคอร์ด 'แทรก' ธุรกรรมที่นำเข้าจะถูกแทรกลงในตาราง VendSettlementTax1099 โปรดทราบว่าการแม็ปแบบจำลองเดียวอาจประกอบด้วยปลายทางหลายรายการ นี่หมายความว่าสามารถใช้ข้อมูลที่นำเข้าในการปรับปรุงตารางของแอพลิเคชันหลายรายการพร้อมกันได้ สามารถใช้เอนทิตี ตาราง มุมมอง และข้อมูล เป็นปลายทาง ER ได้   

    ถ้าการแม็ปจะถูกเรียกจากจุดหนึ่งในแอพลิเคชัน (เช่น ปุ่มหรือรายการเมนู) ที่ได้รับการออกแบบมาเฉพาะสำหรับการดำเนินการนี้ ปลายทาง ER ควรถูกทำเครื่องหมายเป็น จุดการรวม ในตัวอย่าง นี้คือจุด ERTableDestination#VendSettlementTax1099  

14. คลิก ยกเลิก
15. คลิก แสดงทั้งหมด
16. คลิก แสดงเฉพาะที่แม็ปเท่านั้น
17. ในแผนภูมิ ขยาย 'tax1099trans: ตาราง 'VendSettlementTax1099' เรกคอร์ด= แบบจำลอง.ตรวจสอบแล้ว'

    โปรดทราบว่าองค์ประกอบแหล่งข้อมูลที่มีธุรกรรมที่ได้รับการตรวจสอบความถูกต้องแล้วเพียงอย่างเดียว จะถูกเชื่อมโยงข้อมูลไปยังปลายทางที่สร้างขึ้น คุณสามารถกรองธุรกรรมที่นำเข้าเพื่อข้ามรายการที่ไม่เข้ากันกับข้อมูลของแอพลิเคชันได้  

18. ในแผนภูมิ ให้เลือก 'failed: ตาราง 'VendSettlementTax1099Entity' เรกคอร์ด= แบบจำลอง.ล้มเหลว'
19. คลิกแท็บ การตรวจสอบความถูกต้อง

    การแม็ปแบบจำลองนี้อาจประกอบด้วยตรรกะที่ผู้ใช้กำหนดเพื่อตรวจสอบความถูกต้องของข้อมูลที่นำเข้าจากข้อมูลแอพลิเคชันที่มีอยู่ ตัวอย่างเช่น สำหรับธุรกรรมใดๆ ในไฟล์ที่นำเข้าที่มีบัญชีผู้จัดจำหน่ายที่ไม่ได้อยู่ในระบบ ข้อความเตือนจะถูกสร้างขึ้นซึ่งจะแจ้งให้ผู้ใช้ทราบและระบุรหัสบัญชีผู้จัดจำหน่ายที่ไม่ถูกต้อง  

    โปรดทราบว่าตัวเลือกการดำเนินการ หลังการตรวจสอบความถูกต้อง สามารถใช้สำหรับการตรวจสอบความถูกต้องแต่ละครั้ง เพื่อระบุว่ากระบวนการนำเข้าต้องดำเนินต่อหรือหยุด และสามารถคงไว้หรือย้อนกลับการแทรก/การอัพเดตที่ดำเนินการแล้วได้หรือไม่  

20. คลิก แสดงเฉพาะที่แม็ปเท่านั้น
21. คลิก แสดงทั้งหมด
22. ปิดหน้า

    ดำเนินการแม็ปแบบจำลองนี้เพื่อทดสอบการแม็ปแบบจำลองและรูปแบบที่ได้รับการออกแบบมา ใช้ไฟล์ 1099entries.xml ข้อมูลจากไฟล์ที่เลือกจะถูกนำเข้าไปยังระบบ  

23. คลิก เรียกใช้

    โปรดทราบว่ากล่องโต้ตอบไม่มีคำถามเพิ่มเติมเกี่ยวกับการแม็ปรูปแบบที่จะต้องใช้ในการแยกวิเคราะห์ไฟล์ที่นำเข้า และนำข้อมูลไปยังแบบจำลองข้อมูล ทั้งนี้เนื่องจากในขณะนี้มีเพียงรูปแบบเดียวเท่านั้นที่ใช้แบบจำลองนี้ ซึ่งถูกทำเครื่องหมายเป็น ได้รับการออกแบบมาเพื่อสนับสนุนการนำเข้าข้อมูล  
    
    กำหนดรหัสใบสำคัญเพื่อแบ่งแยกธุรกรรมที่นำเข้าจากธุรกรรมอื่นๆ ที่อาจถูกป้อนด้วยตนเองหรือนำเข้าแล้ว  

24. ในฟิลด์ป้อนรหัสใบสำคัญ พิมพ์ 'IMPORT-001'

    เรียกดูเพื่อเรียกใช้ไฟล์ '1099entries.xml'  

25. คลิก ตกลง

    รายการคำเตือนที่สร้างแสดงข้อมูลเกี่ยวกับบัญชีผู้จัดจำหน่ายที่ไม่ถูกต้อง รหัสช่อง 1099 ภาษีที่ไม่ถูกต้อง รหัสประเทศที่ขาดหายไป ฯลฯ เปรียบเทียบรายการของคำเตือนกับเนื้อหาที่รวมอยู่ในไฟล์ XML การดำเนินการ  

26. ปิดหน้า
27. ปิดหน้า
28. ปิดหน้า
29. ปิดหน้า
30. ไปที่ บัญชีเจ้าหนี้ > งานประจำงวด > ภาษี 1099 > การชำระเงินให้แก่ผู้จัดจำหน่ายสำหรับ 1099

    แบบฟอร์มนี้แสดงธุรกรรมสะสมในตาราง Tax1099Summary ที่ได้สร้างขึ้นจากธุรกรรมที่นำเข้า  

31. ในฟิลด์วันที่เริ่มต้น ตั้งค่าวันที่เป็น ' 2000-01-01'
32. คลิก ธุรกรรม 1099 แบบกำหนดเอง

    แบบฟอร์มนี้ประกอบด้วยรายการของธุรกรรมที่ถูกเพิ่มด้วยตนเองและธุรกรรมที่เราเพิ่งนำเข้า  

33. เปิดตัวกรองคอลัมน์ ใบสำคัญ
34. ป้อนค่าตัวกรองของ "IMPORT-001" ในฟิลด์ "ใบสำคัญ" โดยใช้ตัวดำเนินการกรอง "ขึ้นต้นด้วย"

## <a name="review-the-relationship-between-model-and-format-mappings"></a>ตรวจทานความสัมพันธ์ระหว่างแบบจำลองและการแม็ปรูปแบบ
1. ปิดหน้า
2. ปิดหน้า
3. ไปที่การจัดการองค์กร > พื้นที่ทำงาน > การรายงานทางอิเล็กทรอนิกส์
4. คลิก การตั้งค่าคอนฟิกการรายงาน
5. ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099'

    สมมติว่าคุณต้องการสนับสนุนการนำเข้าข้อมูลเดียวกันแต่จากรูปแบบไฟล์ .TXT   

6. คลิก สร้างการตั้งค่าคอนฟิก เพื่อเปิดกล่องโต้ตอบ 
7. ในฟิลด์ใหม่ ป้อน 'จัดรูปแบบตามแบบจำลองข้อมูล แบบจำลองการชำระเงิน 1099'
8. ในฟิลด์ชื่อ ให้พิมพ์ 'นำเข้าข้อมูลจากไฟล์ TXT'
9. เลือก ใช่ ในฟิลด์สนับสนุนการนำเข้าข้อมูล
10. คลิก สร้างการตั้งค่าคอนฟิก
11. คลิก ตัวออกแบบ
12. คลิก แม็ปรูปแบบไปยังแบบจำลอง
13. คลิก สร้าง
14. ในฟิลด์ข้อกำหนด ให้ป้อนหรือเลือกค่าใดค่าหนึ่ง

    เลือกตัวเลือก '1099-MISC'  

15. ในฟิลด์ชื่อ ให้พิมพ์ 'นำเข้าข้อมูลจากไฟล์ TXT'
16. ในฟิลด์คำอธิบาย ให้พิมพ์ 'นำเข้าข้อมูลจากไฟล์ TXT'
17. คลิก บันทึก
18. ปิดหน้า
19. ปิดหน้า
20. คลิกแก้ไข

    ถ้าคุณติดตั้งโปรแกรมแก้ไขด่วน "KB 4012871 การสนับสนุนการแม็ปแบบจำลอง GER ในการตั้งค่าคอนฟิกที่แยกต่างหากด้วยความสามารถในการระบุชนิดที่แตกต่างกันของข้อกำหนดเบื้องต้นสำหรับการใช้ในรุ่นต่างๆ ของ Dynamics 365 Finance" ([KB 4012871](https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871)) ให้ดำเนินขั้นตอนถัดไป "เปิดแฟล็ก 'ค่าเริ่มต้นสำหรับการแม็ปแบบจำลอง'" สำหรับการตั้งค่าคอนฟิกรูปแบบที่ป้อน หรือข้ามขั้นตอนถัดไป  

21. เลือก ใช่ ในฟิลด์ ค่าเริ่มต้นสำหรับการแม็ปแบบจำลอง
22. ในแผนภูมิ ให้เลือก 'แบบจำลองการชำระเงิน 1099'
23. คลิก ตัวออกแบบ
24. คลิก แม็ปแบบจำลองกับแหล่งข้อมูล
25. คลิก เรียกใช้

    ถ้าคุณติดตั้งโปรแกรมแก้ไขด่วน KB 4012871 การสนับสนุนการแม็ปแบบจำลอง GER ในการตั้งค่าคอนฟิกที่แยกต่างหากพร้อมกับความสามารถในการระบุชนิดที่แตกต่างกันของข้อกำหนดเบื้องต้นสำหรับการใช้ในรุ่นต่าง ๆ ([KB 4012871](https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871)) ให้เลือกการแม็ปแบบจำลองที่ต้องการในฟิลด์การค้นหา ถ้าคุณยังไม่ได้ติดตั้งโปรแกรมแก้ไขด่วน ให้ข้ามไปยังขั้นตอนถัดไปเนื่องจากมีการเลือกการแม็ปแล้วตามคำนิยามของการตั้งค่าคอนฟิกรูปแบบเริ่มต้น  
    
    ถ้าคุณไม่ได้ติดตั้งโปรแกรมแก้ไขด่วน KB 4012871 ให้สังเกตว่ากล่องโต้ตอบประกอบด้วยคำถามการแม็ปที่มีแบบจำลองเพิ่มเติมที่จะใช้ในการแยกวิเคราะห์ไฟล์ที่คุณกำลังนำเข้า จากนั้นข้อมูลจะถูกนำจากกล่องโต้ตอบไปยังแบบจำลองข้อมูล ในปัจจุบันคุณสามารถเลือกว่าจะต้องใช้การแม็ปรูปแบบใด โดยขึ้นอยู่กับชนิดของไฟล์ที่คุณวางแผนที่จะนำเข้า  
    
    ถ้าคุณวางแผนที่จะเรียกการแม็ปแบบจำลองนี้จากจุดในแอพลิเคชันที่ได้รับการออกแบบมาสำหรับการดำเนินการโดยเฉพาะ ปลายทาง ER และการแม็ปรูปแบบจะต้องถูกทำเครื่องหมายเป็นส่วนหนึ่งของการรวม  

26. คลิก ยกเลิก
27. ปิดหน้า
28. ปิดหน้า



[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]