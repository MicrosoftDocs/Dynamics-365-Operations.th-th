---
title: แก้ไขแบบจำลองและการแมปเพื่อสร้างเอกสารที่มีข้อมูลแอพลิเคชัน
description: หัวข้อนี้อธิบายวิธีการออกแบบการตั้งค่าคอนฟิกการรายงาน เพื่อสร้างเอกสารอิเล็กทรอนิกส์ส์และอัพเดตข้อมูลแอพลิเคชัน (ส่วนที่ 2 - สร้างเอกสาร)
author: NickSelin
manager: AnnBe
ms.date: 06/19/2017
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 025429c8e6775d20634703853df04d63c0651b98
ms.sourcegitcommit: 5192cfaedfd861faea63d8954d7bcc500608a225
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 01/30/2021
ms.locfileid: "5092908"
---
# <a name="modify-models-and-mappings-to-generate-documents-that-have-application-data"></a>แก้ไขแบบจำลองและการแมปเพื่อสร้างเอกสารที่มีข้อมูลแอพลิเคชัน

[!include [banner](../../includes/banner.md)]

เมื่อต้องการทำขั้นตอนในกระบวนงานนี้ให้เสร็จเรียบร้อย ก่อนอื่นคุณต้องดำเนินกระบวนงาน “ER สร้างเอกสารที่มีการปรับปรุงข้อมูลแอพลิเคชัน (ส่วนที่ 2: สร้างเอกสาร)“ ให้เสร็จเรียบร้อย 

ขั้นตอนต่าง ๆ ในกระบวนงานนี้อธิบายวิธีการออกแบบการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) เพื่อสร้างเอกสารอิเล็กทรอนิกส์ส์และอัพเดตข้อมูลแอพลิเคชัน ในกระบวนงานนี้ คุณจะปรับเปลี่ยนการตั้งค่าคอนฟิก ER เพื่อเริ่มต้นการใช้งานเพื่อสร้างเอกสารอิเล็กทรอนิกส์ และอัพเดตข้อมูลแอพลิเคชัน กระบวนงานนี้ถูกสร้างขึ้นสำหรับผู้ใช้ที่มีบทบาทผู้ดูแลระบบหรือนักพัฒนาการรายงานทางอิเล็กทรอนิกส์ ขั้นตอนเหล่านี้สามารถเสร็จสมบูรณ์ได้โดยใช้ชุดข้อมูล DEMF


## <a name="modify-data-model"></a>ปรับเปลี่ยนแบบจำลองข้อมูล
1. ไปที่ การจัดการองค์กร > การรายงานทางอิเล็กทรอนิกส์ > การตั้งค่าคอนฟิก
2. ในแผนภูมิ เลือก 'อินทราสแทต (แบบจำลอง)'
    * คุณจะขยายวิธีใช้แบบจำลองข้อมูล นอกจากการใช้เป็นแหล่งข้อมูลในการสร้างรายงานอินทราสแทต จะมีการใช้แบบจำลองข้อมูลเพื่อรวบรวมรายละเอียดเกี่ยวกับกระบวนการการรายงานอินทราสแทต จากนั้นจะมีการใช้รายละเอียดเพื่ออัพเดตข้อมูลแอพลิเคชัน   
3. คลิก ตัวออกแบบ
4. คลิกที่สร้างเพื่อเปิดกล่องโต้ตอบการวาง
5. ในฟิลด์สร้างโหนดใหม่เป็น ให้ป้อน 'รากแบบจำลอง'
6. ในฟิลด์ชื่อ ให้พิมพ์ 'สำหรับการอัพเดตข้อมูลแอพลิเคชัน'
    * สำหรับการอัพเดตข้อมูลแอพลิเคชัน  
7. คลิก เพิ่ม
8. ในแผนภูมิ เลือก 'สำหรับการอัพเดตข้อมูลแอพลิเคชัน'
    * มีการเพิ่มรายการรากใหม่นี้เพื่อระบุลำดับข้อมูลสำหรับการย้ายข้อมูลจากรายงานอินทราสแทต (ซึ่งใช้เป็นแหล่งข้อมูล) ไปยังตารางแอพลิเคชัน (ปลายทางการอัพเดต) หมายเหตุว่าต้องใช้รายการรากที่แตกต่างกันสำหรับการเรียกข้อมูลที่มีการลงรายการบัญชีเอกสารขาออกและสำหรับการเรียกข้อมูลจากเอกสารที่ใช้เพื่ออัพเดตข้อมูลแอพลิเคชัน   
9. คลิกที่สร้างเพื่อเปิดกล่องโต้ตอบการวาง
10. ในฟิลด์ชื่อ ให้พิมพ์ 'ส่วนหัวที่เก็บถาวร'
    * ส่วนหัวที่เก็บถาวร  
11. ในฟิลด์ประเภทสินค้า ให้เลือก 'รายการบันทึก'
12. คลิก เพิ่ม
    * เนื่องจากคุณจะสร้างเรกคอร์ดสำหรับแต่ละรายงานอินทราสแทตที่ถูกสร้างขึ้น คุณจะต้องสร้างรายการใหม่สำหรับรายการดังกล่าว  
13. คลิกที่สร้างเพื่อเปิดกล่องโต้ตอบการวาง
14. ในฟิลด์ชื่อ ให้พิมพ์ 'ชื่อไฟล์'
    * ชื่อไฟล์  
15. ในฟิลด์ประเภทสินค้า ให้เลือก 'สตริง'
16. คลิก เพิ่ม
17. คลิกที่สร้างเพื่อเปิดกล่องโต้ตอบการวาง
18. ในฟิลด์ชื่อ ให้พิมพ์ 'จำนวนของรายการ'
    * จำนวนของรายการ  
19. ในฟิลด์ประเภทสินค้า ให้เลือก 'จำนวนเต็ม'
20. คลิก เพิ่ม
    * เพิ่มรายการนี้เพื่อแสดงหมายเลขของธุรกรรมอินทราสแทตที่ถูกรายงานในระหว่างกระบวนการรายงานปัจจุบัน  
21. คลิกที่สร้างเพื่อเปิดกล่องโต้ตอบการวาง
22. ในฟิลด์ชื่อ ให้พิมพ์ 'รายการที่เก็บถาวร'
    * รายการที่เก็บถาวร  
23. ในฟิลด์ประเภทสินค้า ให้เลือก 'รายการบันทึก'
24. คลิก เพิ่ม
    * เพิ่มรายการนี้เพื่อแสดงรายการของธุรกรรมอินทราสแทตที่ถูกรายงานในระหว่างกระบวนการรายงานปัจจุบัน  
25. คลิกที่สร้างเพื่อเปิดกล่องโต้ตอบการวาง
26. ในฟิลด์ชื่อ พิมพ์ 'จำนวน'
    * จำนวนเงิน  
27. ในฟิลด์ประเภทสินค้า ให้เลือก 'จำนวนจริง'
28. คลิก เพิ่ม
29. คลิกที่สร้างเพื่อเปิดกล่องโต้ตอบการวาง
30. ในฟิลด์ชื่อ พิมพ์ 'รหัสเรกคอร์ดโภคภัณฑ์'
    * รหัสเรกคอร์ดโภคภัณฑ์  
31. ในฟิลด์ประเภทสินค้า ให้เลือก 'Int64'
32. คลิก เพิ่ม
33. คลิกที่สร้างเพื่อเปิดกล่องโต้ตอบการวาง
34. ในฟิลด์ชื่อ ให้พิมพ์ 'หมายเลขสินค้า'
    * หมายเลขสินค้า  
35. ในฟิลด์ประเภทสินค้า ให้เลือก 'สตริง'
36. คลิก เพิ่ม
37. คลิก บันทึก
38. ปิดหน้า

## <a name="modify-model-mapping"></a>ปรับปรุงการแม็ปแบบจำลอง
1. ในแผนภูมิ ขยาย 'อินทราสแทต (แบบจำลอง)'
2. ในแผนภูมิ เลือก 'อินทราสแทต (แบบจำลอง)\อินทราสแทต (การแม็ป)'
    * ปรับเปลี่ยนการแม็ปแบบจำลองที่มีอยู่เพื่อเริ่มต้นการใช้สำหรับการอัพเดตข้อมูลแอพลิเคชัน และเพื่อเก็บรายละเอียดการรายงานอินทราสแทตถาวร  
3. คลิก ตัวออกแบบ
4. คลิก สร้าง
5. ในฟิลด์ชื่อ ให้พิมพ์ 'อัพเดตที่เก็บถาวร'
    * อัพเดตที่เก็บถาวร  
6. ในฟิลด์ทิศทาง ให้เลือก 'ไปยังปลายทาง'
7. คลิก บันทึก
    * การแม็ปใหม่นี้จะระบุลำดับข้อมูลสำหรับการย้ายข้อมูล (รายละเอียดการรายงานอินทราสแทต) จากแบบจำลองข้อมูลไปยังตารางแอพลิเคชัน (ปลายทางการอัพเดต) หมายเหตุว่าต้องใช้รายการรากของแบบจำลองที่แตกต่างกันเพื่อเรียกข้อมูลจากแอพลิเคชันสำหรับกระบวนการรายงาน แล้วจึงใช้ข้อมูลจากแบบจำลองข้อมูลสำหรับการปรับปรุงข้อมูลแอพลิเคชัน   
8. คลิก ตัวออกแบบ
9. ในแผนภูมิ เลือก 'แบบจำลองข้อมูล\แบบจำลองข้อมูล'
    * เพิ่มแหล่งข้อมูลที่กำหนด นี่คือแบบจำลองข้อมูลที่ประกอบด้วยรายละเอียดเกี่ยวกับธุรกรรมอินทราสแทตที่รายงานที่จะต้องถูกเก็บไว้ถาวร  
10. คลิก เพิ่มราก
11. ในฟิลด์ชื่อ พิมพ์ 'แบบจำลอง'
    * แบบจำลอง  
12. ในฟิลด์คำนิยาม ป้อนหรือเลือกค่า 'สำหรับการปรับปรุงข้อมูลแอพลิเคชัน'
    * สำหรับการอัพเดตข้อมูลแอพลิเคชัน  
13. คลิก ตกลง 
14. ในแผนภูมิ ให้ขยาย 'model'
15. ในแผนภูมิ เลือก 'ฟิลด์ที่คำนวณ\ฟังก์ชันได้'
16. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร'
17. คลิก เพิ่ม
    * เนื่องจากคุณต้องการระบุธุรกรรมอินทราสแทตที่มีการรายงานสำหรับการเก็บถาวร คุณจะต้องเพิ่มแหล่งข้อมูลที่เหมาะสม  
18. ในฟิลด์ชื่อ ให้พิมพ์ 'รายการที่ระบุ'
    * รายการที่ระบุ  
19. คลิก แก้ไขสูตร
20. ในแผนภูมิ ให้เลือก 'รายการ\แจงนับ'
21. คลิก เพิ่มฟังก์ชัน
22. ในแผนภูมิ ให้ขยาย 'model'
23. ในแผนภูมิ ให้ขยาย 'แบบจำลอง\ส่วนหัวที่เก็บถาวร'
24. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\รายการที่เก็บถาวร'
25. คลิก เพิ่มแหล่งข้อมูล
26. ในฟิลด์สูตร ให้ป้อน 'ENUMERATE(model.'Archive header'.'Archive lines')'
    * แจงนับ (แบบจำลอง 'ส่วนหัวที่เก็บถาวร' 'รายการที่เก็บถาวร')  
27. คลิก บันทึก
28. ปิดหน้า
29. คลิก ตกลง
30. คลิก เพิ่มปลายทาง
    * เพิ่มตารางแอพลิเคชันเป็นปลายทางจำเป็นที่จำเป็นต้องอัพเดตเพื่อเก็บถาวรรายละเอียดของธุรกรรมอินทราสแทตที่มีการรายงาน  
31. ในฟิลด์ชื่อ ให้พิมพ์ 'ที่เก็บถาวร'
    * เก็บถาวร  
32. ในฟิลด์ชื่อตาราง ให้พิมพ์ 'IntrastatArchiveGeneral'
    * IntrastatArchiveGeneral  
    * รักษาการดำเนินการเรกคอร์ด 'แทรก' เพื่อให้คุณสามารถเพิ่มเรกคอร์ดในระหว่างการเก็บรายละเอียดของแต่ละกระบวนการรายงานอินทราสแทตโดยถาวร  
33. เลือก ใช่ ในฟิลด์ infolog เรกคอร์ด
    * เลือก ใช่ เพื่อเรียกดูข้อมูลของปัญหาเกี่ยวกับการอัพเดตข้อมูลแอพลิเคชัน  
34. เลือก ใช่ ในฟิลด์ ข้ามการตรวจสอบความถูกต้องในการดำเนินการเรกคอร์ด
    * เลือก ใช่ เพื่อระงับข้อผิดพลาดเกี่ยวกับการตรวจสอบความถูกต้องเกี่ยวกับฟิลด์ 'รหัสที่เก็บถาวรของอินทราสแทต' ที่ว่างเปล่า ซึ่งจะสามารถทำได้หลังจากที่มีการเพิ่มเรกคอร์ดตามการตั้งค่าหมายเลขลำดับที่ถูกตั้งค่าคอนฟิกสำหรับตารางนี้ในแบบฟอร์มพารามิเตอร์การค้าต่างประเทศ  
35. คลิก ตกลง
    * ผูกองค์ประกอบของแหล่งข้อมูลที่เพิ่มเข้ามา (แบบจำลองที่มีการกรองข้อมูลตามรายการรากที่เลือก) ด้วยองค์ประกอบจากปลายทางที่เพิ่ม  
36. ในแผนภูมิ ให้ขยาย 'ที่เก็บถาวระ'
37. ในแผนภูมิ ให้ขยาย 'ที่เก็บถาวร\<ความสัมพันธ์'
38. ในแผนภูมิ ขยาย 'ที่เก็บถาวร\<ความสัมพันธ์IntrastatArchiveDetail'
39. ในแผนภูมิ ให้เลือก 'ที่เก็บถาวร\<ความสัมพันธ์IntrastatArchiveDetailAmount(AmountMST)'
40. ในแผนภูมิ ให้ขยาย 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\รายการที่ระบุ'
41. ในแผนภูมิ ให้ขยาย 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\รายการที่ระบุ\ค่า'
42. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\รายการที่ระบุ\ค่า\ยอดเงิน'
43. คลิก ผูก
44. ในแผนภูมิ ให้เลือก 'ที่เก็บถาวร\<ความสัมพันธ์IntrastatArchiveDetailCommodity(IntrastatCommodity)'
45. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\รายการที่ระบุค่า\รหัสเรกคอร์ดโภคภัณฑ์'
46. คลิก ผูก
47. ในแผนภูมิ ให้เลือก 'ที่เก็บถาวร\<ความสัมพันธ์IntrastatArchiveDetailItem number(ItemId)'
48. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\รายการที่ระบุ\ค่า\หมายเลขสินค้า'
49. คลิก ผูก
50. ในแผนภูมิ ให้เลือก 'ที่เก็บถาวร\<ความสัมพันธ์IntrastatArchiveDetailLine number(LineNumber)'
51. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\รายการที่ระบุ\หมายเลข'
52. คลิก ผูก
53. ในแผนภูมิ ให้เลือก 'ที่เก็บถาวร\<ความสัมพันธ์IntrastatArchiveDetail'
54. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\รายการที่ระบุ'
55. คลิก ผูก
56. ในแผนภูมิ ให้เลือก 'ที่เก็บถาวร\ชื่อไฟล์(FileName)'
57. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\ชื่อไฟล์'
58. คลิก ผูก
59. ในแผนภูมิ ให้เลือก 'ที่เก็บถาวร\จำนวนของรายการ(NumberOfLines)'
60. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร\จำนวนของรายการ'
61. คลิก ผูก
62. ในแผนภูมิ ให้เลือก 'ที่เก็บถาวร'
63. ในแผนภูมิ ให้เลือก 'แบบจำลอง\ส่วนหัวที่เก็บถาวร'
64. คลิก ผูก
65. คลิก บันทึก
66. ปิดหน้า
67. ปิดหน้า

