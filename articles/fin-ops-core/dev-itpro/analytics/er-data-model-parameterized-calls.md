---
title: สนับสนุนการเรียกแบบพารามิเตอร์ของแบบจำลองข้อมูล ER
description: บทความนี้อธิบายวิธีการใช้การเรียกแบบพารามิเตอร์ของแบบจำลองข้อมูลการรายงานทางอิเล็กทรอนิกส์ (ER)
author: kfend
ms.date: 03/14/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.region: Global
ms.author: filatovm
ms.search.validFrom: 2020-10-01
ms.dyn365.ops.version: 10.0.15
ms.custom: ''
ms.assetid: ''
ms.search.form: ERModelMappingDesigner, EROperationDesigner, ERExpressionDesignerFormula, ERDataModelDesigner
ms.openlocfilehash: 5be189c19d963991ec012de189bbf7b721b88fef
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/12/2022
ms.locfileid: "9276002"
---
# <a name="support-parameterized-calls-of-er-data-models"></a>สนับสนุนการเรียกแบบพารามิเตอร์ของแบบจำลองข้อมูล ER

[!include [banner](../includes/banner.md)]

เมื่อต้องการสร้างเอกสารทางธุรกิจ ให้คุณตั้งค่าคอนฟิกโซลูชัน [การรายงานทางอิเล็กทรอนิกส์ (ER)](general-electronic-reporting.md) ที่มีส่วนประกอบ ER ต่อไปนี้

- **[รูปแบบ](er-overview-components.md#format-component)** – ส่วนประกอบนี้ระบุโครงสร้างของเอกสารทางธุรกิจ
- **การแมปรูปแบบ** – ส่วนประกอบนี้จะควบคุมวิธีการกรอกข้อมูลเอกสารทางธุรกิจขณะรันไทม์
- **[การแมปแบบจำลอง](er-overview-components.md#model-mapping-component)** – ส่วนประกอบนี้จะระบุว่าจะดึงข้อมูลใดจากแอปพลิเคชันมาไว้ในการแมปรูปแบบ
- **[แบบจำลองข้อมูล](er-overview-components.md#data-model-component)** – ส่วนประกอบนี้จะส่งผ่านข้อมูลระหว่างแต่ละส่วนประกอบ

เมื่อคุณเรียกใช้รูปแบบการรายงานทางอิเล็กทรอนิกส์ ทุกองค์ประกอบรูปแบบจะทำงาน โดยเริ่มต้นจากองค์ประกอบรูปแบบราก ทุกครั้งที่องค์ประกอบรูปแบบที่ทำงานมีการผูกกับ [แหล่งข้อมูล](general-electronic-reporting.md#configuring-data-model-mappings-for-outgoing-documents) แหล่งข้อมูลนั้นจะทำงานเพื่อจัดส่งข้อมูลที่คาดไว้และใช้ข้อมูลนั้นเพื่อเติมข้อมูลในองค์ประกอบรูปแบบ เมื่อเรียกแหล่งข้อมูลชนิด *แบบจำลอง* การแมปแบบจำลองที่เหมาะสมจะถูกเรียกเพื่อดึงข้อมูลออกจากแอปพลิเคชัน ตามการตั้งค่าการแมปแบบจำลอง

ก่อนหน้านี้ ไม่สามารถตั้งค่าพารามิเตอร์การเรียกการแมปแบบจำลองเหล่านี้เพื่อทำให้ขึ้นอยู่กับตรรกะของรูปแบบที่เรียกใช้ได้ โดยจะสนับสนุนเฉพาะกระแสข้อมูลต่อไปนี้เท่านั้น

<table>
<tbody>
<tr align="center">
<td>
<b>รูปแบบ</b><br>
องค์ประกอบ&nbsp;รูปแบบ<br>
&nbsp;
</td>
<td>
<i>การผูก</i><br>
&gt;&nbsp;คำขอ&nbsp;&gt;<br>
&lt;&nbsp;ค่า&nbsp;&lt;
</td>
<td><b>การแมป&nbsp;รูปแบบ</b><br>
แหล่งข้อมูล<br>
&nbsp;
</td>
<td>
<i>แบบจำลอง&nbsp;ข้อมูล</i><br>
&gt;&nbsp;คำขอ&nbsp;&gt;<br>
&lt;&nbsp;ค่า&nbsp;&lt;
</td>
<td>
<b>การแมป&nbsp;แบบจำลอง</b><br>
แหล่ง&nbsp;ข้อมูล<br>
&nbsp;
</td>
<td>
<i>การผูก</i><br>
&gt;&nbsp;คำขอ&nbsp;&gt;<br>
&lt;&nbsp;ค่า&nbsp;&lt;
</td>
<td>
<b>ตาราง</b><br>
เรกคอร์ด<br>
ฟิลด์
</td>
</tr>
</tbody>
</table>

อย่างไรก็ตาม ในรุ่น10.0.15 และใหม่กว่า คุณสามารถตั้งค่าคอนฟิกฟิลด์แบบจำลองข้อมูลที่สามารถเรียกได้เฉพาะเมื่อมีการระบุค่าของพารามิเตอร์ที่ตั้งค่าคอนฟิกเท่านั้น เมื่อตั้งค่าคอนฟิกและเรียกฟิลด์ดังกล่าวจากส่วนประกอบรูปแบบ พารามิเตอร์ที่กําหนดต้องระบุในรูปแบบการผูกข้อมูลเป็นอาร์กิวเมนต์ของการเรียก ในกรณีนี้ คุณสามารถระบุค่าของอาร์กิวเมนต์ได้ตามค่าเฉพาะรูปแบบ ดังนั้นคุณจึงสามารถใช้ **dynamic runtime parametrization** ในการเรียกแบบจำลองข้อมูลเพื่อรองรับกระแสข้อมูลต่อไปนี้

<table>
<tbody>
<tr align="center">
<td>
<b>รูปแบบ</b><br>
องค์ประกอบ&nbsp;รูปแบบ&nbsp;1<br>
<br>
องค์ประกอบ&nbsp;รูปแบบ&nbsp;2<br>
&nbsp;<br>
&nbsp;
</td>
<td>
<i>การผูก</i><br>
&gt;&nbsp;คำขอ&nbsp;1&nbsp;&gt;<br>
&lt;&nbsp;ค่า&nbsp;1&nbsp;&lt;<br>
&gt;&nbsp;คำขอ&nbsp;2&nbsp;&gt;<br>
&lt;&nbsp;ค่า&nbsp;3&nbsp;&lt;<br>
&nbsp;
</td>
<td>
<b>การแมป&nbsp;รูปแบบ</b><br>
แหล่ง&nbsp;ข้อมูล&nbsp;1<br>
&nbsp;<br>
<b>value2=Func(value1)</b><br>
&nbsp;<br>
&nbsp;
</td>
<td>
<i>แบบจำลอง&nbsp;ข้อมูล</i><br>
&gt;&nbsp;field1&nbsp;&gt;<br>
&lt;&nbsp;ค่า&nbsp;1&nbsp;&lt;<br>
<b>&gt;&nbsp;field2(value2)&nbsp;&gt;</b><br>
&lt;&nbsp;ค่า&nbsp;3&nbsp;&lt;<br>
&nbsp;
</td>
<td>
<b>การแมป&nbsp;แบบจำลอง</b><br>
แหล่ง&nbsp;ข้อมูล&nbsp;1<br>
<br>
แหล่ง&nbsp;ข้อมูล&nbsp;2<br>
&nbsp;<br>
&nbsp;
</td>
<td>
<i>การผูก</i><br>
&gt;&nbsp;คำขอ&nbsp;1&nbsp;&gt;<br>
&lt;&nbsp;ค่า&nbsp;1&nbsp;&lt;<br>
&gt;&nbsp;คำขอ&nbsp;2&nbsp;&gt;<br>
&lt;&nbsp;ค่า&nbsp;3&nbsp;&lt;<br>
&nbsp;
</td>
<td>
<b>ตาราง&nbsp;1</b><br>
เรกคอร์ด&nbsp;1<br>
ฟิลด์&nbsp;1<br>
<b>ตาราง&nbsp;2</b><br>
เรกคอร์ด&nbsp;2<br>
ฟิลด์&nbsp;2
</td>
</tr>
</tbody>
</table>

ฟังก์ชันใหม่ช่วยให้คุณสามารถตั้งค่าพารามิเตอร์การเรียกไปยังฟิลด์แบบจำลองข้อมูลใดๆ ของชนิด [*เรกคอร์ด*](er-formula-supported-data-types-composite.md#record) หรือ [*รายการเรกคอร์ด*](er-formula-supported-data-types-composite.md#record-list) ได้ ชนิดข้อมูลต่อไปนี้ได้รับการสนับสนุนสำหรับพารามิเตอร์ของฟิลด์แบบจำลองข้อมูล

- [บูลีน](er-formula-supported-data-types-primitive.md#boolean)
- [ตู้บรรจุสินค้า](er-formula-supported-data-types-composite.md#container)
- [วัน เดือน](er-formula-supported-data-types-primitive.md#date)
- [วันที่และเวลา](er-formula-supported-data-types-primitive.md#datetime)
- [GUID](er-formula-supported-data-types-primitive.md#guid)
- [Int64](er-formula-supported-data-types-primitive.md#int64)
- [เลขจำนวนเต็ม](er-formula-supported-data-types-primitive.md#integer)
- [จำนวนจริง](er-formula-supported-data-types-primitive.md#real)
- [สตริง](er-formula-supported-data-types-primitive.md#string)

คุณสามารถระบุพารามิเตอร์ทั้งหมดของฟิลด์แบบจำลองข้อมูล ซึ่งสามารถให้อาร์กิวเมนต์เป็นค่าเดียวของชนิดข้อมูลที่กําหนดและ [*รายการ*](er-formula-supported-data-types-composite.md#record-list) ของค่าดังกล่าว

> [!NOTE]
> ค่าเริ่มต้นของพารามิเตอร์ของฟิลด์แบบจำลองข้อมูลไม่ได้รับการสนับสนุน ถ้าคุณเพิ่มพารามิเตอร์ลงในฟิลด์ของแบบจำลองข้อมูล และรุ่นของแบบจำลองข้อมูลนั้นมีการนำออกใช้และเผยแพร่แล้ว คุณต้อง [ปรับใช้ซ้ำ](general-electronic-reporting.md#upgrading-a-format-selecting-a-new-version-of-base-format-rebase) การแมปแบบจำลองและรูปแบบที่เกี่ยวข้องทั้งหมดกับแบบจำลองรุ่นใหม่นี้ เนื่องจากการเปลี่ยนแปลงแบบจำลองข้อมูลนี้ใช้ไม่ได้กับรุ่นที่เก่ากว่า

คุณสามารถตั้งค่าคอนฟิกฟิลด์แบบจำลองข้อมูลที่เป็นพารามิเตอร์เพื่อเรียกการแมปแบบจำลองเฉพาะรูปแบบได้ วิธีการนี้สามารถช่วยคุณลดจำนวนการแมปแบบจำลองที่ต้องตั้งค่าคอนฟิกสำหรับหลายรูปแบบของแบบจำลองข้อมูลเดียว คุณยังสามารถใช้วิธีการนี้เพื่อปรับปรุงประสิทธิภาพการดำเนินการของรูปแบบของคุณ และลดเวลาที่ต้องใช้ในการสร้างเอกสารทางธุรกิจ เมื่อต้องการเรียนรู้เพิ่มเติมเกี่ยวกับคุณลักษณะนี้ ให้ดำเนินการตัวอย่างในบทความนี้ให้เสร็จสมบูรณ์

## <a name="example-use-parameterized-calls-of-er-data-models"></a>ตัวอย่าง: ใช้การเรียกแบบพารามิเตอร์ของแบบจำลองข้อมูล ER

ขั้นตอนต่อไปนี้อธิบายวิธีการที่ผู้ใช้ในบทบาทผู้ดูแลระบบหรือนักพัฒนาการรายงานทางอิเล็กทรอนิกส์สามารถออกแบบโซลูชัน ER ที่มีแบบจำลองข้อมูล การแมปแบบจำลอง และส่วนประกอบ ER ในรูปแบบที่มีการตั้งค่าคอนฟิกให้เรียกการแมปแบบจำลองจากรูปแบบโดยการกำหนดอาร์กิวเมนต์ให้กับการเรียก ค่าของการคํานวณเมื่อรันไทม์โดยใช้สูตรของรูปแบบที่ทำงานอยู่ 

คุณสามารถดำเนินการขั้นตอนเหล่านี้ได้ในบริษัท **DEMF** ไม่ต้องมีการแก้ไขโค้ด 

ในตัวอย่างนี้ คุณจะสร้าง [การตั้งค่าคอนฟิก](general-electronic-reporting.md#Configuration) ER สำหรับบริษัทตัวอย่าง **Litware, Inc.** ตรวจสอบให้แน่ใจว่าตัวให้บริการการตั้งค่าคอนฟิกสำหรับบริษัทตัวอย่าง **Litware, Inc.** (`http://www.litware.com`) แสดงสำหรับกรอบงาน ER และได้รับการระบุว่า **ใช้งานอยู่** ถ้าตัวให้บริการการตั้งค่าคอนฟิกนี้ไม่มีอยู่ในรายการหรือถ้าไม่ได้ทำเครื่องหมายเป็น **ใช้งานอยู่** ให้ทำตามขั้นตอนในหัวข้อ [สร้างตัวให้บริการการตั้งค่าคอนฟิกและทำเครื่องหมายเป็นใช้งานอยู่](tasks/er-configuration-provider-mark-it-active-2016-11.md)

### <a name="business-scenario"></a>สถานการณ์จำลองทางธุรกิจ

คุณมีโซลูชัน ER ที่มีรูปแบบที่คุณสามารถเรียกใช้เพื่อสร้างเอกสารอิเล็กทรอนิกส์สำหรับวัตถุประสงค์การตรวจสอบ รูปแบบนี้ประกอบด้วยธุรกรรมภาษีที่เกี่ยวข้องกับใบสั่งขายและใบสั่งซื้อ และมีรายละเอียดที่ต้องใช้ เช่น วันที่ของธุรกรรมและมูลค่าภาษี ในปีบัญชีใหม่ โครงสร้างของเอกสารนี้มีการเปลี่ยนแปลง ตอนนี้คุณต้องส่งเอกสารเพิ่มเติมที่รวมรายละเอียดเพิ่มเติม (ชื่อ) ของฝ่ายทั้งหมด (ลูกค้าและผู้จัดจำหน่าย) ซึ่งมีการแสดงธุรกรรมในรายงานที่สร้างขึ้น ดังนั้นคุณจึงต้องแก้ไขโซลูชัน ER ของคุณเพื่อให้สร้างเอกสารที่เป็นไปตามข้อกําหนดใหม่นี้

### <a name="configure-the-er-framework"></a>ตั้งค่าคอนฟิกกรอบงาน ER

ปฏิบัติตามขั้นตอนใน [ตั้งค่าคอนฟิกกรอบงาน ER](er-quick-start2-customize-report.md#ConfigureFramework) เพื่อตั้งค่าชุดที่น้อยที่สุดของพารามิเตอร์ ER คุณต้องเสร็จสิ้นการตั้งค่านี้ก่อนที่คุณจะเริ่มใช้กรอบงาน ER เพื่อออกแบบโซลูชัน ER ใหม่

### <a name="design-a-domain-specific-data-model"></a>ออกแบบรูปแบบข้อมูลเฉพาะโดเมน

คุณต้องสร้างการตั้งค่าคอนฟิก ER ใหม่ที่มีส่วนประกอบแบบจำลองข้อมูลที่จำเป็น แบบจำลองข้อมูลนี้จะใช้เป็นแหล่งข้อมูลในภายหลังเมื่อคุณออกแบบรูปแบบ ER เพื่อสร้างรายงานการตรวจสอบ

ปฏิบัติตามขั้นตอนเหล่านี้เพื่อนําเข้าแบบจำลองข้อมูลที่ต้องใช้จากไฟล์ XML ซึ่งจัดเตรียมโดย Microsoft

1. ดาวน์โหลดไฟล์ [Sample audit model.version.1.xml](https://download.microsoft.com/download/7/1/9/719b0132-fed7-4c73-8afa-90cac29c2fee/Sample-audit-model.version.1.xml) และบันทึกไปยังคอมพิวเตอร์เฉพาะที่ของคุณ
2. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
3. ในพื้นที่ทำงาน **การรายงานทางอิเล็กทรอนิกส์** เลือก **การตั้งค่าคอนฟิกการรายงาน**
4. บนหน้า **การกำหนดค่าคอนฟิก** บนบานหน้าต่างการดำเนินการ เลือก **การแลกเปลี่ยน** \> **โหลดจากไฟล์ XML**
5. เลือก **เรียกดู** แล้วค้นหาและเลือกไฟล์ **Sample audit model.version.1.xml**
6. เลือก **ตกลง** เพื่อนำเข้าการตั้งค่าคอนฟิก

    ![การตั้งค่าคอนฟิกแบบจำลองข้อมูล ER ที่นำเข้าบนหน้าการตั้งค่าคอนฟิก](./media/er-data-model-parameterized-calls-imported-model.png)

ภาพประกอบต่อไปนี้แสดงรุ่นที่แก้ไขได้ของแบบจำลองข้อมูลที่ตั้งค่าคอนฟิกในหน้า **ตัวออกแบบแบบจำลองข้อมูล**

![โครงสร้างของแบบจำลองข้อมูล ER ในหน้าตัวออกแบบแบบจำลองข้อมูล](./media/er-data-model-parameterized-calls-model1.png)

ปัจจุบัน แบบจำลองนี้ได้รับการออกแบบมาเพื่อแสดงเฉพาะธุรกรรมภาษีที่มีรายละเอียดที่ต้องใช้เท่านั้น

### <a name="design-a-model-mapping-for-the-configured-data-model"></a>ออกแบบการแมปรูปแบบสำหรับรูปแบบข้อมูลที่ตั้งค่าคอนฟิก

ในฐานะผู้ใช้ในบทบาทนักพัฒนาการรายงานทางอิเล็กทรอนิกส์ คุณต้องสร้างการตั้งค่าคอนฟิก ER ใหม่ที่มีส่วนประกอบของการแมปแบบจำลองสำหรับแบบจำลองข้อมูลตัวอย่างการตรวจสอบ ส่วนประกอบนี้ใช้แบบจำลองข้อมูลที่ตั้งค่าคอนฟิกสำหรับ Microsoft Dynamics 365 Finance และใช้เฉพาะกับแอปนั้น คุณต้องตั้งค่าคอนฟิกส่วนประกอบของการแมปรูปแบบเพื่อระบุออบเจ็กต์ของแอปพลิเคชันที่ต้องใช้ในการกรอกข้อมูลในรูปแบบข้อมูลที่ตั้งค่าคอนฟิกด้วยข้อมูลแอปพลิเคชันขณะรันไทม์ เพื่อให้งานนี้เสร็จสมบูรณ์ คุณต้องเข้าใจวิธีการนำโครงสร้างข้อมูลของโดเมนธุรกิจภาษีไปใช้ใน Finance

ปฏิบัติตามขั้นตอนเหล่านี้เพื่อนําเข้าการแมปแบบจำลองที่ต้องใช้จากไฟล์ XML ซึ่งจัดเตรียมโดย Microsoft

1. ดาวน์โหลดไฟล์ [Sample audit model mapping.version.1.1.xml](https://download.microsoft.com/download/c/0/3/c03a4673-b1b1-4ef8-96d0-bf96518be6e0/Sample-audit-model-mapping.version.1.1.xml) และบันทึกไปยังคอมพิวเตอร์เฉพาะที่ของคุณ
2. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
3. ในพื้นที่ทำงาน **การรายงานทางอิเล็กทรอนิกส์** เลือก **การตั้งค่าคอนฟิกการรายงาน**
4. บนหน้า **การกำหนดค่าคอนฟิก** บนบานหน้าต่างการดำเนินการ เลือก **การแลกเปลี่ยน** \> **โหลดจากไฟล์ XML**
5. เลือก **เรียกดู** แล้วค้นหาและเลือกไฟล์ **Sample audit model mapping.version.1.1.xml**
6. เลือก **ตกลง** เพื่อนำเข้าการตั้งค่าคอนฟิก

    ![การตั้งค่าคอนฟิกการแมปแบบจำลอง ER ที่นำเข้าบนหน้าการตั้งค่าคอนฟิก](./media/er-data-model-parameterized-calls-imported-mapping.png)

ภาพประกอบต่อไปนี้แสดงรุ่นที่แก้ไขได้ของการแมปแบบแบบจำลองที่ตั้งค่าคอนฟิกในหน้า **ตัวออกแบบการแมปแบบจำลอง**

![โครงสร้างของการแมปแบบจำลอง ER ในหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-data-model-parameterized-calls-mapping1.png)

ปัจจุบัน การแมปแบบจำลองนี้ได้รับการออกแบบมาเพื่อแสดงธุรกรรมภาษีที่มีรายละเอียดที่ต้องใช้ โดยจะมีการดึงข้อมูลนี้จากตารางของแอปพลิเคชัน `TaxTrans` โดยใช้แหล่งข้อมูล ER ของ `TaxTrans` และ `TaxTransFiltered` ที่ตั้งค่าคอนฟิก

### <a name="design-a-new-format"></a>ออกแบบรูปแบบใหม่

ในฐานะผู้ใช้ในบทบาทที่ปรึกษาการทำงานของการรายงานทางอิเล็กทรอนิกส์ คุณต้องสร้างการตั้งค่าคอนฟิก ER ใหม่ที่มีส่วนประกอบของ รูปแบบ คุณต้องตั้งค่าคอนฟิกส่วนประกอบรูปแบบเพื่อเติมข้อมูลรายงานที่สร้างขึ้นด้วยธุรกรรมภาษีที่มีรายละเอียดที่ต้องใช้ทั้งหมด

ปฏิบัติตามขั้นตอนเหล่านี้เพื่อนําเข้ารูปแบบที่ต้องใช้จากไฟล์ XML ซึ่งจัดเตรียมโดย Microsoft

1. ดาวน์โหลดไฟล์ [Sample audit format.version.1.1.xml](https://download.microsoft.com/download/e/b/7/eb7e126e-2bb3-4bbb-a735-ffd4c48920b1/Sample-audit-format.version.1.1.xml) และบันทึกไปยังคอมพิวเตอร์เฉพาะที่ของคุณ
2. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
3. ในพื้นที่ทำงาน **การรายงานทางอิเล็กทรอนิกส์** เลือก **การตั้งค่าคอนฟิกการรายงาน**
4. บนหน้า **การกำหนดค่าคอนฟิก** บนบานหน้าต่างการดำเนินการ เลือก **การแลกเปลี่ยน** \> **โหลดจากไฟล์ XML**
5. เลือก **เรียกดู** แล้วค้นหาและเลือกไฟล์ **Sample audit format.version.1.1.xml**
6. เลือก **ตกลง** เพื่อนำเข้าการตั้งค่าคอนฟิก

    ![การตั้งค่าคอนฟิกรูปแบบ ER ที่นำเข้าบนหน้าการตั้งค่าคอนฟิก](./media/er-data-model-parameterized-calls-imported-format.png)

ภาพประกอบต่อไปนี้แสดงรุ่นที่แก้ไขได้ของรูปแบบที่ตั้งค่าคอนฟิกในหน้า **ตัวออกแบบรูปแบบ**

![โครงสร้างของรูปแบบ ER ในหน้าตัวออกแบบรูปแบบ](./media/er-data-model-parameterized-calls-format1.png)

รูปแบบ ER มีการตั้งค่าคอนฟิกให้สร้างรายงานเป็นไฟล์ข้อความในรูปแบบค่าที่คั่นด้วยเครื่องหมายจุลภาค (CSV)

### <a name="run-the-imported-format"></a>รันรูปแบบที่นำเข้า

1. บนหน้า **การตั้งค่าคอนฟิก** ให้เลือกการตั้งค่าคอนฟิก **รูปแบบตัวอย่างการตรวจสอบ** จากนั้นในบานหน้าต่างการดำเนินการ ให้เลือก **เรียกใช้**
2. ในกล่องโต้ตอบ **พารามิเตอร์ของรายงานอิเล็กทรอนิกส์** บนแท็บ **เรกคอร์ดที่จะรวม** เลือก **ตัวกรอง**
3. ระบุเงื่อนไขในการเลือกธุรกรรมภาษีของใบสำคัญ **PIV-110000004** และ **INV-10000001**
4. เลือก **ตกลง**
5. เลือก **ตกลง**
6. ตรวจทานเอกสารที่สร้างซึ่งมีธุรกรรมภาษีของใบสำคัญที่เลือก

    ![แสดงตัวอย่างเอกสารที่สร้างขึ้นด้วยธุรกรรมภาษี](./media/er-data-model-parameterized-calls-output1.png)

### <a name="adjust-the-imported-er-solution"></a>ปรับปรุงโซลูชัน ER ที่นำเข้า

ตามข้อกำหนดใหม่ เอกสารที่คุณต้องส่งต้องมีชื่อของลูกค้าและผู้จัดจำหน่ายที่มีธุรกรรมรวมอยู่ด้วย ดังนั้น คุณต้องแก้ไขโซลูชัน ER ที่นำเข้าเพื่อสร้างเอกสารที่สอดคล้องกับข้อกำหนดใหม่นี้

ตัดสินใจว่าคุณต้องการดําเนินการแก้ไขส่วนประกอบ ER ที่นําเข้าอย่างไร

แนวทางใหม่คือการดําเนินการแก้ไขดังต่อไปนี้

- ในแบบจำลองข้อมูลของคุณ ให้เพิ่มฟิลด์แบบจำลองข้อมูล `Transaction.Party.Name` ใหม่ที่เป็นชนิด *สตริง*
- ในการแมปแบบจำลองของคุณ ให้ตั้งค่าคอนฟิกการผูกข้อมูลสำหรับฟิลด์แบบจำลองข้อมูลใหม่โดยใช้ความสัมพันธ์ของตารางที่มีอยู่เพื่อเข้าถึงเรกคอร์ดที่เกี่ยวข้องของตารางแอปพลิเคชัน `DirPartyTable` และดึงข้อมูลค่าของฟิลด์ `Name` จากตารางนั้นมาใช้

ถึงแม้ว่าวิธีการนี้จะใช้ได้ แต่อาจทําให้เกิดปัญหาด้านประสิทธิภาพในฐานข้อมูล SQL เนื่องจาก `TaxTrans` เป็นตารางธุรกรรม ดังนั้นจึงอาจมีเรกคอร์ดจำนวนมากได้ ในกรณีนี้ จํานวนครั้งของการเรียกไปยัง `DirPartyTable` ต้องเท่ากับจำนวนเรกคอร์ดในตาราง `TaxTrans` ซึ่งทำให้เกิดปัญหาด้านประสิทธิภาพได้

หรือคุณอาจดําเนินการแก้ไขดังต่อไปนี้

- ใบแบบจำลองข้อมูลของคุณ ให้เพิ่มรากของ `Party` ใหม่และฟิลด์ `Party.Name` ใหม่
- ในการแมปแบบจำลองของคุณ ให้เพิ่มแหล่งข้อมูลใหม่ที่จะรวมเรกคอร์ดทั้งหมดของตารางที่ใช้ในความสัมพันธ์ของตารางเพื่อเข้าถึงเรกคอร์ดที่เกี่ยวข้องของตารางแอปพลิเคชัน `DirPartyTable` โดยเริ่มต้นจากตาราง `TaxTrans`

ถึงแม้ว่าวิธีการนี้จะใช้ได้ แต่อาจทําให้เกิดปัญหาการใช้หน่วยความจําบางอย่างได้ แม้ว่าแหล่งข้อมูล [JOIN](er-join-data-sources.md) ถูกเรียกใช้เป็นคำขอ SQL เดียวไปยังฐานข้อมูลแอปพลิเคชันเพื่อป้องกันปัญหาประสิทธิภาพของฐานข้อมูล แต่ผลลัพธ์จะต้องดึงข้อมูลไปยังหน่วยความจำของเซิร์ฟเวอร์แอปพลิเคชัน เนื่องจากจํานวนเรกคอร์ดและจํานวนฟิลด์ในเรกคอร์ดเหล่านั้นมีจํานวนมาก จึงทําให้วิธีการนี้อาจก่อให้เกิดปริมาณการใช้หน่วยความจําหนักมากได้ อาจเกิดข้อยกเว้นรันไทม์หน่วยความจําไม่เพียงพอ

คุณสามารถใช้การแก้ไขเมื่อรูปแบบที่ทำงานอยู่รวบรวมรหัสประจำตัวที่ไม่ซ้ำกันของลูกค้าและผู้จัดจำหน่ายในหน่วยความจำสำหรับธุรกรรมภาษีทั้งหมดที่จะแสดงในรายงานที่สร้างขึ้น เนื่องจากควรเก็บเฉพาะรหัสเฉพาะไว้เท่านั้น ทำให้โค้ดชุดสุดท้ายไม่ใหญ่จนส่งผลต่อการใช้หน่วยความจํา จากนั้นชุดโค้ดจะส่งผ่านไปยังการแมปแบบจำลองเป็นอาร์กิวเมนต์ของการเรียกแหล่งข้อมูลอื่นเป็นชนิด *แบบจำลอง* ตามการเรียกนั้น การแมปแบบจำลองจะเรียกใช้แหล่งข้อมูล ER ใหม่ ซึ่งส่งคำขอ SQL เดียวไปยังฐานข้อมูลแอปพลิเคชันเพื่อดึงข้อมูลจากตาราง `DirPartyTable` และบันทึกสำหรับฝ่ายที่มีโค้ดอยู่ในชุดโค้ดที่ให้ไว้เท่านั้น

### <a name="adjust-the-imported-data-model"></a>ปรับปรุงแบบจำลองข้อมูลที่นำเข้า

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้เลือก **แบบจำลองตัวอย่างการตรวจสอบ**
3. บนแท็บด่วน **รุ่น** ให้เลือกรุ่น **2** ที่มีสถานะ **แบบร่าง**
4. เลือกแท็บด่วน **ส่วนประกอบการตั้งค่าคอนฟิก**
5. เลือก **ตัวออกแบบ** เพื่อเปิดแบบจำลองข้อมูลสำหรับการแก้ไข
6. บนหน้า **แบบจำลองข้อมูล** ตรวจสอบให้แน่ใจว่ามีการเลือกฟิลด์ `Root` แล้วเลือก **ใหม่**
7. ในกล่องโต้ตอบรายการแบบหล่นลง ให้ทำตามขั้นตอนเหล่านี้:

    1. ในกลุ่มฟิลด์ **โหนดใหม่เป็น** เลือกตัวเลือก **รายการรองของโหนดที่ใช้งานอยู่**
    2. ในฟิลด์ **ชื่อ** ให้ป้อน **ฝ่าย**
    3. ในฟิลด์ **ประเภทรายการ** ให้เลือก **รายการเรกคอร์ด**
    4. เลือก **เพิ่ม** เพื่อทำการเพิ่มฟิลด์ใหม่

8. ตรวจสอบให้แน่ใจว่ามีการเลือกฟิลด์ `Root.Party` จากนั้นแท็บ **โหนด** เลือก **พารามิเตอร์**
9. ในกล่องโต้ตอบ **พารามิเตอร์** ให้ทำตามขั้นตอนเหล่านี้:

    1. บนแท็บ **พารามิเตอร์** ให้เลือก **ใหม่**
    2. ในฟิลด์ **ชื่อ** ให้ป้อน **PartyRefRecId**
    3. ในฟิลด์ **ชนิด** เลือก **Int64**
    4. เลือกกล่องกาเครื่องหมาย **รายการ**
    5. เลือก **ตกลง** เพื่อป้อนพารามิเตอร์ให้เสร็จสิ้น

    > [!NOTE]
    > คุณเพิ่งตั้งค่าคอนฟิกฟิลด์แบบจำลองข้อมูล `Root.Party` เป็นฟิลด์ที่ถูกเรียกเมื่อระบุค่าในพารามิเตอร์ **PartyRefRecId** ค่านี้ต้องแสดงอยู่ในรายการเรกคอร์ดที่มีฟิลด์ `Value` เป็นชนิดข้อมูล *Int64*

    ![กล่องโต้ตอบพารามิเตอร์](./media/er-data-model-parameterized-calls-model2a.png)

10. ตรวจสอบให้แน่ใจว่ายังคงมีการเลือกฟิลด์ `Root.Party` อยู่ แล้วเลือก **ใหม่**
11. ในกล่องโต้ตอบรายการแบบหล่นลง ให้ทำตามขั้นตอนเหล่านี้:

    1. ในกลุ่มฟิลด์ **โหนดใหม่เป็น** เลือกตัวเลือก **รายการรองของโหนดที่ใช้งานอยู่**
    2. ในฟิลด์ **ชื่อ** ให้ป้อน **ชื่อ**
    3. ในฟิลด์ **ประเภทรายการ** ให้เลือก **สตริง**
    4. เลือก **เพิ่ม** เพื่อทำการเพิ่มฟิลด์ใหม่

12. เลือก **บันทึก** และปิดหน้า **แบบจำลองข้อมูล**

    ![โครงสร้างของแบบจำลองข้อมูล ER ที่ปรับปรุงในหน้าตัวออกแบบแบบจำลองข้อมูล](./media/er-data-model-parameterized-calls-model2b.png)

13. บนแท็บด่วน **รุ่น** สำหรับรุ่น **2** ให้เลือก **เปลี่ยนสถานะ** \> **เสร็จสมบูรณ์** จากนั้น เลือก **ตกลง**

    > [!NOTE]
    > การเปลี่ยนแปลงของแบบจำลองข้อมูลของคุณมีการจัดเก็บไว้ในส่วนประกอบแบบจำลองข้อมูล **แบบจำลองตัวอย่างการตรวจสอบ** ฉบับแก้ไขครั้งที่สองที่อยู่ในรุ่นที่สองของการตั้งค่าคอนฟิก ER ของ **แบบจำลองตัวอย่างการตรวจสอบ**

![การตั้งค่าคอนฟิกแบบจำลองข้อมูล ER ที่ปรับปรุงบนหน้าการตั้งค่าคอนฟิก](./media/er-data-model-parameterized-calls-updated-model.png)

### <a name="adjust-the-imported-model-mapping"></a>ปรับปรุงการแมปแบบจำลองที่นำเข้า

1. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองตัวอย่างการตรวจสอบ**
2. เลือก **การแมปแบบจำลองตัวอย่างการตรวจสอบ** จากนั้นบนแท็บด่วน **รุ่น** ให้เลือกการแมปรุ่นที่สองที่อิงตามแบบจำลองข้อมูลรุ่นแรก (รุ่น **1.2**) และมีสถานะเป็น **แบบร่าง**
3. เลือก **ปรับใช้ซ้ำ**
4. ในฟิลด์ **รุ่นเป้าหมาย** ให้ปล่อยรุ่น **2** ของแบบจำลองพื้นฐานสำหรับ **แบบจำลองตัวอย่างการตรวจสอบ** ไว้
5. เลือก **ตกลง** เพื่อปรับใช้ซ้ำและปรับการแมปแบบจำลองของคุณด้วยการเปลี่ยนแปลงของแบบจำลองข้อมูลล่าสุด

    สังเกตว่าหมายเลขรุ่นของการแมปแบบจำลองที่แก้ไขได้ของคุณมีการเปลี่ยนแปลงจาก **1.2** เป็น **2.2** เพื่อระบุว่าปัจจุบันใช้แบบจำลองรุ่นที่สองเป็นฐาน

6. เลือก **ตัวออกแบบ**
7. บนหน้า **การแมปแบบจำลองกับแหล่งข้อมูล** เลือก **ตัวออกแบบ** สำหรับการแมปแบบจำลองปัจจุบัน
8. ปฏิบัติตามขั้นตอนต่อไปนี้เพื่อเพิ่มแหล่งข้อมูลใหม่ในการเข้าถึงตารางแอปพลิเคชัน `DirPartyTable`

    1. ในบานหน้าต่าง **ชนิดแหล่งข้อมูล** ให้เลือก **Dynamics 365 for Operations \> เรกคอร์ดตาราง**
    2. ในบานหน้าต่าง **แหล่งข้อมูล** เลือก **เพิ่มราก**
    3. ในฟิลด์ **ชื่อ** ให้ป้อน **PartyTable**
    4. ในฟิลด์ **ตาราง** ให้ป้อน **DirPartyTable**
    5. เลือก **ตกลง** เพื่อให้การเพิ่มแหล่งข้อมูลใหม่เสร็จสิ้น

9. ปฏิบัติตามขั้นตอนต่อไปนี้เพื่อเพิ่มแหล่งข้อมูลใหม่ให้กับเรกคอร์ด `DirPartyTable` ของคำขอตามรายการรหัสการระบุเรกคอร์ดที่กำหนด:

    1. ในบานหน้าต่าง **ชนิดแหล่งข้อมูล** ให้เลือก **ทั่วไป\> คอนเทอนเนอร์เปล่า**
    2. ในบานหน้าต่าง **แหล่งข้อมูล** เลือก **เพิ่มราก**
    3. ในฟิลด์ **ชื่อ** ให้ป้อน **ข้อมูล**
    4. เลือก **ตกลง** เพื่อให้การเพิ่มแหล่งข้อมูลใหม่เสร็จสิ้น
    5. ในบานหน้าต่าง **แหล่งข้อมูล** ให้เลือกแหล่งข้อมูล **ข้อมูล**
    6. ในบานหน้าต่าง **ชนิดแหล่งข้อมูล** เลือก **ฟังก์ชัน\> ฟิลด์ที่มีการคำนวณ**
    7. ในบานหน้าต่าง **แหล่งข้อมูล** ให้เลือก **เพิ่ม**
    8. ในฟิลด์ **ชื่อ** ให้ป้อน **DirParty**
    9. เลือก **แก้ไขสูตร**
    10. บนหน้า **ตัวออกแบบสูตร** ให้เลือก **พารามิเตอร์**
    11. ในกล่องโต้ตอบ **พารามิเตอร์** ให้ทำตามขั้นตอนเหล่านี้:

        1. บนแท็บ **พารามิเตอร์** ให้เลือก **ใหม่**
        2. ในฟิลด์ **ชื่อ** ให้ป้อน **DirPartyId**
        3. ในฟิลด์ **ชนิด** เลือก **Int64**
        4. เลือกกล่องกาเครื่องหมาย **รายการ**
        5. เลือก **ตกลง**

        > [!NOTE]
        > คุณเพิ่งตั้งค่าคอนฟิกฟิลด์ที่มีการคำนวณนี้เพื่อที่จะยอมรับอาร์กิวเมนต์ของพารามิเตอร์เดียวที่ตั้งค่าคอนฟิกเป็นรายการเรกคอร์ดที่มีฟิลด์ `Value` เดียวที่เป็นชนิด *Int64*

    12. ในฟิลด์ **สูตร** ให้ป้อนนิพจน์ต่อไปนี้:

        `FILTER(PartyTable, VALUEINLARGE(PartyTable.RecId, DirPartyId, DirPartyId.Value))`

        > [!NOTE]
        > คุณเพิ่งตั้งค่าคอนฟิกฟิลด์ที่มีการคำนวณ `DirParty` เพื่อดึงข้อมูลเฉพาะเรกคอร์ด `DirPartyTable` ที่มีรหัสรหัสเรกคอร์ดรวมอยู่ในรายการ `DirPartyId` ที่จัดเตรียมไว้เป็นอาร์กิวเมนต์เมื่อเรียกฟิลด์ `DirParty`

        ![สูตรในการดึงชื่อฝ่ายจากตารางแอปพลิเคชันบนหน้าตัวออกแบบสูตร](./media/er-data-model-parameterized-calls-formula1.png)

    13. เลือก **บันทึก** และปิดหน้า **ตัวออกแบบสูตร**
    14. เลือก **บันทึก** แล้วเลือก **ตกลง** เพื่อเสร็จสิ้นการเพิ่มแหล่งข้อมูลใหม่

10. ปฏิบัติตามขั้นตอนต่อไปนี้เพื่อผูกแหล่งข้อมูลใหม่กับฟิลด์แบบจำลองข้อมูลใหม่ เพื่อให้มีการใช้แบบจำลองข้อมูลเพื่อแสดงชื่อฝ่าย:

    1. ในบานหน้าต่าง **แบบจำลองข้อมูล** ให้เลือกฟิลด์แบบจำลองข้อมูล `Root.Party`
    2. ในบานหน้าต่าง **รูปแบบข้อมูล** เลือก **แก้ไข**
    3. บนหน้า **ตัวออกแบบสูตร** ในฟิลด์ **สูตร** ให้ป้อนนิพจน์ `Data.DirParty(PartyRefRecId)`
    4. เลือก **บันทึก** และปิดหน้า **ตัวออกแบบสูตร**

        > [!NOTE]
        > คุณเพิ่งตั้งค่าคอนฟิกการผูกข้อมูลเพื่อเรียกแหล่งข้อมูล `Data.DirParty` ที่ตั้งค่าคอนฟิก และแสดงรายการของรหัสรหัสการระบุเรกคอร์ดที่จะระบุในรูปแบบเมื่อเรียกฟิลด์แบบจำลองข้อมูล `Root.Party`

    5. ในบานหน้าต่าง **แบบจำลองข้อมูล** ให้เลือกฟิลด์แบบจำลองข้อมูล `Root.Party.Name`
    6. ในบานหน้าต่าง **รูปแบบข้อมูล** เลือก **แก้ไข**
    7. บนหน้า **ตัวออกแบบสูตร** ในบานหน้าต่าง **แหล่งข้อมูล** ให้ขยาย **ข้อมูล \> DirParty** แล้วเลือก **ชื่อ**
    8. เลือก **เพิ่มแหล่งข้อมูล**
    9. เลือก **บันทึก** และปิดหน้า **ตัวออกแบบสูตร**

    ![โครงสร้างของการแมปแบบจำลอง ER ที่ปรับปรุงในหน้าตัวออกแบบการแมปแบบจำลอง](./media/er-data-model-parameterized-calls-mapping2.png)

11. เลือก **บันทึก** แล้วปิดหน้า **ตัวออกการแมปแบบจำลอง**
12. ปิดหน้า **การแมปแบบจำลองกับแหล่งข้อมูล**
13. บนแท็บด่วน **รุ่น** สำหรับรุ่น **2.2** ให้เลือก **เปลี่ยนสถานะ \> เสร็จสมบูรณ์** จากนั้น เลือก **ตกลง**

### <a name="adjust-the-imported-format"></a>ปรับปรุงรูปแบบที่นำเข้า

1. ในหน้า **การตั้งค่าคอนฟิก** เลือก **รูปแบบตัวอย่างการตรวจสอบ**
2. บนแท็บด่วน **รุ่น** ให้เลือกรุ่น **1.2** ที่มีสถานะ **แบบร่าง**
3. เลือก **ปรับใช้ซ้ำ**
4. ในฟิลด์ **รุ่นเป้าหมาย** ให้ปล่อยรุ่น **2** ของแบบจำลองพื้นฐานสำหรับ **แบบจำลองตัวอย่างการตรวจสอบ** ไว้
5. เลือก **ตกลง** เพื่อปรับใช้ซ้ำและจัดรูปแบบด้วยการเปลี่ยนแปลงของแบบจำลองข้อมูลล่าสุด
6. เลือก **ตัวออกแบบ**
7. บนหน้า **ตัวออกแบบรูปแบบ** ในรูปแบบโครงสร้างแผนภูมิในบานหน้าต่างด้านซ้าย ให้เลือก **ขยาย/ยุบ**
8. ปฏิบัติตามขั้นตอนต่อไปนี้เพื่อเพิ่มองค์ประกอบรูปแบบใหม่ที่จะรวบรวมรหัสการระบุเรกคอร์ดของฝ่ายที่มีการนําเสนอธุรกรรมในรายงานที่สร้างขึ้น

    1. ในแผนภูมิโครงสร้างรูปแบบ ให้เลือกองค์ประกอบลำดับ **Report.Row.Trans**
    2. เลือก **เพิ่ม**
    3. ในกล่องโต้ตอบ **เพิ่ม** ให้เลือก **แหล่งข้อมูล\> สินค้า**
    4. ในกล่องโต้ตอบ **คุณสมบัติของส่วนประกอบ** ในฟิลด์ **ชื่อ** ให้ป้อน **รหัส**
    5. ในฟิลด์ **ชนิดข้อมูล** ให้เลือก **Int64**
    6. เลือก **ตกลง**

    > [!NOTE]
    > องค์ประกอบ **แหล่งข้อมูล \> สินค้า** สามารถใช้เพื่อการคํานวณภายในและการแปลงข้อมูลได้เฉพาะในขอบเขตของรูปแบบที่ทำงานอยู่เท่านั้น ดังนั้น การเพิ่มองค์ประกอบรูปแบบนี้จึงไม่เปลี่ยนแปลงเนื้อหาของเอกสารที่สร้างขึ้น

9. ปฏิบัติตามขั้นตอนต่อไปนี้เพื่อเพิ่มองค์ประกอบรูปแบบใหม่ที่จะป้อนชื่อฝ่ายในรายงานที่สร้างขึ้น

    1. เลือกองค์ประกอบลำดับ **Report.Row**
    2. เลือก **เพิ่ม**
    3. ในกล่องโต้ตอบ **เพิ่ม** ให้เลือก **ข้อความ\>ลำดับ**
    4. ในกล่องโต้ตอบ **คุณสมบัติของส่วนประกอบ** ในฟิลด์ **ชื่อ** ให้ป้อน **ฝ่าย**
    5. เลือก **ตกลง**
    6. เลือกองค์ประกอบลำดับ **Report.Row.Party**
    7. เลือก **เพิ่ม**
    8. ในกล่องโต้ตอบ **เพิ่ม** ให้เลือก **ข้อความ\>สตริง**
    9. ในกล่องโต้ตอบ **คุณสมบัติของส่วนประกอบ** ในฟิลด์ **ชื่อ** ให้ป้อน **ชื่อ**
    10. เลือก **ตกลง**

10. ปฏิบัติตามขั้นตอนต่อไปนี้เพื่อเพิ่มแหล่งข้อมูลใหม่ที่จะรวบรวมรหัสการระบุเรกคอร์ดของฝ่ายที่มีการนําเสนอธุรกรรมในรายงานที่สร้างขึ้น

    1. บนแท็บ **การแมป** ให้เลือก **เพิ่มราก**
    2. ในกล่องโต้ตอบ **เพิ่มแหล่งข้อมูล** ให้เลือก **ฟังก์ชัน \> การรวบรวมข้อมูล**
    3. ในกล่องโต้ตอบ **คุณสมบัติแหล่งข้อมูล 'การรวบรวมข้อมูล'** ในฟิลด์ **ชื่อ** ให้ป้อน **PartyIds**
    4. ในฟิลด์ **ชนิดข้อมูล** ให้เลือก **Int64**
    5. เลือก **ตกลง**

11. ปฏิบัติตามขั้นตอนต่อไปนี้เพื่อเพิ่มการผูกข้อมูลใหม่ที่จะรวบรวมรหัสการระบุเรกคอร์ดของฝ่ายที่มีการนําเสนอธุรกรรมในรายงานที่สร้างขึ้น

    1. ในแผนภูมิโครงสร้างรูปแบบ ให้เลือกองค์ประกอบรายการข้อมูล **Report.Row.Trans.Id**
    2. เลือก **แก้ไขสูตร**
    3. บนหน้า **ตัวออกแบบสูตร** ให้ป้อนนิพจน์ `PartyIds.Collect(model.Transaction.Party.RecId)`
    4. เลือก **บันทึก** และปิดหน้า **ตัวออกแบบสูตร**

12. ปฏิบัติตามขั้นตอนต่อไปนี้เพื่อเพิ่มการผูกข้อมูลใหม่ที่จะป้อนชื่อฝ่ายในรายงานที่สร้างขึ้น

    1. ในแผนภูมิโครงสร้างรูปแบบ ให้เลือกองค์ประกอบลำดับ **Report.Party**
    2. เลือก **แก้ไขสูตร**
    3. บนหน้า **ตัวออกแบบสูตร** ให้ป้อนนิพจน์ `model.Party(PartyIds.Result)`
    4. เลือก **บันทึก** และปิดหน้า **ตัวออกแบบสูตร**
    5. ในแผนภูมิโครงสร้างรูปแบบ ให้เลือกองค์ประกอบลำดับ **Report.Party.Name**
    6. บนแท็บ **การแมป** ให้เลือกฟิลด์แบบจำลองข้อมูล `model.Party.Name`
    7. เลือก **ผูก**

    ![โครงสร้างของรูปแบบ ER ที่ปรับปรุงในหน้าตัวออกแบบรูปแบบ](./media/er-data-model-parameterized-calls-format2.png)

13. เลือก **บันทึก** และปิดหน้า **ตัวออกแบบรูปแบบ**
14. ปิดหน้า **การแมปแบบจำลองกับแหล่งข้อมูล**
15. บนแท็บด่วน **รุ่น** สำหรับรุ่น **2.2** ให้เลือก **เปลี่ยนสถานะ** \> **เสร็จสมบูรณ์** จากนั้น เลือก **ตกลง**

### <a name="run-the-adjusted-format"></a>เรียกใช้รูปแบบที่ปรับปรุง

1. บนหน้า **การตั้งค่าคอนฟิก** ให้เลือก **รูปแบบตัวอย่างการตรวจสอบ** จากนั้นในบานหน้าต่างการดำเนินการ ให้เลือก **เรียกใช้**
2. ในกล่องโต้ตอบ **พารามิเตอร์ของรายงานอิเล็กทรอนิกส์** บนแท็บ **เรกคอร์ดที่จะรวม** เลือก **ตัวกรอง**
3. ระบุเงื่อนไขในการเลือกธุรกรรมภาษีของใบสำคัญ **PIV-110000004** และ **INV-10000001**
4. เลือก **ตกลง**
5. เลือก **ตกลง**
6. ตรวจทานเอกสารที่สร้างขึ้นซึ่งมีธุรกรรมภาษีของใบสำคัญที่เลือก และชื่อของลูกค้าและผู้จัดจำหน่ายที่เกี่ยวข้อง

    ![แสดงตัวอย่างเอกสารที่สร้างขึ้นด้วยธุรกรรมภาษีและชื่อฝ่าย](./media/er-data-model-parameterized-calls-output2.png)

7. ไปที่ **บัญชีเจ้าหนี้** \> **ผู้จัดจำหน่าย** \> **ผู้จัดจำหน่ายทั้งหมด** และตรวจทานรายละเอียดของใบสำคัญ **PIV-110000004** ที่เลือก รวมถึงชื่อผู้จัดจำหน่าย

    ![การตรวจทานรายละเอียดใบสำคัญการซื้อในหน้าผู้จัดจ่ายและสมุดรายวันใบแจ้งหนี้ทั้งหมด](./media/er-data-model-parameterized-calls-review1.gif)

8. ไปที่ **บัญชีลูกหนี้** \> **ลูกค้า** \> **ลูกค้าทั้งหมด** และตรวจทานรายละเอียดของใบสำคัญ **INV-10000001** ที่เลือก รวมถึงชื่อลูกค้า

    ![การตรวจทานรายละเอียดใบสำคัญการขายในหน้าลูกค้าและภาษีขายที่ลงรายการบัญชีแล้วทั้งหมด](./media/er-data-model-parameterized-calls-review2.gif)

สำหรับรายละเอียดเพิ่มเติมเกี่ยวกับการดำเนินการนี้ของโซลูชัน ER ให้ใช้ตัวแยกวิเคราะห์ [การติดตามประสิทธิภาพ](trace-execution-er-troubleshoot-perf.md) แบบในตัวของ ER

## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

- [สนับสนุนการเรียกแบบพารามิเตอร์ของแหล่งข้อมูล ER ของชนิดฟิลด์ที่มีการคำนวณ](er-calculated-field-type.md)
- [ติดตามการดำเนินการของรูปแบบ ER เพื่อแก้ไขปัญหาประสิทธิภาพ](trace-execution-er-troubleshoot-perf.md)
- [ใช้แหล่งข้อมูล DATA COLLECTION ในรูปแบบการรายงานทางอิเล็กทรอนิกส์](er-data-collection-data-sources.md)
- [ฟังก์ชัน ValueInLarge ER](er-functions-logical-valueinlarge.md)

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
