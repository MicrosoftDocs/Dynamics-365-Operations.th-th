---
title: เลือกกำหนดการตั้งค่าคอนฟิกการรายงานอิเล็กทรอนิกส์เพื่อสร้างเอกสารอิเล็กทรอนิกส์
description: หัวข้อนี้จะอธิบายถึงวิธีการเลือกกำหนดการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) ที่ Microsoft จัดเตรียมไว้ ซึ่งถูกใช้เพื่อให้สร้างเอกสารอิเล็กทรอนิกส์แบบกำหนดเอง
author: NickSelin
manager: AnnBe
ms.date: 10/21/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable, ERParameters, ERDataModelDesigner, ERModelMappingTable, ERModelMappingDesigner, EROperationDesigner, ERVendorTable
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 220314
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 2a0cc308e2e3c7f42295a6170c4f709a835c5c84
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 03/09/2021
ms.locfileid: "5566137"
---
# <a name="customize-electronic-reporting-configurations-to-generate-an-electronic-document"></a>เลือกกำหนดการตั้งค่าคอนฟิกการรายงานอิเล็กทรอนิกส์เพื่อสร้างเอกสารอิเล็กทรอนิกส์

[!include[banner](../includes/banner.md)]

[กรอบงานการรายงานทางอิเล็กทรอนิกส์ (ER)](general-electronic-reporting.md) ช่วยให้คุณสามารถอัพโหลด [การตั้งค่าคอนฟิก](general-electronic-reporting.md#Configuration) ของ ER ซึ่ง Microsoft ให้ไว้ในอินสแตนซ์ Microsoft Dynamics 365 Finance ของคุณ ด้วยวิธีนี้ การตั้งค่าคอนฟิกที่ Microsoft จัดเตรียมให้ สามารถทำหน้าที่เป็นโซลูชัน ER ซึ่งใช้ในการสร้างใบแจ้งหนี้ของลูกค้าทางอิเล็กทรอนิกส์ (ใบแจ้งหนี้อิเล็กทรอนิกส์) คุณสามารถใช้โซลูชัน ER นี้เพื่อตั้งค่าคอนฟิกโซลูชัน ER แบบกำหนดเองของคุณ เพื่อเข้าถึงฟิลด์ฐานข้อมูลที่กำหนดเองของคุณและสร้างใบแจ้งหนี้อิเล็กทรอนิกส์ที่สอดคล้องกับความต้องการเฉพาะของคุณ โดยไม่ต้องแก้ไขรหัสต้นทาง

## <a name="overview"></a>ภาพรวม

สำหรับตัวอย่างในหัวข้อนี้ คุณต้องระบุรหัสประจำตัวผู้เสียภาษีของรัฐบาลกลางเป็นแอททริบิวต์แบบกำหนดเองใหม่ของลูกค้าทุกรายที่คุณออกใบแจ้งหนี้ทางอิเล็กทรอนิกส์ ดังนั้น คุณต้องกำหนดโครงสร้างของใบแจ้งหนี้ที่ใช้อยู่ในปัจจุบัน โดยการเพิ่มสินค้าใหม่ที่ต้องมีการเติมข้อมูลด้วยรหัสภาษีในใบแจ้งหนี้อิเล็กทรอนิกส์ทุกใบที่สร้างขึ้น

กระบวนงานในหัวข้อนี้จะอธิบายวิธีการที่ผู้ใช้ในบทบาทของผู้ดูแลระบบ นักพัฒนาการรายงานทางอิเล็กทรอนิกส์ หรือที่ปรึกษาด้านการทำงานของการรายงานทางอิเล็กทรอนิกส์ สามารถดำเนินงานต่อไปนี้ได้ในอินสแตนซ์ Finance ของคุณ:

- [ตั้งค่าคอนฟิกชุดที่น้อยที่สุดของพารามิเตอร์ ER ที่จำเป็นสำหรับการเริ่มต้นที่จะใช้กรอบงาน ER](#ConfigureER)
- [นำเข้าเวอร์ชันเริ่มต้นของการตั้งค่าคอนฟิก ER มาตรฐานที่ให้ไว้เพื่อสร้างใบแจ้งหนี้อิเล็กทรอนิกส์](#ImportERConfigurations1)
- [ตั้งค่าคอนฟิกพารามิเตอร์บัญชีลูกหนี้เพื่อเริ่มต้นใช้งานการตั้งค่าคอนฟิก ER มาตรฐาน](#ConfigureAR1)
- [ตั้งค่าคอนฟิกพารามิเตอร์นิติบุคคลให้ออกใบแจ้งหนี้แก่ลูกค้า](#ConfigureLE)
- [จัดเตรียมเรกคอร์ดลูกค้าสำหรับการออกใบแจ้งหนี้ทางอิเล็กทรอนิกส์](#ConfigureCustomer1)
- [เพิ่ม ลงรายการบัญชี และส่งใบแจ้งหนี้ของลูกค้า โดยใช้การตั้งค่าคอนฟิก ER มาตรฐาน](#ProcessInvoice1)
- [เพิ่มฟิลด์ฐานข้อมูลที่กำหนดเองเพื่อจัดการรหัสประจำตัวผู้เสียภาษีของรัฐบาลกลางสำหรับลูกค้า](#AddCustomField)
- [รีเฟรชข้อมูลเมตา ER เพื่อเปิดใช้งานการเปลี่ยนแปลงฐานข้อมูลสำหรับโปรแกรมออกแบบการแม็ปแบบจำลอง ER](#RefreshERMetadata)
- [ออกแบบการตั้งค่าคอนฟิก ER แบบกำหนดเองเพื่อสร้างใบแจ้งหนี้อิเล็กทรอนิกส์ที่มีรหัสภาษีใหม่](#DesignCustomERConfigurations)
- [ตั้งค่าคอนฟิกพารามิเตอร์บัญชีลูกหนี้เพื่อเริ่มต้นใช้งานการตั้งค่าคอนฟิก ER แบบกำหนดเอง](#ConfigureAR2)
- [อัพเดตเรกคอร์ดลูกค้าสำหรับการออกใบแจ้งหนี้ทางอิเล็กทรอนิกส์](#ConfigureCustomer2)
- [เพิ่ม ลงรายการบัญชี และส่งใบแจ้งหนี้ของลูกค้า โดยใช้การตั้งค่าคอนฟิก ER แบบกำหนดเอง](#ProcessInvoice2)
- [นำเข้าเวอร์ชันใหม่ของการตั้งค่าคอนฟิก ER มาตรฐานที่ให้ไว้เพื่อสร้างใบแจ้งหนี้อิเล็กทรอนิกส์](#ImportERConfigurations2)
- [นำการเปลี่ยนแปลงไปใช้กับเวอร์ชันใหม่ของการตั้งค่าคอนฟิก ER มาตรฐานในการตั้งค่าคอนฟิก ER แบบกำหนดเองของคุณ](#RebaseCustomERConfigurations)
- [เพิ่ม ลงรายการบัญชี และส่งใบแจ้งหนี้ของลูกค้า โดยใช้เวอร์ชันใหม่ของการตั้งค่าคอนฟิก ER แบบกำหนดเอง](#ProcessInvoice3)

คุณสามารถดำเนินการกระบวนงานเหล่านี้ทั้งหมดให้เสร็จสมบูรณ์ได้ในบริษัท **DEMF**

## <a name="configure-the-er-framework"></a><a name="ConfigureER"></a>ตั้งค่าคอนฟิกกรอบงาน ER

ในฐานะผู้ใช้ในบทบาทที่ปรึกษาการทำงานของการรายงานทางอิเล็กทรอนิกส์หรือบทบาทนักพัฒนาการรายงานทางอิเล็กทรอนิกส์ คุณต้องตั้งค่าคอนฟิกชุดที่น้อยที่สุดของพารามิเตอร์ ER จากนั้น คุณสามารถเริ่มต้นการใช้กรอบงาน ER เพื่อออกแบบเวอร์ชันที่กำหนดเองของการตั้งค่าคอนฟิกมาตรฐานของโซลูชัน ER ซึ่งใช้ในการสร้างใบแจ้งหนี้อิเล็กทรอนิกส์

### <a name="configure-er-parameters"></a>ตั้งค่าคอนฟิกพารามิเตอร์ ER

1. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
2. บนหน้า **การตั้งค่าคอนฟิกเฉพาะ** ในส่วน **ลิงก์ที่เกี่ยวข้อง** ให้เลือก **พารามิเตอร์การรายงานทางอิเล็กทรอนิกส์**
3. ในหน้า **พารามิเตอร์การรายงานทางอิเล็กทรอนิกส์** บนแท็บ **ทั่วไป** ตั้งค่าตัวเลือก **เปิดใช้งานโหมดการออกแบบ** เป็น **ใช่**
4. บนแท็บ **เอกสารแนบ** ในฟิลด์ **การตั้งค่าคอนฟิก** ให้เลือก **ไฟล์**
5. ในฟิลด์ **ที่เก็บงานถาวร** **ชั่วคราว** **พื้นฐาน** และ **อื่นๆ** ให้เลือกชนิด **ไฟล์**

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับพารามิเตอร์ ER ให้ดูที่ [ตั้งค่าคอนฟิกกรอบงาน ER](electronic-reporting-er-configure-parameters.md)

### <a name="activate-an-er-configuration-provider"></a>เปิดใช้งานผู้ให้บริการการตั้งค่าคอนฟิก ER

มีการทำเครื่องหมายการตั้งค่าคอนฟิก ER ทั้งหมดที่มีการเพิ่มเป็นเจ้าของโดยผู้ให้บริการการตั้งค่าคอนฟิก ER ผู้ให้บริการการตั้งค่าคอนฟิก ER ที่เปิดใช้งานในพื้นที่ทำงาน **การรายงานทางอิเล็กทรอนิกส์** จะใช้เพื่อวัตถุประสงค์นี้ ดังนั้นคุณต้องเรียกใช้งานผู้ให้บริการการตั้งค่าคอนฟิก ER ในพื้นที่ทำงาน **การรายงานทางอิเล็กทรอนิกส์** ก่อนที่คุณจะเริ่มต้นการเพิ่มหรือแก้ไขการตั้งค่าคอนฟิก ER

> [!NOTE]
> เฉพาะเจ้าของที่มีการตั้งค่าคอนฟิก ER เท่านั้นที่สามารถแก้ไขได้ ดังนั้นก่อนที่จะแก้ไขการตั้งค่าคอนฟิก ER ต้องมีการเรียกใช้งานผู้ให้บริการการตั้งค่าคอนฟิก ER ในพื้นที่ทำงาน **การรายงานทางอิเล็กทรอนิกส์** ที่เหมาะสม

#### <a name="review-the-list-of-er-configuration-providers"></a>ตรวจทานรายการของผู้ให้บริการการตั้งค่าคอนฟิก ER

1. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
2. บนหน้า **การตั้งค่าคอนฟิกเฉพาะ** ในส่วน **ลิงก์ที่เกี่ยวข้อง** ให้เลือก **ผู้ให้บริการการตั้งค่าคอนฟิก**
3. บนหน้า **ตารางของผู้ให้บริการการตั้งค่าคอนฟิก** แต่ละเรกคอร์ดผู้ให้บริการจะมีชื่อและ URL ที่ไม่ซ้ำกัน ตรวจทานเนื้อหาของหน้านี้ ถ้ามีเรกคอร์ดสำหรับ **Litware, inc.** (`https://www.litware.com`) อยู่แล้ว ให้ข้ามขั้นตอนถัดไป [เพิ่มผู้ให้บริการการตั้งค่าคอนฟิก ER ใหม่](#AddProvider)

#### <a name="add-a-new-er-configuration-provider"></a><a id="AddProvider"></a>เพิ่มผู้ให้บริการการตั้งค่าคอนฟิก ER ใหม่

1. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
2. บนหน้า **การตั้งค่าคอนฟิกเฉพาะ** ในส่วน **ลิงก์ที่เกี่ยวข้อง** ให้เลือก **ผู้ให้บริการการตั้งค่าคอนฟิก**
3. ในหน้า **ผู้ให้บริการการตั้งค่าคอนฟิก** เลือก **ใหม่**
4. ในฟิลด์ **ชื่อ** ให้ป้อน **Litware, Inc.**
5. ในฟิลด์ **ที่อยู่อินเทอร์เน็ต** ให้ป้อน `https://www.litware.com`
6. เลือก **บันทึก**

#### <a name="activate-an-er-configuration-provider"></a>เปิดใช้งานผู้ให้บริการการตั้งค่าคอนฟิก ER

1. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
2. ในหน้า **การตั้งค่าคอนฟิกเฉพาะ** ในส่วน **ผู้ให้บริการการตั้งค่าคอนฟิก** ให้เลือกไทล์ **Litware, inc.** แล้วเลือก **กำหนดเป็นใช้งานอยู่**

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับผู้ให้บริการการตั้งค่าคอนฟิก ER ให้ดูที่ [สร้างผู้ให้บริการการตั้งค่าคอนฟิก และทำเครื่องหมายเป็นใช้งานอยู่](tasks/er-configuration-provider-mark-it-active-2016-11.md)

## <a name="import-the-initial-versions-of-standard-er-configurations"></a><a name="ImportERConfigurations1"></a>นำเข้าเวอร์ชันเริ่มต้นของการตั้งค่าคอนฟิก ER มาตรฐาน

เมื่อต้องการเพิ่มการตั้งค่าคอนฟิก ER มาตรฐานให้กับอินสแตนซ์ Finance ปัจจุบันของคุณ คุณต้องนำเข้าจาก [ที่เก็บ](general-electronic-reporting.md#Repository) ของ ER ที่ได้รับการตั้งค่าคอนฟิกสำหรับอินสแตนซ์นั้น

1. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
2. ในหน้า **การตั้งค่าคอนฟิกเฉพาะ** ในส่วน **ผู้ให้บริการการตั้งค่าคอนฟิก** ให้เลือกไทล์ **Microsoft** แล้วเลือก **ที่เก็บ** เพื่อดูรายการของที่เก็บสำหรับผู้ให้บริการ Microsoft
3. บนหน้า **ที่เก็บการตั้งค่าคอนฟิก** เลือกที่เก็บของชนิด **ส่วนกลาง** และจากนั้นเลือก **เปิด** ถ้าคุณได้รับพร้อมต์ให้ตรวจสอบเพื่อเชื่อมต่อกับ Regulatory Configuration Service ให้ทำตามคำแนะนำการตรวจสอบ
4. บนหน้า **ที่เก็บการตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้เลือกการตั้งค่าคอนฟิกรูปแบบ **ใบแจ้งหนี้การขาย PEPPOL**
5. บน FastTab **รุ่น** เลือกรุ่น **11.2.2**
6. เลือก **นำเข้า** เพื่อดาวน์โหลดเวอร์ชันที่เลือกจากที่เก็บส่วนกลาง

![หน้าที่เก็บการตั้งค่าคอนฟิก](./media/er-quick-start3-import-solution1.png)

> [!TIP]
> ถ้าคุณมีปัญหาในการเข้าถึง [ที่เก็บส่วนกลาง](er-download-configurations-global-repo.md) คุณสามารถ [ดาวน์โหลดการตั้งค่าคอนฟิก](download-electronic-reporting-configuration-lcs.md) จาก Microsoft Dynamics Lifecycle Services (LCS) แทน

### <a name="review-the-imported-er-configurations"></a>ตรวจทานและนำเข้าการตั้งค่าคอนฟิก ER

1. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
2. บนหน้า **การตั้งค่าคอนฟิกการแปลเป็นภาษาท้องถิ่น** ในส่วน **การตั้งค่าคอนฟิก** เลือกไทล์ **การตั้งค่าคอนฟิกการรายงาน**
3. ในหน้า **การตั้งค่าคอนฟิก** ให้ขยาย FastTab **ส่วนประกอบการตั้งค่าคอนฟิก**
4. ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้** แล้วจากนั้น ขยาย **ใบแจ้งหนี้การขาย UBL**

โปรดสังเกตว่า นอกเหนือจากรูปแบบ ER ของ **ใบแจ้งหนี้การขาย Peppol** ที่เลือก มีการนำเข้าการตั้งค่าคอนฟิก ER ที่จำเป็นอื่นๆ ด้วย เนื่องจากการตั้งค่าคอนฟิก ER รุ่นใหม่มีการเผยแพร่อย่างต่อเนื่องไปยังที่เก็บส่วนกลางและ LCS เพื่อให้โซลูชันที่สัมพันธ์กันสอดคล้องกับความต้องการใหม่ รุ่นล่าสุดของการตั้งค่าคอนฟิก [รูปแบบข้อมูล](general-electronic-reporting.md#data-model-and-model-mapping-components) ที่จำเป็นและการตั้งค่าคอนฟิก [การแม็ปแบบจำลอง](general-electronic-reporting.md#data-model-and-model-mapping-components) ถูกนำเข้า

![เพจการตั้งค่าคอนฟิก](./media/er-quick-start3-imported-solution1a.png)

เมื่อต้องการจำลองสถานะที่การตั้งค่าคอนฟิก ER ในอินสแตนซ์ Finance ปัจจุบันจะอยู่ ถ้าคุณนำเข้ารุ่น **11.2.2** ของรูปแบบ ER ของ **ใบแจ้งหนี้การขาย Peppol** ในอดีต (ตัวอย่างเช่น เมื่อวันที่ 7 สิงหาคม 2019) ให้ทำตามขั้นตอนต่อไปนี้

- ในบานหน้าต่างการดำเนินการ ให้เลือก **ลบ** เพื่อลบการตั้งค่าคอนฟิก ER ทั้งหมดที่เผยแพร่หลังจากวันที่ 7 สิงหาคม 2019 เฉพาะ **แบบจำลองใบแจ้งหนี้** **การแม็ปแบบจำลองใบแจ้งหนี้** (ในตอนแรกชื่อ **การแม็ปแบบจำลองใบแจ้งหนี้ของลูกค้า**) **ใบแจ้งหนี้การขาย UBL** และการตั้งค่าคอนฟิก **ใบแจ้งหนี้การขาย Peppol** ต้องถูกปล่อยไว้
- สำหรับการตั้งค่าคอนฟิก ER คงเหลือ บน FastTab **รุ่น** เลือก **ลบ** เพื่อลบการตั้งค่าคอนฟิก ER ทุกรุ่นที่เผยแพร่หลังจากวันที่ 7 สิงหาคม 2019

จากนั้น ตรวจสอบว่าการตั้งค่าคอนฟิกต่อไปนี้พร้อมใช้งานในแผนภูมิการตั้งค่าคอนฟิก:

- การตั้งค่าคอนฟิกรูปแบบข้อมูล ER ของ **แบบจำลองใบแจ้งหนี้** (ในตอนแรกชื่อ **แบบจำลองใบแจ้งหนี้ของลูกค้า**):

    - รุ่น 11 มีรุ่น 10 ของส่วนประกอบ ER ของ [รูปแบบข้อมูล](general-electronic-reporting.md#data-model-and-model-mapping-components) ซึ่งแสดงถึงโครงสร้างข้อมูลของโดเมนธุรกิจของการออกใบแจ้งหนี้ มีการนำเข้าการตั้งค่าคอนฟิก ER นี้เป็นข้อมูลเก่าของรูปแบบ ER ของ **ใบแจ้งหนี้การขาย Peppol** ที่เลือกสำหรับการนำเข้า
    - รุ่น 50 มีรุ่น 31 ของส่วนประกอบ ER ของแบบจำลองข้อมูล มีการนำเข้าการตั้งค่าคอนฟิก ER นี้เป็นข้อมูลเก่าของวันที่ 7 สิงหาคม 2019 รุ่นของการตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER ของ **การแม็ปแบบจำลองใบแจ้งหนี้**

    ![การตั้งค่าคอนฟิกรูปแบบข้อมูล ER ของแบบจำลองใบแจ้งหนี้บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-imported-solution1b1.png)

    > [!TIP]
    > ถ้าคุณไม่เห็นรุ่น 50 ของรูปแบบข้อมูลนี้ ให้เปิดที่เก็บส่วนกลางและนำเข้ารุ่น 50.19 ของการตั้งค่าคอนฟิก ER **การแม็ปแบบจำลองใบแจ้งหนี้**

- การตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER ของ **การแม็ปแบบจำลองใบแจ้งหนี้** (ในตอนแรกชื่อ **การแม็ปแบบจำลองใบแจ้งหนี้ของลูกค้า**):

    - มีการนำเข้ารุ่น 50.19 เป็นการใช้งานล่าสุดของรุ่น 50 ของการตั้งค่าคอนฟิกรูปแบบข้อมูล ER ของ **แบบจำลองใบแจ้งหนี้** ซึ่งมีส่วนประกอบ ER ของ [การแม็ปแบบจำลอง](general-electronic-reporting.md#data-model-and-model-mapping-components) สองรายการที่อธิบายวิธีการกรอกข้อมูลในรูปแบบข้อมูลด้วยข้อมูลของแอปพลิเคชันที่รันไทม์

    ![การตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER ของการแม็ปแบบจำลองใบแจ้งหนี้บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-imported-solution1b2.png)

    > [!TIP]
    > ถ้าคุณไม่เห็นรุ่น 50.19 ของการแม็ปแบบจำลองนี้ ให้เปิดที่เก็บส่วนกลางและนำเข้ารุ่น 50.19 ของการตั้งค่าคอนฟิก ER **การแม็ปแบบจำลองใบแจ้งหนี้**

- **ใบแจ้งหนี้การขาย UBL** การตั้งค่าคอนฟิกรูปแบบ ER:

    - รุ่น 11.2 มีส่วนประกอบ ER ของ [รูปแบบ](general-electronic-reporting.md#FormatComponentOutbound) และการแม็ปรูปแบบ ส่วนประกอบรูปแบบระบุโครงร่างรายงาน ส่วนประกอบการแม็ปรูปแบบมีแหล่งข้อมูลแบบจำลองและระบุวิธีการใช้เแหล่งข้อมูลนี้เพื่อกรอกข้อมูลในโครงร่างรายงานในขณะรันไทม์ รูปแบบ ER นี้ได้รับการตั้งค่าคอนฟิกเพื่อสร้างใบแจ้งหนี้อิเล็กทรอนิกส์ในรูปแบบ Universal Business Language (UBL) ซึ่งมีการนำเข้าเป็นรายการหลักของรูปแบบ ER ของ **ใบแจ้งหนี้การขาย Peppol** ที่เลือกสำหรับการนำเข้า

- **ใบแจ้งหนี้การขาย Peppol** การตั้งค่าคอนฟิกรูปแบบ ER:

    - รุ่น 11.2.2 มีส่วนประกอบ ER ของรูปแบบและการแม็ปรูปแบบที่มีการตั้งค่าคอนฟิกเพื่อสร้างใบแจ้งหนี้ในรูปแบบ Pan-European Public Procurement OnLine (PEPPOL)

    ![การตั้งค่าคอนฟิกรูปแบบ ER ของใบแจ้งหนี้การขาย Peppol บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-imported-solution1b3.png)

## <a name="configure-the-accounts-receivable-parameters"></a><a name="ConfigureAR1"></a>ตั้งค่าคอนฟิกพารามิเตอร์บัญชีลูกหนี้

1. ไปที่ **บัญชีลูกหนี้** \> **การตั้งค่า** \> **พารามิเตอร์บัญชีลูกหนี้**
2. บนแท็บ **เอกสารอิเล็กทรอนิกส์** บน FastTab **การรายงานทางอิเล็กทรอนิกส์** ในฟิลด์ **การขายและใบแจ้งหนี้ข้อความอิสระ** ให้เลือก **ใบแจ้งหนี้การขาย Peppol**
3. เลือก **บันทึก**

![แท็บเอกสารอิเล็กทรอนิกส์บนหน้าพารามิเตอร์ของบัญชีลูกหนี้](./media/er-quick-start3-configure-ar1.png)

## <a name="configure-the-legal-entity-parameters"></a><a name="ConfigureLE"></a>ตั้งค่าคอนฟิกพารามิเตอร์นิติบุคคล

1. ไปที่ **การจัดการองค์กร** \> **องค์กร** \> **นิติบุคคล**
2. สำหรับบริษัท **DEMF** ที่เลือก บน FastTab **ข้อมูลบัญชีธนาคาร** ในฟิลด์ **หมายเลขการกำหนดเส้นทาง** ให้ป้อน **1234**
3. เลือก **บันทึก**
4. ปิดหน้า **นิติบุคคล**

## <a name="prepare-a-customer-record"></a><a name="ConfigureCustomer1"></a>เตรียมเรกคอร์ดลูกค้า

1. ไปที่ **บัญชีลูกหนี้** \> **ลูกค้า** \> **ลูกค้าทั้งหมด**
2. บนหน้า **ลูกค้าทั้งหมด** ให้เลือกลิงค์บัญชีลูกค้า **DE-014**

### <a name="add-a-customer-contact"></a>เพิ่มผู้ติดต่อของลูกค้า

1. ไปที่ **บัญชีลูกหนี้** \> **ลูกค้า** \> **ลูกค้าทั้งหมด**
2. บนบานหน้าต่างการดำเนินการ บนแท็บ **ลูกค้า** ในกลุ่ม **บัญชี** ให้เลือก **ผู้ติดต่อ**
3. เลือก **เพิ่มผู้ติดต่อ**
4. บนหน้า **ผู้ติดต่อ** ในฟิลด์ **ชื่อจริง** ให้เปิดการค้นหา เลือก **Adam Carter** เลือก **เลือก** เพื่อปิดการค้นหา
5. เลือก **บันทึก**
6. ปิดหน้า **ผู้ติดต่อ**

### <a name="define-a-primary-contact"></a>กำหนดผู้ติดต่อหลัก

1. ไปที่ **บัญชีลูกหนี้** \> **ลูกค้า** \> **ลูกค้าทั้งหมด**
2. บน FastTab **ข้อมูลประชากรของการขาย** ในฟิลด์ **ผู้ติดต่อหลัก** ให้เลือก **Adam Carter**

### <a name="set-the-e-invoicing-option"></a>ตั้งค่าตัวเลือกการออกใบแจ้งหนี้อิเล็กทรอนิกส์

1. ไปที่ **บัญชีลูกหนี้** \> **ลูกค้า** \> **ลูกค้าทั้งหมด**
2. บน FastTab **ใบแจ้งหนี้และการจัดส่ง** ให้ตั้งค่าตัวเลือก **eInvoice** เป็น **ใช่**
3. เลือก **บันทึก**
4. ปิดหน้า **ลูกค้าทั้งหมด**

## <a name="process-a-customer-invoice-by-using-the-standard-er-configurations"></a><a name="ProcessInvoice1"></a>ดำเนินการออกใบแจ้งหนี้ของลูกค้าโดยใช้การตั้งค่าคอนฟิก ER มาตรฐาน

ขณะนี้คุณสามารถใช้การตั้งค่าคอนฟิก ER มาตรฐานที่คุณนำเข้าเพื่อส่งใบแจ้งหนี้ข้อความอิสระให้กับลูกค้าทางอิเล็กทรอนิกส์

### <a name="add-a-new-invoice"></a>เพิ่มใบแจ้งหนี้ใหม่

1. ไปที่ **บัญชีลูกหนี้** \> **ใบแจ้งหนี้** \> **ใบแจ้งหนี้ข้อความอิสระทั้งหมด**
2. บนหน้า **ใบแจ้งหนี้ข้อความอิสระ** ให้เลือก **สร้าง**
3. บน FastTab **ส่วนหัวของใบแจ้งหนี้ข้อความอิสระ** ในฟิลด์ **รหัสลูกค้า** ให้เลือก **DE-014**
4. บน FastTab **รายการใบแจ้งหนี้** จะมีการเพิ่มรายการใบแจ้งหนี้โดยอัตโนมัติ ในรายการนี้ ให้ตั้งค่าฟิลด์ต่อไปนี้:

    - ในฟิลด์ **คำอธิบาย** ให้ป้อน **สมุด**
    - ในฟิลด์ **บัญชีหลัก** เลือก **401100**
    - ในฟิลด์ **ราคาต่อหน่วย** ให้ป้อน **1000**

5. เลือก **บันทึก**

![หน้าใบแจ้งหนี้ข้อความอิสระ](./media/er-quick-start3-add-invoice.png)

สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [สร้างใบแจ้งหนี้ข้อความอิสระ](../../../finance/accounts-receivable/create-free-text-invoice-new.md)

### <a name="post-a-new-invoice"></a>ลงรายการบัญชีใบแจ้งหนี้ใหม่

1. ไปที่ **บัญชีลูกหนี้** \> **ใบแจ้งหนี้** \> **ใบแจ้งหนี้ข้อความอิสระทั้งหมด**
2. บนหน้า **ใบแจ้งหนี้ข้อความอิสระ** บนบานหน้าต่างการดำเนิน เลือก **ลงรายการบัญชี**
3. ในกล่องโต้ตอบ **ลงรายการบัญชีใบแจ้งหนี้ข้อความอิสระ** ให้เลือก **ตกลง**

![หน้ารายละเอียดใบแจ้งหนี้ข้อความอิสระ](./media/er-quick-start3-post-invoice.png)

### <a name="send-a-posted-invoice"></a>ส่งใบแจ้งหนี้ที่ลงรายการบัญชีแล้ว

1. ไปที่ **บัญชีลูกหนี้** \> **ใบแจ้งหนี้** \> **ใบแจ้งหนี้ข้อความอิสระทั้งหมด**
2. บนหน้า **ใบแจ้งหนี้ข้อความอิสระ** บนบานหน้าต่างการดำเนินการ ในกลุ่ม **เอกสาร** ให้เลือก **ส่ง** \> **ต้นฉบับ**

    ![พรีวิวของใบแจ้งหนี้ต้นฉบับ](./media/er-quick-start3-send-invoice.png)

3. ปิดหน้า **ใบแจ้งหนี้ข้อความอิสระ**

### <a name="analyze-a-generated-e-invoice"></a>วิเคราะห์ใบแจ้งหนี้อิเล็กทรอนิกส์ที่สร้างขึ้น

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **งานการรายงานทางอิเล็กทรอนิกส์**
2. บนหน้า **งานการรายงานทางอิเล็กทรอนิกส์** ให้เลือกเรกคอร์ดเริ่มต้นที่มีคำอธิบายงาน **ส่ง eInvoice XML**
3. เลือก **แสดงไฟล์** เพื่อเข้าถึงรายการของไฟล์ที่สร้างขึ้น

    ![หน้างานการรายงานทางอิเล็กทรอนิกส์](./media/er-quick-start3-jobs-list.png)

4. เลือก **เปิด** เพื่อดาวน์โหลดไฟล์ XML ของใบแจ้งหนี้อิเล็กทรอนิกส์ที่ถูกสร้างขึ้น
5. วิเคราะห์ไฟล์ XML ของใบแจ้งหนี้อิเล็กทรอนิกส์ โปรดสังเกตว่า ในปัจจุบันเค้าร่างภาษีของลูกค้าถูกแสดงโดยแอททริบิวต์ XML ของ **schemeID** และ **schemeAgencyID** นอกจากนี้ โปรดสังเกตว่าขณะนี้องค์ประกอบ XML ของ **cbc:CustomizationID** มีข้อความต่อไปนี้: `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0`

    ![พรีวิวของไฟล์ XML ของใบแจ้งหนี้ที่สร้างขึ้น](./media/er-quick-start3-e-invoice1.png)

## <a name="add-a-custom-database-field"></a><a name="AddCustomField"></a>เพิ่มฟิลด์ฐานข้อมูลที่กำหนดเอง

คุณสามารถใช้คุณลักษณะ [ฟิลด์ที่กำหนดเอง](../../fin-ops/get-started/user-defined-fields.md) เพื่อทำการกำหนดเองต่อไปนี้ในอินสแตนซ์ Finance ปัจจุบัน:

- กำหนดโครงสร้างฐานข้อมูลด้วยการเพิ่มฟิลด์ฐานข้อมูลที่กำหนดเองใหม่ ซึ่งจัดเก็บรหัสประจำตัวผู้เสียภาษีสำหรับลูกค้าทุกราย
- กำหนดหน้า **ลูกค้า** ด้วยการเพิ่มฟิลด์รายการข้อมูลใหม่ที่สามารถใช้ในการป้อนค่ารหัสภาษีในฟิลด์ฐานข้อมูลที่กำหนดเองใหม่

ทำตามขั้นตอนต่อไปนี้เพื่อทำการเลือกกำหนด

1. ไปที่ **บัญชีลูกหนี้** \> **ลูกค้า** \> **ลูกค้าทั้งหมด**
2. บนหน้า **ลูกค้าทั้งหมด** ให้เลือกลิงค์บัญชีลูกค้า **DE-014**
3. บน FastTab **ทั่วไป** ให้คลิกขวาในพื้นที่ว่างใดๆ ภายใต้ฟิลด์ **ภาษา** และจากน้ัน เลือก **ปรับแต่ง: UpperGroup**

    เนื้อหาของ FastTab **ทั่วไป** จะถูกเน้น และเมนู **ปรับแต่ง** จะปรากฏขึ้น

4. บนเมนู **ปรับแต่ง** ให้เลือก **เพิ่มฟิลด์**
5. ในกล่องโต้ตอบ **เพิ่มคอลัมน์** ให้เลือก **สร้างฟิลด์ใหม่**
6. ในกล่องโต้ตอบ **สร้างฟิลด์ใหม่** ในฟิลด์ **ชื่อตาราง** ให้เลือก **ลูกค้า**
7. ในฟิลด์ **คำนำหน้าชื่อ** ให้ป้อน **FederalTaxID**

    > [!NOTE]
    > ชื่อฟิลด์ทั้งหมดได้รับการกำหนดโดยอัตโนมัติเป็น **FederalTaxID\_Custom**

8. ในฟิลด์ **ป้ายชื่อ** ป้อน **หมายเลขประจำตัวผู้เสียภาษี**
9. ในฟิลด์ **ชนิด** เลือก **ข้อความ**
10. ในฟิลด์ **ความยาว** ป้อน **20**
11. เลือก **บันทึก**
12. ในกล่องข้อความที่ปรากฏขึ้น ให้เลือก **ใช่** เพื่อยืนยันว่าคุณต้องการสร้างรายการฟิลด์ **FederalTaxID** ใหม่สำหรับตาราง **ลูกค้า**
13. เลือก **แทรก** เพื่อ <a name="insert_custom_field"></a>เพิ่มฟิลด์ **FederalTaxID\_Custom** ไปยังหน้าปัจจุบัน

    ![หน้าลูกค้าทั้งหมด](./media/er-quick-start3-create-new-field.gif)

14. ปิดหน้า **ลูกค้าทั้งหมด**

## <a name="refresh-the-er-metadata"></a><a name="RefreshERMetadata"></a>รีเฟรชข้อมูลเมตา ER

คุณต้องรีเฟรชข้อมูลเมตา ER เพื่อทำให้ฟิลด์แบบกำหนดเองที่คุณเพิ่ม [มองเห็นได้](electronic-reporting-er-configure-parameters.md#frequently-asked-questions) ในตัวออกแบบการแม็ปแบบจำลอง ER

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **สร้างข้อมูลอ้างอิงของตารางอีกครั้ง**
2. ในกล่องโต้ตอบ **อัพเดตรูปแบบข้อมูล** ให้เลือก **ตกลง**

## <a name="design-the-custom-er-configurations"></a><a name="DesignCustomERConfigurations"></a>ออกแบบการตั้งค่าคอนฟิก ER แบบกำหนดเอง

คุณสามารถใช้การตั้งค่าคอนฟิก ER ที่ Microsoft จัดเตรียมไว้เพื่อออกแบบการตั้งค่าคอนฟิก ER แบบกำหนดเองของคุณ เพื่อให้สร้างใบแจ้งหนี้อิเล็กทรอนิกส์ที่มีรหัสภาษีใหม่

### <a name="customize-the-data-model-configuration"></a>กำหนดการตั้งค่าคอนฟิกรูปแบบข้อมูล

ในฐานะผู้ใช้ในบทบาทที่ปรึกษาด้านงานการรายงานทางอิเล็กทรอนิกส์ คุณสามารถออกแบบรูปแบบข้อมูล ER แบบกำหนดเองของคุณได้

#### <a name="add-a-custom-data-model-configuration"></a>เพิ่มการตั้งค่าคอนฟิกรูปแบบข้อมูลแบบกำหนดเอง

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้เลือก **แบบจำลองใบแจ้งหนี้ของลูกค้า**
3. ในบานหน้าต่างการดำเนินการ ให้เลือก **สร้างการตั้งค่าคอนฟิก**
4. ในกล่องโต้ตอบแบบหล่นลง ในฟิลด์ **ใหม่** ให้เลือก **ได้รับมาจากชื่อ: แบบจำลองใบแจ้งหนี้ของลูกค้า, Microsoft** เพื่อระบุว่าการตั้งค่าคอนฟิกรูปแบบข้อมูล ER แบบกำหนดเองใหม่ของคุณควรขึ้นอยู่กับการตั้งค่าคอนฟิกรูปแบบข้อมูล ER
5. ในฟิลด์ **ชื่อ** ป้อน **แบบจำลองใบแจ้งหนี้ (Litware)**
6. เลือก **สร้างการตั้งค่าคอนฟิก** เพื่อเพิ่มการตั้งค่าคอนฟิก ER ใหม่

ขณะนี้คุณสามารถใช้ตัวออกแบบรูปแบบข้อมูล ER เพื่อแก้ไขรุ่น 50.1 ของการตั้งค่าคอนฟิก ER ของ **แบบจำลองใบแจ้งหนี้ (Litware)** ใน **สถานะ** [แบบร่าง](general-electronic-reporting.md#component-versioning)

![รุ่น 50.1 ของการตั้งค่าคอนฟิก ER บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-added-custom-model.png)

#### <a name="configure-a-custom-data-model"></a>ตั้งค่าคอนฟิกรูปแบบข้อมูลแบบกำหนดเอง

คุณต้องแก้ไขรูปแบบข้อมูลที่กำหนดเองของคุณโดยการเพิ่มฟิลด์ใหม่เพื่อให้ค่าของรหัสประจำตัวผู้เสียภาษี รหัสนี้เป็นส่วนหนึ่งของข้อมูลลูกค้าสำหรับรูปแบบ ER ทั้งหมดที่จะใช้รูปแบบข้อมูลนี้เป็นแหล่งข้อมูล

1. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้เลือก **แบบจำลองใบแจ้งหนี้ (Litware)**
2. บน FastTab **รุ่น** เลือกรุ่น **50.1** ของการตั้งค่าคอนฟิกรูปแบบข้อมูล ER ที่เลือกในสถานะ **แบบร่าง**
3. ในบานหน้าต่างการดำเนินการ ให้เลือก **ตัวออกแบบ** สำหรับรุ่นการตั้งค่าคอนฟิกที่เลือก
4. บนหน้า **ตัวออกแบบรูปแบบข้อมูล** ในแผนภูมิรูปแบบข้อมูล ให้เลือก **ข้อมูลลูกค้า (ลูกค้า)**
5. เลือก **ใหม่**
6. ในกล่องโต้ตอบแบบหล่นลง ในฟิลด์ **โหนดใหม่เป็น** ให้ยอมรับค่าเริ่มต้น **รายการรองของโหนดที่ใช้งานอยู่**
7. ในฟิลด์ **ชื่อ** ให้ป้อน **FederalTaxID\_Litware**
8. ในฟิลด์ **ชนิดสินค้า** ให้ยอมรับค่าเริ่มต้น **สตริง**
9. เลือก **เพิ่ม** แล้วจากนั้น เลือก **บันทึก**

    ![หน้าตัวออกแบบรูปแบบข้อมูล](./media/er-quick-start3-add-data-model-field.png)

    > [!NOTE]
    > ฟิลด์ **ป้ายชื่อ** และฟิลด์ **คำอธิบาย** จะอธิบายวัตถุประสงค์ของฟิลด์ใหม่ คุณสามารถกรอกข้อมูลในฟิลด์เหล่านี้ได้ในหลายภาษา สำหรับข้อมูลเพิ่มเติม ดู [ออกแบบรายงานหลายภาษาในการรายงานทางอิเล็กทรอนิกส์](er-design-multilingual-reports.md)

10. ปิดหน้า **ตัวออกแบบรูปแบบข้อมูล**

#### <a name="complete-a-custom-data-model-configuration"></a>ดำเนินการตั้งค่าคอนฟิกรูปแบบข้อมูลแบบกำหนดเองให้เสร็จสมบูรณ์

คุณต้อง [ดำเนินการ](general-electronic-reporting.md#component-versioning) งานของคุณให้เสร็จสมบูรณ์ด้วยรุ่น 50.1 ของการตั้งค่าคอนฟิกรูปแบบข้อมูล ER แบบกำหนดเองของคุณเพื่อทำให้พร้อมใช้งาน เพื่อให้สามารถเพิ่มการตั้งค่าคอนฟิก ER แบบกำหนดเองอื่นๆ ได้

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้** และเลือก **แบบจำลองใบแจ้งหนี้ (Litware)**
3. บนแท็บด่วน **รุ่น** เลือก **เปลี่ยนสถานะ** \> **เสร็จสมบูรณ์** แล้วเลือก **ตกลง**

สถานะของรุ่น 50.1 มีการเปลี่ยนแปลงจาก **แบบร่าง** เป็น **เสร็จสมบูรณ์** แล้วและรุ่นจะกลายเป็นแบบอ่านอย่างเดียว รุ่นใหม่ที่สามารถแก้ไขได้ 50.2 ถูกเพิ่มและมีสถานะเป็น **แบบร่าง** คุณสามารถใช้รุ่นนี้เพื่อทำการเปลี่ยนแปลงเพิ่มเติมในการตั้งค่าคอนฟิกรูปแบบข้อมูล ER แบบกำหนดเองของคุณได้

![รุ่น 50.1 เสร็จสมบูรณ์บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-completed-custom-model1.png)

### <a name="customize-the-model-mapping-configuration"></a>กำหนดการตั้งค่าคอนฟิกการแม็ปแบบจำลอง

ในฐานะผู้ใช้ในบทบาทนักพัฒนาการรายงานทางอิเล็กทรอนิกส์ คุณสามารถออกแบบการแม็ปแบบจำลอง ER แบบกำหนดเองของคุณได้

#### <a name="add-a-custom-model-mapping-configuration"></a>เพิ่มการตั้งค่าคอนฟิกการแม็ปแบบจำลองแบบกำหนดเอง

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้ของลูกค้า** และเลือกการแม็ป **แบบจำลองใบแจ้งหนี้ของลูกค้า**
3. ในบานหน้าต่างการดำเนินการ ให้เลือก **สร้างการตั้งค่าคอนฟิก**
4. ในกล่องโต้ตอบแบบหล่นลง ในฟิลด์ **ใหม่** ให้เลือก **ได้รับมาจากชื่อ: การแม็ปแบบจำลองใบแจ้งหนี้ของลูกค้า, Microsoft** เพื่อระบุว่าการตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER แบบกำหนดเองใหม่ของคุณควรขึ้นอยู่กับการตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER
5. ในฟิลด์ **ชื่อ** ป้อน **การแม็ปแบบจำลองใบแจ้งหนี้ (Litware)**
6. ในฟิลด์ **แบบจำลองเป้าหมาย** ให้เลือก **แบบจำลองใบแจ้งหนี้ (Litware)**

    > [!IMPORTANT]
    > ขั้นตอนนี้มีความสำคัญมาก ถ้าคุณไม่ใช้ คุณจะไม่สามารถใช้รูปแบบข้อมูลแบบกำหนดเองของคุณได้ในการแม็ปแบบจำลองที่ตั้งค่าคอนฟิก

7. เลือก **สร้างการตั้งค่าคอนฟิก** เพื่อเพิ่มการตั้งค่าคอนฟิก ER ใหม่

![การเพิ่มการตั้งค่าคอนฟิกการแม็ปแบบจำลองแบบกำหนดเองในหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-adding-custom-mapping.png)

#### <a name="configure-a-custom-model-mapping"></a>ตั้งค่าคอนฟิกการแม็ปแบบจำลองแบบกำหนดเอง

คุณต้องแก้ไขการแม็ปแบบจำลองแบบกำหนดเองของคุณ และระบุว่าควรจะเติมข้อมูลในฟิลด์ **FederalTaxID\_Litware** ของรูปแบบข้อมูลแบบกำหนดเองด้วยข้อมูลแอปพลิเคชันที่รันไทม์ได้อย่างไร

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้ของลูกค้า** \> **การแม็ปแบบจำลองใบแจ้งหนี้ของลูกค้า** และเลือก **การแม็ปแบบจำลองใบแจ้งหนี้ (Litware)**
3. บนบานหน้าต่างการดำเนินการ เลือก **ตัวออกแบบ**
4. บนหน้า **การแม็ปแบบจำลองกับแหล่งข้อมูล** เลือกการแม็ป **ใบแจ้งหนี้ของลูกค้า**

    ![หน้าการแม็ปแบบจำลองกับแหล่งข้อมูล](./media/er-quick-start3-select-customer-mapping.png)

5. เลือก **ตัวออกแบบ**
6. บนหน้า **ตัวออกแบบการแม็ปแบบจำลอง** ในบานหน้าต่าง **แหล่งข้อมูล** ให้ขยายแหล่งข้อมูล **CustInvoiceJour** ที่แสดงถึงตารางแอปพลิเคชัน **CustInvoiceJour**
7. ภายใต้ **CustInvoiceJour** ขยาย **ความสัมพันธ์** เพื่อรีวิวรายการของความสัมพันธ์ชนิดกลุ่มต่อหนึ่ง (N:1) สำหรับตาราง **CustInvoiceJour**
8. ภายใต้ **CustInvoiceJour** \> **ความสัมพันธ์** ให้ขยาย **ลูกค้า (CustTable)** เพื่อเข้าถึงฟิลด์และความสัมพันธ์ของตาราง **ลูกค้า (CustTable)**
9. เลือกฟิลด์แหล่งข้อมูล **FederalTaxID\_Custom** ที่คุณใช้งาน [ก่อนหน้านี้](#insert_custom_field)
10. ในบานหน้าต่าง **รูปแบบข้อมูล** ให้ขยาย **ข้อมูลลูกค้า (ลูกค้า)** แล้วเลือกฟิลด์รูปแบบข้อมูล **FederalTaxID\_Litware**
11. เลือก **ผูก**

    ![หน้าตัวออกแบบการแม็ปแบบจำลอง](./media/er-quick-start3-customize-model-mapping.gif)

12. เลือก **บันทึก**
13. ปิดหน้า **ตัวออกแบบการแม็ปรูปแบบ**
14. ปิดหน้า **การแม็ปแบบจำลองกับแหล่งข้อมูล**

#### <a name="complete-a-custom-model-mapping-configuration"></a>ดำเนินการตั้งค่าคอนฟิกการแม็ปแบบจำลองแบบกำหนดเองให้เสร็จสมบูรณ์

คุณต้อง [ดำเนินการ](general-electronic-reporting.md#component-versioning) งานของคุณให้เสร็จสมบูรณ์ด้วยรุ่น 50.19.1 ของการตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER แบบกำหนดเองของคุณเพื่อทำให้พร้อมใช้งาน

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้ของลูกค้า** \> **การแม็ปแบบจำลองใบแจ้งหนี้ของลูกค้า** และเลือก **การแม็ปแบบจำลองใบแจ้งหนี้ (Litware)**
3. บนแท็บด่วน **รุ่น** เลือก **เปลี่ยนสถานะ** \> **เสร็จสมบูรณ์** แล้วเลือก **ตกลง**

สถานะของรุ่น 50.19.1 มีการเปลี่ยนแปลงจาก **แบบร่าง** เป็น **เสร็จสมบูรณ์** แล้วและรุ่นจะกลายเป็นแบบอ่านอย่างเดียว รุ่นใหม่ที่สามารถแก้ไขได้ 50.19.2 ถูกเพิ่มและมีสถานะเป็น **แบบร่าง** คุณสามารถใช้รุ่นนี้เพื่อทำการเปลี่ยนแปลงเพิ่มเติมในการตั้งค่าคอนฟิกรูปการแม็ปแบบจำลอง ER แบบกำหนดเองของคุณได้

![รุ่น 50.19.1 เสร็จสมบูรณ์บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-completed-custom-mapping1.png)

> [!NOTE]
> [วงจรการใช้งาน](general-electronic-reporting-manage-configuration-lifecycle.md) ของการตั้งค่าคอนฟิกที่ได้รับการสนับสนุน ไม่ครอบคลุมวงจรการใช้งานของการเปลี่ยนแปลงฐานข้อมูล ถ้าคุณส่งออกรุ่น 50.19.1 ของการตั้งค่าคอนฟิก **การแม็ปแบบจำลองใบแจ้งหนี้ (Litware)** จากอินสแตนซ์ Finance ปัจจุบัน และลองนำเข้าไปในอินสแตนซ์อื่นที่ไม่มีฟิลด์ **FederalTaxID\_Custom** ในตาราง **CustTable** ข้อยกเว้นจะเกิดขึ้น ข้อยกเว้นจะระบุว่าการตั้งค่าคอนฟิก ER ที่นำเข้าไม่เข้ากันกับข้อมูลเมตาของอินสแตนซ์ Finance เป้าหมาย

### <a name="customize-the-format-configuration"></a>เลือกกำหนดการตั้งค่าคอนฟิกรูปแบบ

ในฐานะผู้ใช้ในบทบาทที่ปรึกษาด้านงานการรายงานทางอิเล็กทรอนิกส์ คุณสามารถออกแบบรูปแบบ ER แบบกำหนดเองของคุณได้

#### <a name="add-a-custom-format-configuration"></a>เพิ่มการตั้งค่าคอนฟิกรูปแบบแบบกำหนดเอง

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. ในหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้ของลูกค้า** \> **ใบแจ้งหนี้การขาย UBL** และ **ใบแจ้งหนี้การขาย Peppol**
3. ในบานหน้าต่างการดำเนินการ ให้เลือก **สร้างการตั้งค่าคอนฟิก**
4. ในกล่องโต้ตอบแบบหล่นลง ในฟิลด์ **ใหม่** ให้เลือก **ได้รับมาจากชื่อ: ใบแจ้งหนี้การขาย Peppol, Microsoft** เพื่อระบุว่าการตั้งค่าคอนฟิกรูปแบบ ER แบบกำหนดเองใหม่ของคุณควรขึ้นอยู่กับการตั้งค่าคอนฟิกรูปแบบ ER
5. ในฟิลด์ **ชื่อ** ป้อน **ใบแจ้งหนี้การขาย Peppol (Litware)**
6. ในฟิลด์ **รูปแบบข้อมูล** ให้เลือก **แบบจำลองใบแจ้งหนี้ (Litware)** เพื่อใช้รูปแบบข้อมูลแบบกำหนดเองและส่วนประกอบการแม็ปแบบจำลองของคุณ

    > [!NOTE]
    > ขั้นตอนนี้มีความสำคัญมาก ถ้าคุณไม่ใช้ คุณจะไม่สามารถใช้รูปแบบข้อมูลแบบกำหนดเองของคุณได้ในรูปแบบที่ตั้งค่าคอนฟิก

7. ในฟิลด์ **รูปแบบข้อมูล** ให้เลือกข้อกำหนดราก **InvoiceCustomer**
8. เลือก **สร้างการตั้งค่าคอนฟิก** เพื่อเพิ่มการตั้งค่าคอนฟิก ER ใหม่

![การเพิ่มการตั้งค่าคอนฟิกรูปแบบแบบกำหนดเองในหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-adding-custom-format.png)

ขณะนี้คุณสามารถใช้ตัวออกแบบการดำเนินการ ER เพื่อแก้ไขรุ่น 11.2.2.1 ของการตั้งค่าคอนฟิก ER ของ **ใบแจ้งหนี้การขาย Peppol (Litware)** ใน **สถานะ** [แบบร่าง](general-electronic-reporting.md#component-versioning)

![รุ่น 11.2.2.1 ของการตั้งค่าคอนฟิก ER บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-added-custom-format.png)

#### <a name="configure-a-custom-format"></a>ตั้งค่าคอนฟิกรูปแบบที่กำหนดเอง

คุณต้องแก้ไขรูปแบบที่กำหนดเองของคุณโดยการเพิ่มองค์ประกอบรูปแบบใหม่เพื่อเติมค่าของรหัสประจำตัวผู้เสียภาษีของลูกค้าที่ออกใบแจ้งหนี้แล้ว

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้ของลูกค้า** \> **ใบแจ้งหนี้การขาย UBL** \> **ใบแจ้งหนี้การขาย Peppol** และเลือก **ใบแจ้งหนี้การขาย Peppol (Litware)**
3. บนบานหน้าต่างการดำเนินการ เลือก **ตัวออกแบบ**
4. ในแผนภูมิรูปแบบ ขยาย **XMLHeader** \> **ใบแจ้งหนี้** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** และเลือก **cbc:ID**
5. เลือก **เพิ่ม** แล้วจากนั้น เลือก **XML** \> **แอททริบิวต์**
6. ในกล่องโต้ตอบ **คุณสมบัติของส่วนประกอบ** ในฟิลด์ **ชื่อ** ให้ป้อน **FederalTaxID**
7. เลือก **ตกลง** เพื่อเพิ่มองค์ประกอบรูปแบบใหม่เพื่อสร้างแอททริบิวต์ XML ของ **FederalTaxID** ใหม่ในไฟล์ XML ที่สร้างขึ้น
8. ในแผนภูมิรูปแบบ ภายใต้ **XMLHeader** \> **ใบแจ้งหนี้** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** \> **cbc:ID** เลือก **FederalTaxID**
9. เลือก **เลื่อนขึ้น**

![องค์ประกอบรูปแบบใหม่บนหน้าตัวออกแบบรูปแบบ](./media/er-quick-start3-customized-format.png)

#### <a name="configure-a-custom-format-mapping"></a>ตั้งค่าคอนฟิกการแม็ปรูปแบบที่กำหนดเอง

1. บนหน้า **ตัวออกแบบรูปแบบ** บนแท็บ **การแม็ป** ให้ขยายแหล่งข้อมูล **ใบแจ้งหนี้** ของชนิด **แบบจำลอง**
2. ภายใต้ **ใบแจ้งหนี้** ให้ขยาย **ข้อมูลลูกค้า (ลูกค้า)** และเลือก **FederalTaxID\_Litware**
3. เลือก **ผูก**

    ![หน้าตัวออกแบบรูปแบบ](./media/er-quick-start3-customized-format-mapping.png)

4. เลือกแหล่งข้อมูล **ใบแจ้งหนี้** ของชนิด **แบบจำลอง** และจากนั้น เลือก **แก้ไข**
5. ในฟิลด์ **รุ่น** ให้เลือกรุ่น **1** ของรูปแบบข้อมูลที่กำหนดเองของคุณ แล้วจากนั้น เลือก **ตกลง**
6. เลือก **บันทึก**
7. ปิดหน้า **ตัวออกแบบรูปแบบ**

#### <a name="complete-a-custom-format-configuration"></a>ดำเนินการตั้งค่าคอนฟิกรูปแบบที่กำหนดเองให้เสร็จสมบูรณ์

คุณต้อง [ดำเนินการ](general-electronic-reporting.md#component-versioning) งานของคุณให้เสร็จสมบูรณ์ด้วยเวอร์ชัน11.2.2.1 ของการตั้งค่าคอนฟิกรูปแบบ ER แบบกำหนดเองของคุณเพื่อทำให้พร้อมใช้งาน

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้ของลูกค้า** \> **ใบแจ้งหนี้การขาย UBL** \> **ใบแจ้งหนี้การขาย Peppol** และเลือก **ใบแจ้งหนี้การขาย Peppol (Litware)**
3. บนแท็บด่วน **รุ่น** เลือก **เปลี่ยนสถานะ** \> **เสร็จสมบูรณ์** แล้วเลือก **ตกลง**

สถานะของรุ่น 11.2.2.1 มีการเปลี่ยนแปลงจาก **แบบร่าง** เป็น **เสร็จสมบูรณ์** แล้วและรุ่นจะกลายเป็นแบบอ่านอย่างเดียว รุ่นใหม่ที่สามารถแก้ไขได้ 11.2.2.2 ถูกเพิ่มและมีสถานะเป็น **แบบร่าง** คุณสามารถใช้รุ่นนี้เพื่อทำการเปลี่ยนแปลงเพิ่มเติมในการตั้งค่าคอนฟิกรูปแบบ ER แบบกำหนดเองของคุณได้

![รุ่น 11.2.2.1 เสร็จสมบูรณ์บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-completed-custom-format1.png)

## <a name="configure-the-accounts-receivable-parameters-to-start-to-use-custom-er-configurations"></a><a name="ConfigureAR2"></a>ตั้งค่าคอนฟิกพารามิเตอร์บัญชีลูกหนี้เพื่อเริ่มต้นใช้งานการตั้งค่าคอนฟิก ER แบบกำหนดเอง

1. ไปที่ **บัญชีลูกหนี้** \> **การตั้งค่า** \> **พารามิเตอร์บัญชีลูกหนี้**
2. บนแท็บ **เอกสารอิเล็กทรอนิกส์** บน FastTab **การรายงานทางอิเล็กทรอนิกส์** ในฟิลด์ **การขายและใบแจ้งหนี้ข้อความอิสระ** ให้เลือก **ใบแจ้งหนี้การขาย Peppol (Litware)**
3. เลือก **บันทึก**

![หน้าพารามิเตอร์ของบัญชีลูกหนี้, แท็บเอกสารอิเล็กทรอนิกส์, FastTab การรายงานทางอิเล็กทรอนิกส์](./media/er-quick-start3-configure-ar2.png)

## <a name="update-a-customer-record-by-adding-a-federal-tax-identification-code"></a><a name="ConfigureCustomer2"></a>อัพเดตเรกคอร์ดลูกค้าโดยการเพิ่มรหัสประจำตัวผู้เสียภาษี

1. ไปที่ **บัญชีลูกหนี้** \> **ลูกค้า** \> **ลูกค้าทั้งหมด**
2. บนหน้า **ลูกค้าทั้งหมด** ให้เลือกลิงค์บัญชีลูกค้า **DE-014**
3. บน FastTab **ทั่วไป** ในฟิลด์ **หมายเลขประจำตัวผู้เสียภาษี** ให้ป้อน **LITWARE-6789**
4. เลือก **บันทึก**

    ![หน้ารายละเอียดลูกค้า DE-014](./media/er-quick-start3-added-tax-id-value.png)

5. ปิดหน้า **ลูกค้าทั้งหมด**

## <a name="process-a-customer-invoice-by-using-custom-er-configurations"></a><a name="ProcessInvoice2"></a>ดำเนินการออกใบแจ้งหนี้ของลูกค้าโดยใช้การตั้งค่าคอนฟิก ER แบบกำหนดเอง

### <a name="select-and-send-a-posted-invoice"></a>เลือกและส่งใบแจ้งหนี้ที่ลงรายการบัญชีแล้ว

1. ไปที่ **บัญชีลูกหนี้** \> **ใบแจ้งหนี้** \> **ใบแจ้งหนี้ข้อความอิสระทั้งหมด**
2. บนหน้า **ใบแจ้งหนี้ข้อความอิสระ** ให้เลือกใบแจ้งหนี้ที่คุณเพิ่มและลงรายการบัญชีไว้ก่อนหน้านี้
3. ในบานหน้าต่างการดำเนินการ ในกลุ่ม **เอกสาร** ให้เลือก **ส่ง** \> **ต้นฉบับ**
4. ปิดหน้า **ใบแจ้งหนี้ข้อความอิสระ**

### <a name="analyze-a-generated-e-invoice"></a>วิเคราะห์ใบแจ้งหนี้อิเล็กทรอนิกส์ที่สร้างขึ้น

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **งานการรายงานทางอิเล็กทรอนิกส์**
2. บนหน้า **งานการรายงานทางอิเล็กทรอนิกส์** ให้เลือกเรกคอร์ดล่าสุดที่มีคำอธิบายงาน **ส่ง eInvoice XML**
3. เลือก **แสดงไฟล์** เพื่อเข้าถึงรายการของไฟล์ที่สร้างขึ้น
4. เลือก **เปิด** เพื่อดาวน์โหลดไฟล์ XML ของใบแจ้งหนี้อิเล็กทรอนิกส์ที่ถูกสร้างขึ้น
5. วิเคราะห์ไฟล์ XML ของใบแจ้งหนี้อิเล็กทรอนิกส์ โปรดสังเกตว่า โดยสอดคล้องกับการกำหนดเองของคุณ เค้าร่างภาษีของลูกค้าจะรวมแอททริบิวต์ XML ของ **FederalTaxID** แบบกำหนดเอง นอกเหนือจากแอททริบิวต์ XML ของ **schemeID** และ **schemeAgencyID** ค่าของแอททริบิวต์ XML ใหม่นี้จะระบุโดยรหัสภาษีของรัฐบาลกลาง **LITWARE-6789** ที่ป้อนไว้สำหรับลูกค้าที่ออกใบแจ้งหนี้แล้ว

    ![พรีวิวของไฟล์ XML ของใบแจ้งหนี้ที่สร้างขึ้นด้วยการเลือกกำหนดของคุณ](./media/er-quick-start3-e-invoice2.png)

## <a name="import-the-latest-versions-of-standard-er-configurations"></a><a name="ImportERConfigurations2"></a>นำเข้าเวอร์ชันล่าสุดของการตั้งค่าคอนฟิก ER มาตรฐาน

เมื่อต้องการทำให้ชุดของการตั้งค่าคอนฟิก ER มาตรฐานในอินสแตนซ์ Finance ของคุณ [เป็นปัจจุบันอยู่เสมอ](general-electronic-reporting-manage-configuration-lifecycle.md) คุณต้องนำเข้ารุ่นใหม่เมื่อใดก็ตามที่พร้อมใช้งานใน [ที่เก็บ](general-electronic-reporting.md#Repository) ER ซึ่งถูกตั้งค่าคอนฟิกสำหรับอินสแตนซ์นั้น

1. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
2. ในหน้า **การตั้งค่าคอนฟิกเฉพาะ** ในส่วน **ผู้ให้บริการการตั้งค่าคอนฟิก** ให้เลือกไทล์ **Microsoft** แล้วเลือก **ที่เก็บ** เพื่อดูรายการของที่เก็บสำหรับผู้ให้บริการ Microsoft
3. บนหน้า **ที่เก็บการตั้งค่าคอนฟิก** เลือกที่เก็บของชนิด **ส่วนกลาง** และจากนั้นเลือก **เปิด** ถ้าคุณได้รับพร้อมต์ให้ตรวจสอบเพื่อเชื่อมต่อกับ Regulatory Configuration Service ให้ทำตามคำแนะนำการตรวจสอบ
4. บนหน้า **ที่เก็บการตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้เลือกการตั้งค่าคอนฟิกรูปแบบ **ใบแจ้งหนี้การขาย PEPPOL**
5. บน FastTab **รุ่น** เลือกรุ่น **32.6.7** ของการตั้งค่าคอนฟิกรูปแบบ ER ที่เลือกซึ่งถูกนำออกใช้เพื่อสนับสนุนใบแจ้งหนี้อิเล็กทรอนิกส์ของลูกค้าในรูปแบบ PEPPOL BIS 3 สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [KB4490320](https://support.microsoft.com/help/4490320/an-update-for-european-union-to-support-export-of-customers-electronic)
6. เลือก **นำเข้า** เพื่อดาวน์โหลดเวอร์ชันที่เลือกจากที่เก็บส่วนกลางไปยังอินสแตนซ์การเงินปัจจุบัน

![รุ่น 32.6.7 ที่เลือกบนหน้าที่เก็บการตั้งค่าคอนฟิก](./media/er-quick-start3-import-solution2.png)

สำหรับข้อมูลเกี่ยวกับวิธีการที่กระบวนการนี้สามารถเป็นแบบอัตโนมัติ ให้ดูที่ [นำเข้ารุ่นที่อัพเดตแล้วของการตั้งค่าคอนฟิก ER](er-download-updated-versions-global-repo.md)

### <a name="review-the-imported-er-configurations"></a>ตรวจทานและนำเข้าการตั้งค่าคอนฟิก ER

1. ไปที่ **การจัดการองค์กร** \> **พื้นที่ทำงาน** \> **การรายงานทางอิเล็กทรอนิกส์**
2. บนหน้า **การตั้งค่าคอนฟิกการแปลเป็นภาษาท้องถิ่น** ในส่วน **การตั้งค่าคอนฟิก** เลือกไทล์ **การตั้งค่าคอนฟิกการรายงาน**
3. ขยาย FastTab **ส่วนประกอบการตั้งค่าคอนฟิก**
4. ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้** โปรดสังเกตว่าชื่อของ **แบบจำลองใบแจ้งหนี้ของลูกค้า** ถูกเปลี่ยนเป็น **แบบจำลองใบแจ้งหนี้** ในหนึ่งในการตั้งค่าคอนฟิกรูปแบบข้อมูล ER ที่นำเข้า
5. ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **การแม็ปแบบจำลองใบแจ้งหนี้** โปรดสังเกตว่าชื่อของ **การแม็ปแบบจำลองใบแจ้งหนี้ของลูกค้า** ถูกเปลี่ยนเป็น **การแม็ปแบบจำลองใบแจ้งหนี้** ในหนึ่งในการตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER ที่นำเข้า
6. ขยาย **ใบแจ้งหนี้การขาย UBL** \> **ใบแจ้งหนี้การขาย Peppol**

โปรดสังเกตว่า นอกเหนือจากรูปแบบ ER ของ **ใบแจ้งหนี้การขาย Peppol** ที่เลือก มีการนำเข้ารุ่นล่าสุดของการตั้งค่าคอนฟิก ER ที่จำเป็นอื่นๆ ด้วย เนื่องจากการตั้งค่าคอนฟิก ER รุ่นใหม่มีการเผยแพร่อย่างต่อเนื่องไปยังที่เก็บส่วนกลางและ LCS เพื่อให้โซลูชัน ER ที่สัมพันธ์กันสอดคล้องกับความต้องการใหม่ รุ่นล่าสุดของการตั้งค่าคอนฟิกรูปแบบข้อมูลที่จำเป็นและการตั้งค่าคอนฟิกการแม็ปแบบจำลองได้ถูกนำเข้า

ตรวจสอบให้แน่ใจว่าการตั้งค่าคอนฟิก ER ต่อไปนี้จะพร้อมใช้งานในแผนภูมิการตั้งค่าคอนฟิกในที่สุด:

- **รูปแบบข้อมูล** การตั้งค่าคอนฟิกรูปแบบข้อมูล ER:

    - รุ่น 206 (หรือใหม่กว่า) มีรุ่น 24 (หรือใหม่กว่า) ของส่วนประกอบ ER ของรูปแบบข้อมูลซึ่งแสดงถึงโครงสร้างข้อมูลของโดเมนธุรกิจของการออกใบแจ้งหนี้ มีการนำเข้าการตั้งค่าคอนฟิก ER นี้เป็นข้อมูลเก่าของการตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER ของ **การแม็ปแบบจำลองใบแจ้งหนี้** ที่พร้อมใช้งานล่าสุด

    ![รุ่น 206 บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-imported-solution2b1.png)

- **การแม็ปแบบจำลองใบแจ้งหนี้** การตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER:

    - มีการนำเข้ารุ่น 206.132 (หรือใหม่กว่า) เป็นการใช้งานล่าสุดของรุ่น 206 ของการตั้งค่าคอนฟิกรูปแบบข้อมูล ER ของ **แบบจำลองใบแจ้งหนี้** ซึ่งมีส่วนประกอบ ER ของการแม็ปแบบจำลองหลายรายการที่อธิบายวิธีการกรอกข้อมูลในรูปแบบข้อมูลด้วยข้อมูลของแอปพลิเคชันที่รันไทม์

    ![รุ่น 206.132 บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-imported-solution2b2.png)

- **ใบแจ้งหนี้การขาย UBL** การตั้งค่าคอนฟิกรูปแบบ ER:

    - รุ่น 32.6 มีส่วนประกอบ ER ของรูปแบบและการแม็ปรูปแบบ ส่วนประกอบรูปแบบระบุโครงร่างรายงาน ส่วนประกอบการแม็ปรูปแบบมีแหล่งข้อมูลแบบจำลองและระบุวิธีการใช้เแหล่งข้อมูลนี้เพื่อกรอกข้อมูลในโครงร่างรายงานในขณะรันไทม์ รูปแบบ ER นี้ได้รับการตั้งค่าคอนฟิกเพื่อสร้างใบแจ้งหนี้อิเล็กทรอนิกส์ในรูปแบบ UBL ซึ่งมีการนำเข้าเป็นรายการหลักของรูปแบบ ER ของ **ใบแจ้งหนี้การขาย Peppol** ที่เลือกสำหรับการนำเข้า

- **ใบแจ้งหนี้การขาย Peppol** การตั้งค่าคอนฟิกรูปแบบ ER:

    - รุ่น 32.6.7 มีส่วนประกอบ ER ของรูปแบบและการแม็ปรูปแบบที่มีการตั้งค่าคอนฟิกเพื่อสร้างใบแจ้งหนี้ในรูปแบบ PEPPOL

    ![รุ่น 32.6.7 บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-imported-solution2b3.png)

## <a name="adopt-the-changes-to-the-new-standard-er-configurations-in-your-custom-er-configurations"></a><a name="RebaseCustomERConfigurations"></a>นำการเปลี่ยนแปลงไปใช้กับการตั้งค่าคอนฟิก ER มาตรฐานใหม่ในการตั้งค่าคอนฟิก ER แบบกำหนดเองของคุณ

### <a name="adopt-your-custom-er-data-model"></a>ปรับใช้รูปแบบข้อมูล ER แบบกำหนดเองของคุณ

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้** และเลือก **แบบจำลองใบแจ้งหนี้ (Litware)**
3. บน FastTab **รุ่น** สำหรับรุ่นแบบร่าง **50.2** ของการตั้งค่าคอนฟิกรูปแบบข้อมูลที่เลือก ให้เลือก **ปรับใช้ซ้ำ**
4. ในฟิลด์ **รุ่นเป้าหมาย** ยืนยันการเลือกของรุ่น **206** ของการตั้งค่าคอนฟิกรูปแบบข้อมูล ER พื้นฐาน แล้วจากนั้น เลือก **ตกลง**

    รุ่นแบบร่างของการตั้งค่าคอนฟิกรูปแบบข้อมูล ER แบบกำหนดเองของคุณถูกกำหนดหมายเลขใหม่จาก **50.2** เป็น **206.2** เพื่อบ่งชี้ว่าขณะนี้มีการเลือกกำหนดของคุณซึ่งถูกผสานกับการเปลี่ยนแปลงในรุ่นล่าสุด (206) ของการตั้งค่าคอนฟิกรูปแบบข้อมูล ER พื้นฐาน

    > [!NOTE]
    > การดำเนินการปรับใช้ซ้ำย้อนกลับ ถ้าต้องการยกเลิกการปรับใช้ซ้ำนี้ ให้เลือกรุ่น **50.1** ของแบบจำลอง **แบบจำลองใบแจ้งหนี้ (Litware)** บน FastTab **รุ่น** แล้วจากนั้น เลือก **เรียกใช้รุ่นนี้** รุ่น 206.2 จะถูกกำหนดหมายเลขกลับไปเป็น **50.2** และเนื้อหาของรุ่นแบบร่าง 50.2 จะจับคู่เนื้อหาของรุ่น 50.1

5. บนแท็บด่วน **รุ่น** เลือก **เปลี่ยนสถานะ** \> **เสร็จสมบูรณ์** แล้วเลือก **ตกลง**

สถานะของรุ่น 206.2 มีการเปลี่ยนแปลงจาก **แบบร่าง** เป็น **เสร็จสมบูรณ์** แล้วและรุ่นจะกลายเป็นแบบอ่านอย่างเดียว รุ่นที่แก้ไขใหม่ได้ 206.3 ถูกเพิ่มและมีสถานะเป็น **แบบร่าง** คุณสามารถใช้รุ่นนี้เพื่อทำการเปลี่ยนแปลงเพิ่มเติมในการตั้งค่าคอนฟิกรูปแบบข้อมูล ER แบบกำหนดเองของคุณได้

![รุ่น 206.2 เสร็จสมบูรณ์บนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-completed-custom-model2.png)

### <a name="adopt-your-custom-er-model-mapping"></a>ปรับใช้การแม็ปแบบจำลอง ER แบบกำหนดเองของคุณ

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้** \> **การแม็ปแบบจำลองใบแจ้งหนี้** และเลือก **การแม็ปแบบจำลองใบแจ้งหนี้ (Litware)**
3. บน FastTab **รุ่น** สำหรับรุ่นแบบร่าง **50.19.2** ของการตั้งค่าคอนฟิกการแม็ปแบบจำลองที่เลือก เลือก **ปรับใช้ซ้ำ**
4. ในฟิลด์ **รุ่นเป้าหมาย** ยืนยันการเลือกของรุ่น **206.132** ของการตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER พื้นฐาน แล้วจากนั้น เลือก **ตกลง**

    รุ่นแบบร่างของการตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER แบบกำหนดเองของคุณถูกกำหนดหมายเลขใหม่จาก **50.19.2** เป็น **206.132.2** เพื่อบ่งชี้ว่าขณะนี้มีการเลือกกำหนดของคุณซึ่งถูกผสานกับการเปลี่ยนแปลงในรุ่นล่าสุด (206.132) ของการตั้งค่าคอนฟิกการแม็ปแบบจำลอง ER พื้นฐาน

    โปรดสังเกตว่ามีการค้นพบความขัดแย้งของการปรับใช้ซ้ำบางอย่าง ขณะนี้คุณต้องแก้ไขความขัดแย้งเหล่านั้นด้วยตนเอง

    ![ข้อความแสดงความขัดแย้งของการปรับใช้ซ้ำบนหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-rebase-conflicts-model-mapping1.png)

5. บนบานหน้าต่างการดำเนินการ ให้เลือก **ตัวออกแบบ** และจากนั้น ในรายการของการแม็ป ให้เลือก **ใบแจ้งหนี้ของลูกค้า**
6. สำหรับความขัดแย้งของการปรับใช้ซ้ำแต่ละรายการ ให้เลือก **เก็บค่าของตนเอง** เนื่องจากคุณต้องเก็บหมายเลขรุ่นของรูปแบบข้อมูลที่กำหนดเองของคุณสำหรับส่วนประกอบทั้งหมดที่ได้ถูกกล่าวถึง

    ![ความขัดแย้งของการปรับใช้ซ้ำบนหน้าตัวออกแบบการแม็ปแบบจำลอง](./media/er-quick-start3-rebase-conflicts-model-mapping2.png)

7. เลือก **บันทึก** แล้วจากนั้น ปิดหน้า **ตัวออกการแม็ปแบบจำลอง**
8. ในรายการของการแม็ป ให้เลือก **ใบแจ้งหนี้โครงการ**
9. สำหรับความขัดแย้งของการปรับใช้ซ้ำแต่ละรายการ ให้เลือก **เก็บค่าของตนเอง** เนื่องจากคุณต้องเก็บหมายเลขรุ่นของรูปแบบข้อมูลที่กำหนดเองของคุณสำหรับส่วนประกอบทั้งหมดที่ได้ถูกกล่าวถึง
10. เลือก **บันทึก** แล้วจากนั้น ปิดหน้า **การแม็ปแบบจำลอง**

    > [!NOTE]
    > การดำเนินการปรับใช้ซ้ำย้อนกลับ ถ้าต้องการยกเลิกการปรับใช้ซ้ำนี้ ให้เลือกรุ่น **50.19.1** ของการแม็ปแบบจำลอง **การแม็ปแบบจำลองใบแจ้งหนี้ (Litware)** บน FastTab **รุ่น** แล้วจากนั้น เลือก **เรียกใช้รุ่นนี้** รุ่น 206.132.2 จะถูกกำหนดหมายเลขกลับไปเป็น **50.19.2** และเนื้อหาของรุ่นแบบร่าง 50.19.2 จะจับคู่เนื้อหาของรุ่น 50.19.1

11. บนแท็บด่วน **รุ่น** เลือก **เปลี่ยนสถานะ** \> **เสร็จสมบูรณ์** แล้วเลือก **ตกลง**

สถานะของรุ่น 206.132.2 มีการเปลี่ยนแปลงจาก **แบบร่าง** เป็น **เสร็จสมบูรณ์** แล้วและรุ่นจะกลายเป็นแบบอ่านอย่างเดียว รุ่นที่แก้ไขใหม่ได้ 206.132.3 ถูกเพิ่มและมีสถานะเป็น **แบบร่าง** คุณสามารถใช้รุ่นนี้เพื่อทำการเปลี่ยนแปลงเพิ่มเติมในการตั้งค่าคอนฟิกรูปการแม็ปแบบจำลอง ER แบบกำหนดเองของคุณได้

![รุ่น 206.132.2 เสร็จสมบูรณ์ในหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-completed-custom-mapping2.png)

### <a name="adopt-your-custom-er-format"></a>ใช้รูปแบบ ER แบบกำหนดเองของคุณ

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**
2. ในหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิกในบานหน้าต่างด้านซ้าย ให้ขยาย **แบบจำลองใบแจ้งหนี้** \> **ใบแจ้งหนี้การขาย UBL** \> **ใบแจ้งหนี้การขาย Peppol** และเลือก **ใบแจ้งหนี้การขาย Peppol (Litware)**
3. บน FastTab **รุ่น** สำหรับรุ่นแบบร่าว **11.2.2.2** ของการตั้งค่าคอนฟิกรูปแบบที่เลือก เลือก **ปรับใช้ซ้ำ**
4. ในฟิลด์รุ่น **เป้าหมาย** ยืนยันการเลือกของรุ่น **32.6.7** ของการตั้งค่าคอนฟิกรูปแบบ ER พื้นฐาน แล้วจากนั้น เลือก **ตกลง**

    รุ่นแบบร่างของการตั้งค่าคอนฟิกรูปแบบ ER แบบกำหนดเองของคุณจะถูกกำหนดหมายเลขใหม่จาก **11.2.2.2** เป็น **32.6.7.2** เพื่อบ่งชี้ว่าขณะนี้มีการเลือกกำหนดของคุณซึ่งถูกผสานกับการเปลี่ยนแปลงในรุ่นล่าสุด (32.6.7) ของการตั้งค่าคอนฟิกรูปแบบ ER พื้นฐาน

    โปรดสังเกตว่ามีการค้นพบความขัดแย้งของการปรับใช้ซ้ำบางอย่าง ขณะนี้คุณต้องแก้ไขความขัดแย้งเหล่านั้นด้วยตนเอง

5. บนบานหน้าต่างการดำเนินการ เลือก **ตัวออกแบบ**
6. สำหรับความขัดแย้งของการปรับใช้ซ้ำแต่ละรายการ ให้เลือก **เก็บค่าของตนเอง** เนื่องจากคุณต้องเก็บหมายเลขรุ่นของรูปแบบข้อมูลที่กำหนดเองของคุณสำหรับส่วนประกอบทั้งหมดที่ได้ถูกกล่าวถึง
7. เลือก **บันทึก**
8. บนแท็บ **การแม็ป** เลือกฟิลด์แหล่งข้อมูล **ใบแจ้งหนี้** ของชนิด **แบบจำลอง** และจากนั้น เลือก **แก้ไข**
9. ในฟิลด์ **รุ่น** ให้เลือกรุ่น **2** ของรูปแบบข้อมูลที่กำหนดเองของคุณ แล้วจากนั้น เลือก **ตกลง**
10. เลือก **บันทึก**

    > [!NOTE]
    > การดำเนินการปรับใช้ซ้ำย้อนกลับ ถ้าต้องการยกเลิกการปรับใช้ซ้ำนี้ ให้เลือกรุ่น **11.2.2.1** ของรูปแบบ **ใบแจ้งหนี้การขาย PEPPOL (Litware)** บน FastTab **รุ่น** แล้วจากนั้น เลือก **เรียกใช้รุ่นนี้** รุ่น 32.6.7.2 จะถูกกำหนดหมายเลขกลับไปเป็น **11.2.2.2** และเนื้อหาของรุ่นแบบร่าง 11.2.2.2 จะจับคู่เนื้อหาของรุ่น 11.2.2.1

11. ปิดหน้า **ตัวออกแบบรูปแบบ**
12. บนแท็บด่วน **รุ่น** เลือก **เปลี่ยนสถานะ** \> **เสร็จสมบูรณ์** แล้วเลือก **ตกลง**

สถานะของรุ่น 32.6.7.2 มีการเปลี่ยนแปลงจาก **แบบร่าง** เป็น **เสร็จสมบูรณ์** แล้วและรุ่นจะกลายเป็นแบบอ่านอย่างเดียว รุ่นที่แก้ไขใหม่ได้ 32.6.7.3 ถูกเพิ่มและมีสถานะเป็น **แบบร่าง** คุณสามารถใช้รุ่นนี้เพื่อทำการเปลี่ยนแปลงเพิ่มเติมในการตั้งค่าคอนฟิกรูปแบบ ER แบบกำหนดเองของคุณได้

![รุ่น 32.6.7.2 เสร็จสมบูรณ์ในหน้าการตั้งค่าคอนฟิก](./media/er-quick-start3-completed-custom-format2.png)

## <a name="process-a-customer-invoice-by-using-new-versions-of-the-custom-er-configurations"></a><a name="ProcessInvoice3"></a>ดำเนินการออกใบแจ้งหนี้ของลูกค้าโดยใช้รุ่นใหม่ของการตั้งค่าคอนฟิก ER แบบกำหนดเอง

### <a name="select-and-send-a-posted-invoice"></a>เลือกและส่งใบแจ้งหนี้ที่ลงรายการบัญชีแล้ว

1. ไปที่ **บัญชีลูกหนี้** \> **ใบแจ้งหนี้** \> **ใบแจ้งหนี้ข้อความอิสระทั้งหมด**
2. บนหน้า **ใบแจ้งหนี้ข้อความอิสระ** ให้เลือกใบแจ้งหนี้ที่คุณเพิ่มและลงรายการบัญชีไว้ก่อนหน้านี้
3. ในบานหน้าต่างการดำเนินการ ในกลุ่ม **เอกสาร** ให้เลือก **ส่ง** \> **ต้นฉบับ**

    > [!NOTE] 
    > เนื่องจากขณะนี้คุณมีสองรุ่นของการตั้งค่าคอนฟิกรูปแบบ ER ของ **ใบแจ้งหนี้การขาย PEPPOL (Litware)** และไม่มีรุ่นที่มีค่า [วันที่มีผลบังคับใช้](general-electronic-reporting.md#component-date-effectivity) รุ่นล่าสุดจะถูกใช้ในการสร้างใบแจ้งหนี้อิเล็กทรอนิกส์

4. ปิดหน้า **ใบแจ้งหนี้ข้อความอิสระ**

### <a name="analyze-a-generated-e-invoice"></a>วิเคราะห์ใบแจ้งหนี้อิเล็กทรอนิกส์ที่สร้างขึ้น

1. ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **งานการรายงานทางอิเล็กทรอนิกส์**
2. บนหน้า **งานการรายงานทางอิเล็กทรอนิกส์** ให้เลือกเรกคอร์ดล่าสุดที่มีคำอธิบายงาน **ส่ง eInvoice XML**
3. เลือก **แสดงไฟล์** เพื่อเข้าถึงรายการของไฟล์ที่สร้างขึ้น
4. เลือก **เปิด** เพื่อดาวน์โหลดไฟล์ XML ของใบแจ้งหนี้อิเล็กทรอนิกส์ที่ถูกสร้างขึ้น
5. วิเคราะห์ไฟล์ XML ของใบแจ้งหนี้อิเล็กทรอนิกส์ โปรดสังเกตว่า โดยสอดคล้องกับการกำหนดเองของคุณ แบบแผนภาษีของลูกค้าจะยังคงรวมแอททริบิวต์ XML ของ **FederalTaxID** แบบกำหนดเอง นอกเหนือจากแอททริบิวต์ XML ของ **schemeID** และ **schemeAgencyID** นอกจากนี้ เนื่องจากการเปลี่ยนแปลงในรุ่นใหม่ของรูปแบบ **ใบแจ้งหนี้การขาย UBL** ถูกผสานกับการกำหนดเองของคุณ ข้อความขององค์ประกอบ XML ของ **cbc:CustomizationID** จะมีการเปลี่ยนแปลงจาก `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0` เป็น `urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0`

    ![พรีวิวของไฟล์ XML ของใบแจ้งหนี้ที่สร้างขึ้นด้วยการเลือกกำหนด](./media/er-quick-start3-e-invoice3.png)

## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

- [ภาพรวมการรายงานทางอิเล็กทรอนิกส์](general-electronic-reporting.md)
- [ดาวน์โหลดการตั้งค่าคอนฟิก ER จาก Lifecycle Services](download-electronic-reporting-configuration-lcs.md)
- [ดาวน์โหลดการตั้งค่าคอนฟิก ER จากที่เก็บส่วนกลางของบริการตั้งค่าคอนฟิก](er-download-configurations-global-repo.md)
- [สร้างใบแจ้งหนี้ข้อความอิสระ](https://docs.microsoft.com/dynamics365/finance/accounts-receivable/create-free-text-invoice-new)
- [สร้างและทำงานกับฟิลด์ที่กำหนดเอง](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/user-defined-fields)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]