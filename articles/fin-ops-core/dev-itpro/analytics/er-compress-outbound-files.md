---
title: บีบอัดเอกสารขนาดใหญ่ที่สร้างขึ้นในการรายงานอิเล็กทรอนิกส์
description: หัวข้อนี้จะอธิบายถึงวิธีการบีบอัดเอกสารขนาดใหญ่ที่สร้างขึ้นโดยรูปแบบการรายงานอิเล็กทรอนิกส์ (ER)
author: NickSelin
ms.date: 09/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EROperationDesigner, ERFormatDestinationTable
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-01-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: cd056798773bce492e429f8cca2ef39cb59bf739
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 03/31/2021
ms.locfileid: "5753827"
---
# <a name="compress-large-documents-that-are-generated-in-electronic-reporting"></a><span data-ttu-id="91a7a-103">บีบอัดเอกสารขนาดใหญ่ที่สร้างขึ้นในการรายงานอิเล็กทรอนิกส์</span><span class="sxs-lookup"><span data-stu-id="91a7a-103">Compress large documents that are generated in Electronic reporting</span></span> 

[!include [banner](../includes/banner.md)]

<span data-ttu-id="91a7a-104">คุณสามารถใช้ [กรอบงานการรายงานทางอิเล็กทรอนิกส์ (ER)](general-electronic-reporting.md) เพื่อตั้งค่าคอนฟิกโซลูชันที่รับข้อมูลของธุรกรรมเพื่อสร้างเอกสารขาออก</span><span class="sxs-lookup"><span data-stu-id="91a7a-104">You can use the [Electronic reporting (ER) framework](general-electronic-reporting.md) to configure a solution that fetches transactional data to generate an outbound document.</span></span> <span data-ttu-id="91a7a-105">เอกสารที่สร้างขึ้นนี้อาจมีขนาดใหญ่มาก</span><span class="sxs-lookup"><span data-stu-id="91a7a-105">This generated document might be quite large.</span></span> <span data-ttu-id="91a7a-106">เมื่อสร้างเอกสารชนิดนี้ หน่วยความจำ [Application Object Server (AOS)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/dev-tools/access-instances#location-of-packages-source-code-and-other-aos-configurations) จะถูกใช้เพื่อระงับ</span><span class="sxs-lookup"><span data-stu-id="91a7a-106">When this type of document is generated, the [Application Object Server (AOS)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/dev-tools/access-instances#location-of-packages-source-code-and-other-aos-configurations) memory is used to hold it.</span></span> <span data-ttu-id="91a7a-107">ในบางกรณี จะต้องมีการดาวน์โหลดเอกสารจากแอพลิเคชัน Microsoft Dynamics 365 Finance ของคุณ</span><span class="sxs-lookup"><span data-stu-id="91a7a-107">At some point, the document must then be downloaded from your Microsoft Dynamics 365 Finance application.</span></span> <span data-ttu-id="91a7a-108">ในปัจจุบัน ขนาดสูงสุดของเอกสารฉบับเดียวที่สร้างขึ้นใน ER ถูกจำกัดไว้ที่ 2 กิกะไบต์ (GB) เท่านั้น</span><span class="sxs-lookup"><span data-stu-id="91a7a-108">Currently, the maximum size of a single document that is generated in ER is limited to 2 gigabytes (GB).</span></span> <span data-ttu-id="91a7a-109">นอกจากนี้ Finance ในขณะนี้ [จำกัด](https://fix.lcs.dynamics.com/Issue/Details?kb=4569432&bugId=453907&dbType=3) ขนาดของไฟล์ที่ดาวน์โหลดเป็น 1 GB</span><span class="sxs-lookup"><span data-stu-id="91a7a-109">Additionally, Finance currently [limits](https://fix.lcs.dynamics.com/Issue/Details?kb=4569432&bugId=453907&dbType=3) the size of a downloaded file to 1 GB.</span></span> <span data-ttu-id="91a7a-110">ดังนั้น คุณต้องตั้งค่าคอนฟิกโซลูชัน ER ซึ่งช่วยลดความเป็นไปได้ว่าจะมีการเกินข้อจำกัดเหล่านี้ และคุณจะได้รับข้อยกเว้น **สตรีมข้อมูลยาวเกินไป** หรือ **การดำเนินงานทางคณิตศาสตร์มากเกินหรือน้อยเกินไป**</span><span class="sxs-lookup"><span data-stu-id="91a7a-110">Therefore, you must configure an ER solution that reduces the likelihood that these limitations will be exceeded, and that you will receive a **Stream was too long** or **Overflow or underflow in the arithmetic operation** exception.</span></span>

<span data-ttu-id="91a7a-111">เมื่อคุณตั้งค่าคอนฟิกโซลูชัน คุณสามารถปรับรูปแบบ ER ของคุณในตัวออกแบบการดำเนินงานได้โดยการเพิ่มองค์ประกอบรากของชนิด **โฟลเดอร์** เพื่อบีบอัดเนื้อหาที่สร้างขึ้นโดยองค์ประกอบใดๆ ที่ซ้อนกันอยู่</span><span class="sxs-lookup"><span data-stu-id="91a7a-111">When you configure a solution, you can adjust your ER format in the Operations designer by adding a root element of the **Folder** type to compress the content that is generated by any of its nested elements.</span></span> <span data-ttu-id="91a7a-112">การบีบอัดทำงาน "ในเวลาเดียวกัน" เพื่อให้การใช้หน่วยความจำสูงสุดและขนาดของไฟล์ที่จะดาวน์โหลดอาจลดลง</span><span class="sxs-lookup"><span data-stu-id="91a7a-112">Compression works "just in time," so that peak memory usage and the size of the file that will be downloaded can be reduced.</span></span>

> [!NOTE]
> <span data-ttu-id="91a7a-113">การบีบอัดไฟล์จะใช้เปอร์เซ็นต์เพิ่มเติมของการใช้ CPU</span><span class="sxs-lookup"><span data-stu-id="91a7a-113">File compression takes an additional percentage of CPU usage.</span></span>

<span data-ttu-id="91a7a-114">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการนี้ ให้ดำเนินการตัวอย่างในหัวข้อนี้ให้เสร็จสมบูรณ์</span><span class="sxs-lookup"><span data-stu-id="91a7a-114">For more information about this approach, complete the example in this topic.</span></span>

## <a name="example-compress-an-outbound-document"></a><span data-ttu-id="91a7a-115">ตัวอย่าง: บีบอัดเอกสารขาออก</span><span class="sxs-lookup"><span data-stu-id="91a7a-115">Example: Compress an outbound document</span></span>

<span data-ttu-id="91a7a-116">ตัวอย่างนี้แสดงให้เห็นว่าผู้ใช้ที่ได้รับการกำหนดให้เป็นบทบาท **ผู้ดูแลระบบ** หรือ **ที่ปรึกษาด้านการทำงานของการรายงานอิเล็กทรอนิกส์** สามารถตั้งค่าคอนฟิกรูปแบบ ER เพื่อบีบอัดเอกสารที่สร้างขึ้นได้</span><span class="sxs-lookup"><span data-stu-id="91a7a-116">This example shows how a user who is assigned to the **System administrator** or **Electronic reporting functional consultant** role can configure an ER format to compress a generated document.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="91a7a-117">ข้อกำหนดเบื้องต้น</span><span class="sxs-lookup"><span data-stu-id="91a7a-117">Prerequisites</span></span>

<span data-ttu-id="91a7a-118">ก่อนที่คุณจะสามารถทำกระบวนงานให้เสร็จสมบูรณ์ในหัวข้อนี้ คุณต้องดำเนินการขั้นตอนดังต่อไปนี้ให้เสร็จสมบูรณ์</span><span class="sxs-lookup"><span data-stu-id="91a7a-118">Before you complete the procedures in this topic, the following steps must be completed.</span></span>

1. <span data-ttu-id="91a7a-119">[เรียกใช้ผู้ให้บริการการตั้งค่าคอนฟิก](er-defer-xml-element.md#activate-a-configuration-provider)</span><span class="sxs-lookup"><span data-stu-id="91a7a-119">[Activate a configuration provider](er-defer-xml-element.md#activate-a-configuration-provider).</span></span>
2. <span data-ttu-id="91a7a-120">[นำเข้าการกำหนดค่า ER ตัวอย่าง](er-defer-xml-element.md#import-the-sample-er-configurations)</span><span class="sxs-lookup"><span data-stu-id="91a7a-120">[Import the sample ER configurations](er-defer-xml-element.md#import-the-sample-er-configurations).</span></span>
3. <span data-ttu-id="91a7a-121">[ตรวจทานรูปแบบที่นำเข้า](er-defer-xml-element.md#review-the-imported-format)</span><span class="sxs-lookup"><span data-stu-id="91a7a-121">[Review the imported format](er-defer-xml-element.md#review-the-imported-format).</span></span>

> [!NOTE]
> <span data-ttu-id="91a7a-122">ในปัจจุบัน โครงสร้างรูปแบบจะเริ่มต้นจากองค์ประกอบ **รายงาน** ของชนิด **ไฟล์** และมีองค์ประกอบ XML</span><span class="sxs-lookup"><span data-stu-id="91a7a-122">Currently, the format structure starts from the **Report** element of the **File** type and contains XML elements.</span></span> <span data-ttu-id="91a7a-123">ดังนั้น เอกสารขาออกจะถูกสร้างขึ้นในรูปแบบ XML และจะไม่มีการใช้การบีบอัด</span><span class="sxs-lookup"><span data-stu-id="91a7a-123">Therefore, an outbound document will be generated in XML format, and no compression will be used.</span></span>

### <a name="generate-an-er-format-to-get-an-uncompressed-document"></a><span data-ttu-id="91a7a-124">สร้างรูปแบบ ER เพื่อดึงข้อมูลเอกสารที่ไม่ได้บีบอัด</span><span class="sxs-lookup"><span data-stu-id="91a7a-124">Generate an ER format to get an uncompressed document</span></span>

1. <span data-ttu-id="91a7a-125">[รันรูปแบบที่นำเข้า](er-defer-xml-element.md#run-the-imported-format)</span><span class="sxs-lookup"><span data-stu-id="91a7a-125">[Run the imported format](er-defer-xml-element.md#run-the-imported-format).</span></span>
2. <span data-ttu-id="91a7a-126">โปรดสังเกตว่าขนาดของเอกสารที่สร้างขึ้นในรูปแบบ XML คือ 3 กิโลไบต์ (KB)</span><span class="sxs-lookup"><span data-stu-id="91a7a-126">Notice that the size of the generated document in XML format is 3 kilobytes (KB).</span></span>

    ![แสดงตัวอย่างของเอกสารขาออกที่ไม่ได้บีบอัด](./media/er-compress-outbound-files1.png)

### <a name="modify-the-format-to-compress-the-generated-output"></a><span data-ttu-id="91a7a-128">ปรับเปลี่ยนรูปแบบเพื่อบีบอัดผลลัพธ์ที่สร้างขึ้น</span><span class="sxs-lookup"><span data-stu-id="91a7a-128">Modify the format to compress the generated output</span></span>

1. <span data-ttu-id="91a7a-129">ไปที่ **การจัดการองค์กร** \> **การรายงานทางอิเล็กทรอนิกส์** \> **การตั้งค่าคอนฟิก**</span><span class="sxs-lookup"><span data-stu-id="91a7a-129">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="91a7a-130">บนหน้า **การตั้งค่าคอนฟิก** ในแผนภูมิการตั้งค่าคอนฟิก ให้ขยาย **แบบจำลองเพื่อเรียนรู้องค์ประกอบที่เลื่อน**</span><span class="sxs-lookup"><span data-stu-id="91a7a-130">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
3. <span data-ttu-id="91a7a-131">เลือกการตั้งค่าคอนฟิก **รูปแบบเพื่อเรียนรู้องค์ประกอบ XML ที่เลื่อน**</span><span class="sxs-lookup"><span data-stu-id="91a7a-131">Select the **Format to learn deferred XML elements** configuration.</span></span>
4. <span data-ttu-id="91a7a-132">เลือก **ตัวออกแบบ** เพื่อปรับเปลี่ยนโครงสร้างรูปแบบ</span><span class="sxs-lookup"><span data-stu-id="91a7a-132">Select **Designer** to modify the format structure.</span></span>
5. <span data-ttu-id="91a7a-133">บนหน้า **ตัวออกแบบรูปแบบ** บนแท็บ **รูปแบบ** ให้เลือก **เพิ่มราก** เพื่อเพิ่มองค์ประกอบรูปแบบราก</span><span class="sxs-lookup"><span data-stu-id="91a7a-133">On the **Format designer** page, on the **Format** tab, select **Add root** to add a root format element.</span></span>
6. <span data-ttu-id="91a7a-134">ในกล่องโต้ตอบ **เพิ่ม** ให้เลือก **ทั่วไป\\โฟลเดอร์**</span><span class="sxs-lookup"><span data-stu-id="91a7a-134">In the **Add** dialog box, select **Common\\Folder**.</span></span>
7. <span data-ttu-id="91a7a-135">เลือก **ตกลง** เพื่อยืนยันการเพิ่มองค์ประกอบรากใหม่</span><span class="sxs-lookup"><span data-stu-id="91a7a-135">Select **OK** to confirm the addition of the new root element.</span></span>
8. <span data-ttu-id="91a7a-136">เลือก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="91a7a-136">Select **Save**.</span></span>

> [!NOTE]
> <span data-ttu-id="91a7a-137">โครงสร้างรูปแบบจะเริ่มต้นจากองค์ประกอบของชนิด **โฟลเดอร์**</span><span class="sxs-lookup"><span data-stu-id="91a7a-137">The format structure starts from the element of the **Folder** type.</span></span> <span data-ttu-id="91a7a-138">องค์ประกอบนี้จะสร้างผลลัพธ์เป็นไฟล์บีบอัด (zip)</span><span class="sxs-lookup"><span data-stu-id="91a7a-138">This element will generate output as a compressed (zip) file.</span></span> <span data-ttu-id="91a7a-139">เมื่อเอกสารที่สร้างขึ้นโดยองค์ประกอบ **รายงาน** ถูกวางในไฟล์ zip ขาออก เนื้อหาจะถูกบีบอัดเพื่อลดขนาดของไฟล์ขาออก</span><span class="sxs-lookup"><span data-stu-id="91a7a-139">When a document that is generated by the **Report** element is put in an outbound zip file, its content will be compressed to reduce the size of the outbound file.</span></span>

### <a name="generate-an-er-format-to-get-a-compressed-document"></a><span data-ttu-id="91a7a-140">สร้างรูปแบบ ER เพื่อดึงข้อมูลเอกสารที่บีบอัด</span><span class="sxs-lookup"><span data-stu-id="91a7a-140">Generate an ER format to get a compressed document</span></span>

1. <span data-ttu-id="91a7a-141">ในหน้า **ตัวออกแบบรูปแบบ** เลือก **รัน**</span><span class="sxs-lookup"><span data-stu-id="91a7a-141">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="91a7a-142">ดาวน์โหลดไฟล์ zip ที่เว็บเบราเซอร์นำเสนอ และเปิดสำหรับการตรวจทาน</span><span class="sxs-lookup"><span data-stu-id="91a7a-142">Download the zip file that the web browser offers, and open it for review.</span></span>
3. <span data-ttu-id="91a7a-143">โปรดสังเกตว่าขนาดของเอกสารที่สร้างขึ้นในรูปแบบ ZIP คือ 1 KB</span><span class="sxs-lookup"><span data-stu-id="91a7a-143">Notice that the size of the generated document in ZIP format is 1 KB.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="91a7a-144">อัตราส่วนการบีบอัดของไฟล์ XML ที่ไฟล์ zip นี้จัดเก็บเป็น 87 เปอร์เซ็นต์</span><span class="sxs-lookup"><span data-stu-id="91a7a-144">The compression ratio of the XML file that this zip file holds is 87 percent.</span></span> <span data-ttu-id="91a7a-145">อัตราส่วนการบีบอัดจะขึ้นอยู่กับข้อมูลที่กำลังบีบอัด</span><span class="sxs-lookup"><span data-stu-id="91a7a-145">The compression ratio depends on the data that is being compressed.</span></span>

    ![แสดงตัวอย่างของเอกสารขาออกที่บีบอัด](./media/er-compress-outbound-files2.png)

> [!NOTE]
> <span data-ttu-id="91a7a-147">ถ้า ER [ปลายทาง](electronic-reporting-destinations.md) ถูกตั้งค่าคอนฟิกสำหรับองค์ประกอบรูปแบบที่สร้างผลลัพธ์ (องค์ประกอบ **รายงาน** ในตัวอย่างนี้) การบีบอัดของผลลัพธ์จะถูกข้าม</span><span class="sxs-lookup"><span data-stu-id="91a7a-147">If the ER [destination](electronic-reporting-destinations.md) is configured for the format element that generates output (the **Report** element in this example), compression of the output will be bypassed.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="91a7a-148">ทรัพยากรเพิ่มเติม</span><span class="sxs-lookup"><span data-stu-id="91a7a-148">Additional resources</span></span>

[<span data-ttu-id="91a7a-149">ภาพรวมการรายงานทางอิเล็กทรอนิกส์ (ER)</span><span class="sxs-lookup"><span data-stu-id="91a7a-149">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="91a7a-150">ปลายทางการรายงานทางอิเล็กทรอนิกส์ (ER)</span><span class="sxs-lookup"><span data-stu-id="91a7a-150">Electronic reporting (ER) destinations</span></span>](electronic-reporting-destinations.md)

[<span data-ttu-id="91a7a-151">เลื่อนการดำเนินการขององค์ประกอบ XML ในรูปแบบการรายงานทางอิเล็กทรอนิกส์</span><span class="sxs-lookup"><span data-stu-id="91a7a-151">Defer the execution of XML elements in ER formats</span></span>](er-defer-xml-element.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]