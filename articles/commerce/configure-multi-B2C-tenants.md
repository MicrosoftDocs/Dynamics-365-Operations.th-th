---
title: ตั้งค่าคอนฟิกผู้เช่า B2C หลายรายในสภาพแวดล้อม Commerce
description: หัวข้อนี้จะอธิบายเกี่ยวกับเวลาและวิธีการตั้งค่าผู้เช่าธุรกิจ-ผู้บริโภค (B2C) ของ Microsoft Azure Active Directory (Azure AD) แบบหลายรายการต่อหนึ่งช่องทาง สำหรับการตรวจสอบความถูกต้องของผู้ใช้ในสภาพแวดล้อม Dynamics 365 Commerce เฉพาะ
author: BrianShook
ms.date: 03/17/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: brshoo
ms.search.validFrom: 2020-02-12
ms.dyn365.ops.version: ''
ms.openlocfilehash: 0ad2a86fbc17f107a065330a56da6cdcca69e172
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 07/06/2021
ms.locfileid: "6352577"
---
# <a name="configure-multiple-b2c-tenants-in-a-commerce-environment"></a>ตั้งค่าคอนฟิกผู้เช่า B2C หลายรายในสภาพแวดล้อม Commerce

[!include [banner](includes/banner.md)]

หัวข้อนี้จะอธิบายเกี่ยวกับเวลาและวิธีการตั้งค่าผู้เช่าธุรกิจ-ผู้บริโภค (B2C) ของ Microsoft Azure Active Directory (Azure AD) ต่อหนึ่งช่องทาง สำหรับการตรวจสอบความถูกต้องของผู้ใช้ในสภาพแวดล้อม Dynamics 365 Commerce เฉพาะ

Dynamics 365 Commerce ใช้บริการตัวระบุข้อมูลเฉพาะตัวระบบคลาวด์ของ Azure AD B2C เพื่อสนับสนุนข้อมูลประจำตัวของผู้ใช้และขั้นตอนการตรวจสอบความถูกต้อง ผู้ใช้สามารถใช้ขั้นตอนการรับรองความถูกต้องในการลงชื่อสมัคร ลงชื่อเข้าใช้ และรีเซ็ตรหัสผ่านของตน Azure AD B2C จัดเก็บข้อมูลการตรวจสอบความถูกต้องที่สำคัญของผู้ใช้ เช่น ชื่อผู้ใช้และรหัสผ่าน เรกคอร์ดผู้ใช้ไม่ซ้ำกันสำหรับผู้เช่า B2C แต่ละราย และใช้ข้อมูลส่วนบุคคลของชื่อผู้ใช้ (ที่อยู่อีเมล) หรือข้อมูลส่วนบุคคลของผู้ให้บริการข้อมูลประจำตัวทางสังคม

ในกรณีส่วนใหญ่ ผู้เช่า Azure AD B2C เดียวจะถูกใช้ในสภาพแวดล้อม Commerce ลูกค้า Commerce สามารถสร้างและเผยแพร่ไซต์หลายไซต์ในสภาพแวดล้อม Commerce เดียวกัน และจะมีการใช้ข้อมูลประจำตัวของลูกค้ารายเดียวกันในไซต์เหล่านี้ อย่างไรก็ตาม ถ้าไซต์ในสภาพแวดล้อมควรได้รับการปฏิบัติเช่นเดียวกับแบรนด์ต่างๆ และปรากฏให้ผู้ใช้เป็นธุรกิจแยกต่างหาก ผู้เช่า B2C สามารถถูกตั้งค่าคอนฟิกสำหรับช่องทางที่ใช้สำหรับการแยกไซต์/แบรนด์

## <a name="considerations-when-multiple-b2c-tenants-are-set-up-per-channel"></a>ข้อควรพิจารณาเมื่อมีการตั้งค่าผู้เช่า B2C หลายรายการสำหรับแต่ละช่องทาง

บ่อยครั้ง เมื่อช่องทางหรือไซต์แต่ละแห่งได้รับการจัดการเป็นธุรกิจแยกต่างหาก ตัวเลือกที่ดีที่สุดโดยอ้างอิงขั้นตอนการตรวจสอบความถูกต้องของผู้ใช้ใน Commerce คือการใช้นิติบุคคลแยกต่างหาก อย่างไรก็ตาม ถ้าคุณต้องการเก็บแต่ละช่องทาง/ไซต์ในสภาพแวดล้อมและนิติบุคคลเดียวกัน แต่ต้องการให้มีการตรวจสอบความถูกต้องของผู้ใช้แยกต่างหากสำหรับแต่ละไซต์ คุณควรพิจารณาจุดต่อไปนี้ก่อนที่คุณจะดำเนินการต่อ:

- ผู้ใช้จะมีข้อมูลประจำตัวที่ไม่ซ้ำกันของตนเองสำหรับแต่ละช่องทาง/ไซต์

    บุคคลเดียวกันสามารถมีบัญชีแยกต่างหากสองบัญชีต่อช่องสัญญาณ/ไซต์ เนื่องจากบัญชีแต่ละบัญชีจะเป็นรายการเฉพาะในผู้เช่า B2C ที่แยกต่างหาก

- ในสภาพแวดล้อม Microsoft Dynamics เรกคอร์ดลูกค้าแยกต่างหากจะถูกส่งคืนสำหรับการค้นหาเรกคอร์ดสากล

    ถ้าผู้ใช้ใช้ที่อยู่อีเมลเดียวกันระหว่างช่องทาง/ไซต์ การค้นหาลูกค้าสากลจะส่งคืนผลลัพธ์สำหรับแต่ละช่องทาง/ไซต์ (ตัวบ่งชี้ช่องสัญญาณจะแสดงขึ้น)

- สมุดที่อยู่สามารถใช้เพื่อช่วยในการจัดกลุ่มผู้ใช้ เพื่อให้สามารถติดตามพวกเขาได้สำหรับแต่ละช่องทาง
- จำนวนเรกคอร์ดลูกค้าสำหรับแต่ละช่องสัญญาณอาจเพิ่มขึ้น และการเพิ่มขึ้นนี้อาจส่งผลกระทบต่อประสิทธิภาพการทำงานของการค้นหาลูกค้าสากล
- ผู้เช่า B2C ต้องถูกแม็ปไปยังช่องทางอย่างระมัดระวัง เพื่อช่วยป้องกันสถานการณ์ที่ลูกค้าลงชื่อสมัครสำหรับผู้เช่าที่ไม่ถูกต้อง มิฉะนั้น ความสับสนหรือปัญหาในการติดตามอาจเกิดขึ้นได้

ภาพประกอบต่อไปนี้แสดงผู้เช่า B2C หลายรายในสภาพแวดล้อม Commerce

![ผู้เช่า B2C หลายราย ในสภาพแวดล้อม Commerce](media/MultiB2C_In_Environment.png)

ถ้าคุณตัดสินใจว่าธุรกิจของคุณต้องการผู้เช่า B2C เฉพาะสำหรับแต่ละช่องทางในสภาพแวดล้อม Commerce เดียวกัน ให้ทำตามกระบวนงานในส่วนต่อไปนี้ให้เสร็จสมบูรณ์เพื่อร้องขอลักษณะการทำงานนี้

## <a name="configure-b2c-tenants-in-your-environment"></a>ตั้งค่าคอนฟิกผู้เช่า B2C ในสภาพแวดล้อมของคุณ

หากต้องการตั้งค่าคอนฟิกผู้เช่า B2C ในสภาพแวดล้อมของคุณ ให้ดำเนินการกระบวนงานที่เกี่ยวข้องในส่วนนี้ให้เสร็จสมบูรณ์

### <a name="add-an-azure-ad-b2c-tenant"></a>เพิ่มผู้เช่า Azure AD B2C

เมื่อต้องการเพิ่มผู้เช่า Azure AD B2C ให้กับสภาพแวดล้อมของคุณ ให้ทำตามขั้นตอนต่อไปนี้

1. ลงชื่อเข้าใช้โปรแกรมสร้างไซต์ Commerce สำหรับสภาพแวดล้อมของคุณในฐานะผู้ดูแลระบบ หากต้องการตั้งค่าคอนฟิกผู้เช่า Azure AD B2C คุณต้องเป็นผู้ดูแลระบบสำหรับสภาพแวดล้อม Commerce
1. ในบานหน้าต่างนำทางด้านซ้าย ให้เลือก **การตั้งค่าผู้เช่า** เพื่อขยาย
1. เลือก **การตั้งค่า B2C** แล้วเลือก **จัดการ**
1. เลือก **เพิ่มแอพลิเคชัน B2C** และจากนั้น ป้อนข้อมูลต่อไปนี้:

    - **ชื่อแอพลิเคชัน**: ให้ป้อนชื่อที่ควรใช้สำหรับแอพลิเคชันในบริบทของการจัดการใน Commerce เราขอแนะนำให้คุณใช้ชื่อของแอพลิเคชันที่คุณเลือก เมื่อคุณตั้งค่าแอพลิเคชัน Azure AD B2C ในพอร์ทัล Azure ด้วยวิธีนี้ คุณสามารถช่วยลดความสับสน เมื่อคุณจัดการผู้เช่า B2C ใน Commerce
    - **ชื่อผูเชา**: ให้ป้อนชื่อผู้เช่า B2C ตามที่ปรากฏในพอร์ทัล Azure
    - **รหัสนโยบายของการลืมรหัสผ่าน**: ป้อนรหัสนโยบาย (ชื่อของนโยบายในพอร์ทัล Azure)
    - **รหัสนโยบายของการลงทะเบียนและการลงชื่อเข้าใช้**: ป้อนรหัสนโยบาย (ชื่อของนโยบายในพอร์ทัล Azure)
    - **GUID ของไคลเอนต์**: ให้ป้อนรหัสของผู้เช่า Azure AD B2C ตามที่ปรากฏในพอร์ทัล AZURE (ไม่ใช่รหัสแอพลิเคชันสำหรับผู้เช่า B2C)
    - **รหัสนโยบายของการแก้ไขโพรไฟล์**: ป้อนรหัสนโยบาย (ชื่อของนโยบายในพอร์ทัล Azure)

1. เมื่อคุณป้อนข้อมูลนี้เสร็จแล้ว ให้เลือก **ตกลง** เพื่อบันทึกการเปลี่ยนแปลงของคุณ ในขณะนี้ ผู้เช่า Azure AD B2C ใหม่ของคุณควรจะปรากฏในรายการภายใต้ **จัดการแอพลิเคชัน B2C**

> [!NOTE]
> คุณควรปล่อยให้ฟิลด์ เช่น **ขอบเขต** **รหัสนโยบายแบบไม่โต้ตอบ** **รหัสไคลเอนต์แบบไม่โต้ตอบ** **โดเมนที่กำหนดเองของรล็อกอิน** และ **รหัสนโยบายการลงชื่อสมัคร** ว่างเปล่า ยกเว้นว่าทีม Dynamics 365 Commerce จะแนะนำให้คุณตั้งค่า


### <a name="manage-or-delete-an-azure-ad-b2c-tenant"></a>จัดการหรือลบผู้เช่า Azure AD B2C

1. ลงชื่อเข้าใช้โปรแกรมสร้างไซต์ Commerce สำหรับสภาพแวดล้อมของคุณในฐานะผู้ดูแลระบบ หากต้องการตั้งค่าคอนฟิกผู้เช่า Azure AD B2C คุณต้องเป็นผู้ดูแลระบบสำหรับสภาพแวดล้อม Commerce
1. ในบานหน้าต่างนำทางด้านซ้าย ให้เลือก **การตั้งค่าผู้เช่า** เพื่อขยาย
1. เลือก **การตั้งค่า B2C** แล้วเลือก **จัดการ**
1. ถ้าต้องการแก้ไขผู้เช่า B2C ให้เลือกสัญลักษณ์ดินสอที่อยู่ข้างๆ ถ้าต้องการลบผู้เช่า B2C ให้เลือกสัญลักษณ์ถังขยะที่อยู่ข้างๆ
1. เลือก **บันทึก** แล้วเลือก **เผยแพร่** เพื่อเปิดใช้งานการเปลี่ยนแปลงของคุณ

> [!WARNING]
> เมื่อมีการตั้งค่าคอนฟิกผู้เช่า B2C สำหรับไซต์ที่เริ่มใช้งานจริง/ที่เผยแพร่ ผู้ใช้อาจได้ลงชื่อสมัครโดยใช้บัญชีที่มีอยู่บนผู้เช่า ถ้าคุณลบผู้เช่าที่ตั้งค่าคอนฟิกไว้ในเมนู **การตั้งค่าผู้เช่า \> ผู้เช่า B2C** คุณลบการเชื่อมโยงของผู้เช่า B2C จากไซต์ที่เกี่ยวข้องกับช่องทางใดๆ ของผู้เช่า ในกรณีนี้ ผู้ใช้ของคุณอาจไม่สามารถลงชื่อเข้าใช้ในบัญชีของตนได้อีกต่อไป ดังนั้น ใช้ความระมัดระวังอย่างมากเมื่อคุณลบผู้เช่าที่ตั้งค่าคอนฟิก
>
> เมื่อมีการลบผู้เช่าที่ตั้งค่าคอนฟิกไว้ ผู้เช่า B2C และเรกคอร์ดจะยังคงได้รับการรักษาอยู่ แต่การตั้งค่าคอนฟิกระบบ Commerce ของผู้เช่าดังกล่าวจะถูกเปลี่ยนแปลงหรือลบออก ผู้ใช้ที่พยายามลงชื่อสมัครหรือลงชื่อเข้าใช้ไซต์ จะสร้างเรกคอร์ดบัญชีใหม่ในผู้เช่า B2C เริ่มต้นหรือที่เชื่อมโยงใหม่ ซึ่งมีการตั้งค่าคอนฟิกสำหรับช่องทางของไซต์

## <a name="configure-your-channel-with-a-b2c-tenant"></a>ตั้งค่าคอนฟิกช่องทางของคุณกับผู้เช่า B2C

1. ลงชื่อเข้าใช้โปรแกรมสร้างไซต์ Commerce สำหรับสภาพแวดล้อมของคุณในฐานะผู้ดูแลระบบ หากต้องการตั้งค่าคอนฟิกผู้เช่า Azure AD B2C คุณต้องเป็นผู้ดูแลระบบสำหรับสภาพแวดล้อม Commerce
1. ในบานหน้าต่างนำทางด้านซ้าย ให้เลือก **การตั้งค่าไซต์** เพื่อขยาย
1. เลือก **ช่องทาง** แล้วเลือกช่องทางที่จะตั้งค่าคอนฟิก
1. ในบานหน้าต่างคุณสมบัติทางด้านขวา ในฟิลด์ **เลือกแอพลิเคชัน B2C** เลือกผู้เช่า Azure AD B2C ที่ตั้งค่าคอนฟิกที่จะใช้สำหรับช่องทางนี้
1. บนแถบคำสั่ง ให้เลือก **บันทึกและเผยแพร่** เพื่อยอมรับการตั้งค่าคอนฟิกใหม่หรือที่มีการอัพเดต

> [!WARNING]
> ถ้าคุณเปลี่ยนแอพลิเคชัน B2C ที่กำหนดให้กับช่องทาง คุณจะลบการอ้างอิงปัจจุบันที่สร้างขึ้นสำหรับผู้ใช้ใดๆ ที่มีการลงชื่อเข้าใช้ในสภาพแวดล้อมแล้ว ในกรณีนี้ ข้อมูลประจำตัวใดๆ ที่เชื่อมโยงกับแอพลิเคชัน B2C ที่กำหนดไว้ในปัจจุบัน จะไม่พร้อมใช้งานสำหรับผู้ใช้ ดังนั้น เปลี่ยนการตั้งค่าคอนฟิก Azure AD B2C ของช่องทาง เฉพาะเมื่อคุณกำลังตั้งค่าช่องทางเป็นครั้งแรก และไม่มีผู้ใช้ที่สามารถลงชื่อสมัครได้ มิฉะนั้น ผู้ใช้อาจต้องลงชื่อสมัครอีกครั้งเพื่อสร้างเรกคอร์ดในผู้เช่า Azure AD B2C ใหม่
## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

[ตั้งค่าคอนฟิกชื่อโดเมนของคุณ](configure-your-domain-name.md)

[ปรับใช้ผู้เช่าอีคอมเมิร์ซใหม่](deploy-ecommerce-site.md)

[สร้างไซต์อีคอมเมิร์ซ](create-ecommerce-site.md)

[เชื่อมโยงไซต์ Dynamics 365 Commerce กับช่องทางออนไลน์](associate-site-online-store.md)

[จัดการไฟล์ robots.txt](manage-robots-txt-files.md)

[อัพโหลดการเปลี่ยนเส้นทาง URL จำนวนมาก](upload-bulk-redirects.md)

[ตั้งค่าผู้เช่า B2C ใน Commerce](set-up-B2C-tenant.md)

[ตั้งค่าหน้าแบบกำหนดเองสำหรับการล็อกอินของผู้ใช้](custom-pages-user-logins.md)

[เพิ่มการสนับสนุนสำหรับเครือข่ายการจัดส่งเนื้อหา (CDN)](add-cdn-support.md)

[เปิดใช้งานการตรวจหาร้านค้าตามตำแหน่งที่ตั้ง](enable-store-detection.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
