---
title: สร้างการส่งคืนใน POS
description: หัวข้อนี้อธิบายวิธีการเริ่มต้นการส่งคืนสินค้าให้กับธุรกรรมเงินสดและการขนส่งหรือใบสั่งของลูกค้าในแอปพลิเคชันการขายหน้าร้านของ Microsoft Dynamics 365 Commerce (POS)
author: hhainesms
ms.date: 06/01/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: hhaines
ms.search.validFrom: 2020-02-20
ms.dyn365.ops.version: Release 10.0.20
ms.openlocfilehash: 53cad70e2c4866a18427157bc8b7fa1c3fda4daa
ms.sourcegitcommit: e42c7dd495829b0853cebdf827b86a7cf655cf86
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 07/17/2021
ms.locfileid: "6638156"
---
# <a name="create-returns-in-pos"></a>สร้างการส่งคืนใน POS

[!include [banner](includes/banner.md)]

หัวข้อนี้อธิบายวิธีการเริ่มต้นการส่งคืนสินค้าให้กับธุรกรรมเงินสดและการขนส่งหรือใบสั่งของลูกค้าในแอปการขายหน้าร้านของ Microsoft Dynamics 365 Commerce (POS)

> [!NOTE]
> ใน Commerce รุ่น 10.0.20 และใหม่กว่า จะมีคุณลักษณะใหม่ที่ชื่อ **ประสบการณ์การประมวลผลการส่งคืนแบบรวมใน POS** พร้อมใช้งาน คุณลักษณะนี้ให้กระบวนการส่งคืนที่สอดคล้องกันและสอดคล้องกันมากขึ้นใน POS ไม่ว่าธุรกรรมชนิดใด (ธุรกรรมเงินสดและการขนส่งหรือใบสั่งของลูกค้า) หรือช่องทางเดิมที่มีการสร้างใบสั่งในนั้น เราขอแนะนำว่าองค์กรทั้งหมดเปิดคุณลักษณะใหม่นี้เพื่อช่วยปรับปรุงความน่าเชื่อถือโดยรวมของการประมวลผลการส่งคืนผ่าน POS
>
> หลังจากเปิดคุณลักษณะแล้ว ไม่สามารถปิดได้

## <a name="process-returns-by-using-the-return-transaction-operation"></a>ประมวลผลการส่งคืนโดยใช้การดําเนินงานธุรกรรมการส่งคืน

เราขอแนะนำว่าคุณควรเพิ่มการดําเนินงานธุรกรรมการส่งคืนลงใน [โครงร่างหน้าจอ](pos-screen-layouts.md) POS ของคุณ ในรุ่นก่อนการดําเนินงานของ Commerce รุ่น 10.0.20 การดําเนินงานธุรกรรมการส่งคืนจะสนับสนุนการประมวลผลการคืนสินค้าของธุรกรรมเงินสดและการขนส่งอย่างถูกต้องเท่านั้น หลังจากที่คุณเปิดคุณลักษณะ **ประสบการณ์การประมวลผลการส่งคืนสินค้าแบบรวมใน POS** ใน Commerce รุ่น 10.0.20 หรือใหม่กว่า การดําเนินงานธุรกรรมการส่งคืนยังสนับสนุนการประมวลผลการส่งคืนที่เกิดจากใบสั่งของลูกค้า เช่น ใบสั่ง "เบิกสินค้า" หรือ "จัดส่งไปที่หน้าแรก" ที่ออกใบแจ้งหนี้แล้ว

จากการดําเนินงานธุรกรรมการส่งคืน ผู้ใช้สามารถค้นหาธุรกรรมเงินสดและการขนส่งหรือใบสั่งของลูกค้าที่จะส่งคืนด้วยการป้อนเงื่อนไขการค้นหาสี่เงื่อนไขต่อไปนี้ ผู้ใช้สามารถป้อนเงื่อนไขเหล่านี้ได้โดยใช้แป้นพิมพ์อุปกรณ์ แป้นพิมพ์บนหน้าจอ หรือเครื่องสแกนบาร์โค้ด

- รหัสใบเสร็จ
- หมายเลขใบสั่ง
- รหัสการอ้างอิงช่องทาง (หรือที่เรียกอีกอย่างว่ารหัสการยืนยันใบสั่ง)
- รหัสใบแจ้งหนี้

ถ้าธุรกรรมหรือใบสั่งพบที่ตรงกับเงื่อนไขการค้นหา หน้า **ผลิตภัณฑ์ที่สามารถส่งคืนได้** จะปรากฏขึ้น ผู้ใช้สามารถระบุสินค้าที่จะถูกส่งคืนได้ และยังสามารถป้อนปริมาณการส่งคืนและรหัสเหตุผลได้

สำหรับแต่ละรายการใบสั่งในรายการผลิตภัณฑ์ที่สามารถส่งคืนได้ POS จะแสดงข้อมูลเกี่ยวกับปริมาณการซื้อเดิมและปริมาณจากการส่งคืนใดๆ ที่ประมวลผลไว้ก่อนหน้านี้ ปริมาณการส่งคืนที่ผู้ใช้ป้อนให้กับรายการใบสั่งต้องน้อยกว่าหรือเท่ากับค่าของฟิลด์ **ที่สามารถส่งคืนได้**

![หน้าผลิตภัณฑ์ที่สามารถส่งคืนได้](media/returnslist.png)

ในระหว่างกระบวนการส่งคืน ถ้าผู้ใช้มีผลิตภัณฑ์จริง และผลิตภัณฑ์นั้นมีบาร์โค้ด ผู้ใช้สามารถสแกนบาร์โค้ดเพื่อลงทะเบียนการส่งคืนได้ สแกนบาร์โค้ดแต่ละสแกนจะเพิ่มปริมาณการส่งคืนโดยสินค้าหนึ่งรายการ อย่างไรก็ตาม ถ้าป้ายชื่อบาร์โคดมีปริมาณที่ฝังอยู่ ปริมาณนั้นจะถูกป้อนในฟิลด์ **ส่งคืนทันที**

ผู้ใช้ยังสามารถเลือกสินค้าที่จะส่งคืนในหน้า **ผลิตภัณฑ์ที่สามารถส่งคืนได้** ด้วยตนเอง แล้วอัปเดตฟิลด์ **ส่งคืนทันที** โดยใช้บานหน้าต่างรายละเอียดทางด้านขวา

หากมีการระบุปริมาณ **การส่งคืนทันที** สูงสุดที่ขณะนี้มีการระบุให้กับธุรกรรม ผู้ใช้สามารถเลือกการดําเนินงานที่ **เลือกทั้งหมด** บนแถบแอป POS เพื่อตั้งค่าปริมาณสูงสุดที่สามารถส่งคืนได้ในทุกรายการ

ในแต่ละรายการที่มีปริมาณ **การส่งคืนทันที** ในขณะนี้ ผู้ใช้ต้องเลือกรหัสเหตุผลการส่งคืนโดยใช้แผงรายละเอียด รหัสเหตุผลการส่งคืนจะได้รับการตั้งค่าคอนฟิกเป็นรหัสข้อมูลในโปรไฟล์ฟังก์ชันของร้านค้า การส่งคืนสินค้าของใบสั่งของลูกค้า รหัสเหตุผลการส่งคืนได้รับการตั้งค่าคอนฟิกบนหน้า **รหัสเหตุผลการส่งคืน** ในศูนย์ควบคุม Dynamics 365 Commerce

หลังจากตั้งค่าปริมาณการส่งคืนและรหัสเหตุผลของสินค้าแต่ละรายการที่ต้องส่งคืนแล้ว ผู้ใช้สามารถเลือกการดําเนินการ **ส่งคืน** บนแถบแอป POS เพื่อดําเนินการประมวลผลต่อได้ หน้าธุรกรรม POS จะปรากฏขึ้น โดยที่มีการเพิ่มสินค้าที่สามารถส่งคืนได้ที่เลือกไว้ในหน้าก่อนหน้านี้ลงในรถเข็น ปริมาณ **การส่งคืนทันที** ในขณะนี้จะปรากฏเป็นรายการปริมาณค่าลบในธุรกรรม และคํานวณการขอคืนเงินทั้งหมด

ผู้ใช้สามารถเพิ่มรายการที่ธุรกรรมการส่งคืนได้ ถ้าจะสร้างใบสั่งอัตราแลกเปลี่ยน ผู้ใช้ยังสามารถเพิ่มสินค้าส่งคืนเฉพาะเฉพาะที่ธุรกรรมการส่งคืนได้โดยใช้การดําเนินการ **ส่งคืนผลิตภัณฑ์** ในรายการการขายที่มีการเพิ่มปริมาณค่าบวกที่เลือก

> [!NOTE]
> การดำเนินงาน **ส่งคืนผลิตภัณฑ์** ใน POS ไม่มีการตรวจสอบความถูกต้องใดๆ กับธุรกรรมเดิมและอนุญาตให้มีการส่งคืนผลิตภัณฑ์ใดๆ ดังนั้น จึงขอแนะนาว่าอนุญาตให้ผู้ใช้ที่ได้รับอนุญาตเท่านั้นจึงได้รับอนุญาตให้ดําเนินการนี้ หรือต้องมีการแทนที่ผู้จัดการถ้ามีการใช้การดําเนินงานนี้

หากการขอคืนเงินครบกําหนดเมื่อเช็คเอาท์ องค์กรสามารถตั้งค่าคอนฟิก [นโยบายการขอคืนเงิน](refund_policy_returns.md) ซึ่งจํากัดวิธีการจ่ายเงินที่สามารถใช้ในการขอคืนเงินให้แก่ลูกค้า หากธุรกรรมเดิมได้รับชําระเงินโดยใช้บัตรเครดิต ขึ้นอยู่กับตัวประมวลผลการชําระเงินและการตั้งค่าคอนฟิกของระบบ ผู้ใช้อาจมีตัวเลือกที่จะ [ขอการขอคืนเงินให้กับบัตรเดิม](dev-itpro/linked-refunds.md) ในกรณีนี้ สามารถประมวลผลการขอคืนเงินได้โดยไม่โดยที่ลูกค้ารูดบัตรเครดิตอีกครั้ง โทเคนการชำระเงินเดิมจะใช้ในการออกการขอคืนเงิน

## <a name="other-return-options-in-pos"></a>ตัวเลือกการส่งคืนอื่นๆ ใน POS

เมื่อเปิดคุณลักษณะ **ประสบการณ์การประมวลผลการส่งคืนแบบรวมใน POS** ผู้ใช้คุณยังสามารถใช้การดําเนินงาน **แสดงสมุดรายวัน** ใน POS เพื่อเริ่มการส่งคืนธุรกรรมเงินสดและการขนส่งหรือใบสั่งของลูกค้า จากนั้นผู้ขอเหล่านั้นสามารถเลือกธุรกรรมในสมุดรายวันได้ แล้วเลือกการดําเนินงาน **ส่งคืน** บนแถบแอป POS การดําเนินการนี้จะพร้อมใช้งานเฉพาะเมื่อมีรายการที่สามารถส่งคืนได้ในใบสั่งเท่านั้น เริ่มต้นประสบการณ์ผู้ใช้เดียวกันกับการดําเนินงาน **ธุรกรรมการส่งคืน**

ผู้ใช้สามารถใช้การดําเนินการ **เรียกคืนใบสั่ง** ใน POS เพื่อค้นหาและเรียกคืนใบสั่งของลูกค้าได้ (ไม่สามารถใช้การดําเนินงานนี้กับธุรกรรมเงินสดและการขนส่ง) ในกรณีนี้หลังจากเลือกใบสั่งของลูกค้าแล้ว คุณสามารถใช้การดําเนินการ **ส่งคืน** บนแถบแอป POS เพื่อเริ่มการส่งคืนใบสั่งของลูกค้าได้ การดําเนินการนี้จะพร้อมใช้งานเฉพาะเมื่อมีรายการที่สามารถส่งคืนได้ในใบสั่งเท่านั้น เริ่มต้นประสบการณ์ผู้ใช้เดียวกันกับการดําเนินงาน **ธุรกรรมการส่งคืน** หรือ **แสดงสมุดรายวัน**

## <a name="return-orders-are-posted-to-commerce-headquarters-as-sales-orders"></a>ใบสั่งส่งคืนสินค้ามีการลงรายการบัญชีไปยังศูนย์ควบคุม Commerce เป็นใบสั่งขาย 

เมื่อเปิดคุณลักษณะ **ประสบการณ์การประมวลผลการส่งคืนแบบรวมใน POS** การส่งคืนทั้งหมดที่สร้างขึ้นใน POS จะถูกเขียนไปยังศูนย์ควบคุม Commerce เป็นใบสั่งขายที่มีรายการค่าลบ ในรุ่นก่อน 10.0.20 ของ Commerce ผู้ใช้สามารถเลือกว่าควรลงรายการบัญชีใบสั่งส่งคืนสินค้าเป็นใบสั่งขายที่มีรายการค่าลบหรือไม่ หรือควรเป็นใบสั่งส่งคืนสินค้าที่สร้างขึ้นโดยผ่านกระบวนการอนุมัติการคืนสินค้า (RMA) 

ในคุณลักษณะ **ประสบการณ์การประมวลผลการส่งคืนแบบรวมใน POS** ตัวเลือกที่จะใช้กระบวนการ RMA เพื่อสร้างการส่งคืนใน POS ไม่ได้รับการสนับสนุน หลังจากเปิดคุณลักษณะนี้แล้ว การส่งคืนทั้งหมดจะถูกสร้างขึ้นเป็นใบสั่งขายที่มีรายการค่าลบ

## <a name="offline-return-processing-improvements"></a>การปรับปรุงการประมวลผลการส่งคืนแบบออฟไลน์

ในกรณีส่วนใหญ่ เมื่อมีการประมวลผลการส่งคืนใน POS ระบบพยายามเรียก Real-time Service (RTS) ไปยังศูนย์ควบคุม Commerce เพื่อตรวจสอบความถูกต้องของปริมาณปัจจุบันที่พร้อมใช้งานในการส่งคืน การตรวจสอบความถูกต้องนี้จะช่วยป้องกันสถานการณ์สมมุลที่ลูกค้าพยายามส่งคืนสินค้าเดียวกันในหลายสถานที่

ในการจัดการสถานการณ์ที่สามารถเรียก RTS ได้ เนื่องจากปัญหาเครือข่ายหรือการเชื่อมต่อ กระบวนการถูกวางเพื่อซิงโครไนส์ข้อมูลปริมาณการส่งคืนจากศูนย์ควบคุม Commerce ไปยังฐานข้อมูลช่องทางของร้านค้าเป็นระยะๆ การติดตามการส่งคืนฝั่งช่องทางนี้ช่วยให้มั่นใจว่าปริมาณ **ที่สามารถส่งคืนได้** ซึ่งแสดงอยู่ใน POS มีความถูกต้องเพียงพอ แม้ว่า POS ออฟไลน์ นอกจากนี้ ยังช่วยให้มั่นใจว่า POS จะสามารถตรวจสอบความถูกต้องของข้อมูลฝั่งช่องทางต่อไป เพื่อป้องกันไม่ให้เกิดการส่งคืนที่เป็นการฉ้อโกง

หากต้องการใช้กระบวนการส่งคืนแบบออฟไลน์ในลักษณะที่เหมาะสม องค์กรควรจัดตารางการผลิตชุดงาน **อัปเดตปริมาณการส่งคืน** ในศูนย์ควบคุม Commerce เพื่อให้รันบ่อย ขอแนะนำว่างานนี้รันด้วยความถี่เดียวกันกับงาน P ที่ดึงธุรกรรมใหม่จากช่องทาง Commerce เข้าสู่ศูนย์ควบคุม Commerce

งาน **อัปเดตปริมาณการส่งคืน** จะคํานวณปริมาณที่พร้อมใช้งานในการส่งคืนสินค้ากับใบสั่งขายทั้งหมดที่พบในศูนย์ควบคุม Commerce จากนั้นต้องส่งข้อมูลการคํานวณงานไปยังฐานข้อมูลช่องทาง เพื่อที่สามารถอัปเดตช่องทางของร้านค้าได้ ใช้งานการกระจาย **ปริมาณการส่งคืน** (1200) เพื่อวัตถุประสงค์นี้ เนื่องจากข้อมูลเกี่ยวกับปริมาณที่สามารถส่งคืนได้ถูกซิงโครไนส์จาก Commerce Headquarters ถ้ามีการประมวลผลการส่งคืนใน POS แต่ไม่สามารถเรียก RTS ได้ POS สามารถใช้ข้อมูลการส่งคืนฝั่งช่องทางเพื่อตรวจสอบความถูกต้องของปริมาณ **ที่พร้อมจะส่งคืน** จากรายการขายที่ระบุ

เมื่อไม่สามารถเรียก RTS ได้ และ POS จะใช้ข้อมูลฝั่งช่องทางเพื่อการตรวจสอบความถูกต้องของการส่งคืน ข้อความคําเตือนจะแจ้งให้ผู้ใช้ทราบว่าผู้ใช้จะสร้างการส่งคืน "ออฟไลน์" ดังนั้น ผู้ใช้จึงโปรดทราบว่าปริมาณ **ที่พร้อมส่งคืน** ซึ่งแสดงอยู่ใน POS อาจไม่มีวันหมดอายุและไม่ถูกต้องอีกต่อไป ทั้งนี้ขึ้นอยู่กับว่างาน **อัปเดตปริมาณการส่งคืน** ได้รับการประมวลผลล่าสุดและซิงโครไนส์กับช่องทางเมื่อใด

ตัวอย่างเช่น ลูกค้าประมวลผลการส่งคืนบรรทัดใบสั่งในช่องทางอื่นเมื่อเร็วๆ นี้ แต่ข้อมูลยังไม่ถูกซิงโครไนส์กับฐานข้อมูลช่องทางโดยผ่านงาน **การอัปเดตปริมาณการส่งคืน** จากนั้นลูกค้าไปที่ร้านค้าอื่นและพยายามส่งคืนสินค้าเดียวกันอีกครั้ง ในกรณีนี้ ถ้าร้านค้าไม่สามารถเรียก RTS ไปยังศูนย์ควบคุม Commerce เพื่อรับข้อมูลการส่งคืนแบบเรียลไทม์ POS จะอนุญาตให้ส่งคืนสินค้าอีกครั้ง อย่างไรก็ตาม ผู้ใช้จะได้รับการเตือนว่าข้อมูลที่ใช้ในการตรวจสอบความถูกต้องของการส่งคืนอาจเกินจำนวนวันที่ระบุไว้ ข้อความที่ผู้ใช้ได้รับเป็นข้อความเตือนเท่านั้น ซึ่งไม่ได้ป้องกันไม่ให้ผู้ใช้ประมวลผลการส่งคืนต่อ

ถ้าข้อมูลฝั่งช่องทางไม่ใช่ข้อมูลล่าสุดด้วยเหตุผลบางอย่าง และการส่งคืนแบบออฟไลน์มีการประมวลผลเป็นปริมาณที่เกินกว่าปริมาณที่มีอยู่จริง **ที่พร้อมส่งคืน** อาจมีการสร้างข้อผิดพลาดขึ้นเมื่อรันการลงรายการบัญชีใบแจ้งยอดเพื่อสร้างธุรกรรมในศูนย์ควบคุม Commerce

> [!NOTE]
> เมื่อเปิดคุณลักษณะ **ประสบการณ์การประมวลผลการส่งคืนสินค้าแบบรวมใน POS** แล้ว ลักษณะการงานใหม่ที่เลือกได้ซึ่งสนับสนุนการตรวจสอบความถูกต้องของการส่งคืนผลิตภัณฑ์ที่กำหนดหมายเลขลำดับประจำสินค้าจะพร้อมใช้งาน สำหรับข้อมูลเพิ่มเติม ให้ดู [ส่งคืนผลิตภัณฑ์ที่ควบคุมด้วยหมายเลขลำดับประจำสินค้าในการขายหน้าร้าน (POS)](POS-serial-returns.md)

## <a name="enable-proper-tax-calculation-for-returns-with-partial-quantity"></a>เปิดใช้งานการคำนวณภาษีที่เหมาะสมสำหรับการส่งคืนพร้อมปริมาณบางส่วน

คุณลักษณะนี้จะช่วยตรวจสอบว่าเมื่อมีการส่งคืนใบสั่งงานโดยใช้ใบแจ้งหนี้หลายใบ ภาษีจะมียอดเท่ากับยอดภาษีที่เรียกเก็บในครั้งแรก
1.  ไปที่พื้นที่ทำงาน **การจัดการคุณลักษณะ** และค้นหา **เปิดใช้งานการคำนวณภาษีที่เหมาะสมสำหรับการส่งคืนพร้อมปริมาณบางส่วน**
2.  เลือก **เปิดใช้งานการคำนวณภาษีที่เหมาะสมสำหรับการส่งคืนพร้อมปริมาณบางส่วน** จากนั้นคลิก **เปิดใช้งาน**


## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

[ส่งคืนผลิตภัณฑ์ที่ควบคุมหมายเลขลำดับประจำสินค้าในการขายหน้าร้าน POS](POS-serial-returns.md)

[การขอคืนเงินที่เชื่อมโยงของธุรกรรมที่อนุมัติและยืนยันแล้วก่อนหน้านี้](dev-itpro/linked-refunds.md)

[สร้างและอัปเดตนโยบายการส่งคืนและการขอคืนเงินสำหรับช่องทาง](refund_policy_returns.md)

[การตั้งค่าคอนฟิกอินเทอร์เฟสผู้ใช้ POS](pos-screen-layouts.md)
