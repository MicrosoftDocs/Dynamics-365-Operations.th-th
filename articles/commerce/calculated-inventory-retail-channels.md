---
title: คำนวณความพร้อมของสินค้าคงคลังสำหรับช่องทางการขายปลีก
description: หัวข้อนี้จะอธิบายวิธีการที่บริษัทสามารถใช้ Microsoft Dynamics 365 Commerce เพื่อดูความพร้อมความพร้อมใช้งานโดยประมาณสำหรับผลิตภัณฑ์ในช่องทางออนไลน์และร้านค้า
author: hhainesms
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: hhaines
ms.search.validFrom: 2020-02-11
ms.dyn365.ops.version: Release 10.0.10
ms.openlocfilehash: 2b6f9663ed08ab431ffc6ffe3154854250c1b092
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 07/06/2021
ms.locfileid: "6350485"
---
# <a name="calculate-inventory-availability-for-retail-channels"></a>คำนวณความพร้อมของสินค้าคงคลังสำหรับช่องทางการขายปลีก

[!include [banner](../includes/banner.md)]

หัวข้อนี้จะอธิบายวิธีการที่บริษัทสามารถใช้ Microsoft Dynamics 365 Commerce เพื่อดูความพร้อมความพร้อมใช้งานโดยประมาณสำหรับผลิตภัณฑ์ในช่องทางออนไลน์และร้านค้า

## <a name="accuracy-of-inventory-availability"></a>ความถูกต้องของความพร้อมของสินค้าคงคลัง

Commerce ใช้เซิร์ฟเวอร์และฐานข้อมูลจำนวนมากเพื่อให้แน่ใจว่ามีการขยายและประสิทธิภาพการทำงาน ดังนั้น จึงเป็นเรื่องสำคัญอย่างยิ่งที่คุณเข้าใจว่ามูลค่าสินค้าคงคลังที่พร้อมใช้งานที่ได้รับมาจากแอพลิเคชันการขายหน้าร้าน (POS) แอพลิเคชันโปรแกรมมิ่งอินเทอร์เฟสของความพร้อมของสินค้าคงคลังอีคอมเมิร์ซ(APIs) และหน้าสินค้าคงคลังคงเหลือในศูนย์ควบคุม Commerce อาจไม่ถูกต้อง 100 เปอร์เซ็นต์ในเวลาจริง ถ้าธุรกรรมที่สร้างขึ้นสำหรับผลิตภัณฑ์ในช่องทางออนไลน์หรือร้านค้ายังไม่ได้ซิงค์กับเซิร์ฟเวอร์ศูนย์ควบคุม หน้าสินค้าคงคลังคงเหลือในศูนย์ควบคุม อาจไม่แสดงมูลค่าสินค้าคงคลังตามเวลาจริงที่ถูกต้องสำหรับผลิตภัณฑ์ดังกล่าว ตรงกันข้าม ถ้าคุณได้ตั้งค่าคอนฟิกบริษัทของคุณเพื่อให้ผู้ใช้ในศูนย์ควบคุม หรือแอพลิเคชันแบบรวมอื่นๆ สามารถขาย ได้รับ ส่งคืน หรือปรับปรุงสินค้าคงคลังออกจากร้านค้าหรือคลังสินค้าออนไลน์ ช่องทาง POS หรือออนไลน์อาจไม่มีข้อมูลทั้งหมดที่จำเป็นสำหรับการแสดงค่าในเวลาจริงที่ถูกต้องสำหรับสินค้า

คุณควรเข้าใจว่าข้อมูลความพร้อมใช้งานคงเหลือทั้งหมดที่ระบุไว้ในระหว่างวันดำเนินงานถือเป็นมูลค่าที่ประมาณการไว้ ดังนั้น ถ้าคุณพยายามที่จะเปรียบเทียบข้อมูลสินค้าคงคลังคงเหลือที่แอพลิเคชันให้พร้อมกับสินค้าคงคลังทางกายภาพจริงบนชั้นวาง หรือหากคุณพยายามที่จะเปรียบเทียบค่าคงเหลือที่แสดงอยู่ใน POS โดยมีข้อมูลคงเหลือที่คุณค้นหาสำหรับคลังสินค้าเดียวกันในศูนย์ควบคุม ค่าอาจแตกต่างกัน ความแตกต่างนี้ในระหว่างวันดำเนินงานถูกคาดไว้และไม่ควรมีการพิจารณาถึงปัญหา ถ้าคุณต้องการตรวจสอบความถูกต้องของข้อมูลและตรวจสอบให้แน่ใจว่าค่าที่ระบุไว้ใน POS, APIs และศูนย์ควบคุม จะจับคู่หน่วยทางกายภาพจริงที่คุณพบในร้านค้าหรือชั้นคลังสินค้าของคุณ เวลาที่ดีที่สุดในการทำเช่นนั้นคือหลังจากการดำเนินการของช่องทางได้หยุดทำงานสำหรับวันนั้น และธุรกรรมทั้งหมดถูกซิงค์ระหว่างศูนย์ควบคุมและช่องทางอย่างถูกต้อง

## <a name="channel-side-inventory-calculation"></a>การคํานวณสินค้าคงคลังฝั่งช่องทาง

การคํานวณสินค้าคงคลังฝั่งช่องทางเป็นระบบที่ใช้ข้อมูลสินค้าคงคลังช่องทางที่รู้จักล่าสุด ในศูนย์ควบคุม Commerce เป็นพื้นฐาน จากนั้นปัจจัยต่างๆ ในการเปลี่ยนแปลงสินค้าคงคลังเพิ่มเติมที่เกิดขึ้นทางด้านช่องทางซึ่งไม่ได้รวมอยู่ในพื้นฐานนั้น เพื่อคํานวณปริมาณคงคลังคงเหลือที่ประเมินไว้ใกล้เวลาจริง 

การเปลี่ยนแปลงสินค้าคงคลังต่อไปนี้จะพิจารณาในตรรกะการคํานวณสินค้าคงคลังฝั่งช่องทางในปัจจุบัน:

- สินค้าคงคลังที่ขายผ่านใบสั่งเงินสด และสินค้ายกไปในร้านค้า
- สินค้าคงคลังที่ขายผ่านใบสั่งของลูกค้าในร้านค้าหรือช่องทางออนไลน์
- สินค้าคงคลังที่ส่งคืนไปยังร้านค้า
- สินค้าคงคลังที่เติมสินค้า (เบิกสินค้า แพ็ค จัดส่ง) จากคลังสินค้าของร้านค้า

หากต้องการใช้การคํานวณสินค้าคงคลังฝั่งช่องทาง เนื่องจากต้องส่งสแน็ปช็อตรอบระยะเวลาของสินค้าคงคลังจากศูนย์ควบคุม ซึ่งสร้างโดยงาน **ความพร้อมใช้งานของผลิตภัณฑ์** ไปยังฐานข้อมูลช่องทาง สแนปช็อตแสดงถึงข้อมูลที่ศูนย์ควบคุมมีเกี่ยวกับความพร้อมของสินค้าคงคลังสำหรับชุดที่กำหนดของผลิตภัณฑ์ หรือผลิตภัณฑ์ย่อยและคลังสินค้า รวมถึงเฉพาะธุรกรรมของสินค้าคงคลังที่ประมวลผลและลงรายการบัญชีในศูนย์ควบคุมในเวลา ที่มีการใช้สแนปช็อตเท่านั้น และอาจไม่ถูกต้อง 100 เปอร์เซ็นต์ในเวลาจริง เนื่องจากการประมวลผลการขายคงที่ที่เกิดขึ้นระหว่างเซิร์ฟเวอร์ที่กระจายไป

- ถ้ามีการขายสินค้าคงคลังสำหรับผลิตภัณฑ์ในร้านค้าผ่านทางการขายที่มีการชำระเงินด้วยเงินสดและการดำเนินการในใบสั่งของลูกค้าแบบอะซิงโครนัสในแอพลิเคชัน POS ศูนย์ควบคุมจะไม่มีข้อมูลเกี่ยวกับธุรกรรมการออกใช้สินค้าคงคลังที่เกี่ยวข้องสำหรับการขายในทันที ศูนย์ควบคุมจะมีข้อมูลเกี่ยวกับสินค้าคงคลังที่ขายสำหรับชนิดของการขายร้านค้าเหล่านี้เท่านั้น หลังจากงาน P อัปโหลดธุรกรรมที่เกี่ยวข้องจากฐานข้อมูลช่องทางของร้านค้าเข้าสู่ศูนย์ควบคุม และใบสั่งขายที่เกี่ยวข้องจะถูกสร้างขึ้นผ่านการลงรายการบัญชีใบแจ้งยอดหรือกระบวนการลงรายการบัญชีของฟีดแบบต่อเนื่อง กระบวนการในการสร้างใบสั่งในศูนย์ควบคุม จะสร้างธุรกรรมสินค้าคงคลังที่เกี่ยวข้อง 
- สำหรับใบสั่งของช่องทางอีคอมเมิร์ซ ศูนย์ควบคุมมีข้อมูลเกี่ยวกับธุรกรรมสินค้าคงคลังเฉพาะหลังจากที่ธุรกรรมถูกส่งไปยังศูนย์ควบคุม ผ่านงาน P และกระบวนการซิงโครไนส์ใบสั่งเสร็จสมบูรณ์แล้ว

เมื่อต้องการใช้สแนปช็อตของสินค้าคงคลังในศูนย์ควบคุม Commerce ให้ทำตามขั้นตอนเหล่านี้

1. ไปที่ **Retail และ Commerce \> Retail และ Commerce IT \> ผลิตภัณฑ์และสินค้าคงคลัง \> ความพร้อมใช้งานของผลิตภัณฑ์**
1. เลือก **ตกลง** เพื่อรันงาน **ความพร้อมใช้งานของผลิตภัณฑ์** คุณยังสามารถจัดกำหนดการของงานให้รันในชุดงานได้ด้วย

หลังจากที่งาน **ความพร้อมใช้งานของผลิตภัณฑ์** เสร็จสิ้นการรันแล้ว ข้อมูลที่ถูกบันทึกต้องถูกผลักดันให้กับฐานข้อมูลช่องทางอีคอมเมิร์ซ เพื่อให้มีการพิจารณาสแนปช็อตสินค้าคงคลังของศูนย์ควบคุมล่าสุดอยู่ในการคำนวณสินค้าคงคลังคงเหลือที่มีการประเมินฝั่งช่องทาง

หากต้องการซิงค์ข้อมูลสแนปช็อตจากศูนย์ควบคุมไปยังฐานข้อมูลช่องทางของคุณ ให้ปฏิบัติตามขั้นตอนต่อไปนี้

1. ไปยัง **การขายปลีกและการค้า \> การขายปลีกและไอทีเชิงพาณิชย์ \> กำหนดการการจัดจำหน่าย**
1. รันงาน **1130** (**ความพร้อมใช้งานของผลิตภัณฑ์**) เพื่อซิงค์ข้อมูลสแนปช็อตที่งาน **ความพร้อมใช้งานของผลิตภัณฑ์** ถูฉสร้างขึ้นจากศูนย์ควบคุม ไปยังฐานข้อมูลช่องทางของคุณ

## <a name="inventory-availability-apis-for-e-commerce"></a>API ความพร้อมของสินค้าคงคลังสำหรับอีคอมเมิร์ซ

Commerce มี API ต่อไปนี้ให้กับสถานการณ์ e-commerce เพื่อสอบถามความพร้อมของสินค้าคงคลังของผลิตภัณฑ์:

- **GetEstimatedAvailability** – ใช้ API นี้สอบถามสินค้าคงคลังเกี่ยวกับผลิตภัณฑ์หรือผลิตภัณฑ์ย่อยในคลังสินค้าช่องทางออนไลน์หรือคลังสินค้าที่เชื่อมโยงกับกลุ่ม การเติมสินค้าของช่องทางออนไลน์
- **GetEstimatedProductWarehouseAvailability** – ใช้ API นี้เพื่อสอบถามสินค้าคงคลังสำหรับผลิตภัณฑ์หรือผลิตภัณฑ์ย่อยจากคลังสินค้าหนึ่งๆ

> [!NOTE]
> APIs เหล่านี้จะแทนที่ APIs ของ **GetProductAvailabilities** และ **GetAvailableInventoryNearby** ใน Commerce รุ่น 10.0.7 และรุ่นก่อนหน้า

ทั้ง API ภายในจะใช้ตรรกะการคํานวณฝั่งช่องทางและส่งคืนปริมาณที่ **พร้อมใช้งานจริง** ที่ประเมินไว้ ปริมาณที่ **พร้อมใช้งานทั้งหมด** **หน่วยวัด (UoM)** และ **ระดับสินค้าคงคลัง** ของผลิตภัณฑ์และคลังสินค้าที่ร้องขอ ค่าที่ส่งคืนสามารถแสดงบนไซต์อีคอมเมิร์ซของคุณ ถ้าคุณต้องการ หรือสามารถใช้เพื่อทริกเกอร์ตรรกะทางธุรกิจอื่นๆ บนไซต์อีคอมเมิร์ซของคุณได้ ตัวอย่างเช่น คุณสามารถป้องกันไม่ให้การซื้อผลิตภัณฑ์มีระดับสินค้าคงคลัง "ไม่มีในสินค้าคงคลัง"

ถึงแม้ว่า APIs อื่นๆ ที่มีอยู่ใน Commerce สามารถไปยังศูนย์ควบคุมได้โดยตรงเพื่อดึงปริมาณคงเหลือสำหรับผลิตภัณฑ์ เราไม่แนะนำให้มีการใช้งานในสภาพแวดล้อมของอีคอมเมิร์ซ เนื่องจากปัญหาประสิทธิภาพที่อาจเกิดขึ้น และผลกระทบที่เกี่ยวข้องที่คำขอบ่อยครั้งเหล่านี้อาจมีอยู่บนเซิร์ฟเวอร์ศูนย์ควบคุม นอกจากนี้ ด้วยการคำนวณฝั่งช่องทาง สอง API ที่กล่าวถึงข้างต้นยังจะสามารถประมาณการความพร้อมของผลิตภัณฑ์ได้อย่างแม่นยำมากขึ้น โดยพิจารณาถึงธุรกรรมที่สร้างขึ้นในช่องทางที่ยังไม่ได้ทราบเกี่ยวกับศูนย์ควบคุม

การใช้ API สองรายการ คุณต้องเปิดใช้งานคุณลักษณะ **การคำนวณความพร้อมใช้งานของผลิตภัณฑ์ที่ปรับให้เหมาะสม** ผ่านพื้นที่ทำงาน **การจัดการคุณลักษณะ** ในศูนย์ควบคุม ถ้าช่องทางออนไลน์และร้านค้าออนไลน์ของคุณใช้คลังสินค้าการเติมสินค้าเดียวกัน คุณต้องเปิดใช้งานคุณลักษณะ **ตรรกะการคํานวณสินค้าคงคลังฝั่งช่องทางอีคอมเมิร์ซขั้นสูง** เพื่อให้มีตรรกะการคํานวณฝั่งช่องทางภายในสอง API เพื่อตัวคูณในธุรกรรมที่ยังไม่ได้ลงรายการบัญชี (เงินสดและการถือครอง ใบสั่งของลูกค้า การส่งคืน) ที่สร้างขึ้นในช่องทางร้านค้า คุณจะต้องรันงาน **1070** (**การตั้งค่าคอนฟิกช่องทาง**) หลังจากเปิดใช้งานคุณลักษณะเหล่านี้

เมื่อต้องการกําหนดว่าควรส่งคืนปริมาณผลิตภัณฑ์ในผลลัพธ์ API อย่างไร ให้ปฏิบัติตามขั้นตอนต่อไปนี้

1. ไปที่ **Retail และ Commerce \> การตั้งค่าศูนย์ควบคุม \> พารามิเตอร์ \> พารามิเตอร์ Commerce**
1. เลือกแท็บ **สินค้าคงคลัง** จากนั้น บนแท็บด่วน **API ที่พร้อมใช้งานของสินค้าคงคลังของ e-Commerce** ตั้งค่าคอนฟิกค่าของการตั้งค่า **ปริมาณใน API เอาท์พุท**
1. รันงาน **1070** (**การตั้งค่าคอนฟิกช่องทาง**) เพื่อซิงค์การตั้งค่าล่าสุดไปยังช่องทาง

การตั้งค่า **ปริมาณในเอาท์พุท API** มีตัวเลือกสามตัวเลือกดังนี้:

- **ส่งคืนปริมาณสินค้าคงคลัง** - ปริมาณที่พร้อมใช้งานจริงและปริมาณรวมที่พร้อมใช้งานของผลิตภัณฑ์ที่ร้องขอ จะถูกส่งคืนในเอาท์พุท API
- **ปริมาณสินค้าคงคลังส่งคืนที่ลบบัฟเฟอร์สินค้าคงคลัง** - ปริมาณที่ส่งคืนในผลลัพธ์ของ API จะถูกปรับปรุงโดยหักลบค่าบัฟเฟอร์สินค้าคงคลัง สำหรับข้อมูลเพิ่มเติมเกี่ยวกับบัฟเฟอร์สินค้าคงคลัง ให้ดูที่ [การตั้งค่าคอนฟิกบัฟเฟอร์สินค้าคงคลัง และระดับสินค้าคงคลัง](inventory-buffers-levels.md)
- **ไม่ส่งคืนปริมาณสินค้าคงคลัง** - ส่งคืนเฉพาะระดับสินค้าคงคลังในเอาท์พุท API สำหรับข้อมูลเพิ่มเติมเกี่ยวกับระดับสินค้าคงคลัง ให้ดูที่ [การตั้งค่าคอนฟิกบัฟเฟอร์สินค้าคงคลัง และระดับสินค้าคงคลัง](inventory-buffers-levels.md)

คุณสามารถใช้พารามิเตอร์ API `QuantityUnitTypeValue` เพื่อระบุชนิดหน่วยที่คุณต้องการให้ API ส่งคืนปริมาณ พารามิเตอร์นี้สนับสนุนตัวเลือก **หน่วยสินค้าคงคลัง** (ค่าเริ่มต้น) **หน่วยการซื้อ** และ **หน่วยการขาย** ปริมาณที่ส่งคืนจะถูกปัดเศษเป็นความสอดคล้องของหน่วยวัดที่สอดคล้องกัน (UOM) ในศูนย์ควบคุม

API **GetEstimatedAvailability** มีพารามิเตอร์อินพุทต่อไปนี้ เพื่อสนับสนุนสถานการณ์ต่างๆ ของการสอบถาม:

- `DefaultWarehouseOnly` - ใช้พารามิเตอร์นี้เพื่อสอบถามสินค้าคงคลังของผลิตภัณฑ์ในคลังสินค้าเริ่มต้นของช่องทางออนไลน์ 
- `FilterByChannelFulfillmentGroup` และ `SearchArea` - ใช้พารามิเตอร์ทั้งสองนี้เพื่อสอบถามสินค้าคงคลังของสินค้าจากสถานที่เบิกสินค้าทั้งหมด ภายในพื้นที่ค้นหาเฉพาะตาม `longitude` `latitude` และ `radius` 
- `FilterByChannelFulfillmentGroup` และ `DeliveryModeTypeFilterValue` - ใช้พารามิเตอร์ทั้งสองนี้เพื่อสอบถามสินค้าคงคลังจากคลังสินค้าเฉพาะ ซึ่งเชื่อมโยงกับกลุ่มการเติมสินค้าของช่องทางออนไลน์ และถูกตั้งค่าคอนฟิกเพื่อสนับสนุนวิธีการจัดส่งบางอย่าง พารามิเตอร์ `DeliveryModeTypeFilterValue` สนับสนุนตัวเลือก **ทั้งหมด** (ค่าเริ่มต้น) **การจัดส่ง** และ **การเบิกสินค้า** ตัวอย่างเช่น ในสถานการณ์ที่สามารถเติมสินค้าตามใบสั่งออนไลน์จากคลังสินค้าจัดส่งต่างๆ คุณสามารถใช้พารามิเตอร์ทั้งสองดังกล่าวเพื่อสอบถามความพร้อมใช้งานของสินค้าคงคลังของผลิตภัณฑ์ในคลังสินค้าจัดส่งทั้งหมดดังกล่าว API ในกรณีนี้จะส่งคืนปริมาณคงคลังคงเหลือของผลิตภัณฑ์ และระดับสินค้าคงคลังในแต่ละคลังสินค้าจัดส่ง บวกด้วยปริมาณรวมและระดับสินค้าคงคลังรวมจากคลังสินค้าจัดส่งทั้งหมดในขอบเขตการสอบถาม
 
โมดูล กล่อฃการซื้อ Commerce ตัวเลือกร้านค้า รายการสิ่งที่ต้องการ รถเข็น และไอคอนรถเข็น จะใช้ API และพารามิเตอร์ข้างต้น เพื่อแสดงข้อความระดับสินค้าคงคลังระหว่างไซต์ e-commerce โปรแกรมสร้างไซต์ Commerce มีการตั้งค่าสินค้าคงคลังต่างๆ ในการควบคุมลักษณะการซื้อสินค้าและการซื้อ สำหรับข้อมูลเพิ่มเติม ดูที่ [ใช้การตั้งค่าสินค้าคงคลัง](inventory-settings.md)

## <a name="pos-inventory-lookup-with-channel-side-calculation"></a>การค้นหาสินค้าคงคลัง POS ด้วยการคํานวณฝั่งช่องทาง

ใน Commerce รุ่น 10.0.9 และรุ่นก่อนหน้า การดำเนินการ **การค้นหาสินค้าคงคลัง** ใน POS ใช้การเรียกบริการแบบเรียลไทมไปยังศูนย์ควบคุม เพื่อเรียกดูข้อมูลสินค้าคงคลังสำหรับผลิตภัณฑ์ที่เลือกสำหรับทั้งร้านค้าปัจจุบันของผู้ใช้และร้านค้าอื่นๆ ที่มีการตั้งค่าคอนฟิกสำหรับกลุ่มการเติมสินค้าเป็นส่วนหนึ่งของการตั้งค่าคอนฟิกช่องทางสำหรับร้านค้า ใน Commerce รุ่น 10.0.10 และใหม่กว่า คุณสามารถปิดการเรียกบริการเวลาจริงไปยังศูนย์ควบคุม และใช้การคํานวณฝั่งช่องทางบนเซิร์ฟเวอร์ Commerce แทน เพื่อกําหนดปริมาณคงคลังคงเหลือที่พร้อมใช้งานจริงของร้านค้าและที่ตั้งอื่นใดที่กําหนดไว้ในกลุ่มการเติมสินค้า นอกจากนี้ การตั้งค่าคอนฟิกสินค้าคงคลังที่คำนวณโดยช่องทางนี้ยังมีประโยชน์สำหรับสถานที่ซึ่งการเชื่อมต่ออินเทอร์เน็ตไม่น่าเชื่อถือ เนื่องจากคุณไม่จำเป็นต้องออนไลน์เพื่อเรียกการค้นหาสินค้าคงคลังจากศูนย์ควบคุม

เมื่อการคำนวณด้านข้างช่องทางได้รับการตั้งค่าคอนฟิกและมีการจัดการอย่างถูกต้อง จึงสามารถให้การประเมินที่น่าเชื่อถือมากขึ้นของสินค้าคงคลังของร้านค้าปัจจุบัน เนื่องจากมีการใช้ข้อมูลธุรกรรมที่อยู่ในฐานข้อมูลช่องทาง Commerce แต่ศูนย์ควบคุม อาจยังไม่มีข้อมูลที่เกี่ยวข้อง ตัวอย่างเช่น ถ้าคุณใช้การเรียกบริการแบบเรียลไทม์ที่มีอยู่สำหรับการค้นหาสินค้าคงคลังใน POS ศูนย์ควบคุม อาจจะยังไม่มีข้อมูลเกี่ยวกับการขายเงินสดและการขนส่งที่เพิ่งเกิดขึ้นสำหรับผลิตภัณฑ์ ดังนั้น ค่าสินค้าคงคลังคงเหลือที่ศูนย์ควบคุมส่งคืนสำหรับผลิตภัณฑ์ดังกล่าวอาจจะเกินสินค้าคงคลังคงเหลือจริงของร้านค้าหนึ่งหน่วย อย่างไรก็ตาม ถ้าคุณใช้การคำนวณด้านข้างช่องทาง การขายแบบเงินสดและการขนส่งจะถูกรวมเป็นการคำนวณและหักจากมูลค่าคงเหลือที่แสดงไว้ ถึงแม้ว่าค่าที่ทั้งการคำนวณด้านช่องทางและการเรียกบริการแบบเรียลไทม์มีให้นั้นเป็นการประเมินสินค้าคงคลังคงเหลือเท่านั้น ค่าที่การคำนวณด้านช่องทางมีให้นั้นมีแนวโน้มที่จะถูกต้องมากกว่าสำหรับร้านค้าปัจจุบัน

เมื่อต้องการตั้งค่าคอนฟิกการดำเนินการ **ค้นหาสินค้าคงคลัง** POS ในศูนย์ควบคุม Commerce เพื่อใช้ตรรกะการคำนวณฝั่งช่องทางและปิดใช้งานการเรียกบริการแบบเรียลไทม์ อันดับแรกคุณต้องเปิดใช้งานคุณลักษณะ **การคำนวณความพร้อมของผลิตภัณฑ์ที่ปรับให้เหมาะสม** ผ่านพื้นที่ทำงาน **การจัดการคุณลักษณะ** ในศูนย์ควบคุม Commerce จากนั้นทำตามขั้นตอนเหล่านี้

1. ไปที่ **การขายปลีกและการค้า \> การตั้งค่าช่องทาง \> การตั้งค่า POS \> โพรไฟล์POS \> โพรไฟล์ฟังก์ชัน**
1. เลือกโพรไฟล์ฟังก์ชัน
1. บนแท็บด่วน **ฟังก์ชัน** ในส่วน **การคำนวณความพร้อมใช้งานของสินค้าคงคลัง** ให้เปลี่ยนค่าของฟิลด์ **โหมดการคำนวณความพร้อมใช้งานของสินค้าคงคลัง** จาก **บริการแบบเรียลไทม์** เป็น **ช่องทาง** โดยค่าเริ่มต้น โพรไฟล์ฟังก์ชันทั้งหมดใช้การเรียกบริการแบบเรียลไทม์ คุณต้องเปลี่ยนค่าของฟิลด์นี้ ถ้าคุณต้องการใช้ตรรกะการคำนวณด้านข้างช่องทาง ร้านค้าปลีกทั้งหมดที่เชื่อมโยงกับโพรไฟล์ฟังก์ชันที่เลือกจะได้รับผลกระทบจากการเปลี่ยนแปลงนี้

จากนั้นคุณต้องซิงค์การเปลี่ยนแปลงกับช่องทางผ่านกระบวนการจัดกำหนดการกระจายในศูนย์ควบคุม โดยดำเนินการตามขั้นตอนเหล่านี้

1. ไปยัง **การขายปลีกและการค้า \> การขายปลีกและไอทีเชิงพาณิชย์ \> กำหนดการการจัดจำหน่าย**
1. รันงาน **1070** (**การตั้งค่าคอนฟิกช่องทาง**)

หลังจากที่การตั้งค่าคอนฟิกเสร็จสมบูรณ์ ข้อมูลที่ระบุเกี่ยวกับสินค้าคงคลังที่มีอยู่จริงจะไม่มีการใช้การเรียกบริการแบบเรียลไทม์อีกต่อไป เมื่อผู้ใช้ในแอพลิเคชัน POS ใช้การดำเนินการ **การค้นหาสินค้าคงคลัง** (มุมมองมาตรฐานและเมทริกซ์) แต่ข้อมูลเกี่ยวกับสินค้าคงคลังที่มีอยู่จริงสำหรับร้านค้าปัจจุบันและร้านค้าทั้งหมดในกลุ่มการเติมสินค้าจะถูกคำนวณตามสแนปช็อตที่รู้จักล่าสุด ซึ่งถูกจัดส่งไปยังฐานข้อมูลช่องทางจากศูนย์ควบคุม Commerce ค่าสแนปช็อตมีการจำกัดเพิ่มเติมโดยการคำนวณด้านของช่องทางเพื่อปรับปรุงค่าที่มีอยู่จริง ตามธุรกรรมการขายหรือการส่งคืนเพิ่มเติมที่มีอยู่สำหรับผลิตภัณฑ์ที่เลือกไว้ในฐานข้อมูลช่องทางที่ไม่ได้รวมอยู่ในสแนปช็อตที่มีการซิงโครไนส์ล่าสุดจากงาน 1130 ถ้าฐานข้อมูลช่องทางไม่มีข้อมูลธุรกรรมสำหรับคลังสินค้าหรือร้านค้าใดๆ ในกลุ่มการเติมสินค้า จะไม่มีธุรกรรมเพิ่มเติมที่สามารถรวมเป็นการคำนวณค่าอีกครั้งได้ ดังนั้น การประเมินสินค้าคงคลังคงเหลือที่ดีที่สุดที่สามารถแสดงได้สำหรับคลังสินค้าหรือร้านค้าเหล่านั้นคือ ข้อมูลจากสแนปช็อตของศูนย์ควบคุม Commerce ที่รู้จักล่าสุด

หน้าจอ **การเติมสินค้าตามใบสั่ง** ของ POS ยังใช้ประโยชน์จากการคำนวณด้านของช่องทางเพื่อแสดงสินค้าคงคลังคงเหลือสำหรับสินค้า เมื่อมีการเลือกรายการการเติมสินค้าของใบสั่ง และผู้ใช้ดูแผง **รายละเอียด** สำหรับสินค้าคงคลังคงเหลือสำหรับสินค้าที่เลือก

## <a name="optimize-your-inventory-data"></a>เพิ่มประสิทธิภาพข้อมูลสินค้าคงคลังของคุณ

เพื่อให้แน่ใจในการประเมินสินค้าคงคลังเป็นไปได้ที่ดีที่สุด จึงเป็นเรื่องสำคัญอย่างยิ่งที่คุณจะใช้ชุดงาน Commerce ต่อไปนี้ และรันชุดงานเหล่านี้บ่อยครั้ง:

- **งาน P** – พบงาน P บนหน้า **กำหนดการกระจาย** และควรรันบ่อยๆ งานนี้จะนำใบสั่งอีคอมเมิร์ซ ใบสั่งของลูกค้าแบบอะซิงโครนัสที่มีการสร้าง POS และใบสั่งเงินสดและการขนส่งที่ POS สร้างขึ้นจากฐานข้อมูลช่องทางเข้าสู่ศูนย์ควบคุม Commerce เพื่อให้สามารถดำเนินการต่อได้ จนกว่าข้อมูลนี้จะถูกซิงค์จากช่องทางไปยังศูนย์ควบคุม Commerce ศูนย์ควบคุม Commerce ไม่มีข้อมูลเกี่ยวกับการปรับปรุงสินค้าคงคลังให้กับผลิตภัณฑ์ในคลังสินค้าที่เป็นผลมาจากธุรกรรมดังกล่าว
- **ซิงโครไนส์ใบสั่ง** – งานนี้จะประมวลผลข้อมูลของธุรกรรมดิบในศูนย์ควบคุม Commerce ซึ่งงาน P มีให้และแปลงธุรกรรมใบสั่งซื้อของลูกค้าและแบบอะซิงโครนัสให้เป็นใบสั่งขายในศูนย์ควบคุม Commerce จนกว่าจะมีการประมวลผลงานนี้และใบสั่งขายถูกสร้างขึ้น จะไม่มีการสร้างธุรกรรมสินค้าคงคลัง ดังนั้น สินค้าคงคลังคงเหลือในศูนย์ควบคุม Commerce จะไม่พิจารณาธุรกรรม
- **คำนวณใบแจ้งยอดธุรกรรมเป็นชุดงาน** – สำหรับธุรกรรมเงินสดและการขนส่งที่สร้างขึ้นในร้านค้า กระบวนการลงรายการบัญชีฟีดแบบต่อเนื่องช่วยให้มั่นใจว่าสินค้าคงคลังที่เกี่ยวข้องกับการขายจะถูกปรับปรุงอย่างมีประสิทธิภาพ เมื่อต้องการได้รับการประมวลผลที่มีประสิทธิภาพสูงสุดของธุรกรรมสินค้าคงคลังสำหรับใบสั่งแบบเงินสดและการขนส่ง ตรวจสอบให้แน่ใจว่าคุณตั้งค่าคอนฟิกระบบของคุณให้ใช้ [การลงรายการบัญชีฟีดแบบต่อเนื่อง](./trickle-feed.md)
- **ลงรายการบัญชีใบแจ้งยอดธุรกรรมเป็นชุดงาน** – งานนี้ยังต้องใช้สำหรับการลงรายการบัญชีฟีดแบบต่อเนื่องอีกด้วย นี่จะเป็นไปตามงาน **คำนวณใบแจ้งยอดธุรกรรมเป็นชุดงาน** งานนี้จะลงรายการบัญชีใบแจ้งยอดที่มีการคำนวณอย่างเป็นระบบ ดังนั้นจึงมีการสร้างใบสั่งขายสำหรับการขายแบบเงินสดและการขนส่งในศูนย์ควบคุม Commerce และศูนย์ควบคุม Commerce จะสะท้อนถึงสินค้าคงคลังของร้านค้าของคุณได้อย่างถูกต้องมากขึ้น
- **ความพร้อมใช้งานของผลิตภัณฑ์** – งานนี้สร้างสแนปช็อตของสินค้าคงคลังจากศูนย์ควบคุม Commerce
- **1130 (ความพร้อมใช้งานของผลิตภัณฑ์)** – งานนี้พบบนหน้า **กำหนดการกระจาย** และควรรันทันทีหลังจากงาน **ความพร้อมใช้งานของผลิตภัณฑ์** งานนี้จะขนส่งข้อมูลสแนปช็อตของสินค้าคงคลังจากศูนย์ควบคุม Commerce ไปยังฐานข้อมูลช่องทาง

> [!NOTE]
> - แนวทางปฏิบัติเพื่อรันงาน **พร้อมของผลิตภัณฑ์** และ **1130** เป็นรายชั่วโมง และการจัดกำหนดการงาน P ซิงโครไนส์ใบสั่ง และงานที่เกี่ยวข้องกับการลงรายการบัญชีขตามฟีดแบบต่อเนื่อง ด้วยความถี่เดียวกันหรือสูงกว่า
> - สำหรับเหตุผลด้านประสิทธิภาพการทำงาน เมื่อมีการใช้การคำนวณความพร้อมของสินค้าคงคลังฝั่งช่องทางเพื่อทำให้มีการร้องขอความพร้อมใช้งานของสินค้าคงคลังโดยใช้ API อีคอมเมิร์ซ หรือตรรกะสินค้าคงคลังฝั่งช่องทางของ POS การคำนวณจะใช้แคชเพื่อกำหนดว่าเวลาที่เพียงพอได้ส่งผ่าน เพื่อตรวจสอบการรันตรรกะการคำนวณอีกครั้งหรือไม่ แคชเริ่มต้นถูกตั้งค่าเป็น 60 วินาที ตัวอย่างเช่น คุณเปิดการคำนวณด้านข้างช่องทางสำหรับร้านค้าของคุณและดูสินค้าคงคลังคงเหลือสำหรับผลิตภัณฑ์บนหน้า **การค้นหาสินค้าคงคลัง** ถ้ามีการขายผลิตภัณฑ์หนึ่งหน่วยขึ้นไป หน้า **การค้นหาสินค้าคงคลัง** จะไม่แสดงสินค้าคงคลังที่ลดลงจนกว่าแคชจะถูกล้างข้อมูล หลังจากที่ผู้ใช้ลงรายการบัญชีธุรกรรมใน POS แล้ว พวกเขาควรรอ 60 วินาที ก่อนที่พวกเขาจะตรวจสอบว่าสินค้าคงคลังคงเหลือลดลงแล้วหรือไม่

ถ้าสถานการณ์จำลองทางธุรกิจของคุณต้องการเวลาแคชที่น้อยลง โปรดติดต่อเจ้าหน้าที่ฝ่ายสนับสนุนผลิตภัณฑ์ของคุณสำหรับความช่วยเหลือ


[!INCLUDE[footer-include](../includes/footer-banner.md)]
