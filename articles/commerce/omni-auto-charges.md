---
title: ค่าธรรมเนียมอัตโนมัติขั้นสูงของช่องทาง Omni
description: หัวข้อนี้อธิบายความสามารถในการจัดการการเรียกเก็บเงินตามใบสั่งอื่นสำหรับใบสั่งช่องทางการค้า โดยใช้คุณลักษระการคิดค่าบริการโดยอัตโนมัติขั้นสูง
author: hhaines
ms.date: 03/30/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: Retail
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: 10
ms.openlocfilehash: 0ff85acfbe16fc28afb2fbcee0baf4b12b1f3e9e
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 07/06/2021
ms.locfileid: "6353071"
---
# <a name="omni-channel-advanced-auto-charges"></a>ค่าธรรมเนียมอัตโนมัติขั้นสูงของช่องทาง Omni

[!include [banner](includes/banner.md)]

หัวข้อนี้ให้ข้อมูลเกี่ยวกับการตั้งค่าคอนฟิกและการปรับใช้งานของคุณลักษณะค่าธรรมเนียมอัตโนมัติขั้นสูง ซึ่งพร้อมใช้งานใน Dynamics 365 for Retail รุ่น 10.0

มื่อเปิดใช้งานคุณลักษณะการคิดค่าบริการโดยอัตโนมัติขั้นสูง ใบสั่งที่สร้างในช่องทางการค้าใด ๆ ที่รองรับ (ระบบขายหน้าร้าน (POS) ศูนย์บริการและออนไลน์) สามารถใช้ประโยชน์จากการกำหนดค่า [ค่าบริการอัตโนมัติ](/dynamics365/unified-operations/retail/configure-call-center-delivery#define-charges-for-delivery-services) ที่กำหนดในแอปพลิเคชัน ERP สำหรับค่าใช้จ่ายที่เกี่ยวข้องกับส่วนหัวและระดับบรรทัด

ในการนำออกใช้ก่อนหน้า Retail รุ่น 10.0 [ค่าธรรมเนียมอัตโนมัติ](/dynamics365/unified-operations/retail/configure-call-center-delivery#define-charges-for-delivery-services) การตั้งค่าคอนฟิกสามารถเข้าถึงได้โดยใบสั่งที่สร้างใน e-Commerce และช่องทางศูนย์บริการ ในรุ่น 10.0 และรุ่นที่ใหม่กว่า ใบสั่งที่สร้าง POS สามารถใช้ประโยชน์การตั้งค่าคอนฟิกค่าธรรมเนียมอัตโนมัติ วิธีนั้น ค่าธรรมเนียมเบ็ดเตล็ดเพิ่มเติมสามารถถูกเพิ่มไปยังธุรกรรมการขายอย่างเป็นระบบได้

เมื่อใช้การนำออกใช้ก่อนหน้ารุ่น 10.0 ผู้ใช้ POS ได้รับการพร้อมท์ให้ป้อนค่าธรรมเนียมการจัดส่งด้วยตนเองระหว่างการสร้างของธุรกรรม POS "ส่งทั้งหมด" หรือ "ส่งที่เลือก" ขณะที่ความสามารถของค่าธรรมเนียมเบ็ดเตล็ดของแอพลิเคชันถูกใช้ประโยชน์ในเรื่องของวิธีการเขียนค่าธรรมเนียมไปยังใบสั่ง จะไม่มีการให้การคำนวณที่เป็นระบบ – การคำนวณขึ้นกับอินพุตของผู้ใช้เพื่อกำหนดมูลค่าของค่าธรรมเนียม ค่าธรรมเนียมสามารถถูกเพิ่มได้เป็นรหัสค่าธรรมเนียมที่เกี่ยวข้องกับ "การจัดส่ง" เดียวเท่านั้น และไม่สามารถแก้ไขหรือเปลี่ยนแปลงได้โดยง่ายใน POS หลังจากมีการสร้าง

ผู้ใช้ของการพร้อมท์แบบกำหนดเองเพื่อเพิ่มค่าธรรมเนียมการจัดส่งยังคงพร้อมใช้งานในรุ่น 10.0 และรุ่นที่ใหม่กว่า ถ้าองค์กรไม่เปิดใช้งานพารามิเตอร์ **ค่าธรรมเนียมอัตโนมัติขั้นสูง** พร้อมท์ POS สำหรับรายการแบบกำหนดเองของค่าธรรมเนียมจะยังคงเหมือนเดิม

ด้วยคุณลักษณะค่าธรรมเนียมอัตโนมัติขั้นสูง ผู้ใช้ POS สามารถมีการคำนวณที่เป็นระบบสำหรับค่าธรรมเนียมเบ็ดเตล็ดที่กำหนดไว้ใดๆ ซึ่งขึ้นกับตารางการตั้งค่าค่าธรรมเนียมอัตโนมัติ นอกจากนี้ ผู้ใช้จะมีความสามารถในการเพิ่มหรือแก้ไขจำนวนที่ไม่จำกัดของค่าใช้จ่ายและค่าธรรมเนียมเพิ่มเติมไปยังธุรกรรมการขาย POS ใดๆ ที่ส่วนหัวหรือระดับรายการ (สำหรับเงินสดและดำเนินการ หรือใบสั่งลูกค้า)

## <a name="enable-advanced-auto-charges"></a>เปิดใช้งานค่าธรรมเนียมอัตโนมัติขั้นสูง

บนหน้า **การขายปลีกและการค้า \> การตั้งสำนักงานใหญ่ \> พารามิเตอร์ \> พารามิเตอร์การค้า** ไปที่แท็บ **ใบสั่งลูกค้า** บน FastTab **ค่าธรรมเนียม** ตั้งค่า **ใช้การคิดค่าบริการโดยอัตโนมัติขั้นสูง** เป็น **ใช่**

![พารามิเตอร์ค่าธรรมเนียมอัตโนมัติขั้นสูง](media/advancedchargesparameter.png)

เมื่อมีการเปิดใช้งานค่าธรรมเนียมอัตโนมัติขั้นสูง ผู้ใช้จะไม่ถูกพร้อมท์เพื่อให้ป้อนค่าธรรมเนียมการจัดส่งด้วยตนเองที่เทอร์มินัล POS อีกต่อไป เมื่อสร้างใบสั่งของลูกค้าแบบส่งทั้งหมดหรือเลือกส่ง ค่าธรรมเนียมใบสั่ง POS ถูกคำนวณอย่างเป็นระบบและถูกเพิ่มไปยังธุรกรรม POS (ถ้าพบตารางค่าธรรมเนียมอัตโนมัติที่สอดคล้องกันที่ตรงกับเกณฑ์ของใบสั่งที่กำลังถูกสร้าง) ผู้ใช้ยังสามารถเพิ่ม หรือรักษาส่วนหัวหรือค่าธรรมเนียมระดับรายการได้ด้วยตนเอง ผ่านทางการดำเนินการ POS ที่เพิ่มใหม่ซึ่งสามารถถูกเพิ่มไปยังโครงร่างหน้าจอ POS

เมื่อเปิดใช้งานการคิดค่าบริการอัตโนมัติขั้นสูง **พารามิเตอร์การค้า** สำหรับ **รหัสค่าขนส่ง** และ **การคืนเงินค่าจัดส่ง** ที่มีอยู่แล้ว จะไม่ถูกใช้อีกต่อไป พารามิเตอร์เหล่านี้ใช้ได้เฉพาะเมื่อพารามิเตอร์ **ใช้ค่าธรรมเนียมอัตโนมัติขั้นสูง** ถูกตั้งค่าเป็น **ไม่**

ก่อนที่คุณจะเปิดใช้งานคุณลักษณะนี้ ต้องแน่ใจว่าคุณได้ทดสอบและฝึกฝนพนักงานของคุณ เนื่องจากคุณลักษณะที่เกิดใช้งานจะเปลี่ยนแปลงโฟลว์กระบวนการธุรกิจของวิธีการคำนวณค่าธรรมเนียมการจัดส่งหรืออื่นๆ และวิธีการเพิ่มไปยังใบสั่งขาย POS ต้องแน่ใจว่าคุณเข้าใจผลกระทบของโฟลว์กระบวนการต่อการสร้างของธุรกรรมจาก POS สำหรับใบสั่งศูนย์บริการและ e-Commerce ผลกระทบของการเปิดใช้งานค่าธรรมเนียมอัตโนมัติขั้นสูงเป็นต่ำสุด แอพลิเคชันศูนย์บริการและ e-Commerce จะยังคงมีการทำงานที่เหมือนกันที่พวกเขาสัมพันธ์ตามประวัติกับตารางค่าธรรมเนียมอัตโนมัติขั้นสูง เพื่อคำนวณค่าธรรมเนียมใบสั่งเพิ่มเติม ผู้ใช้ช่องทางศูนย์บริการจะยังคงมีความสามารถในการแก้ไขค่าธรรมเนียมอัตโนมัติที่คำนวณระบบใดๆ แบบกำหนดเองที่ระดับส่วนหัวหรือรายการ หรือเพิ่มค่าธรรมเนียมเบ็ดเตล็ดเพิ่มเติมแบบกำหนดเองที่ระดับส่วนหัวหรือรายการ

## <a name="add-pos-operations"></a>เพิ่มการดำเนินงาน POS

สำหรับค่าธรรมเนียมอัตโนมัติขั้นสูงเพื่อทำงานอย่างเหมาะสมในสภาพแวดล้อมแอพลิเคชัน POS ของคุณ การดำเนินการ POS ใหม่ได้ถูกเพิ่ม การดำเนินการเหล่านี้ต้องถูกเพิ่มไปยัง [โครงร่างหน้าจอ POS](/dynamics365/unified-operations/retail/pos-screen-layouts) ของคุณ และปรับใช้ไปยังอุปกรณ์ POS เมื่อคุณปรับใช้ค่าธรรมเนียมอัตโนมัติขั้นสูง ถ้าไม่มีการเพิ่มการดำเนินการเหล่านี้ ผู้ใช้จะไม่สามารถจัดการหรือรักษาค่าธรรมเนียมเบ็ดเตล็ดในธุรกรรม POS และจะไม่มีวิธีในการปรับหรือการเปลี่ยนค่าของค่าธรรมเนียมที่ถูกคำนวณอย่างเป็นระบบตามการตั้งค่าคอนฟิกของค่าธรรมเนียมอัตโนมัติ อย่างน้อยที่สุด ขอแนะนำให้คุณปรับใช้การดำเนินการ **จัดการค่าธรรมเนียม** ไปยังโครงร่าง POS ของคุณ

การดำเนินการใหม่มีดังต่อไปนี้

- **142 - จัดการค่าธรรมเนียม** – ใช้การดำเนินการนี้เพื่ออนุญาตให้ผู้ใช้ POS สามารถดูและแก้ไขค่าธรรมเนียมเบ็ดเตล็ดสำหรับธุรกรรม POS ที่ถูกเพิ่มด้วยตนเองหรือด้วยระบบ ผ่านการคำนวณค่าธรรมเนียมอัตโนมัติ
- **141 - เพิ่มค่าธรรมเนียมส่วนหัว** – ใช้การดำเนินการนี้เพื่อให้ผู้ใช้สามารถเพิ่มค่าธรรมเนียมเบ็ดเตล็ดระดับส่วนหัวได้ด้วยตนเอง ไปยังธุรกรรมการขาย POS ใดๆ (และเลือกรหัสค่าธรรมเนียมที่จะใช้)
- **140 - เพิ่มค่าธรรมเนียมรายการ** – ใช้การดำเนินการนี้เพื่อให้ผู้ใช้สามารถเพิ่มค่าธรรมเนียมเบ็ดเตล็ดระดับรายการได้ด้วยตนเอง ไปยังรายการธุรกรรมการขาย POS ใดๆ (และเลือกรหัสค่าธรรมเนียมที่จะใช้)
- **143 - คำนวณค่าธรรมเนียมใหม่** – ใช้การดำเนินการนี้เพื่อทำการคำนวณค่าธรรมเนียมซ้ำทั้งหมดสำหรับธุรกรรมการขาย ค่าธรรมเนียมอัตโนมัติที่ผู้ใช้เขียนทับก่อนหน้าใดๆ จะถูกคำนวณค่าธรรมเนียมใหม่ตามการตั้งค่าคอนฟิกรถเข็นปัจจุบัน

เนื่องจากด้วยการดำเนินการ POS ทั้งหมด การตั้งค่าคอนฟิกความปลอดภัยสามารถทำได้เพื่อร้องขอการอนุมัติของผู้จัดการเพื่อทำการดำเนินการ

จำเป็นต้องทราบว่า การดำเนินงาน POS ที่แสดงรายการข้างต้นยังสามารถถูกเพิ่มลงในโครงร่าง POS ด้วย แม้ว่าพารามิเตอร์ **ใช้ค่าธรรมเนียมอัตโนมัติขั้นสูง** ถูกปิดใช้งาน ในสถานการณ์นี้ องค์กรจะยังคงได้รับประโยชน์เพิ่มเติมจากการสามารถดูค่าธรรมเนียมเพิ่มเติมด้วยตนเอง และแก้ไขโดยใช้การดำเนินงาน **จัดการค่าธรรมเนียม** ผู้ใช้ยังอาจใช้การดำเนินการ **เพิ่มค่าธรรมเนียมส่วนหัว** และ **เพิ่มค่าธรรมเนียมรายการ** สำหรับธุรกรรม POS แม้แต่เมื่อพารามิเตอร์ **ใช้ค่าธรรมเนียมอัตโนมัติขั้นสูง** ถูกปิดใช้งาน การดำเนินงาน **คำนวณค่าธรรมเนียมใหม่** มีฟังก์ชันน้อยลง ถ้ามีการใช้เมื่อ **ใช้ค่าธรรมเนียมอัตโนมัติขั้นสูง** ถูกปิดใช้งาน ในสถานการณ์นี้ ไม่มีสิ่งใดจะถูกคำนวณใหม่ และค่าธรรมเนียมใดๆ ที่เพิ่มลงในธุรกรรมด้วยตนเองจะเพียงแค่รีเซ็ตเป็น $0.00

## <a name="use-case-examples"></a>ใช้ตัวอย่างกรณี

ในส่วนนี้ จะมีการนำเสนอกรณีการใช้งานตัวอย่าง เพื่อช่วยให้คุณเข้าใจการกำหนดค่าและการใช้งานการคิดค่าบริการอัตโนมัติและค่าใช้จ่ายเบ็ดเตล็ดภายในบริบทของใบสั่งช่องทาง ตัวอย่างเหล่านี้แสดงการทำงานของแอพลิเคชัน เมื่อพารามิเตอร์ **ใช้ค่าธรรมเนียมอัตโนมัติขั้นสูง** ถูกเปิดใช้งาน

### <a name="auto-charges-header-charges-example"></a>ตัวอย่างค่าธรรมเนียมส่วนหัวของค่าธรรมเนียมอัตโนมัติ

#### <a name="use-case-scenario"></a>ใช้สถานการณ์สมมติของกรณี

ผู้ค้าปลีกต้องการเพิ่มค่าธรรมเนียมค่าขนส่งโดยอัตโนมัติเมื่อมีการสร้างธุรกรรมในช่องทางการค้าใด ๆ ที่ต้องการจัดส่งผลิตภัณฑ์ให้กับลูกค้า ผู้ขายปลีกเสนอวิธีสองวิธีในการจัดส่ง: ทางบก และทางอากาศ ถ้าลูกค้าเลือกการจัดส่งทางบกและมูลค่าใบสั่งต่ำกว่า $100 ผู้ขายปลีกต้องการคิดค่าธรรมเนียมขนส่งจากลูกค้า $10.00 ถ้ามูลค่าใบสั่งเกินกว่า $100 และลูกค้าเลือกการจัดส่งทางบก ลูกค้าจะไม่ถูกคิดค่าธรรมเนียมขนส่งเพิ่มเติมใดๆ ถ้าลูกค้าเลือกวิธีการจัดส่งทางอากาศสำหรับใบสั่งทั้งหมด โดยไม่คำนึงถึงมูลค่ารวม จะถูกคิดค่าธรรมเนียมขนส่ง $20.00

#### <a name="setup-and-configuration"></a>การตั้งค่าและการตั้งค่าคอนฟิก

สถานการณ์จำลองนี้ต้องการการตั้งค่าคอนฟิกของตารางค่าธรรมเนียมอัตโนมัติสองตาราง

ไปยัง **บัญชีลูกหนี้ \> การตั้งค่าค่าธรรมเนียม \> ค่าธรรมเนียมอัตโนมัติ**

ตั้งค่าคอนฟิกค่าธรรมเนียมอัตโนมัติระดับส่วนหัวที่แตกต่างกันสองรายการ ตั้งค่าคอนฟิกหนึ่งรายการสำหรับการจัดส่ง "โหมดทางบก" และหนึ่งรายการสำหรับการจัดส่ง "โหมดทางอากาศ" สำหรับสถานการณ์จำลองนี้ ตั้งค่าคอนฟิกรายการที่จะถูกใช้สำหรับ "ลูกค้าทั้งหมด"

สำหรับค่าธรรมเนียมการจัดส่งทางบก ในส่วนรายการของหน้า **ค่าธรรมเนียมอัตโนมัติ** กำหนดค่าธรรมเนียมที่จะถูกนำไปใช้กับใบสั่งระหว่าง $.01 และ $100 เป็น $10.00 สร้างรายการค่าธรรมเนียมอีกรายการหนึ่งเพื่อบ่งชี้ใบสั่งที่มากกว่า $100.01 จะไม่มีค่าธรรมเนียม

![ตัวอย่างตารางค่าธรรมเนียมอัตโนมัติสองตาราง](media/headerchargesexample.png)

สำหรับค่าธรรมเนียมการจัดส่งทางอากาศ ในส่วนรายการของฟอร์มค่าธรรมเนียมอัตโนมัติ กำหนดค่าธรรมเนียม $20.00 ที่จะถูกนำไปใช้กับใบสั่งทั้งหมด (ระหว่างมูลค่า $.01 ถึง $9,999,999)

ส่งค่าธรรมเนียมไปยัง Commerce Scale Unit / ช่องทาง DB เพื่อให้ POS สามารถใช้งานได้โดยการเรียกใช้งาน **กำหนดการการแจกจ่าย 1040**

#### <a name="sales-processing-for-this-scenario"></a>การประมวลผลการขายสำหรับสถานการณ์จำลองนี้

หลังจากขั้นตอนการตั้งค่าคอนฟิกข้างต้นเสร็จสมบูรณ์ และมีการนำการเปลี่ยนแปลงไปใช้กับฐานข้อมูลช่องทาง ใบสั่งลูกค้าหรือธุรกรรมการขายใดๆ ที่สร้างใน POS ศูนย์บริการ หรือช่องทาง e-Commerce ที่มีชุดวิธีการจัดส่งแบบทางบกหรือทางอากาศที่ระดับส่วนหัว จะใช้ประโยชน์ค่าธรรมเนียมเหล่านี้และนำไปใช้กับการขายโดยอัตโนมัติ

ในขณะนี้ ค่าธรรมเนียมจะนำไปใช้กับธุรกรรมการขายทั้งหมดที่สร้างภายในเอนทิตีทางกฎหมาย ซึ่งใช้ประโยชน์โหมดการจัดส่งเหล่านี้ เนื่องจากไม่มีฟังก์ชันในการออกแบบว่าการตั้งค่าคอนฟิกค่าธรรมเนียมอัตโนมัติจะนำไปใช้เฉพาะกับช่องทางการขายเฉพาะ

สำหรับสถานการณ์จำลอง POS และ e-Commerce เนื่องจากไม่มี "ส่วนหัว" ที่ถูกกำหนดอย่างชัดเจนในใบสั่งเหล่านี้ ค่าธรรมเนียมระดับส่วนหัวจะใช้เฉพาะเมื่อรายการขายทั้งหมดในธุรกรรมถูกตั้งค่าเพื่อส่งด้วยโหมดการจัดส่งเดียวกัน ถ้ามี "โหมดผสม" ของการบรรลุเป้าหมายในธุรกรรมที่สร้างโดย POS หรือ e-Commerce เฉพาะค่าธรรมเนียมอัตโนมัติระดับรายการจะได้รับการพิจารณาและนำไปใช้

ในสถานการณ์จำลองศูนย์บริการ ผู้ใช้มีการควบคุมเหนือการตั้งค่าของโหมดการจัดส่งที่ส่วนหัวของใบสั่ง ดังนั้น ค่าธรรมเนียมระดับส่วนหัวจะนำไปใช้สำหรับใบสั่งเหล่านี้ ถึงแม้ว่ารายการขายบางรายการได้ถูกตั้งค่าคอนฟิกเพื่อใช้โหมดการจัดส่งที่แตกต่างกัน ค่าธรรมเนียมระดับส่วนหัวสำหรับใบสั่งศูนย์บริการจะขึ้นกับโหมดของการจัดส่งเสมอ ซึ่งถูกกำหนดที่ระดับส่วนหัวของใบสั่งของใบสั่งขาย

### <a name="auto-charges-line-charges-example"></a>ตัวอย่างค่าธรรมเนียมรายการของค่าธรรมเนียมอัตโนมัติ

#### <a name="use-case-scenario"></a>ใช้สถานการณ์สมมติของกรณี 

ผู้ขายปลีกต้องการเพิ่มค่าธรรมเนียมเพิ่มเติมไปยังลูกค้าสำหรับค่าธรรมเนียมการตั้งค่า เมื่อลูกค้าซื้อแบบจำลองเฉพาะของคอมพิวเตอร์ คอมพิวเตอร์นี้ต้องการการดำเนินการตั้งค่าแบบไม่ใช่ตัวเลือกเพิ่มเติมที่ผู้ขายปลีกจะดำเนินการสำหรับลูกค้า ผู้ขายปลีกได้แจ้งข้อมูลลูกค้าว่าจะมีค่าธรรมเนียมเพิ่มเติมสำหรับการตั้งค่านี้ ผู้ขายปลีกต้องการจัดการค่าธรรมเนียมที่เกี่ยวข้องกับค่าธรรมเนียมนี้โดยแยกต่างหากจากราคาขายผลิตภัณฑ์สำหรับวัตถุประสงค์การรายงานทางการเงิน ค่าติดตั้ง $19.99 จะถูกเรียกเก็บจากลูกค้าเมื่อซื้อคอมพิวเตอร์เครื่องนี้ในทุกช่องทาง

#### <a name="setup-and-configuration"></a>การตั้งค่าและการตั้งค่าคอนฟิก

สถานการณ์จำลองนี้ต้องการการตั้งค่าคอนฟิกของตารางค่าธรรมเนียมอัตโนมัติระดับรายการ

ไปยัง **บัญชีลูกหนี้ \> การตั้งค่าค่าธรรมเนียม \> ค่าธรรมเนียมอัตโนมัติ**

ตั้งค่าเมนูแบบหล่นลง **ระดับ** เป็น **รายการ** และสร้างเรกคอร์ดค่าธรรมเนียมอัตโนมัติใหม่สำหรับลูกค้าทั้งหมด และสำหรับผลิตภัณฑ์เฉพาะหรือกลุ่มผลิตภัณฑ์ ที่ซึ่งค่าธรรมเนียมการตั้งค่าจะถูกคิด

![ตัวอย่างตารางค่าธรรมเนียมอัตโนมัติในระดับรายการเดียว](media/linechargesexample.png)

ส่งการเรียกเก็บเงินไปยัง Commerce Scale Unit / ช่องทาง DB เพื่อให้ POS สามารถใช้งานได้โดยการเรียกใช้งาน **กำหนดการการแจกจ่าย 1040**

#### <a name="sales-processing-for-this-scenario"></a>การประมวลผลการขายสำหรับสถานการณ์จำลองนี้

หลังจากขั้นตอนการตั้งค่าคอนฟิกข้างต้นเสร็จสมบูรณ์ และมีการนำการเปลี่ยนแปลงไปใช้กับฐานข้อมูลช่องทาง ใบสั่งลูกค้าหรือธุรกรรมการขายใดๆ ที่สร้างใน POS ศูนย์บริการ หรือช่องทาง e-Commerce ที่มีสินค้านี้ในใบสั่งจะทริกเกอร์ค่าธรรมเนียมระดับรายการให้ถูกเพิ่มอย่างเป็นระบบไปยังผลรวมใบสั่ง

ในขณะนี้ ค่าธรรมเนียมจะนำไปใช้กับรายการการขายใดๆ ที่ตรงกับการตั้งค่าคอนฟิกของค่าธรรมเนียมอัตโนมัติระดับรายการภายในเอนทิตีทางกฎหมาย เนื่องจากไม่มีฟังก์ชันในการตั้งค่าคอนฟิกค่าธรรมเนียมอัตโนมัติระดับรายการเพื่อนำไปใช้เฉพาะกับช่องทางการขายเฉพาะ

### <a name="manual-header-charges-example"></a>ตัวอย่างค่าธรรมเนียมส่วนหัวแบบกำหนดเอง

#### <a name="use-case-scenario-description"></a>ใช้คำอธิบายสถานการณ์สมมติของกรณี

ผู้ขายปลีกกำลังสร้างข้อยกเว้นให้กับกระบวนการทั่วไป โดยการเสนอให้มีการจัดส่งผลิตภัณฑ์ถึงบ้านแบบพิเศษไปยังลูกค้าที่สั่งผลิตภัณฑ์ในร้านค้า ผู้ขายปลีกและลูกค้าได้ตกลงกันว่า ลูกค้าจะจ่ายค่าธรรมเนียมการจัดการ $25 เพิ่มเติมสำหรับบริการนี้ ผู้รับใบสั่งต้องเพิ่มค่าธรรมเนียมเพิ่มเติมนี้ไปยังธุรกรรม เนื่องจากค่าธรรมเนียมเป็นค่าธรรมเนียมครอบคลุม และไม่เกี่ยวข้องกับผลิตภัณฑ์เดียวใดๆ ในใบสั่ง ค่าธรรมเนียมส่วนหัวจะถูกใช้ประโยชน์

#### <a name="setup-and-configuration"></a>การตั้งค่าและการตั้งค่าคอนฟิก

ต้องแน่ใจว่ารหัสค่าธรรมเนียมที่จะถูกใช้ในสถานการณ์จำลองนี้ได้ถูกตั้งค่าคอนฟิกอย่างเหมาะสมโดยการไปยัง **บัญชีลูกหนี้ \> การตั้งค่าค่าธรรมเนียม \> ค่าธรรมเนียม** เพื่อกำหนดรหัสค่าธรรมเนียมที่เหมาะสมสำหรับสถานการณ์จำลอง

![ตัวอย่างค่าธรรมเนียม](media/chargesexample.png)

ถ้าค่าธรรมเนียมควรได้รับพิจารณาเป็นค่าธรรมเนียมที่เกี่ยวข้องกับ "การจัดส่ง" เพื่อวัตถุประสงค์ของส่วนลดหรือโปรโมชั่นที่เกี่ยวข้องกับการจัดส่ง ตั้งค่า **ค่าธรรมเนียมการจัดส่ง** ในรหัสค่าธรรมเนียมเป็น **ใช่** ถ้าค่าธรรมเนียมนี้ได้รับอนุญาตให้ได้รับการคืนเงินอย่างเป็นระบบเช่นกัน ในระหว่างกระบวนการของธุรกรรมส่งคืนในแอพลิเคชัน ตั้งค่า **สามารถคืนเงินได้** เป็น **ใช่** แฟล็ก **สามารถคืนเงินได้** เกี่ยวข้องก็ต่อเมื่อพารามิเตอร์ **ใช้ค่าธรรมเนียมอัตโนมัติขั้นสูง** ถูกตั้งค่าเป็น **ใช่**

ส่งการเรียกเก็บเงินไปยัง Commerce Scale Unit / ช่องทาง DB เพื่อให้ POS สามารถใช้งานได้โดยการเรียกใช้งาน **กำหนดการการแจกจ่าย 1040**

การดำเนินการ **เพิ่มส่วนหัวค่าธรรมเนียม** ต้องถูกกำหนดค่าใน [โครงร่างหน้าจอ POS](/dynamics365/unified-operations/retail/pos-screen-layouts) ของคุณ เพื่อให้ปุ่มที่สามารถเข้าถึงได้ไปยังผู้ใช้จาก POS สามารถเรียกใช้การดำเนินการนี้ได้ (การดำเนินการ 141) การเปลี่ยนแปลงเค้าโครงหน้าจอจะต้องถูกแจกจ่ายไปยังช่องทาง เช่นเดียวกับผ่านฟังก์ชั่นกำหนดการแจกจ่าย

#### <a name="sales-processing-of-manual-header-charges"></a>การประมวลผลการขายของค่าธรรมเนียมส่วนหัวด้วยตนเอง

เพื่อดำเนินการสถานการณ์จำลองในแอพลิเคชัน POS ผู้ใช้ POS จะสร้างธุรกรรมการขายตามปกติ ซึ่งเพิ่มผลิตภัณฑ์และการตั้งค่าคอนฟิกอื่นใดไปยังการขาย ก่อนการเก็บรวบรวมการชำระเงิน ผู้ใช้ควรทำการดำเนินการ **เพิ่มค่าธรรมเนียมส่วนหัว** ซึ่งจะพร้อมท์ผู้ใช้ให้เลือกรหัสค่าธรรมเนียมและป้อนค่าของค่าธรรมเนียม เมื่อผู้ใช้ดำเนินกระบวนการเสร็จสมบูรณ์ ค่าธรรมเนียมจะถูกเพิ่มลงในใบสั่งขายเป็นค่าธรรมเนียมระดับส่วนหัว

กระบวนการนี้สามารถใช้ได้ในศูนย์บริการโดยการใช้คุณลักษณะ **ค่าธรรมเนียม** ที่มีอยู่ พบบนแท็บ **ขาย** บนแถบเครื่องมือ บนหน้า **รักษาค่าธรรมเนียม** ผู้ใช้สามารถเพิ่มรายการค่าธรรมเนียมใหม่ไปยัส่วนหัวใบสั่งได้

### <a name="manual-line-charges-example"></a>ตัวอย่างของค่าธรรมเนียมรายการแบบกำหนดเอง

#### <a name="use-case-scenario"></a>ใช้สถานการณ์สมมติของกรณี

ลูกค้าได้ร้องขอให้สินค้าสองในห้ารายการในใบสั่งซื้อของพวกเขาถูกห่อของขวัญ ผู้ขายปลีกเสนอบริการทางเลือกนี้สำหรับค่าธรรมเนียม $2.00 ต่อรายการ ผู้รับใบสั่งจะต้องเพิ่มค่าธรรมเนียมนี้ลงในสินค้าเฉพาะที่ต้องถูกห่อของขวัญ

#### <a name="setup-and-configuration"></a>การตั้งค่าและการตั้งค่าคอนฟิก

ต้องแน่ใจว่ารหัสค่าธรรมเนียมที่จะถูกใช้ในสถานการณ์จำลองนี้ได้ถูกตั้งค่าคอนฟิกอย่างเหมาะสมโดยการไปยัง **บัญชีลูกหนี้ \> การตั้งค่าค่าธรรมเนียม \> ค่าธรรมเนียม** เพื่อกำหนดรหัสค่าธรรมเนียมที่เหมาะสมสำหรับสถานการณ์จำลอง

ถ้าค่าธรรมเนียมควรได้รับพิจารณาค่าธรรมเนียมที่เกี่ยวข้องกับ "การจัดส่ง" เพื่อวัตถุประสงค์ของส่วนลดหรือโปรโมชั่นที่เกี่ยวข้องกับการจัดส่ง ตั้งค่า **ค่าธรรมเนียมการจัดส่ง** ในรหัสค่าธรรมเนียมเป็น **ใช่** ถ้าค่าธรรมเนียมได้รับอนุญาตให้ได้รับการคืนเงินอย่างเป็นระบบเช่นกัน ในระหว่างกระบวนการของธุรกรรมส่งคืนในแอพลิเคชัน ตั้งค่า **สามารถคืนเงินได้** เป็น **ใช่** แฟล็ก **สามารถคืนเงินได้** เกี่ยวข้องก็ต่อเมื่อพารามิเตอร์ **ใช้ค่าธรรมเนียมอัตโนมัติขั้นสูง** ถูกตั้งค่าเป็น **ใช่**

ส่งการเรียกเก็บเงินไปยัง Commerce Scale Unit / ช่องทาง DB เพื่อให้ POS สามารถใช้งานได้โดยการเรียกใช้งาน **กำหนดการการแจกจ่าย 1040**

ตัวดำเนินการ **เพิ่มรายการค่าธรรมเนียม** ต้องถูกตั้งค่าคอนฟิกใน [โครงร่างหน้าจอ POS](/dynamics365/unified-operations/retail/pos-screen-layouts) ของคุณ เพื่อให้ปุ่มที่สามารถเข้าถึงได้ไปยังผู้ใช้จาก POS สามารถเรียกใช้การดำเนินการนี้ได้ (การดำเนินการ 140) การเปลี่ยนแปลงเค้าโครงหน้าจอจะต้องถูกแจกจ่ายไปยังช่องทาง เช่นเดียวกับผ่านฟังก์ชั่นกำหนดการแจกจ่าย

#### <a name="sales-processing-of-the-manual-line-charge"></a>การประมวลผลการขายของค่าธรรมเนียมรายการด้วยตนเอง

เพื่อดำเนินการสถานการณ์จำลองในแอพลิเคชัน POS ผู้ใช้ POS จะสร้างธุรกรรมการขายตามปกติ ซึ่งเพิ่มผลิตภัณฑ์และการตั้งค่าคอนฟิกอื่นใดไปยังการขาย ก่อนการเก็บรวบรวมการชำระเงิน ผู้ใช้ควรเลือกรายการเฉพาะที่ซึ่งค่าธรรมเนียมจะนำไปใช้จากการแสดงรายการสินค้า POS และดำเนินการ **เพิ่มค่าธรรมเนียมรายการ** ผู้ใช้จะได้รับพร้อมท์ให้เลือกรหัสค่าธรรมเนียมและป้อนค่าของค่าธรรมเนียม เมื่อผู้ใช้ดำเนินกระบวนการนี้เสร็จสิ้น ค่าธรรมเนียมจะถูกเชื่อมโยงไปยังรายการและเพิ่มไปยังผลรวมใบสั่งเป็นค่าธรรมเนียมระดับรายการ ผู้ใช้สามารถทำซ้ำกระบวนการเพื่อเพิ่มค่าธรรมเนียมรายการเพิ่มเติมไปยังรายการสินค้าอื่นในธุรกรรม หากจำเป็น

กระบวนการเดียวกันสามารถใช้ได้ในศูนย์บริการโดยการใช้คุณลักษณะ "รักษาค่าธรรมเนียม" ที่พบภายใต้เมนูแบบหล่นลง **ทางการเงิน** ในส่วน **รายการใบสั่งขาย** ในหน้า **ใบสั่งขาย** การเลือกตัวเลือกนี้นี่จะเปิดหน้า **รักษาค่าธรรมเนียม** ที่ซึ่งผู้ใช้สามารถเพิ่มค่าธรรมเนียมเฉพาะรายการใหม่ไปยังธุรกรรมได้

## <a name="additional-features"></a>ลักษณะการทำงานเพิ่มเติม

### <a name="editing-charges-on-a-pos-sales-transaction"></a>การแก้ไขค่าธรรมเนียมในธุรกรรมการขาย POS

การดำเนินการ **จัดการค่าธรรมเนียม** (142) ควรถูกเพิ่มไปยัง [โครงร่างหน้าจอ POS](/dynamics365/unified-operations/retail/pos-screen-layouts) เพื่อให้ผู้ใช้สามารถดูและแก้ไขหรือแทนที่ค่าธรรมเนียมใดๆ ที่คำนวณโดยระบบ หรือส่วนหัวที่สร้างเอง หรือระดับรายการ ถ้าไม่มีการเพิ่มการดำเนินการ ผู้ใช้จะไม่สามารถปรับค่าของค่าธรรมเนียมได้ในธุรกรรม POS และจะไม่สามารถดูรายละเอียดของค่าธรรมเนียมได้ เช่น ชนิดของรหัสค่าธรรมเนียมที่เชื่อมตต่อกับค่าธรรมเนียม

ในหน้า **จัดการค่าธรรมเนียม** ใน POS ผู้ใช้สามารถดูได้ทั้งรายละเอียดค่าธรรมเนียมส่วนหัวและระดับรายการ ผู้ใช้สามารถใช้ฟังก์ชัน **แก้ไข** ที่พร้อมใช้งานในหน้านี้ เพื่อทำการเปลี่ยนแปลงไปยังจำนวนที่คิดค่าธรรมเนียมไปยังรายการค่าธรรมเนียมเฉพาะ เมื่อรายการค่าธรรมเนียมถูกเขียนทับด้วยตนเอง จะไม่มีการคำนวณซ้ำอย่างเป็นระบบ นอกจากว่าผู้ใช้จะเริ่มการดำเนินการ **คำนวณค่าธรรมเนียมอีกครั้ง**

หากมีการกำหนดค่า **รหัสเหตุผลแทนที่การเรียกเก็บเงิน** บนหน้าการตั้งค่า **พารามิเตอร์การค้า** ผู้ใช้จะได้รับแจ้งให้ระบุรหัสเหตุผลเมื่อมีการแก้ไขการคิดค่าบริการในแอปพลิเคชัน POS

ถ้ามีการบันทึกรหัสเหตุผลสำหรับค่าธรรมเนียมที่เขียนทับ รายงานใหม่จะยังพร้อมให้ตรวจทานและตรวจสอบการแทนที่เหล่านี้ด้วย สามารถดูรายงานได้ใน **การขายปลีกและการค้า \> การสอบถามและรายงาน \> ประวัติการแทนที่การเรียกเก็บเงิน**

### <a name="refunding-charges-on-a-pos-return-transaction"></a>ค่าธรรมเนียมการคืนเงินในธุรกรรมการส่งคืน POS

หากพารามิเตอร์ **ใช้การคิดค่าบริการอัตโนมัติขั้นสูง** ถูกตั้งค่าเป็น **ใช่**  พารามิเตอร์การค้าที่มีอยู่สำหรับ **การคืนเงินค่าจัดส่ง** จะไม่สามารถใช้งานได้อีกต่อไป เพื่อบ่งชี้ว่าค่าธรรมเนียมใดควรได้รับเงินคืนอย่างเป็นระบบไปยังลูกค้า เมื่อใช้ค่าธรรมเนียมอัตโนมัติขั้นสูง ต้องแน่ใจว่ารหัสค่าธรรมเนียมที่เกี่ยวข้องได้ถูกตั้งค่าคอนฟิกเป็น **สามารถคืนเงินได้** ในหน้าการตั้งค่า **รหัสค่าธรรมเนียม** ตรวจสอบให้แน่ใจว่าการตั้งค่าได้รับการทำข้อมูลให้ตรงกันกับฐานข้อมูลช่องทางการค้าของคุณผ่านการประมวลผลกำหนดการแจกจ่าย

### <a name="refunding-charges-on-a-return-order-transaction"></a>ค่าธรรมเนียมการคืนเงินในธุรกรรมใบสั่งส่งคืน

ค่าบริการจะไม่ได้รับการคืนเงินอย่างเป็นระบบให้กับ **การคืนใบสั่ง** ที่สร้างขึ้นในการค้า ผู้ใช้ต้องเลือกตัวเลือก **คัดลอกค่าธรรมเนียม** เมื่อสร้าง **ใบสั่งส่งคืน** ถ้าไม่มีการเลือก **คัดลอกค่าธรรมเนียม**  ค่าธรรมเนียมจากธุรกรรมการขายเดิมจะไม่ได้รับเงินคืนโดยอัตโนมัติ ถ้ามีการเลือก **คัดลอกค่าธรรมเนียม** ค่าธรรมเนียมทั้งหมดจะถูกคัดลอกไปยังใบสั่งส่งคืนและผู้ใช้สามารถแก้ไขหรือลบค่าธรรมเนียมใดๆ ที่พวกเขาไม่ต้องการได้รับเงินคืนได้ด้วยตนเอง กระบวนการใบสั่งส่งคืนของศูนย์บริการไม่รับทราบแฟล็ก **สามารถคืนเงินได้** ในการตั้งค่า **รหัสค่าธรรมเนียม**

### <a name="configuring-pos-receipts-to-show-charges"></a>การตั้งค่าคอนฟิกใบรับ POS ที่จะแสดงค่าธรรมเนียม

องค์ประกอบใบรับต่อไปนี้ได้ถูกเพิ่มไปยังรายการและส่วนท้ายใบรับ เพื่อสนับสนุนฟังก์ชันค่าธรรมเนียมอัตโนมัติขั้นสูง

- **ค่าธรรมเนียมการจัดส่งของรายการ** – องค์ประกอบระดับรายการสามารถถูกใช้เพื่อสรุปรหัสค่าธรรมเนียมเฉพาะที่ได้ถูกนำไปใช้กับรายการขาย เฉพาะรหัสค่าธรรมเนียมทีได้ถูกแฟล็กเป็นค่าธรรมเนียม **การจัดส่ง** ในหน้า **รหัสค่าธรรมเนียม** จะถูกแสดงที่นี่
- **ค่าธรรมเนียมอื่นๆ ของรายการ** – องค์ประกอบระดับรายการสามารถถูกใช้เพื่อสรุปรหัสค่าธรรมเนียมเฉพาะที่ไม่ใช่การขนส่งใดๆ ที่ได้ถูกนำไปใช้กับรายการขาย **ค่าธรรมเนียมอื่นๆ ของรายการ** คือรหัสค่าธรรมเนียมทีซึ่งแฟล็ก **การจัดส่ง** ในหน้า **รหัสค่าธรรมเนียม** ไม่ได้ถูกเปิดใช้งาน
- **รายละเอียดค่าธรรมเนียมการจัดส่งในใบสั่ง** – องค์ประกอบระดับส่วนท้ายนี้แสดงคำอธิบายของรหัสค่าธรรมเนียมที่ใช้กับใบสั่งที่ได้ถูกแฟล็กเป็นค่าธรรมเนียม **การจัดสั่ง** บนหน้าการตั้งค่า **รหัสค่าธรรมเนียม**
- **ค่าธรรมเนียมการจัดส่งในใบสั่ง** – องค์ประกอบระดับส่วนท้ายนี้แสดงมูลค่าดอลลาร์ของค่าธรรมเนียมที่เกี่ยวข้องกับการจัดส่ง
- **รายละเอียดค่าธรรมเนียมอื่นๆ ของใบสั่ง** – องค์ประกอบระดับส่วนท้ายนี้แสดงคำอธิบายของรหัสค่าธรรมเนียมที่ใช้กับใบสั่งที่ไม่ได้ถูกแฟล็กเป็นค่าธรรมเนียมที่เกี่ยวข้องกับการจัดส่ง
- **ค่าธรรมเนียมอื่นๆ ของใบสั่ง** – องค์ประกอบระดับส่วนท้ายนี้แสดงมูลค่าดอลลาร์ของค่าธรรมเนียมอื่นๆ ที่ไม่เกี่ยวข้องกับการจัดส่ง

ขอแนะนำให้องค์กรเพิ่มฟิลด์ข้อความอิสระลงในส่วนท้ายของใบรับด้วย เพื่อให้กำหนดพื้นที่ที่ค่าธรรมเนียมจะถูกสรุป

### <a name="preventing-charges-from-being-calculated-until-the-pos-order-is-completed"></a>การป้องกันค่าธรรมเนียมจากการถูกคำนวณจนกระทั่งใบสั่ง POS เสร็จสมบูรณ์

องค์กรบางแห่งอาจชอบที่จะรอจนกว่าผู้ใช้จะเสร็จสิ้นการเพิ่มของรายการขายไปยังธุรกรรม POS ก่อนที่จะคำนวณค่าธรรมเนียม เพื่อป้องกันการคำนวณของค่าธรรมเนียมเป็นสินค้า ถูกเพิ่มไปยังธุรกรรม POS เปิดพารามิเตอร์ **การคำนวณค่าธรรมเนียมด้วยตนเอง** ใน **โพรไฟล์ฟังก์ชัน** ที่ใช้โดยร้านค้า การเปิดใช้งานพารามิเตอร์นี้จะต้องการให้ผู้ใช้ POS ใช้การดำเนินการ **คำนวณผลรวม** เมื่อพวกเขาเพิ่มผลิตภัณฑ์ไปยังธุรกรรม POS เสร็จสิ้น ในการดำเนินการ **คำนวณผลรวม** จะทริกเกอร์การคำนวณของค่าธรรมเนียมอัตโนมัติใดๆ สำหรับส่วนหัวและรายการของใบสั่ง เมื่อเกี่ยวข้อง

### <a name="charges-override-reports"></a>รายงานการแทนที่ค่าธรรมเนียม

ถ้าผู้ใช้แทนที่ค่าธรรมเนียมที่คำนวณได้ด้วยตนเอง หรือเพิ่มค่าธรรมเนียมแบบกำหนดเองไปยังธุรกรรม ข้อมูลนี้จะพร้อมใช้งานสำหรับการตรวจสอบในรายงาน **ประวัติการแทนที่ค่าธรรมเนียม** สามารถเข้าถึงรายงานได้จาก **การขายปลีกและการค้า \> การสอบถามและรายงาน \> ประวัติการแทนที่การเรียกเก็บเงิน** จำเป็นต้องทราบว่า ข้อมูลที่จำเป็นสำหรับรายงานนี้จะถูกนำเข้าจากฐานข้อมูลช่องทางไปยัง HQ ผ่านงานในกำหนดการกระจาย "P" ดังนั้น ข้อมูลเกี่ยวกับการแทนที่ดำเนินการใน POS อาจไม่ได้พร้อมใช้งานโดยทันทีในรายงานนี้ได้ จนกว่างานนี้จะอัปโหลดข้อมูลธุรกรรมของร้านค้าลงใน HQ

## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

[เปิดใช้งานและตั้งค่าคอนฟิกค่าธรรมเนียมอัตโนมัติตามช่องทาง](auto-charges-by-channel.md)

[แบ่งค่าธรรมเนียมส่วนหัวตามส่วนไปยังรายการขายที่ตรงกัน](pro-rate-charges-matching-lines.md)



[!INCLUDE[footer-include](../includes/footer-banner.md)]
