---
title: โมดูลการชำระเงิน
description: หัวข้อนี้กล่าวถึงโมดูลการชำระเงินและอธิบายวิธีการตั้งค่าคอนฟิกใน Microsoft Dynamics 365 Commerce
author: anupamar-ms
manager: annbe
ms.date: 10/20/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: 894ac35973927c193d6e9c54e326daefb8a3f4a5
ms.sourcegitcommit: 765056b5dc1d0a8c27e56ff2cbd310ad3349ff09
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 10/20/2020
ms.locfileid: "4055392"
---
# <a name="payment-module"></a><span data-ttu-id="4cb1e-103">โมดูลการชำระเงิน</span><span class="sxs-lookup"><span data-stu-id="4cb1e-103">Payment module</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="4cb1e-104">หัวข้อนี้กล่าวถึงโมดูลการชำระเงินและอธิบายวิธีการตั้งค่าคอนฟิกใน Microsoft Dynamics 365 Commerce</span><span class="sxs-lookup"><span data-stu-id="4cb1e-104">This topic covers the payment module and explains how to configure it in Microsoft Dynamics 365 Commerce.</span></span>

## <a name="overview"></a><span data-ttu-id="4cb1e-105">ภาพรวม</span><span class="sxs-lookup"><span data-stu-id="4cb1e-105">Overview</span></span>

<span data-ttu-id="4cb1e-106">โมดูลการชำระเงินนี้จะช่วยให้ลูกค้าชำระเงินสำหรับใบสั่งโดยใช้บัตรเครดิตหรือบัตรเดบิต</span><span class="sxs-lookup"><span data-stu-id="4cb1e-106">The payment module lets customers pay for orders by using credit or debit cards.</span></span> <span data-ttu-id="4cb1e-107">การรวมการชำระเงินสำหรับโมดูลนี้ให้บริการโดยตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ Adyen</span><span class="sxs-lookup"><span data-stu-id="4cb1e-107">Payment integration for this module is provided by the Dynamics 365 Payment Connector for Adyen.</span></span> <span data-ttu-id="4cb1e-108">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการตั้งค่าและตั้งค่าคอนฟิกตัวเชื่อมต่อการชำระเงิน ดูที่ [ตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ Adyen](dev-itpro/adyen-connector.md)</span><span class="sxs-lookup"><span data-stu-id="4cb1e-108">For more information about how to set up and configure the payment connector, see [Dynamics 365 Payment Connector for Adyen](dev-itpro/adyen-connector.md).</span></span>

<span data-ttu-id="4cb1e-109">โมดูลการชำระเงินโฮสต์ข้อมูลการชำระเงินที่มีให้บริการผ่าน Adyen ในเฟรมแบบอินไลน์ของ HTML (iframe)</span><span class="sxs-lookup"><span data-stu-id="4cb1e-109">The payment module hosts the payment information that is served via Adyen in an HTML inline frame (iframe).</span></span> <span data-ttu-id="4cb1e-110">โมดูลการชำระเงินทำงานกับ Commerce Scale Unit เพื่อดึงข้อมูลการชำระเงิน Adyen</span><span class="sxs-lookup"><span data-stu-id="4cb1e-110">The payment module interacts with the Commerce Scale Unit to retrieve the Adyen payment information.</span></span> <span data-ttu-id="4cb1e-111">เนื่องจากเป็นส่วนหนึ่งของการทำงานของ Commerce Scale Unit โมดูลการชำระเงินสามารถอนุญาตให้มีการใช้ข้อมูลที่อยู่ในการเรียกเก็บเงินใน iframe หรือโมดูลที่แยกต่างหาก</span><span class="sxs-lookup"><span data-stu-id="4cb1e-111">As part of the Commerce Scale Unit interaction, the payment module can allow billing address information to be served either in the iframe or as a separate module.</span></span> <span data-ttu-id="4cb1e-112">ในธีม Fabrikam ที่อยู่ในการเรียกเก็บเงินจะแสดงอยู่ในโมดูลที่แยกต่างหาก</span><span class="sxs-lookup"><span data-stu-id="4cb1e-112">In the Fabrikam theme, the billing address is shown in a separate module.</span></span> <span data-ttu-id="4cb1e-113">วิธีการนี้จะช่วยให้การจัดรูปแบบมีความยืดหยุ่นมากขึ้น เนื่องจากบรรทัดที่อยู่สามารถแสดงผลเพื่อให้มีลักษณะคล้ายกับบรรทัดของที่อยู่ที่จัดส่ง</span><span class="sxs-lookup"><span data-stu-id="4cb1e-113">This approach allows for more formatting flexibility, because the address lines can be rendered so that they resemble the lines of the shipping address.</span></span>

<span data-ttu-id="4cb1e-114">โมดูลการชำระเงินยังช่วยให้ลูกค้าที่ลงชื่อเข้าใช้บันทึกข้อมูลการชำระเงินของตนไว้ได้</span><span class="sxs-lookup"><span data-stu-id="4cb1e-114">The payment module also lets signed-in customers save their payment information.</span></span> <span data-ttu-id="4cb1e-115">ข้อมูลการชำระเงินและที่อยู่ในการเรียกเก็บเงินจะถูกบันทึกและจัดการผ่านตัวเชื่อมต่อการชำระเงิน Adyen</span><span class="sxs-lookup"><span data-stu-id="4cb1e-115">The payment information and billing address are saved and managed via the Adyen payment connector.</span></span>

<span data-ttu-id="4cb1e-116">โมดูลการชำระเงินครอบคลุมค่าธรรมเนียมของใบสั่งใดๆ ที่ยังไม่ได้อยู่ในคะแนนสะสมสำหรับสมาชิกหรือบัตรของขวัญ</span><span class="sxs-lookup"><span data-stu-id="4cb1e-116">The payment module covers any order charges that aren't already covered by loyalty points or a gift card.</span></span> <span data-ttu-id="4cb1e-117">ถ้าคะแนนสะสมสำหรับสมาชิกหรือเครดิตบัตรของขวัญครอบคลุมยอดรวมของใบสั่งเต็มจำนวน โมดูลการชำระเงินจะถูกซ่อนไว้ และลูกค้าจะสามารถส่งคำสั่งซื้อได้</span><span class="sxs-lookup"><span data-stu-id="4cb1e-117">If the total for an order is fully covered by loyalty points or gift card credits, the payment module will be hidden, and the customer will be able to place the order without it.</span></span>

<span data-ttu-id="4cb1e-118">ตัวเชื่อมต่อการชำระเงินของ Adyen ยังรองรับการยืนยันตัวตนของลูกค้าแบบขั้นสูง (SCA) ด้วย</span><span class="sxs-lookup"><span data-stu-id="4cb1e-118">The Adyen payment connector also supports strong customer authentication (SCA).</span></span> <span data-ttu-id="4cb1e-119">ส่วนหนึ่งของ European Union (EU) Payment Services Directive 2.0 (PSD2.0) จำเป็นต้องมีการพิสูจน์ตัวจริงของนักช้อปออนไลน์ภายนอกประสบการณ์ช้อปปิ้งออนไลน์เมื่อผู้ใช้ใช้วิธีการชำระเงินทางอิเล็กทรอนิกส์</span><span class="sxs-lookup"><span data-stu-id="4cb1e-119">Part of the European Union (EU) Payment Services Directive 2.0 (PSD2.0) requires that online shoppers be authenticated outside their online shopping experience when they use an electronic payment method.</span></span> <span data-ttu-id="4cb1e-120">ในระหว่างขั้นตอนเช็คเอาท์ ลูกค้าจะถูกเปลี่ยนเส้นทางไปที่ไซต์ธนาคารของตน</span><span class="sxs-lookup"><span data-stu-id="4cb1e-120">During the checkout flow,  customers are redirected to their banking site.</span></span> <span data-ttu-id="4cb1e-121">หลังจากที่ตรวจสอบความถูกต้องแล้ว จะมีการเปลี่ยนเส้นทางกลับไปยังขั้นตอนการเช็คเอาท์ของ Commerce</span><span class="sxs-lookup"><span data-stu-id="4cb1e-121">Then, after authentication, they are redirected back to the Commerce checkout flow.</span></span> <span data-ttu-id="4cb1e-122">ระหว่างการเปลี่ยนเส้นทางนี้ ข้อมูลที่ลูกค้าป้อนในขั้นตอนการเช็คเอาท์ (เช่น ที่อยู่ที่จัดส่ง ตัวเลือกการจัดส่ง ข้อมูลบัตรของขวัญ และข้อมูลสำหรับสมาชิก) จะยังคงอยู่</span><span class="sxs-lookup"><span data-stu-id="4cb1e-122">During this redirection, the information that a customer entered in the checkout flow (for example, the shipping address, delivery options, gift card information, and loyalty information) will persist.</span></span> <span data-ttu-id="4cb1e-123">ก่อนที่คุณจะสามารถเปิดใช้งานคุณลักษณะนี้ จะต้องมีการตั้งค่าคอนฟิกการเชื่อมต่อการชำระเงินสำหรับ SCA ในศูนย์ควบคุม Commerce</span><span class="sxs-lookup"><span data-stu-id="4cb1e-123">Before you can turn on this feature, the payment connector must be configured for SCA in Commerce headquarters.</span></span> <span data-ttu-id="4cb1e-124">สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [การยืนยันตัวตนของลูกค้าแบบขั้นสูงโดยใช้ Adyen](adyen_redirect.md)</span><span class="sxs-lookup"><span data-stu-id="4cb1e-124">For more information, see [Strong Customer Authentication using Adyen](adyen_redirect.md).</span></span>

> [!NOTE]
> <span data-ttu-id="4cb1e-125">สำหรับตัวเชื่อมต่อการชำระเงิน Adyen โมดูล iframe ในโมดูลการชำระเงินสามารถแสดงได้เฉพาะเมื่อคุณเพิ่ม URL Adyen ลงในรายการของไซต์ที่อนุญาตของคุณเท่านั้น</span><span class="sxs-lookup"><span data-stu-id="4cb1e-125">For the Adyen payment connector, the iframe module in the payment module can be rendered only if you add the Adyen URL to your site's allow list.</span></span> <span data-ttu-id="4cb1e-126">เมื่อต้องการทำขั้นตอนนี้ให้เสร็จสมบูรณ์ให้เพิ่ม **\*.adyen.com** ไปที่คำสั่งของ **child-src** , **connect-src** , **img-src** , **script-src** และ **style-src** ของนโยบายความปลอดภัยเนื้อหาของไซต์ของคุณ</span><span class="sxs-lookup"><span data-stu-id="4cb1e-126">To complete this step, add **\*.adyen.com** to the **child-src** , **connect-src** , **img-src** , **script-src** , and **style-src** directives of your site's content security policy.</span></span> <span data-ttu-id="4cb1e-127">สำหรับข้อมูลเพิ่มเติม ให้ดู [จัดการนโยบายความปลอดภัยของเนื้อหา](manage-csp.md)</span><span class="sxs-lookup"><span data-stu-id="4cb1e-127">For more information, see [Manage Content Security Policy](manage-csp.md).</span></span> 

<span data-ttu-id="4cb1e-128">ภาพประกอบต่อไปนี้แสดงตัวอย่างโมดูลบัตรของขวัญ คะแนนสะสมสำหรับสมาชิก และการชำระเงินบนหน้าเช็คเอาท์</span><span class="sxs-lookup"><span data-stu-id="4cb1e-128">The following illustration shows an example of gift card, loyalty, and payment modules on a checkout page.</span></span>

![ตัวอย่างโมดูลบัตรของขวัญ คะแนนสะสมสำหรับสมาชิก และการชำระเงินบนหน้าเช็คเอาท์](./media/ecommerce-payments.PNG)

## <a name="payment-module-properties"></a><span data-ttu-id="4cb1e-130">คุณสมบัติของโมดูลการชำระเงิน</span><span class="sxs-lookup"><span data-stu-id="4cb1e-130">Payment module properties</span></span>

| <span data-ttu-id="4cb1e-131">ชื่อคุณสมบัติ</span><span class="sxs-lookup"><span data-stu-id="4cb1e-131">Property name</span></span> | <span data-ttu-id="4cb1e-132">มูลค่า</span><span class="sxs-lookup"><span data-stu-id="4cb1e-132">Values</span></span> | <span data-ttu-id="4cb1e-133">คำอธิบาย</span><span class="sxs-lookup"><span data-stu-id="4cb1e-133">Description</span></span> |
|---------------|--------|-------------|
| <span data-ttu-id="4cb1e-134">หัวข้อ</span><span class="sxs-lookup"><span data-stu-id="4cb1e-134">Heading</span></span> | <span data-ttu-id="4cb1e-135">ข้อความหัวเรื่อง</span><span class="sxs-lookup"><span data-stu-id="4cb1e-135">Heading text</span></span> | <span data-ttu-id="4cb1e-136">หัวเรื่องที่เป็นตัวเลือกสำหรับโมดูลการชำระเงิน</span><span class="sxs-lookup"><span data-stu-id="4cb1e-136">An optional heading for the payment module.</span></span> |
| <span data-ttu-id="4cb1e-137">ความสูงของ iframe</span><span class="sxs-lookup"><span data-stu-id="4cb1e-137">Height of the iframe</span></span> | <span data-ttu-id="4cb1e-138">พิกเซล</span><span class="sxs-lookup"><span data-stu-id="4cb1e-138">Pixels</span></span> | <span data-ttu-id="4cb1e-139">ความสูงของ iframe, เป็นพิกเซล</span><span class="sxs-lookup"><span data-stu-id="4cb1e-139">The iframe height, in pixels.</span></span> <span data-ttu-id="4cb1e-140">คุณสามารถปรับขนาดได้ตามต้องการ</span><span class="sxs-lookup"><span data-stu-id="4cb1e-140">The height can be adjusted as required.</span></span> |
| <span data-ttu-id="4cb1e-141">แสดงที่อยู่สำหรับเรียกเก็บเงิน</span><span class="sxs-lookup"><span data-stu-id="4cb1e-141">Show billing address</span></span> | <span data-ttu-id="4cb1e-142">**จริง** หรือ **เท็จ**</span><span class="sxs-lookup"><span data-stu-id="4cb1e-142">**True** or **False**</span></span> | <span data-ttu-id="4cb1e-143">ถ้ามีการตั้งค่าคุณสมบัตินี้เป็น **จริง** ที่อยู่ในการเรียกเก็บเงินจะให้บริการโดย Adyen ภายใน iframe ของโมดูลการชำระเงิน</span><span class="sxs-lookup"><span data-stu-id="4cb1e-143">If this property is set to **True** , the billing address will be served by Adyen inside the payment module iframe.</span></span> <span data-ttu-id="4cb1e-144">ถ้าตั้งค่าเป็น **เท็จ** ที่อยู่ในการเรียกเก็บเงินจะไม่มีการให้บริการโดย Adyen และผู้ใช้ Commerce จะต้องตั้งค่าคอนฟิกโมดูลเพื่อแสดงที่อยู่ในการเรียกเก็บเงินในหน้าเช็คเอาท์</span><span class="sxs-lookup"><span data-stu-id="4cb1e-144">If it's set to **False** , the billing address won't be served by Adyen, and a Commerce user will have to configure a module to show the billing address on the checkout page.</span></span> |
| <span data-ttu-id="4cb1e-145">การแทนที่ลักษณะการชำระเงิน</span><span class="sxs-lookup"><span data-stu-id="4cb1e-145">Payment style override</span></span> | <span data-ttu-id="4cb1e-146">โค้ดแผ่นงานที่จัดรูปแบบเป็นลำดับ ( CSS)</span><span class="sxs-lookup"><span data-stu-id="4cb1e-146">Cascading Style Sheets (CSS) code</span></span> | <span data-ttu-id="4cb1e-147">เนื่องจากโมดูลการชำระเงินโฮสต์อยู่ใน iframe จึงมีความสามารถในการกำหนดลักษณะที่จำกัด</span><span class="sxs-lookup"><span data-stu-id="4cb1e-147">Because the payment module is hosted in an iframe, there is limited styling capability.</span></span> <span data-ttu-id="4cb1e-148">คุณสามารถกำหนดลักษณะบางส่วนได้โดยใช้คุณสมบัตินี้</span><span class="sxs-lookup"><span data-stu-id="4cb1e-148">You can achieve some styling by using this property.</span></span> <span data-ttu-id="4cb1e-149">เมื่อต้องการแทนที่ลักษณะของไซต์ คุณต้องวางโค้ด CSS เป็นค่าของคุณสมบัตินี้</span><span class="sxs-lookup"><span data-stu-id="4cb1e-149">To override site styles, you must paste the CSS code as the value of this property.</span></span> <span data-ttu-id="4cb1e-150">ตัวสร้างไซต์ CSS จะแทนที่และไม่ใช้ลักษณะกับโมดูลนี้</span><span class="sxs-lookup"><span data-stu-id="4cb1e-150">Site builder CSS overrides and styles don't apply to this module.</span></span> |

## <a name="billing-address"></a><span data-ttu-id="4cb1e-151">ที่อยู่ที่เรียกเก็บเงิน</span><span class="sxs-lookup"><span data-stu-id="4cb1e-151">Billing address</span></span>

<span data-ttu-id="4cb1e-152">โมดูลการชำระเงินให้ลูกค้าระบุที่อยู่ในการเรียกเก็บเงินเป็นข้อมูลการชำระเงินของตน</span><span class="sxs-lookup"><span data-stu-id="4cb1e-152">The payment module lets customers provide a billing address for their payment information.</span></span> <span data-ttu-id="4cb1e-153">นอกจากนี้ ยังช่วยให้ลูกค้าสามารถใช้ที่อยู่จัดส่งเป็นที่อยู่ในการเรียกเก็บเงินเพื่อทำให้ขั้นตอนการเช็คเอาท์ทำได้ง่ายขึ้นและรวดเร็วขึ้น</span><span class="sxs-lookup"><span data-stu-id="4cb1e-153">It also lets them  use their shipping address as the billing address, to make the checkout flow easier and faster.</span></span> <span data-ttu-id="4cb1e-154">ถ้ามีการตั้งค่าคุณสมบัติ **แสดงที่อยู่ในการเรียกเก็บเงิน** เป็น **เท็จ** ควรตั้งค่าคอนฟิกโมดูลการชำระเงินบนหน้าเช็คเอาท์</span><span class="sxs-lookup"><span data-stu-id="4cb1e-154">If the **Show billing address** property is set to **False** , the payment module should be configured on the checkout page.</span></span>

## <a name="add-a-payment-module-to-a-checkout-page-and-set-the-required-properties"></a><span data-ttu-id="4cb1e-155">เพิ่มโมดูลการชำระเงินในหน้าเช็คเอาท์ และตั้งค่าคุณสมบัติที่จำเป็น</span><span class="sxs-lookup"><span data-stu-id="4cb1e-155">Add a payment module to a checkout page and set the required properties</span></span>

<span data-ttu-id="4cb1e-156">คุณสามารถเพิ่มโมดูลการชำระเงินได้เฉพาะในโมดูลเช็คเอาท์เท่านั้น</span><span class="sxs-lookup"><span data-stu-id="4cb1e-156">A payment module can be added only to a checkout module.</span></span> <span data-ttu-id="4cb1e-157">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการตั้งค่าคอนฟิกโมดุลการชำระเงินสำหรับหน้าเช็คเอาท์ ให้ดูที่ [โมดูลเช็คเอาท์](add-checkout-module.md)</span><span class="sxs-lookup"><span data-stu-id="4cb1e-157">For more information about how to configure a payment module for a checkout page, see [Checkout module](add-checkout-module.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="4cb1e-158">ทรัพยากรเพิ่มเติม</span><span class="sxs-lookup"><span data-stu-id="4cb1e-158">Additional resources</span></span>

[<span data-ttu-id="4cb1e-159">โมดูลรถเข็น</span><span class="sxs-lookup"><span data-stu-id="4cb1e-159">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="4cb1e-160">โมดูลไอคอนรถเข็น</span><span class="sxs-lookup"><span data-stu-id="4cb1e-160">Cart icon module</span></span>](cart-icon-module.md)

[<span data-ttu-id="4cb1e-161">โมดูลเช็คเอาท์</span><span class="sxs-lookup"><span data-stu-id="4cb1e-161">Checkout module</span></span>](add-checkout-module.md)

[<span data-ttu-id="4cb1e-162">โมดูลที่อยู่จัดส่ง</span><span class="sxs-lookup"><span data-stu-id="4cb1e-162">Shipping address module</span></span>](ship-address-module.md)

[<span data-ttu-id="4cb1e-163">โมดูลตัวเลือกการจัดส่ง</span><span class="sxs-lookup"><span data-stu-id="4cb1e-163">Delivery options module</span></span>](delivery-options-module.md)

[<span data-ttu-id="4cb1e-164">โมดูลรายละเอียดใบสั่ง</span><span class="sxs-lookup"><span data-stu-id="4cb1e-164">Order details module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="4cb1e-165">โมดูลบัตรของขวัญ</span><span class="sxs-lookup"><span data-stu-id="4cb1e-165">Gift card module</span></span>](add-giftcard.md)

[<span data-ttu-id="4cb1e-166">ตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ Adyen</span><span class="sxs-lookup"><span data-stu-id="4cb1e-166">Dynamics 365 Payment Connector for Adyen</span></span>](dev-itpro/adyen-connector.md)

[<span data-ttu-id="4cb1e-167">การยืนยันตัวตนของลูกค้าแบบขั้นสูงโดยใช้ Adyen</span><span class="sxs-lookup"><span data-stu-id="4cb1e-167">Strong Customer Authentication using Adyen</span></span>](adyen_redirect.md)
