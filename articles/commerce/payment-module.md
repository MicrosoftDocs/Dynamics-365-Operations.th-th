---
title: โมดูลการชำระเงิน
description: หัวข้อนี้ครอบคลุมโมดูลการชำระเงินและอธิบายวิธีการตั้งค่าคอนฟิกใน Microsoft Dynamics 365 Commerce
author: anupamar-ms
ms.date: 11/18/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.14
ms.openlocfilehash: 303b5f0bdfdb00accab2598acc2545bca69660412e170202152303c8ed81314e
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/05/2021
ms.locfileid: "6774568"
---
# <a name="payment-module"></a>โมดูลการชำระเงิน

[!include [banner](includes/banner.md)]

หัวข้อนี้ครอบคลุมโมดูลการชำระเงินและอธิบายวิธีการตั้งค่าคอนฟิกใน Microsoft Dynamics 365 Commerce

โมดูลการชำระเงินนี้จะช่วยให้ลูกค้าชำระเงินสำหรับใบสั่งโดยใช้บัตรเครดิตหรือบัตรเดบิต การรวมการชำระเงินสำหรับโมดูลนี้ให้บริการโดยตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ Adyen สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการตั้งค่าและตั้งค่าคอนฟิกตัวเชื่อมต่อการชำระเงิน ดูที่ [ตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ Adyen](dev-itpro/adyen-connector.md)  

ในฐานะของ Commerce release 10.0.14 โมดูลการชำระเงินยังมีการรวมกับ ตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ PayPal เพื่ออนุญาตให้ลูกค้าชำระเงินสำหรับใบสั่งที่ใช้ PayPal สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการตั้งค่าและตั้งค่าคอนฟิกตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ PayPal ดูที่ [ตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ PayPal](paypal.md) 

## <a name="dynamics-365-payment-connector-for-adyen"></a>ตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ Adyen 

โมดูลการชำระเงินโฮสต์ข้อมูลการชำระเงินที่มีให้บริการผ่าน Adyen ในเฟรมแบบอินไลน์ของ HTML (iframe) โมดูลการชำระเงินทำงานกับ Commerce Scale Unit เพื่อดึงข้อมูลการชำระเงิน Adyen เนื่องจากเป็นส่วนหนึ่งของการทำงานของ Commerce Scale Unit โมดูลการชำระเงินสามารถอนุญาตให้มีการใช้ข้อมูลที่อยู่ในการเรียกเก็บเงินใน iframe ผ่าน Adyen หรือโมดูลที่แยกต่างหาก ในธีม Fabrikam ที่อยู่ในการเรียกเก็บเงินจะเปิดใช้งานอยู่ในโมดูลที่แยกต่างหาก วิธีการนี้จะช่วยให้การจัดรูปแบบมีความยืดหยุ่นมากขึ้น เนื่องจากบรรทัดที่อยู่สามารถแสดงผลเพื่อให้มีลักษณะคล้ายกับบรรทัดของที่อยู่ที่จัดส่ง

โมดูลการชำระเงินยังช่วยให้ลูกค้าที่ลงชื่อเข้าใช้บันทึกข้อมูลการชำระเงินของตนไว้ได้ ข้อมูลการชำระเงินและที่อยู่ในการเรียกเก็บเงินจะถูกบันทึกและจัดการผ่านตัวเชื่อมต่อการชำระเงิน Adyen

โมดูลการชำระเงินครอบคลุมค่าธรรมเนียมของใบสั่งใดๆ ที่ยังไม่ได้อยู่ในคะแนนสะสมสำหรับสมาชิกหรือบัตรของขวัญ ถ้าคะแนนสะสมสำหรับสมาชิกหรือเครดิตบัตรของขวัญครอบคลุมยอดรวมของใบสั่งเต็มจำนวน โมดูลการชำระเงินจะถูกซ่อนไว้ และลูกค้าจะสามารถส่งคำสั่งซื้อได้

ตัวเชื่อมต่อการชำระเงินของ Adyen ยังรองรับการยืนยันตัวตนของลูกค้าแบบขั้นสูง (SCA) ด้วย ส่วนหนึ่งของ European Union (EU) Payment Services Directive ที่ปรับปรุงแล้ว (PSD2) จำเป็นต้องมีการพิสูจน์ตัวจริงของนักช้อปออนไลน์ภายนอกประสบการณ์ช้อปปิ้งออนไลน์เมื่อผู้ใช้ใช้วิธีการชำระเงินทางอิเล็กทรอนิกส์ ในระหว่างโฟลว์การชำระเงิน ลูกค้าจะถูกเปลี่ยนเส้นทางไปที่ไซต์ธนาคารของตน แล้วหลังจากการตรวจสอบความถูกต้องจะเปลี่ยนเส้นทางกลับไปยังโฟลว์การชำระเงินของ Commerce ระหว่างการเปลี่ยนเส้นทางนี้ ข้อมูลที่ลูกค้าป้อนในโฟลว์การเช็คเอาท์ (เช่น ที่อยู่ที่จัดส่ง ตัวเลือกการจัดส่ง ข้อมูลบัตรของขวัญ และข้อมูลสำหรับสมาชิก) จะยังคงอยู่ ก่อนที่คุณจะสามารถเปิดใช้งานคุณลักษณะตัวเชื่อมต่อการชำระเงิน Adyen จะต้องมีการตั้งค่าคอนฟิกการเชื่อมต่อการชำระเงินสำหรับ SCA ในศูนย์ควบคุม Commerce สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [การยืนยันตัวตนของลูกค้าแบบขั้นสูงโดยใช้ Adyen](adyen_redirect.md) คุณลักษณะนี้มีการเปิดใช้งานใน Commerce รุ่น10.0.12

> [!NOTE]
> สำหรับตัวเชื่อมต่อการชำระเงิน Adyen โมดูล iframe ในโมดูลการชำระเงินสามารถแสดงได้เฉพาะเมื่อคุณเพิ่ม URL Adyen ลงในรายการของไซต์ที่อนุญาตของคุณเท่านั้น เมื่อต้องการทำขั้นตอนนี้ให้เสร็จสมบูรณ์ให้เพิ่ม **\*.adyen.com** ไปที่คำสั่งของ **child-src**, **connect-src**, **img-src**, **script-src** และ **style-src** ของนโยบายความปลอดภัยเนื้อหาของไซต์ของคุณ สำหรับข้อมูลเพิ่มเติม ให้ดู [จัดการนโยบายความปลอดภัยของเนื้อหา](manage-csp.md) 

ภาพประกอบต่อไปนี้แสดงตัวอย่างโมดูลบัตรของขวัญ คะแนนสะสมสำหรับสมาชิก และการชำระเงิน Adyen บนหน้าเช็คเอาท์

![ตัวอย่างของโมดูลบัตรของขวัญ ความภักดี และการชำระเงิน Adyen บนหน้าเช็คเอาท์](./media/ecommerce-payments.PNG)

## <a name="dynamics-365-payment-connector-for-paypal"></a>Dynamics 365 Payment Connector สำหรับ PayPal

ในฐานะของ Commerce release 10.0.14 โมดูลการชำระเงินจะรวมกับตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ PayPal สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการตั้งค่าและตั้งค่าคอนฟิกตัวเชื่อมต่อการชำระเงินนี้ ดูที่ [ตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ PayPal](paypal.md)
 
บนหน้าเช็คเอาท์ คุณสามารถมีทั้ง Adyen และการตั้งค่าคอนฟิกการเชื่อมต่อ PayPal โมดูลการชำระเงินได้รับการปรับปรุงด้วยคุณสมบัติเพิ่มเติมเพื่อช่วยระบุว่าตัวเชื่อมต่อที่ควรจะทำงานด้วย สำหรับรายละเอียด ให้ดูที่ **ชนิดการชำระเงินที่ได้รับการสนับสนุน** และคุณสมบัติโมดูล **เป็นการชำระเงินหลัก** ในตารางต่อไปนี้
  
เมื่อมีการตั้งค่าคอนฟิกโมดูลการชำระเงินให้ใช้ตัวเชื่อมต่อการชำระเงินของ PayPal ปุ่ม PayPal จะปรากฏขึ้นบนหน้าเช็คเอาท์ เมื่อเรียกโดยลูกค้า โมดูลการชำระเงินจะแสดง iframe ที่มีข้อมูล PayPal ลูกค้าสามารถล็อกอินและระบุข้อมูล PayPal ของตนไว้ภายใน iframe นี้เพื่อทำธุรกรรมให้เสร็จสมบูรณ์ เมื่อลูกค้าเลือกที่จะชำระเงินด้วย PayPal ยอดคงเหลือของใบสั่งจะถูกเรียกเก็บเงินผ่าน PayPal

ตัวเชื่อมต่อการชำระเงินของ PayPal ไม่จำเป็นต้องมีโมดูลที่อยู่ในการเรียกเก็บเงินเนื่องจากมีการจัดการข้อมูลที่เกี่ยวข้องกับการเรียกเก็บเงินโดย PayPal ภายใน iframe อย่างไรก็ตาม ต้องใช้โมดูลที่อยู่จัดส่งและตัวเลือกการจัดส่ง

ภาพประกอบต่อไปนี้แสดงตัวอย่างของสองโมดูลการชำระเงินในหน้าเช็คเอาท์ ซึ่งตั้งค่าคอนฟิกด้วยตัวเชื่อมต่อการชำระเงิน Adyen และอื่น ๆ ที่มีตัวเชื่อมต่อการชำระเงินของ PayPal
![ตัวอย่างของโมดูลการชำระเงิน Adyen และโมดูล PayPal บนหน้าเช็คเอาท์](./media/ecommerce-paypal.png)

ภาพประกอบต่อไปนี้แสดงตัวอย่างของ iframe ของ PayPal ที่เรียกใช้ปุ่ม PayPal 
![ตัวอย่างของ Paypal iframe บนหน้าเช็คเอาท์](./media/ecommerce-paypal-iframe.png)

## <a name="payment-module-properties"></a>คุณสมบัติของโมดูลการชำระเงิน

| ชื่อคุณสมบัติ | มูลค่า | คำอธิบาย |
|---------------|--------|-------------|
| หัวข้อ | ข้อความหัวเรื่อง | หัวเรื่องที่เป็นตัวเลือกสำหรับโมดูลการชำระเงิน |
| ความสูงของ iframe | พิกเซล | ความสูงของ iframe, เป็นพิกเซล คุณสามารถปรับขนาดได้ตามต้องการ |
| แสดงที่อยู่สำหรับเรียกเก็บเงิน | **จริง** หรือ **เท็จ** | ถ้ามีการตั้งค่าคุณสมบัตินี้เป็น **จริง** ที่อยู่ในการเรียกเก็บเงินจะให้บริการโดย Adyen ภายใน iframe ของโมดูลการชำระเงิน ถ้าตั้งค่าเป็น **เท็จ** ที่อยู่ในการเรียกเก็บเงินจะไม่มีการให้บริการโดย Adyen และผู้ใช้ Commerce จะต้องตั้งค่าคอนฟิกโมดูลเพื่อแสดงที่อยู่ในการเรียกเก็บเงินในหน้าเช็คเอาท์ สำหรับการเชื่อมต่อการชำระเงินของ PayPal ฟิลด์นี้ไม่มีผลกระทบ เนื่องจากที่อยู่ที่เรียกเก็บเงินได้รับการจัดการโดยสมบูรณ์ภายใน PayPal |
| การแทนที่ลักษณะการชำระเงิน | โค้ดแผ่นงานที่จัดรูปแบบเป็นลำดับ ( CSS) | เนื่องจากโมดูลการชำระเงินโฮสต์อยู่ใน iframe จึงมีความสามารถในการกำหนดลักษณะที่จำกัด คุณสามารถกำหนดลักษณะบางส่วนได้โดยใช้คุณสมบัตินี้ เมื่อต้องการแทนที่ลักษณะของไซต์ คุณต้องวางโค้ด CSS เป็นค่าของคุณสมบัตินี้ ตัวสร้างไซต์ CSS จะแทนที่และไม่ใช้ลักษณะกับโมดูลนี้ |
|ชนิดการชำระเงินที่รองรับ| สตริง| ถ้ามีการตั้งค่าคอนฟิกตัวเชื่อมต่อการชำระเงินหลายรายการ คุณควรระบุสตริงการชำระเงินที่ได้รับการสนับสนุนตามที่กำหนดไว้ในการตั้งค่าคอนฟิกการเชื่อมต่อการชำระเงินของศูนย์ควบคุม Commerce (ดูที่ภาพต่อไปนี้) ถ้าว่างเปล่า ฟิลด์นี้จะเป็นค่าเริ่มต้นในการเชื่อมต่อการชำระเงิน Adyen มีการเพิ่มใน Commerce รีลีส 10.0.14|
|เป็นการชำระเงินหลักหรือไม่|  **จริง** หรือ **เท็จ** | ถ้า **จริง** จะมีการสร้างข้อความแสดงข้อผิดพลาดใด ๆ จากตัวเชื่อมต่อการชำระเงินหลักบนหน้าเช็คเอาท์ ถ้ามีการตั้งค่าคอนฟิกการเชื่อมต่อการชำระเงิน Adyen และ PayPal ให้ตั้ง Adyen เป็น **จริง** ซึ่งถูกเพิ่มลงใน Commerce รุ่น 10.0.14|

ภาพประกอบต่อไปนี้แสดงตัวอย่างของค่า **ชนิดการชำระเงินที่ได้รับการสนับสนุน** กำหนดเป็น "PayPal" ในการตั้งค่าคอนฟิกการเชื่อมต่อการชำระเงินในศูนย์ควบคุม Commerce
![ตัวอย่างของชนิดการชำระเงินที่ได้รับการสนับสนุนในศูนย์ควบคุม Commerce](./media/ecommerce-paymenttendertypes.png)

## <a name="billing-address"></a>ที่อยู่ที่เรียกเก็บเงิน

โมดูลที่อยู่ในการเรียกเก็บเงินสามารถใช้ในหน้าเช็คเอาท์ได้ถ้าบรรทัดที่อยู่ของการเรียกเก็บเงินของตัวเชื่อมต่อการชำระเงิน Adyen ไม่ตรงกับลักษณะที่ปรากฏของไซต์ที่เหลือ 

เมื่อต้องการใช้โมดูลที่อยู่ในการเรียกเก็บเงินบนหน้าการชำระเงินเมื่อโมดูลการชำระเงินรวมอยู่กับการเชื่อมต่อการชำระเงิน Adyen ให้ตั้งค่าคุณสมบัติ **แสดงที่อยู่ในการเรียกเก็บเงิน** เป็น **เท็จ** เพื่อให้สามารถใช้โมดูลที่อยู่ในการเรียกเก็บเงินโดยเฉพาะแทนที่จะใช้ที่อยู่การเรียกเก็บเงินเริ่มต้น Adyen ในกรณีนี้ ผู้สร้างไซต์ควรรวมโมดูลแอดเดรสสำหรับการเรียกเก็บเงินไว้บนหน้าเช็คเอาท์ นอกจากนี้ตัวเชื่อมต่อการชำระเงิน Adyen ช่วยให้สามารถใช้ที่อยู่ที่จัดส่งเป็นที่อยู่ในการเรียกเก็บเงินเพื่อลดจำนวนขั้นตอนสำหรับผู้ใช้ไซต์

คล้ายโมดูลการชำระเงิน คุณสมบัติ **ชนิดการชำระเงินที่ได้รับการสนับสนุน** ได้เพิ่มให้ที่อยู่ของการเรียกเก็บเงินใน Commerce รุ่น 10.0.14 ค่าของคุณสมบัตินี้ควรจะเหมือนกับค่าที่ระบุไว้ในโมดูลการชำระเงินเพื่อให้มั่นใจว่าจะทำงานร่วมกัน สำหรับการเชื่อมต่อการชำระเงิน Adyen ทั้งโมดูลการชำระเงินและโมดูลที่อยู่ในการเรียกเก็บเงินควรปล่อยให้ค่านี้ว่างไว้ (สถานะเริ่มต้น) สำหรับตัวเชื่อมต่อ PayPal ระบบจะไม่จำเป็นต้องใช้โมดูลที่อยู่ในการเรียกเก็บเงินโดยเฉพาะ สำหรับการเชื่อมต่อการชำระเงินชนิดอื่น ๆ ควรระบุ สตริงการตามที่ตั้งค่าคอนฟิกในศูนย์ควบคุม Commerce

## <a name="add-a-payment-module-to-a-checkout-page-and-set-the-required-properties"></a>เพิ่มโมดูลการชำระเงินในหน้าเช็คเอาท์ และตั้งค่าคุณสมบัติที่จำเป็น

คุณสามารถเพิ่มโมดูลการชำระเงินได้เฉพาะในโมดูลเช็คเอาท์เท่านั้น สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการตั้งค่าคอนฟิกโมดุลการชำระเงินสำหรับหน้าเช็คเอาท์ ให้ดูที่ [โมดูลเช็คเอาท์](add-checkout-module.md)

ถ้าจำเป็นต้องใช้ตัวเชื่อมต่อการชำระเงิน Adyen และ PayPal ให้เพิ่มทั้งโมดูลในส่วนการชำระเงิน ตรวจสอบให้แน่ใจว่ามีการตั้งค่าคอนฟิกค่าคุณสมบัติ **ชนิดการชำระเงินที่ได้รับการสนับสนุน** สำหรับ PayPal และปล่อยว่างไว้สำหรับ Adyen นอกจากนี้ ให้ตั้งค่าคุณสมบัติ **การชำระเงินหลักเป็น** เป็น **จริง** สำหรับ Adyen

## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

[โมดูลรถเข็น](add-cart-module.md)

[โมดูลไอคอนรถเข็น](cart-icon-module.md)

[โมดูลเช็คเอาท์](add-checkout-module.md)

[โมดูลที่อยู่ที่จัดส่ง](ship-address-module.md)

[โมดูลตัวเลือกการจัดส่ง](delivery-options-module.md)

[โมดูลข้อมูลการเบิกสินค้า](pickup-info-module.md)

[โมดูลรายละเอียดใบสั่ง](order-confirmation-module.md)

[โมดูลบัตรของขวัญ](add-giftcard.md)

[ตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ Adyen](dev-itpro/adyen-connector.md)

[ตัวเชื่อมต่อการชำระเงิน Dynamics 365 สำหรับ PayPal](paypal.md)

[การยืนยันตัวตนของลูกค้าแบบขั้นสูงโดยใช้ Adyen](adyen_redirect.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]