---
title: โดเมนใน Dynamics 365 Commerce
description: บทความนี้จะอธิบายวิธีการจัดการโดเมนใน Microsoft Dynamics 365 Commerce
author: BrianShook
ms.date: 05/10/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: BrShoo
ms.search.validFrom: ''
ms.dyn365.ops.version: Release 10.0.12
ms.search.industry: retail
ms.search.form: ''
ms.openlocfilehash: 9bd925b7bf27748b3c17946de72a76bc0d0200d7
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/12/2022
ms.locfileid: "9288461"
---
# <a name="domains-in-dynamics-365-commerce"></a>โดเมนใน Dynamics 365 Commerce

[!include [banner](includes/banner.md)]

บทความนี้จะอธิบายวิธีการจัดการโดเมนใน Microsoft Dynamics 365 Commerce

โดเมนคือที่อยู่เว็บที่ใช้เพื่อนำทางไปยังไซต์ Dynamics 365 Commerce ในเว็บเบราเซอร์ คุณควบคุมการจัดการโดเมนของคุณด้วยผู้ให้บริการเซิร์ฟเวอร์ชื่อโดเมน (DNS) ที่เลือก โดเมนมีการอ้างอิงในตัวสร้างไซต์ Dynamics 365 Commerce เพื่อประสานงานว่าจะเข้าถึงไซต์อย่างไรเมื่อเผยแพร่ บทความนี้จะเสนอว่าโดเมนมีการจัดการและการอ้างอิงตลอดระยะเวลาของการพัฒนาและการเปิดใช้งานไซต์ Commerce site อย่างไร

> [!NOTE]
> ในวันที่ 6 พฤษภาคม 2022 สภาพแวดล้อมทั้งหมดที่สร้างใน Dynamics 365 Commerce จะถูกเตรียมใช้งานด้วยโดเมน `.dynamics365commerce.ms` แทนรูปแบบก่อนหน้าของ `.commerce.dynamics.com` สภาพแวดล้อมที่มีอยู่ที่เตรียมใช้งานด้วยโดเมน `.commerce.dynamics.com` จะยังคงทำงานต่อไป

## <a name="provisioning-and-supported-host-names"></a>การเตรียมใช้งานและชื่อโฮสต์ที่ได้รับการสนับสนุน

เมื่อเตรียมใช้งานสภาพแวดล้อมอีคอมเมิร์ซใน [Microsoft Dynamics Lifecycle Services (LCS)](https://lcs.dynamics.com/) กล่อง **ชื่อโฮสต์ที่ได้รับการสนับสนุน** บนหน้าจอการเตรียมใช้งานอีคอมเมิร์ซถูกใช้เพื่อป้อนโดเมนที่จะเชื่อมโยงกับสภาพแวดล้อม Commerce ที่ปรับใช้ โดเมนเหล่านี้จะเป็นชื่อของเซิร์ฟเวอร์ชื่อโดเมน (DNS) ที่เชื่อมต่อกับลูกค้าที่ซึ่งจะเป็นโฮสต์ของเว็บไซต์อีคอมเมิร์ซ การป้อนโดเมนในลำขั้นนี้ไม่ได้เริ่มต้นการแปลงการรับส่งข้อมูลสำหรับโดเมน Dynamics 365 Commerce การรับส่งข้อมูลสำหรับโดเมนจะถูกส่งไปยังปลายทาง Commerce เมื่อมีการอัปเดตเรกคอร์ด DNS CNAME เพื่อใช้ปลายทาง Commerce กับโดเมนเท่านั้น

> [!NOTE]
> คุณสามารถป้อนหลายโดเมนลงในกล่อง **ชื่อโฮสต์ที่ได้รับการสนับสนุน** โดยการแยกด้วยเซมิโคลอน

ภาพประกอบต่อไปนี้แสดงหน้าจอการเตรียมใช้งานอีคอมเมิร์ซของ LCS ที่มีการเน้นกล่อง **ชื่อโฮสต์ที่ได้รับการสนับสนุน** 

![หน้าจอการเตรียมใช้งานอีคอมเมิร์ซของ LCS ที่มีการเน้นกล่อง **ชื่อโฮสต์ที่ได้รับการสนับสนุน**](./media/Domains_ProvisioningeCommerceScreen_publish.png)

คุณสามารถสร้างคำขอบริการเพื่อเพิ่มโดเมนเพิ่มเติมลงในสภาพแวดล้อมได้ถ้ามีการเตรียมใช้งานอยู่แล้ว เมื่อต้องการสร้างคำขอบริการใน LCS ภายในสภาพแวดล้อมของคุณ ให้ไปที่ **การสนับสนุน \>ปัญหาที่รับการสนับสนุน** และเลือก **ส่งเหตุการณ์**

## <a name="commerce-generated-urls"></a>URL ที่สร้างโดย Commerce

เมื่อเตรียมใช้งานสภาพแวดล้อมอีคอมเมิร์ซของ Dynamics 365 Commerce Commerce จะสร้าง URL ซึ่งจะเป็นที่อยู่ในการทำงานสำหรับสภาพแวดล้อม มีการอ้างอิง URL นี้ในลิงก์ไซต์อีคอมเมิร์ซที่แสดงอยู่ใน LCS หลังจากที่มีการเตรียมใช้งานสภาพแวดล้อม URL ที่สร้างโดย Commerce อยู่ในรูปแบบ `https://<e-commerce tenant name>.dynamics365commerce.ms` โดยชื่อผู้เช่าอีคอมเมิร์ซเป็นชื่อที่ป้อนใน LCS สำหรับสภาพแวดล้อม Commerce

คุณสามารถใช้ชื่อโฮสต์ของไซต์การทำงานจริงในสภาพแวดล้อม Sandbox ด้วยเช่นกัน ตัวเลือกนี้เหมาะอย่างยิ่งเมื่อคุณจะคัดลอกไซต์จากสภาพแวดล้อม Sandbox ไปยังการทำงานจริง

## <a name="site-setup"></a>การตั้งค่าไซต์

หลังจากที่คุณได้เตรียมใช้งานสภาพแวดล้อมของอีคอมเมิร์ซแล้ว คุณต้องตั้งค่าไซต์ของคุณในตัวสร้างไซต์ Commerce เพื่อเชื่อมโยงไซต์ของคุณกับ URL ที่ทำงาน

เมื่อคุณตั้งค่าไซต์ในตัวสร้างไซต์เป็นครั้งแรก กล่องโต้ตอบ **ตั้งค่าไซต์ของคุณ** จะปรากฏขึ้น

ภาพประกอบต่อไปนี้แสดงกล่องโต้ตอบ **ตั้งค่าไซต์ของคุณ** สำหรับไซต์ที่ชื่อว่า "default" เมื่อคุณเข้าถึงไซต์เป็นครั้งแรกในตัวสร้างไซต์

![กล่องโต้ตอบ **ตั้งค่าไซต์ของคุณ**](./media/Domains_SetupyoursiteScreen.png)

กล่อง **เลือกโดเมน** ช่วยให้คุณสามารถเชื่อมโยงหนึ่งในชื่อโฮสต์ที่ได้รับการสนับสนุนที่มีให้กับไซต์ของคุณใน LCS กับไซต์ของคุณในตัวสร้างไซต์

กล่อง **พาธ** อาจปล่อยว่างไว้หรืออาจเพิ่มสตริงของพาธเพิ่มเติมที่จะแสดงให้เห็นใน URL ที่ทำงานของคุณ การปล่อยกล่อง **พาธ** ว่างไว้เชื่อมโยง URL ฐานที่สร้างโดย Commerce กับไซต์ที่มีการตั้งค่าในตัวสร้างไซต์ พาธต้องไม่ซ้ำกันสำหรับไซต์/โดเมนแต่ละคู่ ภายในไซต์และโดเมนที่เลือก จะมีเพียงไซต์เดียวในสภาพแวดล้อมเท่านั้นที่สามารถใช้พาธที่ว่างเปล่าหรือเชื่อมโยงกับสตริงการพาธที่ไม่ซ้ำกัน สตริงที่เพิ่มเข้าไปในฟิลด์ **พาธ** ในระหว่างการตั้งค่าไซต์จะกลายเป็นพาธย่อยของ URL ฐานที่สร้างโดย Commerce ซึ่งใช้ในการเข้าถึงไซต์ในเว็บเบราว์เซอร์

> [!NOTE]
> พาธนี้เรียกอีกอย่างว่า **พาธการจับคู่** เมื่อเพิ่มช่องทางในส่วนการตั้งค่าคอนฟิก **การตั้งค่าไซต์ \> ช่องทาง** ของตัวสร้างไซต์

ตัวอย่างเช่น ถ้าคุณมีไซต์ในตัวสร้างไซต์ที่ชื่อ"fabrikam" ในผู้เช่าอีคอมเมิร์ซที่ชื่อ "xyz" และถ้าคุณตั้งค่าไซต์ที่มีพาธที่ว่างเปล่า คุณจะเข้าถึงเนื้อหาของไซต์ที่เผยแพร่ในเว็บเบราว์เซอร์โดยไปที่ URL ฐานที่สร้างโดย Commerce โดยตรง:

`https://xyz.dynamics365commerce.ms`

หรือถ้าคุณได้เพิ่มพาธของ "fabrikam" ในระหว่างการตั้งค่าไซต์เดียวกันนี้ คุณจะเข้าถึงเนื้อหาของไซต์ที่เผยแพร่ในเว็บเบราว์เซอร์โดยใช้ URL ต่อไปนี้:

`https://xyz.dynamics365commerce.ms/fabrikam`

## <a name="pages-and-urls"></a>หน้าและ URL

หลังจากที่มีการตั้งค่าไซต์ของคุณโดยใช้พาธ, URL ทั้งหมดที่เชื่อมโยงกับหน้าในตัวสร้างไซต์จะสร้างบน URL ที่ทำงาน (URL ที่สร้างโดย Commerce หรือ URL ที่สร้างโดย Commerce พร้อมกับพาธ) สำหรับไซต์ การสร้าง URL ใหม่ในตัวสร้างไซต์ (**URLS/> + ใหม่**) โดยการเลือกหน้าจากรายการในกล่องโต้ตอบ **URL ใหม่** และการป้อนพาธ URL สำหรับหน้านั้นจะเชื่อมโยง URL นั้นกับหน้าที่เลือก ค่าพาธของ URL จะผนวกเข้ากับ URL ที่ทำงานของไซต์เพื่อเข้าถึงหน้า และมีการติดป้ายชื่อ `./<URL path>` ในรายชื่อ URL ของหน้า **URL** ในตัวสร้างไซต์

ภาพประกอบต่อไปนี้จะแสดงกล่องโต้ตอบ **URL ใหม่** ในตัวสร้างไซต์โดยมีการเน้นพาธ URL 

![กล่องโต้ตอบ **URL ใหม่** ในโปรแกรมสร้างไซต์](./media/Domains_PageSetup2a.png)

ภาพประกอบต่อไปนี้จะแสดงหน้า **URL** ในตัวสร้างไซต์ที่มีตัวอย่างการเน้น URL ในรายการ

![รันตัวเลือกโฟลว์ของผู้ใช้ในโฟลว์ของนโยบาย](./media/Domains_URLsInSiteBuilder2a.png)

## <a name="domains-in-site-builder"></a>โดเมนในตัวสร้างไซต์

ค่าของชื่อโฮสต์ที่ได้รับการสนับสนุนจะพสามารถใช้ในการเชื่อมโยงกับโดเมนเมื่อตั้งค่าไซต์ เมื่อเลือกค่าชื่อโฮสต์ที่ได้รับการสนับสนุนเป็นโดเมน คุณจะเห็นโดเมนที่เลือกที่อ้างอิงในตัวสร้างไซต์ โดเมนนี้เป็นเพียงการอ้างอิงภายในสภาพแวดล้อม Commerce เท่านั้น การรับส่งข้อมูลจริงสำหรับโดเมนนั้นจะยังไม่ได้ส่งต่อไปยัง Dynamics 365 Commerce

เมื่อทำงานกับไซต์ในตัวสร้างไซต์ ถ้าคุณมีสองไซต์ที่ตั้งค่าด้วยโดเมนที่แตกต่างกันสองโดเมน คุณสามารถผนวกแอตทริบิวต์ **?domain=** กับ URL ที่ทำงานของคุณเพื่อเข้าถึงเนื้อหาไซต์ที่เผยแพร่ในเบราว์เซอร์

ตัวอย่างเช่น มีการเตรียมใช้งานสภาพแวดล้อม "xyz" และมีการสร้างไซต์สองแห่งและเชื่อมโยงในตัวสร้างไซต์: ไซต์หนึ่งมีโดเมน `www.fabrikam.com`และอีกไซต์มีโดเมน `www.constoso.com` มีการตั้งค่าไซต์แต่ละไซต์โดยใช้พาธที่ว่างเปล่า จากนั้นคุณจะสามารถเข้าถึงไซต์ทั้งคู่เหล่านี้ได้ในเว็บเบราว์เซอร์ดังต่อไปนี้โดยใช้แอตทริบิวต์ **?domain=**:
- `https://xyz.dynamics365commerce.ms?domain=www.fabrikam.com`
- `https://xyz.dynamics365commerce.ms?domain=www.contoso.com`

เมื่อสตริงการสอบถามโดเมนไม่ได้กำหนดไว้ในสภาพแวดล้อมที่มีโดเมนหลายโดเมน Commerce จะใช้โดเมนแรกที่คุณระบุ ตัวอย่างเช่น ถ้ามีการเตรียมใช้งานพาธ "fabrikam" ไว้เป็นอันดับแรกในระหว่างการตั้งค่าไซต์ สามารถใช้ URL `https://xyz.dynamics365commerce.ms` เพื่อเข้าถึงไซต์เนื้อหาของไซต์ที่เผยแพร่แล้วสำหรับ `www.fabrikam.com` ได้

## <a name="traffic-forwarding-in-production"></a>การส่งต่อการรับส่งข้อมูลในการทำงานจริง

คุณสามารถจำลองหลายโดเมนโดยใช้พารามิเตอร์สตริงการสอบถามโดเมนบนปลายทาง commerce.dynamics.com ของตัวเองได้ แต่เมื่อคุณต้องการใช้งานในการทำงานจริง คุณต้องส่งต่อการรับส่งข้อมูลสำหรับโดเมนที่กำหนดเองของคุณไปยังปลายทาง `<e-commerce tenant name>.dynamics365commerce.ms`

ปลายทาง `<e-commerce tenant name>.dynamics365commerce.ms` ไม่สนับสนุน Secure Sockets Layers (SSL) สำหรับโดเมนที่กำหนดเอง ดังนั้นคุณต้องตั้งค่าโดเมนที่กำหนดเองโดยใช้บริการประตูด้านหน้าหรือเครือข่ายการจัดส่งเนื้อหา (CDN) 

หากต้องการตั้งค่าโดเมนแบบกำหนดเองโดยใช้บริการประตูหน้าหรือ CDN คุณมีสองตัวเลือกดังต่อไปนี้

- ตั้งค่าบริการประตูหน้า เช่น Azure Front Door เพื่อจัดการกับการรับส่งข้อมูลฟร้อนเอนด์และเชื่อมต่อกับสภาพแวดล้อม Commerce ของคุณ ซึ่งช่วยให้สามารถควบคุมการจัดการโดเมนและใบรับรองและนโยบายความปลอดภัยแบบละเอียดมากขึ้น
- ใช้อินสแตนซ์ Azure Front Door ที่ให้มากับ Commerce การดำเนินการนี้จำเป็นต้องมีการดำเนินร่วมกับทีม Dynamics 365 Commerce สำหรับการตรวจสอบโดเมนและการขอรับใบรับรอง SSL สำหรับโดเมนการทำงานจริงของคุณ

สำหรับข้อมูลเกี่ยวกับวิธีการตั้งค่าบริการ CDN โดยตรง ให้ดูที่ [การเพิ่มการสนับสนุนสำหรับเครือข่ายการจัดส่งเนื้อหา (CDN)](add-cdn-support.md)

เมื่อต้องการใช้อินสแตนซ์ Azure Front Door ที่ให้มากับ Commerce คุณต้องสร้างคำขอรับบริการสำหรับความช่วยเหลือในการตั้งค่า CDN จากทีมเตรียมความพร้อมของ Commerce 

- คุณจะต้องระบุชื่อบริษัทของคุณ โดเมนการทำงานจริง รหัสสภาพแวดล้อม และชื่อผู้เช่าอีคอมเมิร์ซสำหรับการทำงานจริง 
- คุณจะต้องยืนยันว่าเป็นโดเมนที่มีอยู่ (ใช้สำหรับไซต์ที่ใช้งานอยู่ในปัจจุบัน) หรือเป็นโดเมนใหม่ 
- สำหรับโดเมนใหม่ การตรวจสอบโดเมนและใบรับรอง SSL สามารถทำได้ในขั้นตอนเดียว 
- สำหรับโดเมนที่ให้บริการเว็บไซต์ที่มีอยู่ มีกระบวนการหลายขั้นตอนที่จำเป็นในการสร้างการตรวจสอบความถูกต้องของโดเมนและใบรับรอง SSL กระบวนการนี้มีข้อตกลงระดับการให้บริการ (SLA) แบบ 7 วันทำการสำหรับโดเมนที่จะใช้งาน เนื่องจากมีขั้นตอนตามลำดับหลายขั้น

เมื่อต้องการสร้างคำขอบริการใน LCS ภายในสภาพแวดล้อมของคุณ ให้ไปที่ **การสนับสนุน \>ปัญหาที่รับการสนับสนุน** และเลือก **ส่งเหตุการณ์**

> [!NOTE]
> โดเมนแบบกำหนดเองที่มี SSL สนับสนุนเฉพาะในสภาพแวดล้อมการทำงานจริงเท่านั้น สำหรับสภาพแวดล้อมที่ไม่ใช่สำหรับการทำงานจริง เช่น Sandbox และการทดสอบการยอมรับของผู้ใช้ (UAT) ให้ใช้ URL ที่สร้างโดย Commerce เพื่อเข้าถึงเนื้อหาที่เผยแพร่ในเว็บเบราว์เซอร์

## <a name="ssl-certificate-process"></a>กระบวนการใบรับรอง SSL

เมื่อส่งคำขอรับบริการแล้ว ทีม Commerce จะประสานงานขั้นตอนต่อไปนี้ให้กับคุณ

สำหรับโดเมนใหม่:
- ทีม Commerce จะตั้งค่าอินสแตนซ์ Azure Front Door (โฮสต์ Commerce)
- ทีม Commerce จะกำหนดเรกคอร์ด CNAME เพื่อชี้ไปที่โดเมนที่กำหนดเองของคุณ
- หลังจากที่มีการอัปเดตเรกคอร์ด CNAME อินสแตน Azure Front Door ที่โฮสต์บน Commerce จะสามารถตรวจสอบความเป็นเจ้าของโดเมนและรับใบรับรอง SSL ได้

สำหรับโดเมนที่มีอยู่/ที่ใช้งานอยู่:
- ทีม Commerce จะแนะนำให้คุณเพิ่มเรกคอร์ด CNAME `afdverify.<custom-domain>` เพื่อระบุผู้ให้บริการ DNS โดเมนของคุณ
- เมื่อเสร็จสมบูรณ์ ทีม Commerce จะเพิ่มโดเมนลงในอินสแตนซ์ Azure Front Door และระบุเรกคอร์ด TXT DNS เพิ่มเติมที่จะเพิ่มลงใน DNS สำหรับโดเมน
- หลังจากที่เรกคอร์ด TXT เสร็จสมบูรณ์แล้ว ทีม Commerce จะทำการอัปเดต Azure Front Door สำหรับโดเมนที่จะตั้งค่าใบรับรอง SSL

## <a name="apex-domains"></a>โดเมน Apex

อินสแตนซ์ Azure Front Door ที่ให้มากับ Commerce ไม่สนับสนุนโดเมน apex (โดเมนรากที่ไม่มีโดเมนย่อย) โดเมน Apex ต้องมีที่อยู่ IP เพื่อแก้ไข และมีอินสแตนซ์ Commerce Azure Front Door ที่มีปลายทางเสมือนเท่านั้น เมื่อต้องการใช้โดเมนแบบ apex คุณมีสองตัวเลือกดังต่อไปนี้:

- **ตัวเลือก 1** - ใช้ตัวให้บริการ DNS ของคุณเพื่อเปลี่ยนเส้นทางโดเมน apex กับโดเมน "www" ตัวอย่างเช่น fabrikam.com เปลี่ยนเส้นทางไปยัง `www.fabrikam.com` โดยที่ `www.fabrikam.com` เป็นเรกคอร์ด CNAME ซึ่งชี้ไปยังอินสแตนซ์ Azure Front Door ที่โฮสต์บน Commerce

- **ตัวเลือก 2** - ตั้งค่าอินสแตนซ์ CDN/ประตูหน้าด้วยตัวคุณเองเพื่อโฮสต์โดเมน apex

> [!NOTE]
> หากคุณใช้ Azure Front Door คุณต้องตั้งค่า Azure DNS ในการสมัครใช้งานเดียวกัน โดเมน apex ที่โฮสต์บน Azure DNS สามารถชี้ไปที่ Azure Front Door ของคุณเป็นเรกคอร์ดนามแฝง นี่เป็นวิธีแก้ปัญหาชั่วคราวเท่านั้น เพราะโดเมน apex ต้องชี้ไปที่ที่อยู่ IP เสมอ

  ## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

  [ปรับใช้ผู้เช่าอีคอมเมิร์ซใหม่](deploy-ecommerce-site.md)

  [ตั้งค่าช่องทางร้านค้าออนไลน์](./channel-setup-online.md)

  [สร้างไซต์อีคอมเมิร์ซ](create-ecommerce-site.md)

  [เชื่อมโยงไซต์ Dynamics 365 Commerce กับช่องทางออนไลน์](associate-site-online-store.md)

  [จัดการไฟล์ robots.txt](manage-robots-txt-files.md)

  [อัพโหลดการเปลี่ยนเส้นทาง URL จำนวนมาก](upload-bulk-redirects.md)

  [ตั้งค่าผู้เช่า B2C ใน Commerce](set-up-B2C-tenant.md)

  [ตั้งค่าหน้าแบบกำหนดเองสำหรับการล็อกอินของผู้ใช้](custom-pages-user-logins.md)

  [ตั้งค่าคอนฟิกผู้เช่า B2C หลายรายในสภาพแวดล้อม Commerce](configure-multi-B2C-tenants.md)

  [เพิ่มการสนับสนุนสำหรับเครือข่ายการจัดส่งเนื้อหา (CDN)](add-cdn-support.md)

  [เปิดใช้งานการตรวจหาร้านค้าตามตำแหน่งที่ตั้ง](enable-store-detection.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
