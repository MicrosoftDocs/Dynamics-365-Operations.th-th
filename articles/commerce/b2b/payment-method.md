---
title: ตั้งค่าคอนฟิกวิธีการชำระเงินด้วยบัญชีลูกค้าสำหรับไซต์อีคอมเมิร์ซของ B2B
description: บทความนี้อธิบายวิธีการตั้งค่าคอนฟิกวิธีการชำระเงินของบัญชีลูกค้าใน Microsoft Dynamics 365 Commerce นอกจากนี้ยังอธิบายว่าวงเงินสินเชื่อส่งผลต่อการบันทึกการชำระเงินในบัญชีบนไซต์อีคอมเมิร์ซแบบธุรกิจกับธุรกิจ (B2B) อย่างไร
author: josaw1
ms.date: 04/19/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: josaw
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.search.industry: retail
ms.search.form: RetailOperations
ms.openlocfilehash: b8424920c3a177e01b71fc1c288b7acdd97ef191
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/12/2022
ms.locfileid: "9272029"
---
# <a name="configure-the-customer-account-payment-method-for-b2b-e-commerce-sites"></a>ตั้งค่าคอนฟิกวิธีการชำระเงินด้วยบัญชีลูกค้าสำหรับไซต์อีคอมเมิร์ซของ B2B

[!include [banner](../../includes/banner.md)]

บทความนี้อธิบายวิธีการตั้งค่าคอนฟิกวิธีการชำระเงินของบัญชีลูกค้าใน Microsoft Dynamics 365 Commerce นอกจากนี้ยังอธิบายว่าวงเงินสินเชื่อส่งผลต่อการบันทึกการชำระเงินในบัญชีบนไซต์อีคอมเมิร์ซแบบธุรกิจกับธุรกิจ (B2B) อย่างไร

ผู้ค้าปลีกสามารถยอมรับการชำระเงินที่หลากหลายในซื้อสินค้าและบริการที่ผู้ค้าปลีกจำหน่ายในช่องทางอีคอมเมิร์ซ ชนิดการชำระเงินแต่ละชนิดที่ผู้ขายปลีกยอมรับ ต้องตั้งค่าคอนฟิกใน Dynamics 365 Commerce เมื่อมีการตั้งค่าระบบ ต้องสนับสนุนการชำระเงินบัญชีลูกค้า (หรือ "ในบัญชี") บนไซต์อีคอมเมิร์ซของ B2B 

## <a name="prerequisites"></a>ข้อกำหนดเบื้องต้น

1. เพิ่มวิธีการชำระเงินของบัญชีลูกค้าใน Commerce headquarters
2. เชื่อมโยงวิธีการชำระเงินของบัญชีลูกค้ากับช่องทางอีคอมเมิร์ซ
3. ตรวจสอบให้แน่ใจว่าเปิดใช้งานคุณสมบัติ **อนุญาตในบัญชี** กับลูกค้ารายนั้นที่ **Retail และ Commerce \> ลูกค้า \> ลูกค้าทั้งหมด \> ค่าเริ่มต้นของการชำระเงิน** ใน Commerce headquarters ได้

    > [!NOTE]
    > หากลูกค้าทุกคนควรได้รับอนุญาตให้เปิดใช้งานวิธีการชำระเงินในบัญชี คุณสามารถตั้งค่าคุณสมบัติ **อนุญาตในบัญชี** เป็น **ใช่** สำหรับลูกค้าเริ่มต้นของช่องทางที่เชื่อมโยงกับไซต์ B2B 

## <a name="enable-the-customer-account-payment-method-in-commerce-site-builder"></a>เปิดใช้งานวิธีการชำระเงินด้วยบัญชีลูกค้าในตัวสร้างไซต์ Commerce 

หากต้องการเปิดใช้งานวิธีการชำระเงินด้วยบัญชีลูกค้าในตัวสร้างไซต์ Commerce ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การตั้งค่าไซต์ \> ส่วนขยาย**
1. ตั้งค่าคุณสมบัติ **เปิดใช้งานการชำระเงินด้วยบัญชีลูกค้า** เป็น **เปิดใช้งานแล้วสำหรับลูกค้า B2B** 
1. เลือก **บันทึกและเผยแพร่**

> [!NOTE]
> การตั้งค่าโปรแกรมสร้างไซต์ใหม่จะมีผลเฉพาะหลังจากที่อัปเดตไฟล์ app.settings.json แล้วเท่านั้น สำหรับข้อมูลเพิ่มเติม โปรดดู [SDK และอัปเดตไลบรารีโมดูล](../e-commerce-extensibility/sdk-updates.md)

## <a name="enable-the-customer-account-payment-method-on-the-checkout-page-for-the-b2b-e-commerce-site"></a>เปิดใช้งานวิธีการชำระเงินของบัญชีลูกค้าในหน้าเช็คเอาท์ของไซต์อีคอมเมิร์ซของ B2B

หากต้องการเปิดใช้งานวิธีการชำระเงินของบัญชีลูกค้าในหน้าเช็คเอาท์ของไซต์อีคอมเมิร์ซของ B2B ให้ทำตามขั้นตอนต่อไปนี้

1. ในตัวสร้างไซต์ Commerce ให้ค้นหาและแก้ไขหน้าเช็คเอาท์หรือบางส่วนของหน้าเช็คเอาท์ที่มีโมดูลเช็คเอาท์ของไซต์อีคอมเมิร์ซของ B2B
1. ในช่อง **คอนเทนเนอร์ส่วนเช็คเอาท์** ให้เลือก **เพิ่มโมดูล** แล้วเพิ่มโมดูล **การชำระเงินของบัญชีลูกค้า**
1. จัดตําแหน่ง **การชำระเงินของบัญชีลูกค้า** โดยการเลือกจุดไข่ปลา (**...**) แล้วเลือก **เลื่อนขึ้น** หรือ **เลื่อนลง** ตามที่ต้องการ
1. เลือก **บันทึก** เลือก **แก้ไขให้เสร็จสิ้น** เพื่อตรวจสอบในหน้า และจากนั้น เลือก **เผยแพร่** เพื่อเผยแพร่

## <a name="confirm-that-the-customer-account-payment-method-has-been-enabled-and-published"></a>ยืนยันว่าวิธีการจ่ายเงินของบัญชีลูกค้าเปิดใช้งานและเผยแพร่แล้ว

หากต้องการยืนยันว่าวิธีการจ่ายเงินของบัญชีลูกค้าเปิดใช้งานแล้ว ให้ทำตามขั้นตอนต่อไปนี้

1. ลงชื่อเข้าใช้ไซต์อีคอมเมิร์ซ
1. เพิ่มผลิตภัณฑ์ลงในรถเข็น
1. ไปที่หน้าเช็คเอาท์ คุณควรเห็นวิธีการชำระเงิน **บัญชีลูกค้า** ใหม่

## <a name="work-with-credit-limits"></a>ทำงานกับวงเงินสินเชื่อ

เมื่อเปิดใช้งานความสามารถในการชำระเงินของบัญชีลูกค้าบนไซต์ B2B องค์กรมักจะต้องการแสดงข้อมูลเกี่ยวกับวงเงินสินเชื่อและยอดดุลวงเงินสินเชื่อในระหว่างกระบวนการบันทึกใบสั่ง วงเงินสินเชื่อของลูกค้าจะถูกกําหนดโดยคุณสมบัติ **วงเงินสินเชื่อ** บนแท็บด่วน **เครดิตและการเรียกเก็บเงิน** ของเรกคอร์ดลูกค้าใน Commerce headquarters อย่างไรก็ตาม ในสถานการณ์ B2B ใบสั่งที่ลูกค้าส่งมักจะถูกออกใบแจ้งหนี้ไปยังบัญชีขององค์กรที่ลูกค้าเป็นสมาชิก ดังนั้นคุณจึงต้องตั้งค่าคุณสมบัติ **บัญชีใบแจ้งหนี้** บนแท็บด่วน **ใบแจ้งหนี้และการจัดส่ง** ของเรกคอร์ดลูกค้าเป็นรหัสบัญชีลูกค้าขององค์กร จากนั้นเมื่อลูกค้าส่งใบสั่งบนไซต์ B2B ใบสั่งจะถูกออกใบแจ้งหนี้ไปยังองค์กร ไซต์ B2B จะใช้วงเงินสินเชื่อขององค์กรแทนวงเงินสินเชื่อที่กําหนดไว้ในเรกคอร์ดลูกค้าด้วย

การคํานวณวงเงินสินเชื่อและยอดดุลที่แสดงบนเว็บไซต์ B2B จะขึ้นอยู่กับการตั้งค่าคุณสมบัติ **ชนิดของวงเงินสินเชื่อ** ใน Commerce headquarters ตำแหน่งของคุณสมบัตินี้จะแตกต่างกันไปตามแต่ละคุณสมบัติ โดยขึ้นอยู่กับว่าคุณลักษณะ **การจัดการเครดิต** เปิดใช้งานในพื้นที่ทำงาน **การจัดการคุณลักษณะ** หรือไม่:

- หากคุณลักษณะ **การจัดการเครดิต** เปิดใช้งาน คุณสมบัติจะอยู่ที่แท็บด่วน **วงเงินสินเชื่อ** ที่ **เครดิตและการเรียกเก็บเงิน \> การตั้งค่า \> พารามิเตอร์เครดิตและการเรียกเก็บเงิน \> เครดิต** 
- หากปิดใช้งานคุณลักษณะ **การจัดการเครดิต** คุณสมบัติจะอยู่ภายใต้ **การให้คะแนนเครดิต** ที่ **บัญชีลูกหนี้ \> การตั้งค่า \> พารามิเตอร์บัญชีลูกหนี้ \> การให้คะแนนเครดิต**

ค่าที่คุณสมบัติ **ชนิดวงเงินสินเชื่อ** รองรับคือ **ไม่มี**, **ยอดดุล**, **ยอดดุล + บันทึกการจัดส่งหรือใบรับสินค้า** และ **ยอดดุล + ทั้งหมด** สำหรับข้อมูลเพิ่มเติมเกี่ยวกับค่าเหล่านี้ ดูที่ [ค่าของชนิดวงเงินสินเชื่อ](/dynamics365/supply-chain/sales-marketing/credit-limits-customers)

> [!NOTE]
> เราขอแนะนำให้คุณตั้งค่าคุณสมบัติ **ชนิดวงเงินสินเชื่อ** เป็น **ยอดดุล + บันทึกการจัดส่งหรือใบรับสินค้า** เพื่อให้ใบสั่งขายเปิดไม่จัดสรรในการคํานวณยอดดุล จากนั้น ถ้าลูกค้าของคุณส่งใบสั่งในอนาคต พวกเขาก็ไม่ต้องกังวลว่าใบสั่งเหล่านั้นมีผลต่อยอดดุลปัจจุบัน

คุณสมบัติอื่นที่มีผลต่อการสั่งซื้อในบัญชีคือคุณสมบัติ **วงเงินสินเชื่อบังคับ** ซึ่งอยู่บนแท็บด่วน **เครดิตและการเรียกเก็บเงิน** ของเรกคอร์ดลูกค้า การตั้งค่าคุณสมบัตินี้เป็น **ใช่** สำหรับลูกค้าเฉพาะ คุณสามารถบังคับให้ระบบตรวจสอบวงเงินสินเชื่อ แม้ว่าคุณสมบัติ **ชนิดวงเงินสินเชื่อ** จะตั้งค่าเป็น **ไม่มี** เพื่อระบุว่าไม่ควรตรวจสอบวงเงินสินเชื่อของลูกค้าใดๆ

ปัจจุบัน ลูกค้าที่ใช้วิธีการชำระเงินในบัญชีไม่สามารถชำระเงินเกินยอดเครดิตคงเหลือสำหรับใบสั่งได้ ตัวอย่างเช่น ถ้ายอดดุลเครดิตคงเหลือของลูกค้าอยู่ที่ $1,000 แต่ใบสั่งมีมูลค่า$1,200 ลูกค้าสามารถจ่ายเพียง $1,000 ได้โดยใช้วิธีการในบัญชีเท่านั้น ลูกค้าต้องใช้วิธีการจ่ายเงินแบบอื่นในการจ่ายยอดคงเหลือ ในรุ่นอนาคต การกำหนดค่า Commerce จะอนุญาตให้ผู้ใช้ใช้จ่ายเกินวงเงินเครดิตเมื่อส่งใบสั่งได้

โมดูล **สินเชื่อและการเรียกเก็บเงิน** มีความสามารถในการจัดการสินเชื่อใหม่ เมื่อต้องการเปิดความสามารถเหล่านี้ ให้เปิดใช้งานคุณลักษณะ **การจัดการเครดิต** ในพื้นที่ทำงาน **การจัดการคุณลักษณะ** หนึ่งในความสามารถใหม่ช่วยให้สามารถระงับใบสั่งขายตามกฎการบล็อคได้ จากนั้นผู้จัดการฝ่ายสินเชื่อสามารถปล่อยหรือปฏิเสธใบสั่งหลังจากการวิเคราะห์เพิ่มเติม อย่างไรก็ตาม ความสามารถที่จะระงับใบสั่งขายไม่สามารถใช้กับใบสั่ง Commerce ได้ เนื่องจากใบสั่งขายมักเป็นการชำระเงินล่วงหน้า และคุณลักษณะ **การจัดการเครดิต** ไม่ได้รองรับสถานการณ์การชำระเงินล่วงหน้าทั้งหมด 

ไม่ว่าจะมีการเปิดใช้งานคุณลักษณะ **การจัดการเครดิต** หรือไม่ หากยอดดุลของลูกค้าเกินวงเงินสินเชื่อระหว่างการเติมสินค้าตามใบสั่ง ใบสั่งขายจะไม่เข้าสู่การระงับ แต่ Commerce จะสร้างข้อความเตือนหรือข้อความแสดงข้อผิดพลาด ทั้งนี้ขึ้นอยู่กับค่าของฟิลด์ **ข้อความจากระบบเมื่อเกินวงเงินสินเชื่อ** บนแท็บด่วน **วงเงินเครดิต**

คุณสมบัติ **ตัดออกจากการจัดการเครดิต** ที่ป้องกันไม่ให้ใบสั่งขาย Commerce ถูกระงับ จะอยู่ในส่วนหัวของใบสั่งขาย (**Retail และ Commerce \> ลูกค้า \> ใบสั่งขายทั้งหมด**) ถ้าตั้งค่าคุณสมบัตินี้เป็น **ใช่** (ค่าเริ่มต้น) สำหรับใบสั่งขาย Commerce ใบสั่งจะถูกตัดออกจากเวิร์กโฟลว์การระงับของการจัดการเครดิต แม้คุณสมบัตินี้จะมีชื่อว่า **ตัดออกจากการจัดการเครดิต** แต่วงเงินเครดิตที่กำหนดจะยังคงใช้อยู่ระหว่างการเติมสินค้าตามใบสั่งซื้อ ใบสั่งจะไม่ถูกระงับ

ความสามารถที่จะระงับใบสั่งขายของ Commerce ตามกฎการบล็อคมีการวางแผนไว้เพื่อใช้กับ Commerce รุ่นในอนาคต จนกว่าจะมีการรองรับ ถ้าคุณต้องบังคับให้ใบสั่งขายของ Commerce ให้ยังขั้นตอนการจัดการเครดิตใหม่ คุณสามารถเลือกไฟล์ XML ต่อไปนี้ในโซลูชัน Visual Studio ของคุณ ในไฟล์ ให้แก้ไขตรรกะเพื่อให้มีการตั้งค่าแฟล็ก **CredManExcludeSalesOrder** เป็น **ไม่** ด้วยวิธีนี้ คุณสมบัติ **ตัดออกจากการจัดการเครดิต** จะตั้งค่าเป็น **ไม่** ตามค่าเริ่มต้นสำหรับใบสั่งขาย Commerce

- RetailCreateCustomerOrderExtensions_CredMan_Extension.xml
- RetailCallCenterOrderExtensions_CredMan_Extension.xml

ถ้าแฟล็ก **CredManExcludeSalesOrder** ตั้งค่าเป็น **ไม่** และลูกค้าแบบ B2B สามารถซื้อจากร้านค้าโดยใช้แอปพลิเคชันการขายหน้าร้าน (POS) การลงรายการบัญชีธุรกรรมเงินสดและการขนส่งอาจล้มเหลว ตัวอย่างเช่น มีกฎการบล็อคของชนิดการจ่ายเงินสด และลูกค้า B2B ซื้อสินค้าบางรายการในร้านค้าโดยใช้เงินสด ในกรณีนี้ ใบสั่งขายที่ได้จะไม่สามารถออกใบแจ้งหนี้ได้สำเร็จ เนื่องจากจะมีการระงับ ดังนั้นการลงรายการบัญชีจะล้มเหลว ด้วยเหตุนี้ เราจึงขอแนะนำว่าคุณควรทดสอบตั้งแต่ต้นจนจบหลังจากที่คุณใช้การปรับแต่งนี้

## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

[ตั้งค่าไซต์อีคอมเมิร์ซ B2B](set-up-b2b-site.md)

[จัดการคู่ค้าทางธุรกิจ B2B โดยใช้ลำดับชั้นของลูกค้า](partners-customer-hierarchies.md)

[จัดการผู้ใช้คู่ค้าทางธุรกิจบนไซต์อีคอมเมิร์ซ B2B](manage-b2b-users.md)

[ตั้งค่าขีดจํากัดปริมาณผลิตภัณฑ์เกี่ยวกับไซต์อีคอมเมิร์ซของ B2B](quantity-limits.md)

[การอัปเดต SDK และไลบรารีโมดูล](../e-commerce-extensibility/sdk-updates.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
