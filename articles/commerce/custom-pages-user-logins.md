---
title: ตั้งค่าหน้าแบบกำหนดเองสำหรับการลงชื่อเข้าใช้ของผู้ใช้
description: หัวข้อนี้จะอธิบายถึงวิธีการสร้างหน้าแบบกำหนดเองใน Microsoft Dynamics 365 Commerce ที่จัดการการลงชื่อเข้าใช้แบบกำหนดเองสำหรับผู้ใช้ Azure Active Directory (Azure AD) ที่เป็นผู้เช่าแบบธุรกิจ-ลูกค้า (B2C)
author: brianshook
ms.date: 03/17/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: brshoo
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: d4a1c2f45d77c3ff9a7bb4dffaf12d877dc04e69
ms.sourcegitcommit: 9eadc7ca08e2db3fd208f5fc835551abe9d06dc8
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 04/22/2021
ms.locfileid: "5936791"
---
# <a name="set-up-custom-pages-for-user-sign-ins"></a><span data-ttu-id="d5913-103">ตั้งค่าหน้าแบบกำหนดเองสำหรับการลงชื่อเข้าใช้ของผู้ใช้</span><span class="sxs-lookup"><span data-stu-id="d5913-103">Set up custom pages for user sign-ins</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="d5913-104">หัวข้อนี้จะอธิบายถึงวิธีการสร้างหน้าแบบกำหนดเองใน Microsoft Dynamics 365 Commerce ที่จัดการการลงชื่อเข้าใช้แบบกำหนดเองสำหรับผู้ใช้ Azure Active Directory (Azure AD) ที่เป็นผู้เช่าแบบธุรกิจ-ลูกค้า (B2C)</span><span class="sxs-lookup"><span data-stu-id="d5913-104">This topic describes how to build custom pages in Microsoft Dynamics 365 Commerce that handle customized sign-ins for users of Azure Active Directory (Azure AD) business-to-consumer (B2C) tenants.</span></span>

<span data-ttu-id="d5913-105">เมื่อต้องการใช้หน้าแบบกำหนดเองที่มีการสร้างใน Dynamics 365 Commerce เพื่อจัดการขั้นตอนการลงชื่อเข้า คุณต้องตั้งค่านโยบาย Azure AD ที่จะถูกอ้างอิงในสภาพแวดล้อม Commerce</span><span class="sxs-lookup"><span data-stu-id="d5913-105">To use custom pages that are authored in Dynamics 365 Commerce to handle user sign-in flows, you must set up the Azure AD policies that will be referenced in the Commerce environment.</span></span> <span data-ttu-id="d5913-106">คุณสามารถตั้งค่าคอนฟิก "ลงทะเบียนและลงชื่อเข้าใช้" "แก้ไขโพรไฟล์" และ "รีเซ็ตรหัสผ่าน" นโยบาย B2C Azure AD โดยใช้แอพลิเคชัน B2C Azure AD</span><span class="sxs-lookup"><span data-stu-id="d5913-106">You can configure the "Sign up and sign in," "Profile editing," and "Password reset" Azure AD B2C policies by using the Azure AD B2C application.</span></span> <span data-ttu-id="d5913-107">ชื่อผู้เช่าและนโยบาย B2C Azure AD สามารถอ้างอิงในระหว่างกระบวนการเตรียมใช้งานที่ทำไว้สำหรับสภาพแวดล้อม Commerce โดยใช้วงจรชีวิต Microsoft Dynamics Lifecycle Services (LCS)</span><span class="sxs-lookup"><span data-stu-id="d5913-107">The Azure AD B2C tenant and policy names can then be referenced during the provisioning process that is done for the Commerce environment by using Microsoft Dynamics Lifecycle Services (LCS).</span></span>

<span data-ttu-id="d5913-108">หน้า Commerce ที่กำหนดเองสามารถสร้างได้โดยใช้การลงชื่อเข้าใช้ ลงทะเบียน การแก้ไขโพรไฟล์บัญชี โมดูลการรีเซ็ตรหัสผ่าน หรือโมดูล AAD ทั่วไป</span><span class="sxs-lookup"><span data-stu-id="d5913-108">The custom Commerce pages can be built by using the sign in, sign up, account profile edit, password reset, or generic AAD modules.</span></span> <span data-ttu-id="d5913-109">Url ของหน้าซึ่งเผยแพร่สำหรับหน้าแบบกำหนดเองเหล่านี้ควรจะถูกอ้างอิงในการตั้งค่าคอนฟิกนโยบาย B2C Azure AD ในพอร์ทัล Azure</span><span class="sxs-lookup"><span data-stu-id="d5913-109">The page URLs that are published for these custom pages should then be referenced in Azure AD B2C policy configurations in the Azure portal.</span></span>

> [!WARNING] 
> <span data-ttu-id="d5913-110">Azure AD B2C จะถอนโฟลว์ของผู้ใช้เก่า (ดั้งเดิม) ในวันที่ 1 สิงหาคม 2021</span><span class="sxs-lookup"><span data-stu-id="d5913-110">Azure AD B2C will retire old (legacy) user flows by August 1, 2021.</span></span> <span data-ttu-id="d5913-111">ดังนั้นคุณจึงควรวางแผนย้ายโฟลว์ของผู้ใช้ไปที่รุ่นที่แนะนำใหม่</span><span class="sxs-lookup"><span data-stu-id="d5913-111">Therefore, you should plan to migrate your user flows to the new recommended version.</span></span> <span data-ttu-id="d5913-112">รุ่นใหม่จะมีคุณลักษณะพาริตี้และคุณลักษณะใหม่</span><span class="sxs-lookup"><span data-stu-id="d5913-112">The new version provides feature parity and new features.</span></span> <span data-ttu-id="d5913-113">สำหรับข้อมูลเพิ่มเติม ให้ดู [โฟลว์ผู้ใช้ใน Azure Active Directory B2C](/azure/active-directory-b2c/user-flow-overview)</span><span class="sxs-lookup"><span data-stu-id="d5913-113">For more information, see [User flows in Azure Active Directory B2C](/azure/active-directory-b2c/user-flow-overview).</span></span>

><span data-ttu-id="d5913-114">ควรใช้ไลบรารีโมดูลของ Commerce รุ่น 10.0.15 หรือสูงกว่ากับโฟลว์ผู้ใช้ B2C ที่แนะนำ</span><span class="sxs-lookup"><span data-stu-id="d5913-114">The module library for Commerce version 10.0.15 or higher should be used with the recommended B2C user flows.</span></span> <span data-ttu-id="d5913-115">หน้านโยบายผู้ใช้เริ่มต้นที่เสนอใน Azure AD B2C ยังสามารถใช้และอนุญาตให้เพิ่มรูปภาพพื้นหลัง โลโก้ และการเปลี่ยนสีพื้นหลังที่เกี่ยวข้องกับการสร้างแบรนด์ของบริษัท</span><span class="sxs-lookup"><span data-stu-id="d5913-115">The default user policy pages offered in Azure AD B2C can also be used, and allow for added background image, logo, and background color changes related to company branding.</span></span> <span data-ttu-id="d5913-116">แม้ว่าความสามารถด้านการออกแบบจะจํากัดมากขึ้น แต่หน้านโยบายผู้ใช้เริ่มต้นจะให้ฟังก์ชันนโยบาย Azure AD B2C โดยไม่มีการสร้างและการตั้งค่าคอนฟิกหน้าเฉพาะที่กําหนดเอง</span><span class="sxs-lookup"><span data-stu-id="d5913-116">Though more limited in design capabilities, the default user policy pages provide Azure AD B2C policy functionality without creating and configuring dedicated custom pages.</span></span> 

## <a name="set-up-b2c-policies"></a><span data-ttu-id="d5913-117">ตั้งค่านโยบาย B2C</span><span class="sxs-lookup"><span data-stu-id="d5913-117">Set up B2C policies</span></span>

<span data-ttu-id="d5913-118">หลังจากที่คุณตั้งค่าผู้เช่า B2C Azure AD ของคุณ และเชื่อมโยงกับสภาพแวดล้อม Commerce ให้ไปที่หน้า **Azure AD B2C** ในพอร์ทัล Azure จากนั้นบนเมนูภายใต้ **นโยบาย** ให้เลือก **ขั้นตอนของผู้ใช้ (นโยบาย)**</span><span class="sxs-lookup"><span data-stu-id="d5913-118">After you set up your Azure AD B2C tenant and associate it with your Commerce environment, go to the **Azure AD B2C** page in the Azure portal, and then, on the menu, under **Policies**, select **User flows (policies)**.</span></span>

![คำสั่งขั้นตอนของผู้ใช้ (นโยบาย) บนเมนู](./media/B2C_CustomPage_PoliciesMenu.png)

<span data-ttu-id="d5913-120">ขณะนี้คุณสามารถตั้งค่าคอนฟิก "ลงทะเบียนและลงชื่อเข้าใช้" "แก้ไขโพรไฟล์" และ "รีเซ็ตรหัสผ่าน" ผู้ใช้ในขั้นตอนการลงชื่อเข้าใช้</span><span class="sxs-lookup"><span data-stu-id="d5913-120">You can now configure the "Sign up and sign in," "Profile editing," and "Password reset" user sign-in flows.</span></span>

### <a name="configure-the-sign-up-and-sign-in-policy"></a><span data-ttu-id="d5913-121">ตั้งค่าคอนฟิกนโยบาย "การลงทะเบียนและลงชื่อเข้าใช้"</span><span class="sxs-lookup"><span data-stu-id="d5913-121">Configure the "Sign up and sign in" policy</span></span>

<span data-ttu-id="d5913-122">เมื่อต้องการตั้งค่าคอนฟิกนโยบาย "การลงชื่อเข้าใช้และลงทะเบียน" ให้ทำตามขั้นตอนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-122">To configure the "Sign up and sign in" policy, follow these steps.</span></span>

1. <span data-ttu-id="d5913-123">เลือก **โฟลว์ของผู้ใช้ใหม่** เลือก **การลงทะเบียนและลงชื่อเข้าใช้** เลือกแท็บ **แนะนำ** และจากนั้นเลือก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="d5913-123">Select **New user flow**, select **Sign up and sign in**, select the **Recommended** tab,  and then select **Create**.</span></span>
1. <span data-ttu-id="d5913-124">ป้อนชื่อสำหรับนโยบาย (ตัวอย่างเช่น **B2C\_1\_SignInSignUp**)</span><span class="sxs-lookup"><span data-stu-id="d5913-124">Enter a name for the policy (for example, **B2C\_1\_SignInSignUp**).</span></span>
1. <span data-ttu-id="d5913-125">ในส่วน **ตัวให้บริการข้อมูลเฉพาะตัว** เลือกผู้ให้บริการข้อมูลเฉพาะตัวที่จะใช้สำหรับนโยบาย</span><span class="sxs-lookup"><span data-stu-id="d5913-125">In the **Identity Providers** section, select the identity providers to use for the policy.</span></span> <span data-ttu-id="d5913-126">อย่างน้อยที่สุด ต้องมีการเลือก **ลงทะเบียนอีเมล**</span><span class="sxs-lookup"><span data-stu-id="d5913-126">At a minimum, **Email signup** must be selected.</span></span>
1. <span data-ttu-id="d5913-127">ในคอลัมน์ **รวบรวมแอททริบิวต์** เลือกกล่องกาเครื่องหมายสำหรับ **ที่อยู่อีเมล** **ชื่อที่กำหนด** และ **นามสกุล**</span><span class="sxs-lookup"><span data-stu-id="d5913-127">In the **Collect attribute** column, select the check boxes for **Email Address**, **Given Name**, and **Surname**.</span></span>
1. <span data-ttu-id="d5913-128">ในคอลัมน์ **การอ้างสิทธิ์การส่งคืนสินค้า** ให้เลือกกล่องกาเครื่องหมายสำหรับ **ที่อยู่อีเมล** **ชื่อที่กำหนด** **ตัวให้บริการข้อมูลเฉพาะตัว** **นามสกุล** และ **รหัสออบเจ็กต์ของผู้ใช้**</span><span class="sxs-lookup"><span data-stu-id="d5913-128">In the **Return claim** column, select the check boxes for **Email Addresses**, **Given Name**, **Identity Provider**, **Surname**, and **User's Object ID**.</span></span>

    ![แอททริบิวต์และการอ้างสิทธิ์ที่เลือก](./media/B2C_SignInSignUp_Attributes.png)

1. <span data-ttu-id="d5913-130">เลือก **ตกลง** เมื่อต้องการสร้างนโยบาย</span><span class="sxs-lookup"><span data-stu-id="d5913-130">Select **OK** to create the policy.</span></span>
1. <span data-ttu-id="d5913-131">ดับเบิลคลิกที่ชื่อนโยบายใหม่ จากนั้นในบานหน้าต่างนำทางให้เลือก **คุณสมบัติ**</span><span class="sxs-lookup"><span data-stu-id="d5913-131">Double-click the new policy name, and then, in the navigation pane, select **Properties**.</span></span>
1. <span data-ttu-id="d5913-132">ตั้งค่าตัวเลือก **เปิดใช้งานโครงร่างหน้าการบังคับใช้ JavaScript (การแสดงตัวอย่าง)** เป็น **เปิด**</span><span class="sxs-lookup"><span data-stu-id="d5913-132">Set the **Enable JavaScript enforcing page layout (preview)** option to **On**.</span></span>

    ![หน้าคุณสมบัติสำหรับนโยบายใหม่](./media/B2C_SignInSignUp_EnableJavascript.png)

> [!NOTE]
> <span data-ttu-id="d5913-134">ชื่อนโยบายจะถูกอ้างอิงทั้งหมดในสภาพแวดล้อม Commerce</span><span class="sxs-lookup"><span data-stu-id="d5913-134">The policy name will be fully referenced in the Commerce environment.</span></span> <span data-ttu-id="d5913-135">(คำนำหน้า **B2C\_1\_** จะรวมอยู่ในการอ้างอิง) ไม่สามารถเปลี่ยนชื่อนโยบายหลังจากที่สร้างขึ้นแล้ว</span><span class="sxs-lookup"><span data-stu-id="d5913-135">(The **B2C\_1\_** prefix will be included in the reference.) Policies can't be renamed after they are created.</span></span> <span data-ttu-id="d5913-136">ถ้าคุณกำลังเปลี่ยนนโยบายที่มีอยู่สำหรับสภาพแวดล้อม Commerce ของคุณ คุณสามารถลบนโยบายเดิมและสร้างนโยบายใหม่ที่มีชื่อเดียวกันได้</span><span class="sxs-lookup"><span data-stu-id="d5913-136">If you're replacing an existing policy for your Commerce environment, you can delete the original policy and build a new policy that has the same name.</span></span> <span data-ttu-id="d5913-137">อีกทางหนึ่งคือถ้ามีการเตรียมใช้งานสภาพแวดล้อมแล้วคุณสามารถส่งชื่อนโยบายใหม่ผ่านการร้องขอการบริการ</span><span class="sxs-lookup"><span data-stu-id="d5913-137">Alternatively, if the environment has already been provisioned, you can submit the new policy name through a service request.</span></span>

<span data-ttu-id="d5913-138">คุณจะกลับไปที่นโยบายนี้เพื่อดำเนินการตั้งค่าให้เสร็จสมบูรณ์หลังจากที่คุณได้สร้างหน้าแบบกำหนดเองแล้ว</span><span class="sxs-lookup"><span data-stu-id="d5913-138">You will return to this policy to finish the setup after you've built the custom pages.</span></span> <span data-ttu-id="d5913-139">เมื่อต้องการทำเช่นนี้ให้ปิดนโยบายเพื่อกลับไปที่หน้า **ขั้นตอนผู้ใช้ (นโยบาย)** ในพอร์ทัล Azure</span><span class="sxs-lookup"><span data-stu-id="d5913-139">For now, close the policy to return to the **User flows (policies)** page in the Azure portal.</span></span>

### <a name="configure-the-profile-editing-policy"></a><span data-ttu-id="d5913-140">ตั้งค่าคอนฟิกนโยบาย "การแก้ไขโพรไฟล์"</span><span class="sxs-lookup"><span data-stu-id="d5913-140">Configure the "Profile editing" policy</span></span>

<span data-ttu-id="d5913-141">ในการตั้งค่าคอนฟิกนโยบาย "การแก้ไขโพรไฟล์" ให้ทำตามขั้นตอนเหล่านี้</span><span class="sxs-lookup"><span data-stu-id="d5913-141">To configure the "Profile editing" policy, follow these steps.</span></span>

1. <span data-ttu-id="d5913-142">เลือก **โฟลว์ของผู้ใช้ใหม่** เลือก **การแก้ไขโปรไฟล์** เลือกแท็บ **แนะนำ** และจากนั้นเลือก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="d5913-142">Select **New user flow**, select **Profile editing**, select the **Recommended** tab, and then select **Create**.</span></span>
1. <span data-ttu-id="d5913-143">ป้อนชื่อสำหรับนโยบาย (ตัวอย่างเช่น **B2C\_1\_EditProfile**)</span><span class="sxs-lookup"><span data-stu-id="d5913-143">Enter a name for the policy (for example, **B2C\_1\_EditProfile**).</span></span>
1. <span data-ttu-id="d5913-144">ในส่วน **ตัวให้บริการข้อมูลเฉพาะตัว** เลือกผู้ให้บริการข้อมูลเฉพาะตัวที่จะใช้สำหรับนโยบาย</span><span class="sxs-lookup"><span data-stu-id="d5913-144">In the **Identity Providers** section, select the identity providers to use for the policy.</span></span> <span data-ttu-id="d5913-145">อย่าน้อยต้องเลือก **ลงชื่อเข้าใช้บัญชีท้องถิ่น**</span><span class="sxs-lookup"><span data-stu-id="d5913-145">At a minimum, **Local Account SignIn** must be selected.</span></span>
1. <span data-ttu-id="d5913-146">ในคอลัมน์ **รวบรวมแอททริบิวต์** เลือกกล่องกาเครื่องหมายสำหรับ **ชื่อที่กำหนด** และ **นามสกุล**</span><span class="sxs-lookup"><span data-stu-id="d5913-146">In the **Collect attribute** column, select the check boxes for **Given Name** and **Surname**.</span></span>
1. <span data-ttu-id="d5913-147">ในคอลัมน์ **การอ้างสิทธิ์การส่งคืนสินค้า** ให้เลือกกล่องกาเครื่องหมายสำหรับ **ที่อยู่อีเมล** **ชื่อที่กำหนด** **ตัวให้บริการข้อมูลเฉพาะตัว** **นามสกุล** และ **รหัสออบเจ็กต์ของผู้ใช้**</span><span class="sxs-lookup"><span data-stu-id="d5913-147">In the **Return claim** column, select the check boxes for **Email Addresses**, **Given Name**, **Identity Provider**, **Surname**, and **User's Object ID**.</span></span>
1. <span data-ttu-id="d5913-148">เลือก **ตกลง** เมื่อต้องการสร้างนโยบาย</span><span class="sxs-lookup"><span data-stu-id="d5913-148">Select **OK** to create the policy.</span></span>
1. <span data-ttu-id="d5913-149">ดับเบิลคลิกที่ชื่อนโยบายใหม่ จากนั้นในบานหน้าต่างนำทางให้เลือก **คุณสมบัติ**</span><span class="sxs-lookup"><span data-stu-id="d5913-149">Double-click the new policy name, and then, in the navigation pane, select **Properties**.</span></span>
1. <span data-ttu-id="d5913-150">ตั้งค่าตัวเลือก **เปิดใช้งานโครงร่างหน้าการบังคับใช้ JavaScript (การแสดงตัวอย่าง)** เป็น **เปิด**</span><span class="sxs-lookup"><span data-stu-id="d5913-150">Set the **Enable JavaScript enforcing page layout (preview)** option to **On**.</span></span>

<span data-ttu-id="d5913-151">คุณจะกลับไปที่นโยบายนี้เพื่อดำเนินการตั้งค่าให้เสร็จสมบูรณ์หลังจากที่คุณได้สร้างหน้าแบบกำหนดเองแล้ว</span><span class="sxs-lookup"><span data-stu-id="d5913-151">You will return to this policy to finish the setup after you've built the custom pages.</span></span> <span data-ttu-id="d5913-152">เมื่อต้องการทำเช่นนี้ให้ปิดนโยบายเพื่อกลับไปที่หน้า **ขั้นตอนผู้ใช้ (นโยบาย)** ในพอร์ทัล Azure</span><span class="sxs-lookup"><span data-stu-id="d5913-152">For now, close the policy to return to the **User flows (policies)** page in the Azure portal.</span></span>

### <a name="configure-the-password-reset-policy"></a><span data-ttu-id="d5913-153">ตั้งค่าคอนฟิกนโยบาย "รีเซ็ตรหัสผ่าน"</span><span class="sxs-lookup"><span data-stu-id="d5913-153">Configure the "Password reset" policy</span></span>

<span data-ttu-id="d5913-154">ในการตั้งค่าคอนฟิกนโยบาย "รีเซ็ตรหัสผ่าน" ให้ทำตามขั้นตอนเหล่านี้</span><span class="sxs-lookup"><span data-stu-id="d5913-154">To configure the "Password reset" policy, follow these steps.</span></span>

1. <span data-ttu-id="d5913-155">เลือก **โฟลว์ใหม่ของผู้ใช้** แล้วเลือกตัวเลือก **รีเซ็ตรหัสผ่าน** และเลือกแท็บ **แนะนำ** แล้วคลิก **สร้าง**</span><span class="sxs-lookup"><span data-stu-id="d5913-155">Select **New user flow**, and then select the **Password reset** option, and choose the **Recommended** tab, and click **Create**.</span></span>
1. <span data-ttu-id="d5913-156">ป้อนชื่อสำหรับนโยบาย (ตัวอย่างเช่น **B2C\_1\_ForgetPassword**)</span><span class="sxs-lookup"><span data-stu-id="d5913-156">Enter a name for the policy (for example, **B2C\_1\_ForgetPassword**).</span></span>
1. <span data-ttu-id="d5913-157">ในส่วน **ตัวให้บริการข้อมูลเฉพาะ** เลือก **รีเซ็ตรหัสผ่านโดยใช้ที่อยู่อีเมล**</span><span class="sxs-lookup"><span data-stu-id="d5913-157">In the **Identity Providers** section, select **Reset password using email address**.</span></span>
1. <span data-ttu-id="d5913-158">ในคอลัมน์ **การอ้างสิทธิ์การส่งคืนสินค้า** ให้เลือกกล่องกาเครื่องหมายสำหรับ **ที่อยู่อีเมล** **ชื่อที่กำหนด** **นามสกุล** และ **รหัสออบเจ็กต์ของผู้ใช้**</span><span class="sxs-lookup"><span data-stu-id="d5913-158">In the **Return claim** column, select the check boxes for **Email Addresses**, **Given Name**, **Surname**, and **User's Object ID**.</span></span>
1. <span data-ttu-id="d5913-159">เลือก **ตกลง** เมื่อต้องการสร้างนโยบาย</span><span class="sxs-lookup"><span data-stu-id="d5913-159">Select **OK** to create the policy.</span></span>
1. <span data-ttu-id="d5913-160">ดับเบิลคลิกที่ชื่อนโยบายใหม่ จากนั้นในบานหน้าต่างนำทางให้เลือก **คุณสมบัติ**</span><span class="sxs-lookup"><span data-stu-id="d5913-160">Double-click the new policy name, and then, in the navigation pane, select **Properties**.</span></span>
1. <span data-ttu-id="d5913-161">ตั้งค่าตัวเลือก **เปิดใช้งานโครงร่างหน้าการบังคับใช้ JavaScript (การแสดงตัวอย่าง)** เป็น **เปิด**</span><span class="sxs-lookup"><span data-stu-id="d5913-161">Set the **Enable JavaScript enforcing page layout (preview)** option to **On**.</span></span>

<span data-ttu-id="d5913-162">คุณจะกลับไปที่นโยบายนี้เพื่อดำเนินการตั้งค่าให้เสร็จสมบูรณ์หลังจากที่คุณได้สร้างหน้าแบบกำหนดเองแล้ว</span><span class="sxs-lookup"><span data-stu-id="d5913-162">You will return to this policy to finish the setup after you've built the custom pages.</span></span> <span data-ttu-id="d5913-163">เมื่อต้องการทำเช่นนี้ให้ปิดนโยบายเพื่อกลับไปที่หน้า **ขั้นตอนผู้ใช้ (นโยบาย)** ในพอร์ทัล Azure</span><span class="sxs-lookup"><span data-stu-id="d5913-163">For now, close the policy to return to the **User flows (policies)** page in the Azure portal.</span></span>

## <a name="build-the-custom-pages"></a><span data-ttu-id="d5913-164">สร้างหน้าแบบกำหนดเอง</span><span class="sxs-lookup"><span data-stu-id="d5913-164">Build the custom pages</span></span>

<span data-ttu-id="d5913-165">โมดูล Azure AD เฉพาะจะรวมอยู่ใน Commerce เพื่อสร้างหน้าแบบกำหนดเองของนโยบายผู้ใช้ Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="d5913-165">Dedicated Azure AD modules are included in Commerce to build custom pages for Azure AD B2C user policies.</span></span> <span data-ttu-id="d5913-166">คุณสามารถสร้างหน้าโดยเฉพาะสำหรับหน้านโยบายผู้ใช้แต่ละหน้าโดยใช้โมดูล Azure AD B2C หลักดังรายละเอียดด้านล่างนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-166">Pages can be built specifically for each user policy page's layout using the main Azure AD B2C modules detailed below.</span></span> <span data-ttu-id="d5913-167">หรือโมดูล **AAD ทั่วไป** สามารถใช้กับโครงร่างหน้าและนโยบายทั้งหมดใน Azure AD B2C (แม้กับตัวเลือกโครงร่างหน้าภายในนโยบายที่ไม่ได้แสดงรายการด้านล่าง)</span><span class="sxs-lookup"><span data-stu-id="d5913-167">Alternatively, the **AAD Generic** module can be used for all page layouts and policies in Azure AD B2C (even for page layout options within policies not listed below).</span></span> 

- <span data-ttu-id="d5913-168">โมดูลเฉพาะ Azure AD หน้าผูกกับรายการอินพุทข้อมูลที่แสดงโดย Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="d5913-168">Page-specific Azure AD modules are bound to data input items rendered by Azure AD B2C.</span></span> <span data-ttu-id="d5913-169">โมดูลเหล่านี้จะให้การควบคุมเพิ่มเติมเกี่ยวกับการวางตําแหน่งองค์ประกอบในหน้าของคุณ</span><span class="sxs-lookup"><span data-stu-id="d5913-169">These modules give you more control over the positioning of the elements in your pages.</span></span> <span data-ttu-id="d5913-170">อย่างไรก็ตาม อาจต้องสร้างหน้าและส่วนขยายของโมดูลเพิ่มเติมเพื่ออธิบายความแตกต่างที่นอกเหนือจากการตั้งค่าเริ่มต้นตามที่อธิบายไว้ด้านล่าง</span><span class="sxs-lookup"><span data-stu-id="d5913-170">However, more pages and module extensions may need to be built to account for variances beyond the default settings described below.</span></span>
- <span data-ttu-id="d5913-171">โมดูล **AAD ทั่วไป** จะสร้างองค์ประกอบ "div" ของ Azure AD B2C เพื่อแสดงองค์ประกอบทั้งหมดในโครงร่างหน้านโยบายผู้ใช้ ซึ่งให้มีความยืดหยุ่นมากขึ้นกับฟังก์ชัน B2C ของหน้า แต่การควบคุมการวางตําแหน่งและการจัดวางน้อยกว่า (แม้ว่า CSS สามารถใช้เพื่อให้ตรงกับลักษณะที่แสดงของไซต์ของคุณ)</span><span class="sxs-lookup"><span data-stu-id="d5913-171">The **AAD Generic** module creates the "div" element for Azure AD B2C to render all elements in the user policy page layout, giving more flexibility to the B2C functions of the page, but less control of the positioning and styling (though CSS can be used to match the look and feel of your site).</span></span>

<span data-ttu-id="d5913-172">คุณสามารถสร้างหน้าเดียวด้วยโมดูล **AAD ทั่วไป** และใช้กับหน้านโยบายผู้ใช้ของคุณทั้งหมด หรือคุณสามารถสร้างหน้าเฉพาะโดยใช้แต่ละโมดูล Azure AD เพื่อลงชื่อเข้าใช้ ลงทะเบียน แก้ไขโพรไฟล์ รีเซ็ตรหัสผ่าน และรีเซ็ตรหัสผ่านอีกครั้ง</span><span class="sxs-lookup"><span data-stu-id="d5913-172">You can create a single page with the **AAD Generic** module and use it for all of your user policy pages, or you can build out specific pages using the individual Azure AD modules for sign-in, sign-up, profile edit, password reset, and password reset verification.</span></span> <span data-ttu-id="d5913-173">คุณยังอาจใช้ทั้งสองอย่างผสมกัน โดยใช้หน้า Azure AD เฉพาะของโครงร่างหน้าที่ระบุไว้ด้านล่าง และหน้าโมดูล AAD ทั่วไปของโครงร่างหน้าที่เหลือภายในหน้านโยบายผู้ใช้เหล่านี้หรือหน้านโยบายผู้ใช้อื่นๆ</span><span class="sxs-lookup"><span data-stu-id="d5913-173">You may also use a mix of both, using the specific Azure AD pages for the page layouts noted below, and the generic AAD module page for remaining page layouts within these or other user policies pages.</span></span>

<span data-ttu-id="d5913-174">หากต้องการเรียนรู้เพิ่มเติมเกี่ยวกับโมดูล Azure AD ที่จัดส่งมาพร้อมกับไลบรารีโมดูล ให้อ่านข้อมูลเพิ่มเติมที่ [หน้าและโมดูลการจัดการเอกลักษณ์](identity-mgmt-modules.md)</span><span class="sxs-lookup"><span data-stu-id="d5913-174">To learn more about the Azure AD Modules that ship with the module library, read more at [Identity management pages and modules](identity-mgmt-modules.md).</span></span>

<span data-ttu-id="d5913-175">เมื่อต้องการสร้างหน้าแบบกำหนดเองพร้อมเพื่อโมดูลเอกลักษณ์เฉพาะจัดการการลงชื่อเข้าใช้ของผู้ใช้ให้ ให้ทำตามขั้นตอนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-175">To build the custom pages with specific identity modules to handle user sign-ins, follow these steps.</span></span>

1. <span data-ttu-id="d5913-176">ในโปรแกรมสร้างไซต์ Commerce ไปยังไซต์ของคุณ</span><span class="sxs-lookup"><span data-stu-id="d5913-176">In Commerce site builder, go to your site.</span></span>
1. <span data-ttu-id="d5913-177">สร้างแม่แบบและหน้าห้าแบบต่อไปนี้ (ถ้ายังไม่ได้แสดงในไซต์ของคุณ)</span><span class="sxs-lookup"><span data-stu-id="d5913-177">Build the following five templates and pages (if not already present in your site):</span></span>
    - <span data-ttu-id="d5913-178">แม่แบบ **ลงชื่อเข้าใช้** และหน้าที่ใช้โมดูลลงชื่อเข้าใช้</span><span class="sxs-lookup"><span data-stu-id="d5913-178">A **Sign In** template and page that use the sign-in module.</span></span>
    - <span data-ttu-id="d5913-179">แม่แบบ **ลงทะเบียน** และหน้าที่ใช้โมดูลลงทะเบียน</span><span class="sxs-lookup"><span data-stu-id="d5913-179">A **Sign Up** template and page that use the sign-up module.</span></span>
    - <span data-ttu-id="d5913-180">เท็มเพลต **รีเซ็ตรหัสผ่าน** และหน้าที่ใช้โมดูลการรีเซ็ตรหัสผ่าน</span><span class="sxs-lookup"><span data-stu-id="d5913-180">A **Password Reset** template and page that use the password reset module.</span></span>
    - <span data-ttu-id="d5913-181">เท็มเพลต **การตรวจสอบความถูกต้องของการรีเซ็ตรหัสผ่าน** และหน้าที่ใช้โมดูลการตรวจสอบความถูกต้องของการรีเซ็ตรหัสผ่าน</span><span class="sxs-lookup"><span data-stu-id="d5913-181">A **Password Reset verification** template and page that use the password reset verification module.</span></span>
    - <span data-ttu-id="d5913-182">แม่แบบ **การแก้ไขโปรไฟล์** และหน้าที่ใช้ในโมดูลการแก้ไขโพรไฟล์บัญชี</span><span class="sxs-lookup"><span data-stu-id="d5913-182">A **Profile Edit** template and page that use the account profile edit module.</span></span>

<span data-ttu-id="d5913-183">เมื่อคุณสร้างหน้า ให้ปฏิบัติตามคำแนะนำต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-183">When you build the pages, follow these guidelines:</span></span>

- <span data-ttu-id="d5913-184">สำหรับแต่ละหน้าหรือโมดูล ให้ใช้โครงร่างและลักษณะที่ตรงกับความต้องการของธุรกิจของคุณมากที่สุด</span><span class="sxs-lookup"><span data-stu-id="d5913-184">For each page or module, use the layout and style that best suit your business requirements.</span></span>
- <span data-ttu-id="d5913-185">เผยแพร่หน้าและ Url ทั้งหมดที่ต้องใช้ในการตั้งค่า B2C Azure AD</span><span class="sxs-lookup"><span data-stu-id="d5913-185">Publish all pages and URLs that must be used in the Azure AD B2C setup.</span></span>
- <span data-ttu-id="d5913-186">หลังจากเผยแพร่หน้าและ Url แล้วให้รวบรวม Url ที่ต้องใช้สำหรับการตั้งค่าคอนฟิกนโยบาย B2C Azure AD</span><span class="sxs-lookup"><span data-stu-id="d5913-186">After the pages and URLs are published, collect the URLs that must be used for the Azure AD B2C policy configurations.</span></span> <span data-ttu-id="d5913-187">A **?preloadscripts=true** คำต่อท้ายจะถูกเพิ่มเข้าในทุก URL เมื่อมีการใช้งาน</span><span class="sxs-lookup"><span data-stu-id="d5913-187">A **?preloadscripts=true** suffix will be added to every URL when it's used.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d5913-188">หน้าที่สร้างขึ้นเพื่ออ้างอิงใน Azure AD B2C จะให้บริการโดยตรงจากโดเมนของผู้เช่า Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="d5913-188">Pages built to be referenced in Azure AD B2C are served directly from the Azure AD B2C tenant's domain.</span></span> <span data-ttu-id="d5913-189">อย่าใช้ส่วนหัวและส่วนท้ายสากลที่มีการเชื่อมโยงที่สัมพันธ์กัน</span><span class="sxs-lookup"><span data-stu-id="d5913-189">Do not reuse universal headers and footers that have relative links.</span></span> <span data-ttu-id="d5913-190">เนื่องจากหน้าเหล่านี้จะถูกโฮสต์ในโดเมน B2C Azure AD เมื่อมีการใช้งาน จะมีการใช้เฉพาะ URL สัมบูรณ์สำหรับลิงก์ทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="d5913-190">Because these pages will be hosted in the Azure AD B2C domain when they are used, only absolute URLs should be used for all links.</span></span> <span data-ttu-id="d5913-191">ขอแนะว่าควรสร้างส่วนหัวและส่วนท้ายเฉพาะโดยใช้ URL เฉพาะให้กับหน้าแบบกำหนดเองซึ่งเกี่ยวข้องกับ Azure AD พร้อมโมดูลเฉพาะ Commerce ใดๆ ซึ่งต้องการให้ลบการเชื่อมต่อกับเซิร์ฟเวอร์ Retail</span><span class="sxs-lookup"><span data-stu-id="d5913-191">It is recommended to create a specific header and footer with absolute URLs for your Azure AD-related custom pages, with any Commerce-specific modules that require connection to Retail Server removed.</span></span> <span data-ttu-id="d5913-192">ตัวอย่างเช่น ไม่ควรรวมรายการโปรด แถบการค้นหา ลิงค์การลงชื่อเข้าใช้ และโมดูลรถเข็นในหน้าใดๆ ที่จะใช้ในโฟลว์ Azure AD B2C ของผู้ใช้</span><span class="sxs-lookup"><span data-stu-id="d5913-192">For example, the favorites, search bar, sign-in link, and cart modules should not be included in any pages which will be used in Azure AD B2C user flows.</span></span>

## <a name="configure-azure-ad-b2c-policies-with-custom-page-information"></a><span data-ttu-id="d5913-193">ตั้งค่าคอนฟิกนโยบาย B2C Azure AD ด้วยข้อมูลของหน้าแบบกำหนดเอง</span><span class="sxs-lookup"><span data-stu-id="d5913-193">Configure Azure AD B2C policies with custom page information</span></span> 

<span data-ttu-id="d5913-194">ในพอร์ทัล Azure ให้กลับไปที่หน้า **B2C Azure AD** แล้วบนเมนูภายใต้ **นโยบาย** ให้เลือก **ขั้นตอนของผู้ใช้ (นโยบาย)**</span><span class="sxs-lookup"><span data-stu-id="d5913-194">In the Azure portal, return to the **Azure AD B2C** page, and then, on the menu, under **Policies**, select **User flows (policies)**.</span></span>

### <a name="update-the-sign-up-and-sign-in-policy-with-custom-page-information"></a><span data-ttu-id="d5913-195">อัพเดตราโยบาย "การลงทะเบียนและลงชื่อเข้าใช้" ด้วยข้อมูลของหน้าแบบกำหนดเอง</span><span class="sxs-lookup"><span data-stu-id="d5913-195">Update the "Sign up and sign in" policy with custom page information</span></span>

<span data-ttu-id="d5913-196">หากต้องการอัพเดตนโยบาย "การลงทะเบียนและลงชื่อเข้าใช้" ด้วยข้อมูลของหน้าแบบกำหนดเอง ให้ทำตามขั้นตอนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-196">To update the "Sign up and sign in" policy with custom page information, follow these steps.</span></span>

1. <span data-ttu-id="d5913-197">ในนโยบาย **ลงทะเบียนและลงชื่อเข้าใช้** ที่คุณตั้งค่าคอนฟิกก่อนหน้านี้ ในบานหน้าต่างนำทาง ให้เลือก **โครงร่างหน้า**</span><span class="sxs-lookup"><span data-stu-id="d5913-197">In the **Sign in and sign up** policy that you configured earlier, in the navigation pane, select **Page layouts**.</span></span>
1. <span data-ttu-id="d5913-198">เลือกโครงร่าง **หน้าการลงทะเบียนหรือลงชื่อเข้าใช้โดยรวม**</span><span class="sxs-lookup"><span data-stu-id="d5913-198">Select the **Unified sign up or sign in page** layout.</span></span>
1. <span data-ttu-id="d5913-199">ตั้งค่าตัวเลือก **ใช้เนื้อหาของหน้าแบบกำหนดเอง** เป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="d5913-199">Set the **Use custom page content** option to **Yes**.</span></span>
1. <span data-ttu-id="d5913-200">ในฟิลด์ **URI ของหน้าแบบกำหนดเอง** ให้ป้อน URL แบบเต็มในการลงชื่อเข้าใช้</span><span class="sxs-lookup"><span data-stu-id="d5913-200">In the **Custom page URI** field, enter the full sign-in URL.</span></span> <span data-ttu-id="d5913-201">รวมคำต่อท้าย **preloadscripts=true**</span><span class="sxs-lookup"><span data-stu-id="d5913-201">Include the **?preloadscripts=true** suffix.</span></span> <span data-ttu-id="d5913-202">ตัวอย่างเช่น ป้อน ``www.<my domain>.com/sign-in?preloadscripts=true``</span><span class="sxs-lookup"><span data-stu-id="d5913-202">For example, enter ``www.<my domain>.com/sign-in?preloadscripts=true``.</span></span>
1. <span data-ttu-id="d5913-203">ในฟิลด์ **รุ่นโครงร่างหน้า** ให้เลือกรุ่น **2.1.0** หรือใหม่กว่า (ต้องใช้ไลบรารีโมดูลใน Commerce รุ่น 10.0.15 หรือสูงกว่า)</span><span class="sxs-lookup"><span data-stu-id="d5913-203">In the **Page Layout Version** field, select version **2.1.0** or later (requires module library for Commerce version 10.0.15 or higher).</span></span>
1. <span data-ttu-id="d5913-204">เลือก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="d5913-204">Select **Save**.</span></span>
1. <span data-ttu-id="d5913-205">เลือกโครงร่าง **หน้าการลงทะเบียนบัญชีเฉพาะที่**</span><span class="sxs-lookup"><span data-stu-id="d5913-205">Select the **Local account sign up page** layout.</span></span>
1. <span data-ttu-id="d5913-206">ตั้งค่าตัวเลือก **ใช้เนื้อหาของหน้าแบบกำหนดเอง** เป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="d5913-206">Set the **Use custom page content** option to **Yes**.</span></span>
1. <span data-ttu-id="d5913-207">ในฟิลด์ **URI ของหน้าแบบกำหนดเอง** ให้ป้อน URL แบบเต็มในการลงทะเบียน</span><span class="sxs-lookup"><span data-stu-id="d5913-207">In the **Custom page URI** field, enter the full sign-up URL.</span></span> <span data-ttu-id="d5913-208">รวมคำต่อท้าย **preloadscripts=true**</span><span class="sxs-lookup"><span data-stu-id="d5913-208">Include the **?preloadscripts=true** suffix.</span></span> <span data-ttu-id="d5913-209">ตัวอย่างเช่น ป้อน ``www.<my domain>.com/sign-up?preloadscripts=true``</span><span class="sxs-lookup"><span data-stu-id="d5913-209">For example, enter ``www.<my domain>.com/sign-up?preloadscripts=true``.</span></span>
1. <span data-ttu-id="d5913-210">ในฟิลด์ **รุ่นโครงร่างหน้า** ให้เลือกรุ่น **2.1.0** หรือใหม่กว่า (ต้องใช้ไลบรารีโมดูลใน Commerce รุ่น 10.0.15 หรือสูงกว่า)</span><span class="sxs-lookup"><span data-stu-id="d5913-210">In the **Page Layout Version** field, select version **2.1.0** or later (requires module library for Commerce version 10.0.15 or higher).</span></span>
1. <span data-ttu-id="d5913-211">ในส่วน **แอททริบิวต์ของผู้ใช้** ให้ทำตามขั้นตอนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-211">In the **User attributes** section, follow these steps:</span></span>
    1. <span data-ttu-id="d5913-212">สำหรับแอททริบิวต์ **ชื่อที่กำหนด** และ **นามสกุล** ให้เลือก **ไม่** ในคอลัมน์ **ต้องมีการตรวจสอบความถูกต้อง**</span><span class="sxs-lookup"><span data-stu-id="d5913-212">For the **Given Name** and **Surname** attributes, select **No** in the **Requires Verification** column.</span></span>
    1. <span data-ttu-id="d5913-213">สำหรับแอททริบิวต์ **ที่อยู่อีเมล** แนะนำให้ปล่อยค่าเริ่มต้นเป็น **ใช่** ที่เลือกไว้ในคอลัมน์ **ต้องตรวจสอบความถูกต้อง**</span><span class="sxs-lookup"><span data-stu-id="d5913-213">For **Email Address** attribute, it is recommended to leave the default value **Yes** selected in the **Requires Verification** column.</span></span> <span data-ttu-id="d5913-214">ตัวเลือกนี้ช่วยให้มั่นใจว่าผู้ใช้ลงชื่อสมัครด้วยที่อยู่อีเมลที่ระบุจะตรวจสอบว่าผู้ใช้เป็นเจ้าของที่อยู่อีเมล</span><span class="sxs-lookup"><span data-stu-id="d5913-214">This option ensures that users signing up with a given email address verify that they own the email address.</span></span>
    1. <span data-ttu-id="d5913-215">สำหรับแอททริบิวต์ **ที่อยู่อีเมล** **ชื่อที่กำหนด** และ **นามสกุล** ให้เลือก **ไม่** ในคอลัมน์ **ไม่จำเป็น**</span><span class="sxs-lookup"><span data-stu-id="d5913-215">For the **Email Address**, **Given Name**, and **Surname** attributes, select **No** in the **Optional** column.</span></span>
1. <span data-ttu-id="d5913-216">เลือก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="d5913-216">Select **Save**.</span></span>

    ![การตั้งค่าคอนฟิกของนโยบายหน้าการลงทะเบียนบัญชีภายในเครื่อง](./media/B2C_SignInSignUp_Recommended_PageLayoutExample.png)

### <a name="update-the-profile-editing-policy-with-custom-page-information"></a><span data-ttu-id="d5913-218">อัพเดตนโยบาย "การแก้ไขโพรไฟล์" ด้วยข้อมูลของหน้าแบบกำหนดเอง</span><span class="sxs-lookup"><span data-stu-id="d5913-218">Update the "Profile editing" policy with custom page information</span></span>

<span data-ttu-id="d5913-219">หากต้องการอัพเดตนโยบาย "การแก้ไขโพรไฟล์" ด้วยข้อมูลของหน้าแบบกำหนดเอง ให้ทำตามขั้นตอนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-219">To update the "Profile editing" policy with custom page information, follow these steps.</span></span>

1. <span data-ttu-id="d5913-220">ในนโยบาย **การแก้ไขโพรไฟล์** ที่คุณตั้งค่าคอนฟิกก่อนหน้านี้ ในบานหน้าต่างนำทาง ให้เลือก **โครงร่างหน้า**</span><span class="sxs-lookup"><span data-stu-id="d5913-220">In the **Profile Editing** policy that you configured earlier, in the navigation pane, select **Page layouts**.</span></span>
1. <span data-ttu-id="d5913-221">เลือกโครงร่าง **หน้าแก้ไขโพรไฟล์** (อาจต้องเลื่อนตัวเลือกโครงร่างอื่นๆ ในอดีตลง ขึ้นอยู่กับหน้าจอของคุณ)</span><span class="sxs-lookup"><span data-stu-id="d5913-221">Select the **Profile edit page** layout (may require scrolling down past other layout options, depending on your screen).</span></span>
1. <span data-ttu-id="d5913-222">ตั้งค่าตัวเลือก **ใช้เนื้อหาของหน้าแบบกำหนดเอง** เป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="d5913-222">Set the **Use custom page content** option to **Yes**.</span></span>
1. <span data-ttu-id="d5913-223">ในฟิลด์ **URI ของหน้าแบบกำหนดเอง** ให้ป้อน URL แก้ไขโพรไฟล์แบบเต็ม</span><span class="sxs-lookup"><span data-stu-id="d5913-223">In the **Custom page URI** field, enter the full profile edit URL.</span></span> <span data-ttu-id="d5913-224">รวมคำต่อท้าย **preloadscripts=true**</span><span class="sxs-lookup"><span data-stu-id="d5913-224">Include the **?preloadscripts=true** suffix.</span></span> <span data-ttu-id="d5913-225">ตัวอย่างเช่น ป้อน ``www.<my domain>.com/profile-edit?preloadscripts=true``</span><span class="sxs-lookup"><span data-stu-id="d5913-225">For example, enter ``www.<my domain>.com/profile-edit?preloadscripts=true``.</span></span>
1. <span data-ttu-id="d5913-226">สำหรัย **รุ่นโครงร่างหน้า** ให้เลือกรุ่น **2.1.0** หรือสูงกว่า (ต้องใช้ไลบรารีโมดูลใน Commerce รุ่น 10.0.15 หรือสูงกว่า)</span><span class="sxs-lookup"><span data-stu-id="d5913-226">For **Page Layout Version**, select version **2.1.0** or higher (requires module library for Commerce version 10.0.15 or higher).</span></span>
1. <span data-ttu-id="d5913-227">ในส่วน **แอททริบิวต์ของผู้ใช้** ให้ทำตามขั้นตอนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-227">In the **User attributes** section, follow these steps:</span></span>
    1. <span data-ttu-id="d5913-228">สำหรับแอททริบิวต์ **ชื่อที่กำหนด** และ **นามสกุล** ให้เลือก **ไม่** ในคอลัมน์ **ไม่จำเป็น**</span><span class="sxs-lookup"><span data-stu-id="d5913-228">For the **Given Name** and **Surname** attributes, select **No** in the **Optional** column.</span></span>
    1. <span data-ttu-id="d5913-229">สำหรับแอททริบิวต์ **ชื่อที่กำหนด** และ **นามสกุล** ให้เลือก **ไม่** ในคอลัมน์ **ต้องมีการตรวจสอบความถูกต้อง**</span><span class="sxs-lookup"><span data-stu-id="d5913-229">For the **Given Name** and **Surname** attributes, select **No** in the **Requires verification** column.</span></span>
1. <span data-ttu-id="d5913-230">เลือก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="d5913-230">Select **Save**.</span></span>

### <a name="update-the-password-reset-policy-with-custom-page-information"></a><span data-ttu-id="d5913-231">อัพเดตนโยบาย "การรีเซ็ตรหัสผ่าน" ด้วยข้อมูลของหน้าแบบกำหนดเอง</span><span class="sxs-lookup"><span data-stu-id="d5913-231">Update the "Password reset" policy with custom page information</span></span>

<span data-ttu-id="d5913-232">หากต้องการอัพเดตนโยบาย "การรีเซ็ตรหัสผ่าน" ด้วยข้อมูลของหน้าแบบกำหนดเอง ให้ทำตามขั้นตอนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-232">To update the "Password reset" policy with custom page information, follow these steps.</span></span>

1. <span data-ttu-id="d5913-233">ในนโยบาย **การรีเซ็ตรหัสผ่าน** ที่คุณตั้งค่าคอนฟิกก่อนหน้านี้ ในบานหน้าต่างนำทาง ให้เลือก **โครงร่างหน้า**</span><span class="sxs-lookup"><span data-stu-id="d5913-233">In the **Password Reset** policy that you configured earlier, in the navigation pane, select **Page layouts**.</span></span>
1. <span data-ttu-id="d5913-234">เลือกโครงร่าง **หน้าลืมรหัสผ่าน**</span><span class="sxs-lookup"><span data-stu-id="d5913-234">Select the **Forgot password page** layout.</span></span>
1. <span data-ttu-id="d5913-235">ตั้งค่าตัวเลือก **ใช้เนื้อหาของหน้าแบบกำหนดเอง** เป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="d5913-235">Set the **Use custom page content** option to **Yes**.</span></span>
1. <span data-ttu-id="d5913-236">ในฟิลด์ **URI ของหน้าแบบกำหนดเอง** ให้ป้อน URL การตรวจสอบความถูกต้องของการรีเซ็ตรหัสผ่านแบบเต็ม</span><span class="sxs-lookup"><span data-stu-id="d5913-236">In the **Custom page URI** field, enter the full password reset verification URL.</span></span> <span data-ttu-id="d5913-237">รวมคำต่อท้าย **preloadscripts=true**</span><span class="sxs-lookup"><span data-stu-id="d5913-237">Include the **?preloadscripts=true** suffix.</span></span> <span data-ttu-id="d5913-238">ตัวอย่างเช่น ป้อน ``www.<my domain>.com/password-reset-verification?preloadscripts=true``</span><span class="sxs-lookup"><span data-stu-id="d5913-238">For example, enter ``www.<my domain>.com/password-reset-verification?preloadscripts=true``.</span></span>
1. <span data-ttu-id="d5913-239">ในฟิลด์ **รุ่นโครงร่างหน้า** ให้เลือกรุ่น **2.1.0** หรือสูงกว่า (ต้องใช้ไลบรารีโมดูลใน Commerce รุ่น 10.0.15 หรือสูงกว่า)</span><span class="sxs-lookup"><span data-stu-id="d5913-239">In the **Page Layout Version** field, select version **2.1.0** or higher (requires module library for Commerce version 10.0.15 or higher).</span></span>
2. <span data-ttu-id="d5913-240">เลือก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="d5913-240">Select **Save**.</span></span>
3. <span data-ttu-id="d5913-241">เลือกโครงร่าง **หน้าเปลี่ยนรหัสผ่าน**</span><span class="sxs-lookup"><span data-stu-id="d5913-241">Select the **Change password page** layout.</span></span>
4. <span data-ttu-id="d5913-242">ตั้งค่าตัวเลือก **ใช้เนื้อหาของหน้าแบบกำหนดเอง** เป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="d5913-242">Set the **Use custom page content** option to **Yes**.</span></span>
5. <span data-ttu-id="d5913-243">ในฟิลด์ **URI ของหน้าแบบกำหนดเอง** ให้ป้อน URL รีเซ็ตพาสเวิร์ดแบบเต็ม</span><span class="sxs-lookup"><span data-stu-id="d5913-243">In the **Custom page URI** field, enter the full password reset URL.</span></span> <span data-ttu-id="d5913-244">รวมคำต่อท้าย **preloadscripts=true**</span><span class="sxs-lookup"><span data-stu-id="d5913-244">Include the **?preloadscripts=true** suffix.</span></span> <span data-ttu-id="d5913-245">ตัวอย่างเช่น ป้อน ``www.<my domain>.com/password-reset?preloadscripts=true``</span><span class="sxs-lookup"><span data-stu-id="d5913-245">For example, enter ``www.<my domain>.com/password-reset?preloadscripts=true``.</span></span>
6. <span data-ttu-id="d5913-246">ในฟิลด์ **รุ่นโครงร่างหน้า** ให้เลือกรุ่น **2.1.0** หรือสูงกว่า (ต้องใช้ไลบรารีโมดูลใน Commerce รุ่น 10.0.15 หรือสูงกว่า)</span><span class="sxs-lookup"><span data-stu-id="d5913-246">In the **Page Layout Version** field, select version **2.1.0** or higher (requires module library for Commerce version 10.0.15 or higher).</span></span>
7. <span data-ttu-id="d5913-247">เลือก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="d5913-247">Select **Save**.</span></span>

## <a name="customize-default-text-strings-for-labels-and-descriptions"></a><span data-ttu-id="d5913-248">ปรับแต่งสตริงข้อความเริ่มต้นสำหรับป้ายชื่อและคำอธิบาย</span><span class="sxs-lookup"><span data-stu-id="d5913-248">Customize default text strings for labels and descriptions</span></span>

<span data-ttu-id="d5913-249">ในไลบรารีโมดูล การลงชื่อเข้าใช้ในโมดูลจะมีการกรอกข้อมูลล่วงหน้ากับสตริงข้อความเริ่มต้นสำหรับป้ายชื่อและคำอธิบาย</span><span class="sxs-lookup"><span data-stu-id="d5913-249">In the module library, sign-in modules are prefilled with default text strings for the labels and descriptions.</span></span> <span data-ttu-id="d5913-250">คุณสามารถเลือกปรับแต่งสตริงในบานหน้าต่างคุณสมบัติของโมดูลที่คุณใช้งานอยู่ได้</span><span class="sxs-lookup"><span data-stu-id="d5913-250">You can customize the strings in the properties pane of the module you are working on.</span></span> <span data-ttu-id="d5913-251">สตริงเพิ่มเติมในหน้า (เช่น ข้อความลิงค์ **ลืมรหัสผ่านหรือไม่** หรือการเรียกใช้ **การสร้างบัญชี** ไปยังข้อความการปฏิบัติการ) จะต้องใช้ชุดการพัฒนาซอฟต์แวร์ Commerce (SDK) และการอัพเดตค่าในไฟล์ global.json ของโมดูลการลงชื่อเข้าใช้</span><span class="sxs-lookup"><span data-stu-id="d5913-251">Additional strings on the page (such as the **Forgotten password?** link text or the **Create an account** call to action text) will require using the Commerce software development kit (SDK) and updating the values in the global.json file for the sign-in module.</span></span>

<span data-ttu-id="d5913-252">ตัวอย่างเช่นข้อความเริ่มต้นสำหรับลิงก์ลืมรหัสผ่าน คือ **ลืมรหัสผ่านใช่หรือไม่**</span><span class="sxs-lookup"><span data-stu-id="d5913-252">For example, the default text for the forgotten password link is **Forgotten password?**.</span></span> <span data-ttu-id="d5913-253">ต่อไปนี้เป็นการแสดงข้อความเริ่มต้นนี้บนหน้าการลงชื่อเข้าใช้</span><span class="sxs-lookup"><span data-stu-id="d5913-253">The following shows this default text on the sign-in page.</span></span>

![ข้อความเริ่มต้นสำหรับลิงก์รหัสผ่านที่ลืมบนหน้าลงชื่อเข้าใช้](./media/B2C_SignUp_ModuleFace.png)

<span data-ttu-id="d5913-255">อย่างไรก็ตาม ในไฟล์ global.json สำหรับโมดูลการลงชื่อเข้าใช้ในไลบรารีโมดูล คุณสามารถแก้ไขข้อความเป็น **ลืมรหัสผ่านใช่หรือไม่** ดังที่แสดงในภาพประกอบต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="d5913-255">However, in the global.json file for the module library sign-in module, you can edit the text to **Forgot Password?**, as shown in the following illustration.</span></span>

![ข้อความลิงก์ที่อัพเดตในการลงชื่อเข้าใช้ในโมดูลไฟล์ global.json](./media/B2C_CustomizingStringsForModule.png)

<span data-ttu-id="d5913-257">หลังจากที่คุณอัปเดตไฟล์ global.json และเผยแพร่การเปลี่ยนแปลงของคุณ ข้อความลิงก์ใหม่จะปรากฏขึ้นในโมดูลการลงชื่อเข้าใช้ ทั้งใน Commerce และบนหน้าลงชื่อเข้าใช้แบบใช้งานจริง</span><span class="sxs-lookup"><span data-stu-id="d5913-257">After you update the global.json file and publish your changes, the new link text appears in the sign-in module in both Commerce and on the live sign-in page.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="d5913-258">ทรัพยากรเพิ่มเติม</span><span class="sxs-lookup"><span data-stu-id="d5913-258">Additional resources</span></span>

[<span data-ttu-id="d5913-259">ตั้งค่าคอนฟิกชื่อโดเมนของคุณ</span><span class="sxs-lookup"><span data-stu-id="d5913-259">Configure your domain name</span></span>](configure-your-domain-name.md)

[<span data-ttu-id="d5913-260">ปรับใช้ผู้เช่าอีคอมเมิร์ซใหม่</span><span class="sxs-lookup"><span data-stu-id="d5913-260">Deploy a new e-commerce tenant</span></span>](deploy-ecommerce-site.md)

[<span data-ttu-id="d5913-261">สร้างไซต์อีคอมเมิร์ซ</span><span class="sxs-lookup"><span data-stu-id="d5913-261">Create an e-commerce site</span></span>](create-ecommerce-site.md)

[<span data-ttu-id="d5913-262">เชื่อมโยงไซต์ Dynamics 365 Commerce กับช่องทางออนไลน์</span><span class="sxs-lookup"><span data-stu-id="d5913-262">Associate a Dynamics 365 Commerce site with an online channel</span></span>](associate-site-online-store.md)

[<span data-ttu-id="d5913-263">จัดการไฟล์ robots.txt</span><span class="sxs-lookup"><span data-stu-id="d5913-263">Manage robots.txt files</span></span>](manage-robots-txt-files.md)

[<span data-ttu-id="d5913-264">อัพโหลดการเปลี่ยนเส้นทาง URL จำนวนมาก</span><span class="sxs-lookup"><span data-stu-id="d5913-264">Upload URL redirects in bulk</span></span>](upload-bulk-redirects.md)

[<span data-ttu-id="d5913-265">ตั้งค่าผู้เช่า B2C ใน Commerce</span><span class="sxs-lookup"><span data-stu-id="d5913-265">Set up a B2C tenant in Commerce</span></span>](set-up-B2C-tenant.md)

[<span data-ttu-id="d5913-266">ตั้งค่าคอนฟิกผู้เช่า B2C หลายรายในสภาพแวดล้อม Commerce</span><span class="sxs-lookup"><span data-stu-id="d5913-266">Configure multiple B2C tenants in a Commerce environment</span></span>](configure-multi-B2C-tenants.md)

[<span data-ttu-id="d5913-267">เพิ่มการสนับสนุนสำหรับเครือข่ายการจัดส่งเนื้อหา (CDN)</span><span class="sxs-lookup"><span data-stu-id="d5913-267">Add support for a content delivery network (CDN)</span></span>](add-cdn-support.md)

[<span data-ttu-id="d5913-268">เปิดใช้งานการตรวจหาร้านค้าตามตำแหน่งที่ตั้ง</span><span class="sxs-lookup"><span data-stu-id="d5913-268">Enable location-based store detection</span></span>](enable-store-detection.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]