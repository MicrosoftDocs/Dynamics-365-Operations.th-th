---
title: ปัญหาเกี่ยวกับการกระทบยอดข้อมูลของรายงาน Z
description: บทความนี้จะอธิบายปัญหาที่ผู้ใช้อาจประสบกับการกระทบยอดข้อมูลของรายงาน Z ใน Commerce headquarters และยังอธิบายสาเหตุและโซลูชันรากที่เป็นไปได้ ซึ่งสามารถช่วยป้องกันการเกิดเหตุการณ์ในอนาคตได้
author: Shajain
ms.date: 12/06/2022
ms.topic: Troubleshooting
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.openlocfilehash: 9803134c4c77233e565525e96fd82af293d4c829
ms.sourcegitcommit: 0c927fcb3afd34d870391f05b5393a4673d916e5
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/08/2022
ms.locfileid: "9832146"
---
# <a name="issues-with-the-data-reconciliation-of-a-z-report"></a>ปัญหาเกี่ยวกับการกระทบยอดข้อมูลของรายงาน Z

[!include [banner](../../includes/banner.md)]

บทความนี้จะแสดงการแก้ไขปัญหาเบื้องต้น ซึ่งสามารถช่วยหากคุณพบปัญหาเกี่ยวกับการกระทบยอดข้อมูลของรายงาน Z ใน Microsoft Dynamics 365 Commerce headquarters ซึ่งอธิบายปัญหาที่ผู้ใช้อาจประสบกับการกระทบยอดข้อมูล สาเหตุรากที่เป็นไปได้ และวิธีแก้ปัญหาที่สามารถช่วยป้องกันการเกิดเหตุการณ์ในอนาคต

## <a name="description"></a>คำอธิบาย

- ยอดเงินที่แสดงในรายงาน Z และผลรวมที่แสดงบนใบแจ้งยอดที่คํานวณได้ไม่ตรงกัน
- ธุรกรรมในศูนย์ควบคุมมีจํานวนสินค้าในรายการที่ไม่ถูกต้อง หรือมีรายการที่ไม่ตรงกันระหว่างยอดรวมรายการและยอดรวมของธุรกรรม
- จํานวนธุรกรรมที่แสดงในกะในศูนย์ควบคุมน้อยกว่าจํานวนธุรกรรมในรายงาน Z
- การลงรายการบัญชีใบแจ้งยอดล้มเหลวเนื่องจากเหตุผลก่อนหน้านี้อย่างใดอย่างหนึ่ง

### <a name="root-cause"></a>สาเหตุราก

สาเหตุรากทั่วไปส่วนใหญ่ของอาการที่อธิบายไว้ก่อนหน้านี้คือการสร้างรหัสธุรกรรมที่ซ้ำกันในฐานข้อมูลช่องทาง รหัสธุรกรรมที่ซ้ำกันสามารถสร้างขึ้นได้เนื่องจากสาเหตุต่อไปนี้:

- การจัดเก็บฐานข้อมูลเฉพาะที่ของ Modern Point of Sale (MPOS) ได้รับความเสียหาย
- MPOS มีธุรกรรมบางรายการในโหมดออฟไลน์ และเรียกใช้ใหม่โดยใช้บัญชีที่ไม่สามารถเข้าถึงฐานข้อมูลออฟไลน์ได้
- มีปัญหาเกี่ยวกับการเลือกกำหนดที่เกี่ยวข้องกับการสร้างรหัสธุรกรรม

## <a name="resolution"></a>การแก้ปัญหา

โดยปกติแล้ว Commerce จะอาศัยลำดับหมายเลขเพื่อสร้างรหัสธุรกรรมที่ต่อเนื่องกัน ถ้าระบบไม่สามารถระบุได้ว่ามีการใช้ลำดับหมายเลขด้วยเหตุผลใดๆ ระบบจะสร้างรหัสธุรกรรมที่คัดลอกมา 

เมื่อต้องการแก้ไขปัญหารหัสธุรกรรมที่คัดลอกมา ให้สร้างตั๋วสนับสนุนเพื่อตรวจสอบว่าข้อมูลธุรกรรมสามารถแก้ไขได้หรือไม่ ในบางกรณี เช่น เมื่อไม่มีการสูญเสียข้อมูลในศูนย์ควบคุม อาจไม่สามารถแก้ไขข้อมูลได้หรือไม่จำเป็น

เพื่อช่วยป้องกันปัญหานี้ในอนาคต คุณต้องเปิดใช้งานคุณลักษณะ **เปิดใช้งานรหัสธุรกรรมใหม่เพื่อหลีกเลี่ยงรหัสธุรกรรมที่ซ้ำ** ในศูนย์ควบคุม คุณลักษณะนี้ถูกนำมาใช้ใน Commerce รุ่น10.0.19 ซึ่งจะช่วยป้องกันไม่ให้มีการสร้างรหัสธุรกรรมที่ต่อเนื่องกัน โดยการตรวจสอบให้แน่ใจว่ามีการสร้างรหัสธุรกรรมเฉพาะให้กับแต่ละธุรกรรม สําหรับข้อมูลเพิ่มเติมเกี่ยวกับคุณลักษณะนี้ ให้ดูที่ [การป้องกันรหัสธุรกรรมที่ซ้ำกัน](../channel-setup-retail.md#ensure-unique-transaction-ids)
