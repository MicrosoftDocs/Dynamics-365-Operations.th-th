---
title: ข้อผิดพลาดในการลงรายการบัญชีใบแจ้งยอดเนื่องจากสินค้าคงคลังไม่มีอยู่หรือมีความขัดแย้งในการอัปเดต
description: บทความนี้แสดงวิธีการแก้ไขที่เป็นไปได้ของการตัดสินค้าจากคลังที่เกี่ยวข้องกับสินค้าคงคลังระหว่างการลงรายการบัญชีใบแจ้งยอดใน Microsoft Dynamics 365 Commerce
author: Shajain
ms.date: 12/19/2022
ms.topic: Troubleshooting
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.openlocfilehash: cebb890b42def6e9b002b01be63266b88bfc35a4
ms.sourcegitcommit: 4ad87483ba0bfea3e04fdb7e578d8abc34e607a4
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 12/20/2022
ms.locfileid: "9887637"
---
# <a name="statement-posting-errors-due-to-unavailable-inventory-or-update-conflicts"></a>ข้อผิดพลาดในการลงรายการบัญชีใบแจ้งยอดเนื่องจากสินค้าคงคลังไม่มีอยู่หรือมีความขัดแย้งในการอัปเดต

[!include [banner](../../includes/banner.md)]

บทความนี้แสดงวิธีการแก้ไขที่เป็นไปได้ของการตัดสินค้าจากคลังที่เกี่ยวข้องกับสินค้าคงคลังระหว่างการลงรายการบัญชีใบแจ้งยอดใน Microsoft Dynamics 365 Commerce

## <a name="description"></a>คำอธิบาย

ระหว่างการลงรายการบัญชีธุรกรรม Commerce คุณอาจได้รับข้อความแสดงข้อผิดพลาดที่เกี่ยวข้องกับการตัดสินค้าจากคลังของสินค้าคงคลังหรืออัปเดตความขัดแย้ง

### <a name="inventory-issues-error-message"></a>ข้อความแสดงข้อผิดพลาดเกี่ยวกับการออกใช้สินค้าคงคลัง

ถ้าคุณพบปัญหาเกี่ยวกับสินค้าคงคลัง ข้อความแสดงข้อผิดพลาดที่คุณได้รับจะคล้ายกับตัวอย่างนี้:

> xx ไม่สามารถเบิกสินค้าได้ เนื่องจากมีสินค้าที่พร้อมใช้งานจากสินค้าคงคลังอยู่เพียง yy เท่านั้น

### <a name="update-conflict-error-messages"></a>อัปเดตข้อความแสดงข้อผิดพลาดของความขัดแย้ง

การอัปเดตปัญหาความขัดแย้งจะสามารถเกิดขึ้นเมื่อวิธีการประเมินค่าสินค้าคงคลังเป็น *ต้นทุนมาตรฐาน* หรือ *ค่าเฉลี่ยเคลื่อนที่* เนื่องจากวิธีการทั้งสองนี้เป็นวิธีการคิดต้นทุนแบบซ้อน ต้นทุนขั้นสุดท้ายจะถูกกําหนดเมื่อลงรายการบัญชี

ถ้าคุณใช้วิธีการ *ค่าเฉลี่ยเคลื่อนที่* ข้อความแสดงข้อผิดพลาดความขัดแย้งในการอัปเดตที่คุณได้รับจะคล้ายคลึงกับตัวอย่างนี้

> ไม่ได้คาดหวังมูลค่าสินค้าคงคลัง xx.xx หลังจากการคํานวณค่าใช้จ่ายตามสัดส่วน

ถ้าคุณใช้วิธีการ *ต้นทุนมาตรฐาน* ข้อความแสดงข้อผิดพลาดความขัดแย้งในการอัปเดตที่คุณได้รับจะคล้ายคลึงกับตัวอย่างนี้

> ต้นทุนมาตรฐานไม่ตรงกับมูลค่าสินค้าคงคลังทางการเงินหลังการอัพเดต ค่า = xx.xx ปริมาณ = yy.yy ต้นทุนมาตรฐาน = zz.zz

## <a name="resolutions"></a>ความละเอียด

### <a name="workaround-for-the-inventory-error"></a>วิธีการแก้ไขข้อผิดพลาดของสินค้าคงคลัง

คุณสามารถลดข้อผิดพลาดของสินค้าคงคลังโดยการอัปเดตสินค้าคงคลังด้วยตนเอง หรือด้วยการเปิดใช้งานสินค้าคงคลังค่าลบทางกายภาพสำหรับกลุ่มแบบจำลองสินค้าที่เกี่ยวข้องกับสินค้านั้นๆ ใน Commerce headquarters

เพื่อให้คุณมีประสบการณ์การลงรายการบัญชีที่สอดคล้อง Microsoft แนะนำให้คุณเปิดใช้งานสินค้าคงคลังทางกายภาพค่าลบในกลุ่มแบบจำลองสินค้า ในบางสถานการณ์ ใบแจ้งยอดอาจไม่สามารถจะลงรายการบัญชีได้ ถ้าสินค้าคงคลังทางกายภาพที่เป็นค่าลบถูกเปิดใช้งาน

ตัวอย่างเช่น ไม่มีสินค้าคงคลังที่พร้อมใช้ของสินค้า แต่พนักงานเก็บเงินส่งคืนสินค้า แล้วเพิ่มสินค้านั้นกลับไปยังธุรกรรมเดิมด้วยราคาที่ลดลงเพื่อไม่ตรงกับราคา ในกรณีนี้ ทั้งธุรกรรมการส่งคืนและธุรกรรมการขายจะถูกดึงเข้าในใบแจ้งยอดเดียวกันของใบสั่งของลูกค้ารายเดียว อย่างไรก็ตาม เนื่องจากไม่มีการรับประกันว่าบรรทัดการส่งคืน (ซึ่งเพิ่มสินค้าคงคลัง) จะมีการลงรายการบัญชีก่อนการลงรายการบัญชีรายการขาย (ซึ่งลดสินค้าคงคลัง) ข้อผิดพลาดของสินค้าคงคลังอาจเกิดขึ้นได้ ถ้าสินค้าคงคลังค่าลบทางกายภาพถูกเปิดใช้งานในสถานการณ์นี้ การลงรายการบัญชีธุรกรรมจะไม่ได้รับผลกระทบในทางลบ และระบบจะสะท้อนถึงสินค้าคงคลังอย่างถูกต้อง

#### <a name="enable-negative-physical-inventory-for-an-item-model-group"></a>การเปิดใช้งานสินค้าคงคลังทางกายภาพค่าลบสำหรับกลุ่มแบบจำลองสินค้า

เมื่อต้องการเปิดใช้งานสินค้าคงคลังทางกายภาพค่าลบสำหรับกลุ่มแบบจำลองสินค้าใน Commerce headquarters ให้ทำตามขั้นตอนเหล่านี้

1. ไปที่ **การบริหารสินค้าคงคลัง \> การตั้งค่า \> สินค้าคงคลัง**
1. ในหน้าต่างการนำทางทางด้านซ้าย เลือกกลุ่มแบบจำลองสินค้า
1. ในส่วน **นโยบายสินค้าคงคลัง** ภายใต้ **สินค้าคงคลังค่าลบ**  ให้เลือกกล่องกาเครื่องหมาย **สินค้าคงคลังค่าลบทางกายภาพ**

![สินค้าคงคลังค่าลบทางกายภาพถูกเปิดใช้งานแล้ว](./media/Physical_Negative_Inventory.png)

### <a name="workaround-for-the-update-conflict-error"></a>วิธีการแก้ไขข้อผิดพลาดเกี่ยวกับความขัดแย้งของการอัปเดต

เพื่อให้วิธีการแก้ไขที่เป็นไปได้แก้ไขข้อผิดพลาดของความขัดแย้งในการอัปเดต โปรดดู [ความขัดแย้งของการอัปเดตจะเกิดขึ้นเมื่อวิธีการประเมินค่าสินค้าคงคลังเป็นต้นทุนมาตรฐานหรือค่าเฉลี่ยเคลื่อนที่](/troubleshoot/dynamics-365/supply-chain/costing/update-conflict-standard-cost-moving-average-inventory-valuation)

> [!NOTE]
> เนื่องจากข้อผิดพลาดของความขัดแย้งในการอัปเดต คุณไม่มีสิทธิ์ลบใบสั่งของลูกค้าที่สร้างขึ้นโดยใช้ขั้นตอนการรวมการลงรายการบัญชี หลังจากที่คุณใช้วิธีแก้ไขที่แนะนำแล้ว ควรลงรายการบัญชีรายงานถ้าคุณลงรายการบัญชีใบแจ้งยอดอีกครั้ง
