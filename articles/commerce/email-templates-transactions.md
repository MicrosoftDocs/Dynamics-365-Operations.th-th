---
title: สร้างเทมเพลตอีเมลสำหรับเหตุการณ์ของธุรกรรม
description: หัวข้อนี้จะอธิบายวิธีการสร้าง อัปโหลด และกำหนดค่าเทมเพลตอีเมลสำหรับเหตุการณ์ทางธุรกรรมใน Microsoft Dynamics 365 Commerce
author: bicyclingfool
ms.date: 12/10/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: stuharg
ms.search.validFrom: 2020-01-20
ms.dyn365.ops.version: Release 10.0.8
ms.openlocfilehash: 08e247bac577dc0bb8a4635d61f0082793380da9
ms.sourcegitcommit: 602a319f4720b39a56b7660b530236912d484391
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 05/06/2022
ms.locfileid: "8722530"
---
# <a name="create-email-templates-for-transactional-events"></a>สร้างเทมเพลตอีเมลสำหรับเหตุการณ์ของธุรกรรม

[!include [banner](includes/banner.md)]


หัวข้อนี้จะอธิบายวิธีการสร้าง อัปโหลด และกำหนดค่าเทมเพลตอีเมลสำหรับเหตุการณ์ทางธุรกรรมใน Microsoft Dynamics 365 Commerce

Dynamics 365 Commerce ให้โซลูชันแบบสำเร็จรูป เพื่อส่งอีเมลซึ่งแจ้งเตือนลูกค้าเกี่ยวกับเหตุการณ์ธุรกรรม ตัวอย่างเช่น อีเมลสามารถส่งเมื่อวางใบสั่งซื้อ เมื่อพร้อมรับการเบิกสินค้า หรือถูกจัดส่งแล้ว หัวข้อนี้จะอธิบายขั้นตอนสำหรับการสร้าง อัปโหลด และกำหนดค่าเทมเพลตอีเมลที่ใช้ในการส่งอีเมลของธุรกรรม

## <a name="notification-types"></a>ชนิดการแจ้งเตือน

สามารถตั้งค่าคอนฟิกการแจ้งเตือนเพื่อแจ้งให้ลูกค้าทราบผ่านทางอีเมลเมื่อเหตุการณ์เฉพาะเกิดขึ้น เป็นส่วนหนึ่งของใบสั่งซื้อและรอบเวลาของลูกค้า เมื่อต้องการตั้งค่าคอนฟิกการแจ้งเตือน คุณต้องแม็ปเทมเพลตอีเมลกับชนิดการแจ้งเตือนโดยสร้างโพรไฟล์การแจ้งเตือนทางอีเมลของ Commerce สำหรับข้อมูลเกี่ยวกับวิธีการตั้งค่าโพรไฟล์การแจ้งเตือนทางอีเมล ดูที่ [ตั้งค่าโพรไฟล์การแจ้งเตือนทางอีเมล](email-notification-profiles.md)

Dynamics 365 Commerce สนับสนุนชนิดการแจ้งเตือนต่อไปนี้

### <a name="order-created"></a>สร้างใบสั่งแล้ว

ชนิดการแจ้งเตือน *ใบสั่งซื้อที่สร้าง* จะถูกทริกเกอร์เมื่อมีการสร้างใบสั่งขายใหม่ในศูนย์การจัดการ Commerce

> [!NOTE]
> ชนิดการแจ้งเตือนที่สร้างขึ้นของใบสั่งจะไม่ทริกเกอร์ธุรกรรมเงินสดและการขนส่งที่เกิดขึ้นในเทอร์มินัลการขายหน้าร้าน (POS) ในกรณีนี้ ใบเสร็จที่ส่งอีเมลและ/หรือที่พิมพ์ จะถูกสร้างขึ้นแทน สำหรับข้อมูลเพิ่มเติม โปรดดูที่ [ส่งใบเสร็จทางอีเมลจาก Modern POS (MPOS)](email-receipts.md)

### <a name="order-confirmed"></a>ยืนยันใบสั่งแล้ว

ชนิดการแจ้งเตือน *ใบสั่งซื้อที่ยืนยัน* จะถูกทริกเกอร์เมื่อมีการสร้างเอกสารการยืนยันใบสั่งซื้อสำหรับในสั่งขายจากศูนย์การจัดการ Commerce

### <a name="picking-completed"></a>การบรรจุเสร็จสมบูรณ์

ชนิดการแจ้งเตือน *การเบิกสินค้าที่เสร็จสมบูรณ์* จะถูกทริกเกอร์เมื่อรายการเบิกสินค้าของใบสั่งซื้อถูกทำเครื่องหมายเป็นเสร็จสมบูรณ์ในศูนย์การัจัดการ Commerce

> [!NOTE]
> ชนิดการแจ้งเตือนการเบิกสินค้าที่เสร็จสมบูรณ์จะไม่ทริกเกอร์เมื่อมีการทำเครื่องหมายสินค้าเป็นเบิกสินค้าที่เทอร์มินัล POS

### <a name="packing-completed"></a>การบรรจุเสร็จสมบูรณ์

ชนิดการแจ้งเตือน *การจัดส่งที่เสร็จสมบูรณ์* จะถูกทริกเกอร์เมื่อเอกสารบันทึกการจัดส่งถูกสร้างขึ้นสำหรับใบสั่งซื้อในศูนย์การัจัดการ Commerce ที่เทอร์มินัล POS

ชนิดการแจ้งเตือนการจัดส่งที่เสร็จสมบูรณ์ สนับสนุนตัวยึดอีเมลเพิ่มเติมต่อไปนี้ เพื่อช่วย "ใบสั่งซื้อที่พร้อมรับสินค้า" และฟังก์ชันการค้นหาใบสั่งซื้อจากอีเมลธุรกรรม

| ชื่อของตัวยึด    | วัตถุประสงค์ |
| ------------------- | ------- |
| `pickupstorename`     | ชื่อของร้านค้าที่ใบสั่งซื้อจะพร้อมใช้งานในการเบิกสินค้า |
| `pickupstoreaddress`  | ที่อยู่ของร้านค้าที่ใบสั่งซื้อจะพร้อมใช้งานในการเบิกสินค้า |
| `pickupstoreopenfrom` | เวลาเปิดทำการของร้านค้าที่จะรับสินค้า |
| `pickupstoreopento` | เวลาปิดทำการของร้านค้าที่จะรับสินค้า |
| `pickupchannelid`     | รหัสช่องทางร้านค้าของร้านค้าที่จะรับสินค้า |
| `packingslipid`      | รหัสของบันทึกการจัดส่งของใบสั่งซื้อที่จะเบิกสินค้า |
| `confirmationid`      | รหัสการยืนยันคำสั่งซื้องของใบสั่งซื้อที่จะเบิกสินค้า (ในบางครั้ง รหัสนี้จะเรียกว่ารหัสการอ้างอิงช่องทาง) |

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับคุณลักษณะการเช็คอินและค้นหาใบสั่งของลูกค้า โปรดดูที่ [ตั้งค่าการตรวจหาภูมิศาสตร์และเปลี่ยนเส้นทาง](geo-detection-redirection.md) และ [เปิดใช้งานการค้นหาใบสั่งเพื่อการชำระเงินของผู้เยี่ยมชม](order-lookup-guest.md)

### <a name="order-ready-for-pickup"></a>ใบสั่งที่พร้อมสำหรับการรับสินค้า

ชนิดการแจ้งเตือน *ใบสั่งที่พร้อมรับการเบิกสินค้า* จะถูกทริกเกอร์เมื่อใบสั่งถูกทำเครื่องหมายเป็นบรรจุแล้ว และมีการตั้งค่าวิธีการจัดส่งเป็น **การเบิกสินค้าของลูกค้า** ในรายการใบสั่งหนึ่งรายการหรือมากกว่า

> [!NOTE]
> ชนิดการแจ้งเตือนใบสั่งที่พร้อมสำหรับการเบิกสินค้าเลิกใช้ชนิดการแจ้งเตือนที่การบรรจุเสร็จสมบูรณ์ ชนิดการแจ้งเตือนนี้การปรับแต่งตามวิธีการจัดส่ง

### <a name="order-shipped"></a>จัดส่งใบสั่งแล้ว

ชนิดการแจ้งเตือน *ใบสั่งที่จัดส่ง* จะถูกทริกเกอร์เมื่อมีการออกใบแจ้งหนี้ใบสั่งที่มีวิธีการเบิกสินค้าที่ไม่มีร้านค้า

> [!NOTE]
> ชนิดการแจ้งเตือนใบสั่งที่จัดส่ง เลิกใช้ชนิดการแจ้งเตือนใบสั่งที่ออกใบแจ้งหนี้ ชนิดการแจ้งเตือนนี้การปรับแต่งตามวิธีการจัดส่ง

### <a name="order-invoiced"></a>ใบสั่งที่ออกใบแจ้งหนี้

ชนิดการแจ้งเตือน *ใบสั่งซื้อที่ออกใบแจ้งหนี้* จะถูกทริกเกอร์เมื่อมีการออกใบแจ้งหนี้ของใบสั่งใน POS หรือศูนย์การจัดการ Commerce

### <a name="issue-gift-card"></a>ออกบัตรของขวัญ

ชนิดการแจ้งเตือน *บัตรของขวัญที่ออก* จะถูกทริกเกอร์เมื่อมีการออกใบแจ้งหนี้ใบสั่งขายที่มีผลิตภัณฑ์ที่มีชนิดบัตรของขวัญ

> [!NOTE]
> ส่งอีเมลการแจ้งเตือนบัตรของขวัญที่ออกไปยังผู้รับบัตรของขวัญ ผู้รับบัตรของขวัญจะระบุในศูนย์การจัดการ Commerce ในบรรทัดใบสั่งขายแต่ละรายการ บนแท็บ **การบรรจุ** ภายใต้ **รายละเอียดรายการ** โดยสามารถระบุด้วยตนเองหรือทางโปรแกรม

ชนิดการแจ้งเตือนบัตรของขวัญที่ออกใช้ สนับสนุนตัวยึดเพิ่มเติมต่อไปนี้

| ชื่อของตัวยึด      | วัตถุประสงค์ |
| --------------------- | ------- |
| `giftcardnumber`        | หมายเลขบัตรของขวัญสำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ |
| `availablebalance` | ยอดเงินคงเหลือในบัตรของขวัญ |
| `giftcardmessage`       | ข้อความของบัตรของขวัญสำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ |
| `giftcardpin`         | หมายเลขรหัสประจำตัวของบัตรของขวัญ สำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ (ตัวยึดตำแหน่งนี้จะใช้กับบัตรของขวัญภายนอกโดยเฉพาะ) |
| `giftcardexpiration`    | วันหมดอายุของบัตรของขวัญ สำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ (ตัวยึดตำแหน่งนี้จะใช้กับบัตรของขวัญภายนอกโดยเฉพาะ) |
| `giftcardrecipientname` | ชื่อของผู้รับบัตรของขวัญ สำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ |
| `giftcardbuyername`     | ชื่อของผู้ซื้อบัตรของขวัญ สำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ |

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับบัตรของขวัญ โปรดดูที่ [บัตรของขวัญดิจิทัล E-commerce](digital-gift-cards.md) และ [การสนับสนุนบัตรของขวัญภายนอก](dev-itpro/gift-card.md)

### <a name="order-cancellation"></a>การยกเลิกใบสั่ง

ชนิดการแจ้งเตือน *การยกเลิกใบสั่งซื้อ* จะถูกทริกเกอร์เมื่อใบสั่งซื้อถูกยกเลิกในศูนย์การจัดการ Commerce

### <a name="customer-created"></a>ลูกค้าถูกสร้าง

ชนิดการแจ้งเตือน *ลูกค้าที่สร้าง* จะถูกทริกเกอร์เมื่อมีการสร้างเอนทิตีลูกค้าใหม่ในศูนย์การจัดการ Commerce

### <a name="b2b-prospect-approved"></a>ผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ที่อนุมัติ

ชนิดการแจ้งเตือน *ผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ที่ได้รับอนุมัติ* จะถูกทริกเกอร์เมื่อการร้องขอการเริ่มใช้สิทธิ์ของผู้ที่มีแนวโน้มจะเป็นลูกค้าได้รับการอนุมัติในศูนย์การจัดการ Commerce สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการอนุมัติหรือปฏิเสธผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B โปรดดูที่ [ตั้งค่าผู้ใช้ระดับผู้ดูแลระบบให้กับคู่ค้าธุรกิจใหม่](b2b/manage-b2b-users.md#set-up-the-administrator-user-for-a-new-business-partner) 

ชนิดการแจ้งเตือนผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ที่ได้รับอนุมัติ สนับสนุนตัวยึดเพิ่มเติมต่อไปนี้

| ชื่อของตัวยึด | วัตถุประสงค์                                                      |
| ---------------- | ------------------------------------------------------------ |
| `firstname`       | ชื่อของผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ตามที่ป้อนในใบสมัคร |
| `lastname`         | นามสกุลของผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ตามที่ป้อนในใบสมัคร |
| `company`          | ชื่อบริษัทของผู้สมัคร ตามที่ป้อนในใบสมัคร |
| `email`            | ที่อยู่อีเมลของผู้ที่มีแนวโน้มจะเป็นลูกค้า ตามที่ป้อนในใบสมัคร   |
| `zipcode`          | รหัสไปรษณีย์ของที่อยู่หลักของผู้ที่มีแนวโน้มจะเป็นลูกค้า |
| `comments`         | ข้อคิดเห็นที่ผู้ที่มีแนวโน้มจะเป็นลูกค้า ที่ป้อนในใบสมัคร |
| `storename`        | ชื่อของช่องทางที่ผู้ที่มีแนวโน้มจะเป็นลูกค้าสร้างขึ้น |
| `storeurl`         | ว่างเปล่าตามค่าเริ่มต้น ต้องสร้างส่วนขยายแบบกำหนดเอง เพื่อใช้ตัวยึดนี้ |

### <a name="b2b-prospect-rejected"></a>ผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ที่ปฏิเสธ

ชนิดการแจ้งเตือน *ผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ที่ถูกปฏิเสธ* จะถูกทริกเกอร์เมื่อการร้องขอการเริ่มใช้สิทธิ์ของผู้ที่มีแนวโน้มจะเป็นลูกค้าถูกปฏิเสธ ในศูนย์การจัดการ Commerce สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการอนุมัติหรือปฏิเสธผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B โปรดดูที่ [ตั้งค่าผู้ใช้ระดับผู้ดูแลระบบให้กับคู่ค้าธุรกิจใหม่](b2b/manage-b2b-users.md#set-up-the-administrator-user-for-a-new-business-partner) 

ชนิดการแจ้งเตือนผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ที่ถูกปฏิเสธ สนับสนุนตัวยึดเพิ่มเติมต่อไปนี้

| ชื่อของตัวยึด | วัตถุประสงค์                                                      |
| ---------------- | ------------------------------------------------------------ |
| `firstname`        | ชื่อของผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ตามที่ป้อนในใบสมัคร |
| `lastname`         | นามสกุลของผู้ที่มีแนวโน้มจะเป็นลูกค้า B2B ตามที่ป้อนในใบสมัคร |
| `company`          | ชื่อบริษัทของผู้สมัคร ตามที่ป้อนในใบสมัคร |

## <a name="create-an-email-template"></a>สร้างเทมเพลตอีเมล

ก่อนที่คุณจะสามารถแม็ปเหตุการณ์ของธุรกรรมเฉพาะกับเทมเพลตอีเมลได้ คุณต้องสร้างเทมเพลต

ทำตามขั้นตอนเหล่านี้เพื่อสร้างแม่แบบอีเมล

1. ใน Commerce Headquarters ไปยัง **Retail และ Commerce \> การตั้งค่าศูนย์ควบคุม \> เทมเพลตอีเมลขององค์กร** หรือ **การจัดการองค์กร \> การตั้งค่า \> เทมเพลตอีเมลขององค์กร**
1. เลือก **ใหม่**
1. ภายใต้ **ทั่วไป** ให้ตั้งค่าฟิลด์ต่อไปนี้

    - **รหัสอีเมล** – รหัสอีเมลเป็นตัวระบุเฉพาะของเทมเพลต เป็นค่าที่แสดงเมื่อคุณเลือกเทมเพลตเพื่อแม็ปกับเหตุการณ์
    - **คำอธิบายอีเมล์** – คุณสามารถใช้ฟิลด์ทางเลือกนี้เพื่อระบุคำอธิบายของเทมเพลต ค่าที่คุณป้อนจะปรากฏเฉพาะใน Commerce Headquarters เท่านั้น
    - **ชื่อผู้ส่ง** – ชื่อที่คุณป้อนจะปรากฏในฟิลด์ "เริ่มต้น" ของไคลเอนต์อีเมลที่มากที่สุด
    - **อีเมลของผู้ส่ง** – ป้อนที่อยู่อีเมลที่ควรใช้สำหรับอีเมลที่ส่งโดยใช้เทมเพลตนี้
    - **รหัสภาษาเริ่มต้น** – ฟิลด์นี้จะระบุเวอร์ชันที่แปลเป็นภาษาท้องถิ่นของอีเมลที่ส่งโดยค่าเริ่มต้น ถ้าช่องทางที่เรียกใช้เทมเพลตนี้ไม่ได้ระบุภาษาเฉพาะ

1. ใต้ **เนื้อหาข้อความอีเมล** ให้เลือก **ใหม่**
1. ในฟิลด์ **ภาษา** ให้ป้อนภาษาสำหรับเทมเพลตอีเมล คุณสามารถเพิ่มภาษาและเทมเพลตที่มีการแปลได้ในภายหลัง
1. ใน **ฟิลด์ชื่อเรื่อง** ให้ป้อนชื่อเรื่องของอีเมลที่ควรปรากฏในฟิลด์ชื่อเรื่องของอีเมล
1. เลือก **แก้ไข** เพื่ออัปโหลดเทมเพลตอีเมลของคุณ

## <a name="create-an-email-message-body-by-using-html"></a>สร้างเนื้อหาของข้อความอีเมลโดยใช้ HTML

เนื้อหาของข้อความของอีเมลของคุณจะประกอบด้วย HTML คุณสามารถใช้โครงร่าง การกำหนดลักษณะ และการสร้างแบรนด์ที่มี Cascading Style Sheet แบบ HTML (CSS) และแบบอินไลน์ให้ นอกจากนี้คุณยังสามารถใช้รูปภาพได้เช่นกัน ถ้าคุณโฮสต์ไว้บนปลายทางเว็บที่พร้อมใช้งานโดยสาธารณะ เมื่อต้องการเพิ่มรูปภาพ ให้ป้อน URL ของรูปภาพในแอททริบิวต์ **src** ของแท็ก HTML **&lt;img&gt;**

> [!NOTE]
> ไคลเอนต์อีเมลที่กำหนดโครงร่างและข้อจำกัดการกำหนดลักษณะซึ่งอาจจำเป็นต้องมีการปรับปรุง HTML และ CSS ที่คุณใช้สำหรับเนื้อหาของข้อความ เราขอแนะนำให้คุณทำความคุ้นเคยกับแนวทางปฏิบัติที่ดีที่สุดสำหรับการสร้าง HTML ซึ่งไคลเอนต์อีเมลที่ได้รับความนิยมมากที่สุดจะได้รับการสนับสนุน

## <a name="add-placeholders-to-the-email-message-body"></a>เพิ่มตัวยึดลงในเนื้อหาของข้อความอีเมล

อีเมลของคุณสามารถมีตัวยึดที่จะถูกแทนที่ด้วยค่าเฉพาะของลูกค้าและค่าเฉพาะทางธุรกรรมเมื่อมีการสร้างอีเมล ตัวยึดล้อมรอบด้วยสัญลักษณ์เปอร์เซ็นต์ (%) เสมอและถูกแทรกลงในเอกสาร HTML โดยตรง

นี่คือตัวอย่าง

```html
<p>
    Hello %customername%,<br />
    Order number %salesid%, can be picked up from the <b>%pickupstorename%</b> store.
</p>
```

### <a name="order-placeholders-sales-order-level"></a>ตัวยึดใบสั่ง (ระดับใบสั่งขาย)

ตัวยึดต่อไปนี้จะดึงข้อมูลและแสดงข้อมูลที่กำหนดที่ระดับใบสั่งขาย (เมื่อเทียบกับระดับของบรรทัดการขาย)

| ชื่อของตัวยึด     | วัตถุประสงค์                                                      |
| -------------------- | ------------------------------------------------------------ |
| `customername`         | ชื่อของลูกค้าที่วางใบสั่ง               |
| `customeraddress`      | ที่อยู่ลูกค้า                                 |
| `customeremailaddress` | ที่อยู่ที่ลูกค้าป้อนเมื่อชำระเงิน     |
| `salesid`              | รหัสการขายของใบสั่ง                                   |
| `orderconfirmationid`  | รหัสข้ามช่องทางที่ถูกสร้างขึ้นเมื่อสร้างใบสั่ง   |
| `channelid`            | รหัสของช่องทางการขายปลีกหรือออนไลน์ที่มีการสั่งซื้อผ่าน |
| `deliveryname`         | ชื่อที่ระบุสำหรับที่อยู่ที่จัดส่ง         |
| `deliveryaddress`      | ที่อยู่ที่จัดส่งสำหรับใบสั่งที่จัดส่ง                     |
| `deliverydate`         | วันที่จัดส่งสินค้า                                           |
| `shipdate`             | วันที่จัดส่ง                                               |
| `modeofdelivery`       | วิธีการจัดส่งของใบสั่ง                              |
| `ordernetamount`       | ยอดเงินรวมสำหรับใบสั่ง ลบด้วยภาษีรวม         |
| `discount`            | ส่วนลดรวมสำหรับใบสั่ง                            |
| `charges`              | ค่าธรรมเนียมรวมสำหรับใบสั่ง                             |
| `tax`                  | ภาษีรวมสำหรับใบสั่ง                                 |
| `total`                | ยอดเงินรวมสำหรับใบสั่ง                              |
| `storename`            | ชื่อของร้านค้าที่มีการวางใบสั่ง            |
| `storeaddress`         | ที่อยู่ของร้านค้าที่วางใบสั่ง              |
| `storeopenfrom`        | เวลาเปิดของร้านค้าที่วางใบสั่ง         |
| `storeopento`          | เวลาปิดของร้านค้าที่วางใบสั่ง         |
| `pickupstorename`      | ชื่อของร้านค้าที่จะมีการจัดส่งใบสั่ง\*   |
| `pickupstoreaddress`   | ที่อยู่ของร้านค้าที่จะมีการจัดส่งใบสั่ง\* |
| `pickupopenstorefrom`  | เวลาเปิดของร้านค้าที่จะมีการจัดส่งใบสั่ง\* |
| `pickupopenstoreto`    | เวลาปิดของร้านค้าที่จะมีการจัดส่งใบสั่ง\* |
| `pickupchannelid`     | รหัสช่องทางของร้านค้าที่ระบุสำหรับโหมดการเบิกสินค้าของการจัดส่ง\* |
| `packingslipid`        | รหัสของบันทึกการจัดส่งที่ถูกสร้างขึ้น เมื่อมีการบรรจุรายการในใบสั่ง\* |

\* ตัวยึดตำแหน่งเหล่านี้จะส่งคืนข้อมูลเฉพาะเมื่อมีการใช้สำหรับชนิดการแจ้งเตือน **ใบสั่งที่พร้อมสำหรับจัดส่ง** 

### <a name="order-line-placeholders-sales-line-level"></a>ตัวยึดบรรทัดใบสั่ง (ระดับบรรทัดการขาย)

ตัวยึดตำแหน่งต่อไปนี้จะดึงข้อมูลและแสดงข้อมูลสำหรับผลิตภัณฑ์แต่ละรายการ (บรรทัด) ในใบสั่งขาย

| ชื่อของตัวยึด               | วัตถุประสงค์ |
|--------------------------------|-------------------|
| `productid`                      | <p>รหัสของผลิตภัณฑ์ รหัสนี้อธิบายตัวแปร</p><p><strong>หมายเหตุ:</strong> ตัวยึดนี้ถูกเลิกใช้ตาม `lineproductrecid`</p> |
| `lineproductrecid`               | รหัสของผลิตภัณฑ์ รหัสนี้อธิบายตัวแปร นี่จะระบุสินค้าในระดับตัวแปรโดยไม่ซ้ำกัน |
| `lineitemid`                     | รหัสระดับผลิตภัณฑ์ของผลิตภัณฑ์ (รหัสนี้ไม่อธิบายตัวแปร) |
| `lineproductvariantid`           | รหัสของผลิตภัณฑ์ย่อย |
| `lineproductname`                | ชื่อของผลิตภัณฑ์ |
| `lineproductdescription`         | คำอธิบายเกี่ยวกับผลิตภัณฑ์ |
| `linequantity`                   | จำนวนของหน่วยที่สั่งสำหรับบรรทัด รวมถึงหน่วยวัด (ตัวอย่างเช่น **ชิ้น** หรือ **คู่**) |
| `lineunit`                       | หน่วยวัดสำหรับบรรทัด |
| `linequantity_withoutunit`       | จำนวนของหน่วยที่สั่งสำหรับบรรทัด โดยไม่มีหน่วยวัด |
| `linequantitypicked`             | เมื่อมีการใช้เหตุการณ์ **PickOrder** จำนวนหน่วยจะถูกจัดส่ง มิฉะนั้นจะเป็น **0** (ศูนย์) |
| `linequantitypicked_withoutunit` | เมื่อมีการใช้ **เหตุการณ์** จำนวนหน่วยที่จัดส่ง โดยไม่มีหน่วยวัด มิฉะนั้นจะเป็น **0** (ศูนย์) |
| `linequantitypacked`             | เมื่อมีการใช้เหตุการณ์ **PackOrder** และ **ใบสั่งที่พร้อมสำหรับจัดส่ง** จำนวนหน่วยที่บรรจุ มิฉะนั้นจะเป็น **0** (ศูนย์) |
| `linequantitypacked_withoutuom`  | เมื่อมีการใช้เหตุการณ์ **PackOrder** และ **ใบสั่งที่พร้อมสำหรับจัดส่ง** จำนวนหน่วยที่บรรจุ โดยไม่มีหน่วยวัด มิฉะนั้นจะเป็น **0** (ศูนย์) |
| `linequantityshipped`            | **0** เสมอ ยกเว้นเมื่อมีการใช้เหตุการณ์เฉพาะดังที่อธิบายไว้ในแถวถัดไป |
| `linequantityshipped_withoutuom` | เมื่อมีการใช้เหตุการณ์ **ShipOrder** จำนวนหน่วยที่จัดส่ง โดยไม่มีหน่วยวัด มิฉะนั้นจะเป็น **0** (ศูนย์) |
| `lineprice`                      | ราคาของการขายต่อหน่วย |
| `linenetamount`                  | ราคาของรายการหลังจากที่มีการใช้จำนวนหน่วยและส่วนลด |
| `linediscount`                   | ส่วนลดสำหรับแต่ละหน่วย |
| `lineshipdate`                   | วันที่จัดส่งสำหรับบรรทัด |
| `linedeliverydate`               | วันที่จัดส่งสำหรับบรรทัด |
| `linedeliverymode`               | วิธีการจัดส่งสำหรับบรรทัด |
| `linedeliveryaddress`            | ที่อยู่ที่จัดส่งสำหรับบรรทัด |
| `linepickupdate`                 | วันที่เบิกสินค้าที่ลูกค้าระบุไว้ สำหรับใบสั่งที่ใช้โหมดการเบิกสินค้าของการจัดส่ง |
| `linepickuptimeslot`             | ช่วงเวลาเบิกสินค้าที่ลูกค้าระบุไว้ สำหรับใบสั่งที่ใช้โหมดการเบิกสินค้าของการจัดส่ง |
| `giftcardnumber`                 | หมายเลขบัตรของขวัญสำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ |
| `giftcardbalance`                | งบของบัตรของขวัญสำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ |
| `giftcardmessage`                | ข้อความของบัตรของขวัญสำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ |
| `giftcardpin`                    | PIN ของบัตรของขวัญ สำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ (ตัวยึดตำแหน่งนี้จะใช้กับบัตรของขวัญภายนอกโดยเฉพาะ) |
| `giftcardexpiration`             | วันหมดอายุของบัตรของขวัญ สำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ (ตัวยึดตำแหน่งนี้จะใช้กับบัตรของขวัญภายนอกโดยเฉพาะ) |
| `giftcardrecipientname`          | ชื่อของผู้รับบัตรของขวัญ สำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ |
| `giftcardbuyername`              | ชื่อของผู้ซื้อบัตรของขวัญ สำหรับผลิตภัณฑ์ของชนิดบัตรของขวัญ |

### <a name="format-of-order-line-placeholders-in-the-email-message-body"></a>รูปแบบของตัวยึดบรรทัดใบสั่งในเนื้อหาของข้อความอีเมล

เมื่อคุณสร้าง HTML สำหรับบรรทัดใบสั่งแต่ละบรรทัดในเนื้อหาของข้อความอีเมล ให้ใช้บล็อกที่ซ้ำกันของ HTML และตัวยึดสำหรับบรรทัดที่มีตัวยึดต่อไปนี้ โปรดสังเกตว่าตัวยึดจะอยู่ภายในป้ายข้อคิดเห็น HTML

```html
<!--%tablebegin.salesline%-->

(Insert the repeating block of HTML and placeholders for individual lines here.)

<!--%tableend.salesline%-->
```

นี่คือตัวอย่าง

```HTML
<table>
    <tr>
        <td>Product name</td>
        <td>Quantity</td>
        <td>Price</td>
    </tr>
    <!--%tablebegin.salesline%-->
    <tr>
        <td>%lineproductname%</td>
        <td>%linequantity_withoutunit%</td>
        <td>%lineprice%</td>
    </tr>
    <!--%tableend.salesline%-->
</table>
```

## <a name="create-a-template-for-emailed-receipts"></a>สร้างเทมเพลตสำหรับใบเสร็จรับเงินที่ส่งทางอีเมล

ใบเสร็จรับเงินสามารถส่งอีเมลถึงลูกค้าที่ทำการซื้อสินค้าที่การขายหน้าร้าน (POS) โดยทั่วไปขั้นตอนสำหรับการสร้างเทมเพลตใบเสร็จรับเงินที่ส่งทางอีเมลนั้นจะเหมือนกับขั้นตอนสำหรับการสร้างเทมเพลตสำหรับเหตุการณ์ของธุรกรรมอื่นๆ อย่างไรก็ตามต้องมีการเปลี่ยนแปลงต่อไปนี้:

- ตัวยึด **%message%** จะถูกใช้เพื่อแทรกข้อความของใบเสร็จลงในอีเมล เพื่อให้แน่ใจว่ามีการแสดงผลเนื้อหาของใบเสร็จอย่างถูกต้อง ให้ล้อมรอบตัวยึดตำแหน่ง **%message%** ด้วยแท็ก HTML **&lt;pre&gt;** และ **&lt;/pre&gt;**
- ตัวยึด **%receiptid%** สามารถใช้เพื่อแสดง QR code หรือบาร์โค้ดที่แสดงรหัสใบเสร็จ (QR codes และบาร์โค้ดจะถูกสร้างขึ้นแบบไดนามิกและให้บริการโดยบริการของบุคคลที่สาม) สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีแสดง QR code หรือบาร์โค้ดในใบเสร็จทางงอีเมล โปรดดูที่ [เพิ่ม QR code หรือบาร์โค้ดในการทำธุรกรรมและใบเสร็จทางอีเมล](add-qr-code-barcode-email.md)

## <a name="upload-the-email-html"></a>อัปโหลด HTML ของอีเมล

หลังจากที่คุณได้สร้างและทดสอบ HTML สำหรับเนื้อหาของข้อความของคุณแล้ว คุณต้องอัปโหลด HTML ไปที่ Commerce Headquarters ในขณะนี้ไม่สามารถส่งออกอีเมล HTML ได้ ดังนั้นคุณต้องรักษาสำเนาของหลักของ HTML ภายนอก Commerce Headquarters ของคุณ

เมื่อต้องการอัปโหลด HTML เทมเพลตอีเมลใหม่หรือที่แก้ไข ให้ทำตามขั้นตอนเหล่านี้

1. ใน Commerce Headquarters ให้ไปที่ **Retail และ Commerce \> การตั้งค่าศูนย์ควบคุม \> เทมเพลตอีเมลขององค์กร**
1. เลือกแถวสำหรับภาษาที่คุณต้องการเพิ่มหรือแทนที่ HTML อีกทางหนึ่งคือเลือก **สร้าง** เพื่อสร้างแถวสำหรับภาษาใหม่
1. เลือก **แก้ไข**
1. ในกล่องโต้ตอบที่ปรากฏ เลือก **เรียกดู** เรียกดูเอกสาร HTML ที่คุณต้องการอัปโหลด เลือกเอกสาร แล้วเลือก **เปิด**
1. เลือก **อัปโหลด**
1. หลังจากที่ HTML ของอีเมลของคุณปรากฏในหน้าต่างแสดงตัวอย่าง ให้เลือก **ตกลง**
1. ตรวจสอบให้แน่ใจว่ามีการเลือกกล่องกาเครื่องหมาย **มีเนื้อหา** สำหรับแถว

ถ้าคุณได้ตั้งกำหนดค่า Commerce Headquarters ไว้แล้วเพื่อส่งอีเมล อีเมลใหม่หรือที่อัปเดตแล้วของคุณจะถูกส่งไปยังลูกค้าทั้งหมดที่ทำธุรกรรมที่เรียกใช้เหตุการณ์ที่ถูกแม็ปกับเทมเพลต

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการกำหนดค่าอีเมลใน Dynamics 365 Commerce ดูที่ [กำหนดค่าและส่งอีเมล](../fin-ops-core/fin-ops/organization-administration/configure-email.md)

## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม 

[ตั้งค่าโพรไฟล์การแจ้งเตือนทางอีเมล](email-notification-profiles.md)

[ตั้งค่าคอนฟิกและส่งอีเมล](../fin-ops-core/fin-ops/organization-administration/configure-email.md)

[ตั้งค่าใบเสร็จทางอีเมล](/dynamicsax-2012/appuser-itpro/set-up-email-receipts)

[ส่งใบเสร็จทางอีเมลจาก Modern POS](email-receipts.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
