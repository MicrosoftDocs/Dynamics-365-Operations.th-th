---
title: กำหนดค่าการรับรองความถูกต้อง Azure Active Directory สำหรับการลงชื่อเข้าใช้ POS
description: หัวข้อนี้อธิบายวิธีการตั้งค่าคอนฟิก Azure Active Directory เป็นวิธีการรับรองความถูกต้องใน Microsoft Dynamics 365 Commerce ขายหน้าร้าน
author: boycezhu
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Core, Operations, Retail
ms.search.region: global
ms.author: boycez
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.11
ms.openlocfilehash: e271bbae84605b4adace1809b53b7cbdb6932da0
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 05/11/2021
ms.locfileid: "6020022"
---
# <a name="configure-azure-active-directory-authentication-for-pos-sign-in"></a>กำหนดค่าการรับรองความถูกต้อง Azure Active Directory สำหรับการลงชื่อเข้าใช้ POS

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

หัวข้อนี้อธิบายวิธีการตั้งค่าคอนฟิก Azure Active Directory (Azure AD) เป็นวิธีการรับรองความถูกต้องใน Microsoft Dynamics 365 Commerce ขายหน้าร้าน (POS)

ผู้ค้าปลีกที่ใช้ Dynamics 365 Commerce พร้อมกับบริการอื่นๆ ของ Microsoft Cloud เช่น Microsoft Azure, Microsoft 365 และ Microsoft Teams โดยทั่วไปต้องการใช้ Azure AD ในการจัดการข้อมูลส่วนบุคคลของผู้ใช้จากส่วนกลางเพื่อประสบการณ์การลงชื่อเข้าใช้ที่ปลอดภัยและต่อเนื่องระหว่างแอพลิเคชันต่างๆ เมื่อต้องการใช้ Azure AD การรับรองความถูกต้องของ Commerce POS คุณต้องตั้งค่าคอนฟิก Azure AD เป็นวิธีการรับรองความถูกต้องในศูนย์ควบคุม Commerce ก่อน

## <a name="configure-pos-authentication-method"></a>ตั้งค่าคอนฟิกวิธีการรับรองความถูกต้อง POS

หากต้องการตั้งค่าคอนฟิกวิธีการรับรองความถูกต้อง POS ในศูนย์ควบคุม Commerce ให้ทำตามขั้นตอนเหล่านี้
    
1. ไปที่ **Retail และ Commerce \> การตั้งค่าช่องทาง \> การตั้งค่า POS \> โพรไฟล์ POS \> โพรไฟล์ฟังก์ชัน** แล้วเลือกโพรไฟล์ที่จะเปลี่ยนแปลง
1. ในส่วน **ล็อกออนของพนักงาน POS** ของแท็บด่วน **ฟังก์ชัน** ให้เลือกตัวเลือกวิธีการรับรองความถูกต้องที่ต้องการจากรายการแบบหล่นลงของ **วิธีการรับรองความถูกต้องของล็อกออน**

    **วิธีการรับรองความถูกต้องในการล็อกออน** จะมีสามตัวเลือกดังนี้
    
    - **รหัสบุคลากรและรหัสผ่าน** - ตัวเลือกนี้เป็นค่าเริ่มต้นต้องการให้ผู้ใช้ POS ป้อนรหัสบุคลากรและรหัสผ่านเพื่อล็อกอินเข้าสู่ POS และเข้าถึงฟังก์ชันแทนที่ของผู้จัดการ
    - **Azure AD โดยไม่มีการลงชื่อเข้าใช้ครั้งเดียว** - ตัวเลือกนี้ต้องการให้ผู้ใช้ POS ใช้ข้อมูลส่วนบุคคล Azure AD เพื่อล็อกอินเข้าสู่ POS และเข้าถึงฟังก์ชันแทนที่ของผู้จัดการ เมื่อรีเฟรชหรือเปิดไคลเอนต์ POS อีกครั้ง ผู้ใช้ POS ต้องระบุข้อมูลส่วนบุคคล Azure AD เพื่อล็อกอินอีกครั้ง
    - **Azure AD ที่มีการลงชื่อเข้าใช้ครั้งเดียว** - เมื่อเลือกตัวเลือกนี้ ผู้ใช้ POS จะสามารถล็อกอินเข้าสู่ Cloud POS (CPOS) โดยใช้ข้อมูลส่วนบุคคล Azure AD ที่ใช้งานอยู่ ซึ่งใช้งานโดยเว็บแอพลิเคชันอื่นๆ ในเว็บเบราเซอร์เดียวกัน หรือล็อกอินเข้าสู่ Modern POS (MPOS) โดยใช้ข้อมูลส่วนบุคคล Azure AD ที่ล็อกอินเข้าสู่ Windows ทั้งสองวิธีอนุญาตให้ลงชื่อเข้าใช้ได้โดยไม่ต้องป้อนข้อมูลส่วนบุคคล Azure AD บนหน้าจอการลงชื่อเข้าใช้ POS อย่างไรก็ตาม การเข้าใช้งานฟังก์ชันแทนที่ของผู้จัดการ POS จะยังคงต้องใช้การลงชื่อเข้าใช้ โดยใช้ข้อมูลส่วนบุคคล Azure AD

1. ไปที่ **Retail และ Commerce > Retail และ Commerce IT > กําหนดการกระจาย** และรันงาน **1070 (การตั้งค่าคอนฟิกช่องทาง)** เพื่อซิงโครไนส์ การตั้งค่าโพรไฟล์ฟังก์ชันล่าสุดไปยังไคลเอนต์ POS

> [!NOTE]
> - ตัวเลือกวิธีการรับรองความถูกต้อง **Azure AD แบบไม่มีการลงชื่อเข้าใช้ครั้งเดียว** จะแทนที่ตัวเลือก **Azure Active Directory** ใน Commerce เวอร์ชัน 10.0.18 และรุ่นก่อนหน้านี้
> - การรับรองความถูกต้อง Azure AD ต้องใช้การเชื่อมต่ออินเทอร์เน็ตที่ใช้งานอยู่ และจะใช้ไม่ได้เมื่อ POS ออฟไลน์

## <a name="associate-azure-ad-accounts-with-pos-users"></a>เชื่อมโยงบัญชี Azure AD กับผู้ใช้ POS

เมื่อต้องการใช้ Azure AD เป็นวิธีการรับรองความถูกต้อง POS คุณต้องเชื่อมโยงบัญชี Azure AD กับผู้ใช้ POS ในศูนย์ควบคุม Commerce 

การเชื่อมโยงบัญชี Azure AD กับผู้ใช้ POS ในศูนย์ควบคุม Commerce ให้ปฏิบัติตามขั้นตอนต่อไปนี้
    
1. ไปที่ **Retail และ Commerce > พนักงาน > ผู้ปฏิบัติงาน** และเปิดเรกคอร์ดผู้ปฏิบัติงาน
1. บนบานหน้าต่างการดำเนินการ ให้เลือกแท็บ **Commerce** จากนั้น ภายใต้ **ข้อมูลเฉพาะตัวภายนอก** ให้เลือก **เชื่อมโยงข้อมูลเฉพาะตัวที่มีอยู่** 
1. ในกล่องโต้ตอบ **ใช้ข้อมูลเฉพาะตัวภายนอกที่มีอยู่** ให้เลือก **ค้นหาโดยใช้อีเมล** ป้อนที่อยู่อีเมล Azure AD แล้วเลือก **ค้นหา**
1. เลือกบัญชี Azure AD ที่จะส่งคืน จากนั้นเลือก **ตกลง**

หลังจากตั้งค่าคอนฟิกขั้นตอนด้านบนแล้ว ฟิลด์ **นามแฝง** **UPN** และ **ตัวระบุย่อยภายนอก** บนแท็บ **Commerce** ของหน้ารายละเอียดของผู้ปฏิบัติงานจะถูกกรอกข้อมูล

คุณต้องรันงาน **1060 (พนักงาน)** ใน **Retail และ Commerce > Retail และ Commerce IT > กำหนดการการกระจาย** เพื่อซิงโครไนส์ข้อมูลผู้ใช้ POS และบัญชี Azure AD ล่าสุด ไปยังช่องทาง

> [!NOTE]
> ตามแนวทางปฏิบัติ หลังจากที่ข้อมูลผู้ปฏิบัติงาน เช่น รหัสผ่าน สิทธิ์ POS บัญชี Azure AD ที่เชื่อมโยง หรือสมุดที่อยู่ของพนักงานมีการอัพเดตในศูนย์ควบคุม Commerce แล้ว ขอแนะนำว่าควรรันงาน **1060 (พนักงาน)** เพื่อซิงโครไนส์ข้อมูลผู้ปฏิบัติงานล่าสุดกับช่องทาง จากนั้นไคลเอนต์ POS จะสามารถดึงข้อมูลที่ถูกต้องสำหรับการตรวจสอบความถูกต้องของผู้ใช้ และการตรวจสอบสิทธิ์

## <a name="pos-lock-register-and-sign-out-with-azure-ad-authentication"></a>ล็อคเครื่องบันทึกเงินสด POS และออกจากระบบ โดยใช้การรับรองความถูกต้อง Azure AD

สิ่งต่อไปนี้จะเกิดขึ้นเมื่อ POS ได้รับการตั้งค่าคอนฟิกให้ใช้วิธีการบรองความถูกต้อง Azure AD:

- ฟังก์ชัน **ล็อคเครื่องบันทึกเงินสด** จะไม่พร้อมใช้งานในแอพลิเคชัน POS 
- ฟังก์ชัน **ล็อคโดยอัตโนมัติ** จะทำงานเช่นเดียวกับ **ฟังก์ชันล็อกออฟโดยอัตโนมัติ**
- หากผู้ใช้ POS เลือก **ล็อกออฟ** ผู้ใช้จะได้รับการขอให้ล็อกอินโดยใช้ข้อมูลประจำตัว Azure AD ในครั้งถัดไปที่ POS เปิดใช้ ไม่ว่าการลงชื่อเข้าใช้ครั้งเดียวจะเปิดใช้งานหรือไม่

## <a name="manager-override-functionality-with-azure-ad-authentication"></a>ฟังก์ชันการแทนที่ของผู้จัดการพร้อมด้วยการรับรองความถูกต้อง Azure AD

เมื่อ POS ได้รับการตั้งค่าคอนฟิกให้ใช้การรับรองความถูกต้อง Azure AD ฟังก์ชันการแทนที่ของผู้จัดการจะเปิดกล่องโต้ตอบที่พร้อมต์ถามข้อมูลส่วนบุคคล Azure AD ของผู้ใช้ที่เป็นผู้จัดการ หลังจากที่อนุมัติการลงชื่อเข้าใช้ของผู้จัดการ ข้อมูลประจำตัว Azure AD ของผู้จัดการจะถูกทิ้งและข้อมูลส่วนบุคคลของผู้ใช้ Azure AD ก่อนหน้านี้จะถูกใช้ เพื่อดําเนินการ POS ในเวลาต่อมา

> [!NOTE]
> - ใน Commerce เวอร์ชัน 10.0.18 และก่อนหน้านั้น ฟังก์ชันแทนที่ของผู้จัดการไม่สนับสนุน Azure AD ต้องระบุรหัสบุคลากรและรหัสผ่าน แม้ว่า POS จะมีการตั้งค่าคอนฟิกให้ใช้วิธีการรับรองความถูกต้อง Azure AD
> - เมื่อใช้ CPOS กับเว็บเบราเซอร์ Safari บนอุปกรณ์ Apple iOS คุณต้องปิด **การบล็อคป๊อปอัพ** ในการตั้งค่า Safari สำหรับฟังก์ชันแทนที่ของผู้จัดการ เพื่อใช้งานการรับรองความถูกต้อง Azure AD 

## <a name="security-best-practices-for-azure-ad-based-pos-authentication-on-shared-devices"></a>แนวทางที่พึงปฏิบัติด้านความปลอดภัยสำหรับการรับรองความถูกต้อง Azure AD- ตาม POS บนอุปกรณ์ที่ใช้ร่วมกัน

ผู้ค้าปลีกหลายคนตั้งค่าสภาพแวดล้อมร้านค้าปลีกของพวกเขาในลักษณะที่ผู้ใช้หลายคนต้องเข้าถึงแอพลิเคชัน POS จากอุปกรณ์จริงที่ใช้ร่วมกัน ในบริบทนั้น ขณะที่การลงชื่อเข้าใช้ครั้งเดียวจะให้ประสบการณ์การรับรองความถูกต้องที่สะดวกและไม่มีขอบเขต ก็อาจสร้างลูปความปลอดภัยโดยที่ผู้ใช้ POS ปัจจุบันอาจไม่รับรู้ได้ว่าข้อมูลส่วนบุคคลของผู้ใช้คนอื่น ถูฏใช้ในการดําเนินธุรกรรมหรือการดําเนินงานใน POS ก่อนที่คุณจะตั้งค่าคอนฟิก POS เพื่อใช้วิธีการรับรองความถูกต้อง Azure AD เราแนะนำเป็นอย่างยิ่งให้ทบทวนนโยบายความปลอดภัยของคุณ และการตั้งค่าการลงชื่อเข้าใช้ของอุปกรณ์ที่ใช้ร่วมกัน เพื่อตัดสินว่าตัวเลือกใดที่เหมาะสมที่สุด

- ถ้าสภาพแวดล้อมการขายปลีกของคุณใช้บัญชีที่ใช้ร่วมกัน (ตัวอย่างเช่น บัญชีเฉพาะที่) สำหรับการลงชื่อเข้าใช้อุปกรณ์จริง เราแนะนำให้ใช้ตัวเลือก **Azure AD แบบไม่มีการลงชื่อเข้าใช้ครั้งเดียว** ซึ่งช่วยให้มั่นใจว่าผู้ใช้ POS แต่ละคนจะมีข้อมูลส่วนบุคคล Azure AD ที่จะล็อกอินเข้าสู่ POS อย่างชัดแจ้ง
- ถ้าสภาพแวดล้อมการขายปลีกของคุณต้องการให้พนักงานใช้บัญชี Azure AD ของพวกเขาเองเพื่อล็อกอินเข้าสู่ POS และโฮสต์อุปกรณ์จริง เราแนะนำให้ใช้ตัวเลือก **Azure AD แบบการลงชื่อเข้าใช้ครั้งเดียว**

## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

[ ตั้งค่าคอนฟิกผู้ปฏิบัติงาน](tasks/worker.md)

[สร้างโพรไฟล์ฟังก์ชันการขายปลีก](retail-functionality-profile.md)


[ตั้งค่าฟังก์ชันการล็อกออนแบบขยายสำหรับ MPOS และ POS ระบบคลาวด์](extended-logon.md)

[แนวทางที่พึงปฏิบัติด้านความปลอดภัยของ Cloud POS ในสภาพแวดล้อมที่ใช้ร่วมกัน](dev-itpro/secure-retail-cloud-pos.md)



[!INCLUDE[footer-include](../includes/footer-banner.md)]
