---
title: ตัวอย่างการรวมบริการลงทะเบียนทางการเงินสำหรับสาธารณรัฐเช็ก
description: หัวข้อนี้อธิบายภาพรวมของตัวอย่างการรวมทางบัญชีสำหรับสาธารณรัฐเช็กใน Microsoft Dynamics 365 Commerce
author: EvgenyPopovMBS
ms.date: 12/20/2021
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: epopov
ms.search.validFrom: 2019-4-1
ms.dyn365.ops.version: 10.0.2
ms.openlocfilehash: 990de96f57f4a22b4d58da5f970b1b96f5fc21f5
ms.sourcegitcommit: 5cefe7d2a71c6f220190afc3293e33e2b9119685
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 02/01/2022
ms.locfileid: "8077101"
---
# <a name="fiscal-registration-service-integration-sample-for-the-czech-republic"></a>ตัวอย่างการรวมบริการลงทะเบียนทางการเงินสำหรับสาธารณรัฐเช็ก

[!include[banner](../includes/banner.md)]

หัวข้อนี้อธิบายภาพรวมของตัวอย่างการรวมทางบัญชีสำหรับสาธารณรัฐเช็กใน Microsoft Dynamics 365 Commerce

เพื่อตอบสนองความต้องการทางการเงินท้องถิ่นของเครื่องบันทึกเงินสดในสาธารณรัฐเช็ก ฟังก์ชัน Dynamics 365 Commerce ของสาธารณรัฐเช็กรวมถึงการรวมตัวอย่างของการขายหน้าร้าน (POS) กับบริการลงทะเบียนทางการเงินภายนอก ตัวอย่างจะขยาย [ฟังก์ชันการรวมทางการเงิน](fiscal-integration-for-retail-channel.md) โดยยึดตามโซลูชัน [EFR (ทะเบียนทางการเงินทางอิเล็กทรอนิกส์)](https://efsta.org/sicherheitsloesungen/) จาก [EFSTA](https://efsta.org/) และเปิดใช้งานการสื่อสารกับบริการ EFR ผ่านทางโปรโทคอล HTTPS บริการ EFR จะรับรองการลงทะเบียนการขายทางอิเล็กทรอนิกส์ (EET - Elektronická evidence tržeb)คือการส่งผ่านข้อมูลการขายทางออนไลน์ไปยังบริการเว็บทางการเงินของหน่วยงานจัดเก็บภาษี

บริการ EFR ควรโฮสต์ในสถานีฮาร์ดแวร์ของ Commerce หรือคอมพิวเตอร์แยกต่างหากที่สามารถเชื่อมต่อได้จากสถานีฮาร์ดแวร์ ตัวอย่างมีให้ในรูปแบบของรหัสต้นฉบับและเป็นส่วนหนึ่งของชุดการพัฒนาซอฟต์แวร์ (SDK) ของการขายปลีก

Microsoft ไม่ได้ปล่อยฮาร์ดแวร์ ซอฟต์แวร์ หรือเอกสารใดๆ จาก EFSTA หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีใช้งานโซลูชัน EFR และดําเนินงาน ให้ติดต่อ [EFSTA](https://efsta.org/kontakt/)

## <a name="scenarios"></a>สถานการณ์จำลอง

สถานการณ์ต่อไปนี้ครอบคลุมอยู่ในตัวอย่างการรวมบริการลงทะเบียนทางการเงินสำหรับสาธารณรัฐเช็ก

- การลงทะเบียนธุรกรรมเงินสดในบริการลงทะเบียนทางการเงิน

    - ส่งรายละเอียดข้อมูลธุรกรรมไปยังบริการลงทะเบียนทางการเงิน ข้อมูลนี้ประกอบด้วยข้อมูลบรรทัดการขาย และข้อมูลเกี่ยวกับส่วนลด การชำระเงิน และภาษี บริการลงทะเบียนทางการเงินส่งข้อมูลไปยังบริการเว็บของหน่วยงานจัดเก็บภาษีเพิ่มเติม และได้รับการยืนยันจากบริการที่มีรหัสระบุทางการเงินของธุรกรรม
    - การรวบรวมการตอบสนองจากบริการลงทะเบียนทางการเงิน การตอบสนองนี้รวมถึงข้อมูลบัญชี เช่น รหัสระบุทางการเงินและรหัสความปลอดภัยของธุรกรรม เป็นต้น
    - พิมพ์ข้อมูลบัญชีของธุรกรรมที่ลงทะเบียนในใบเสร็จ

- การลงทะเบียนการดําเนินงานบัตรของขวัญและเงินฝากของลูกค้าในบริการลงทะเบียนทางการเงิน

    - ออกหรือเพิ่มเงินลงในบัตรของขวัญ
    - ลงทะเบียนการฝากเงินเข้าบัญชีลูกค้า
    - สร้างใบสั่งของลูกค้าและลงทะเบียนการฝากเงินในใบสั่ง
    - แก้ไขใบสั่งของลูกค้าและแทนที่การฝากเงินในใบสั่ง
    - ยกเลิกใบสั่งของลูกค้าและทำเรื่องขอเงินคืนการฝากเงินในใบสั่ง

- การจัดการข้อผิดพลาด เช่น ตัวเลือกต่อไปนี้

    - ลองลงทะเบียนทางการเงินอีกครั้งถ้าสามารถลองใหม่ได้ เช่น ถ้าบริการลงทะเบียนทางการเงินไม่พร้อมใช้งาน ไม่พร้อมหรือไม่ตอบสนอง
    - เลื่อนการลงทะเบียนทางการเงินออกไป
    - ข้ามการลงทะเบียนทางการเงิน หรือเลือกธุรกรรมเป็นลงทะเบียนแล้ว และรวมรหัสข้อมูลเพื่อรวบรวมข้อมูลเหตุผลของความล้มเหลวและข้อมูลเพิ่มเติม
    - ตรวจสอบความพร้อมใช้งานของบริการลงทะเบียนทางการเงินก่อนที่จะเปิดธุรกรรมการขายใหม่ หรือสรุปธุรกรรมการขายแล้ว

### <a name="gift-cards"></a>บัตรของขวัญ

ตัวอย่างการรวมบริการลงทะเบียนทางการเงินจะใช้กฎต่อไปนี้ที่เกี่ยวข้องกับบัตรของขวัญ

- รายการขายที่เกี่ยวข้องกับการดําเนินงาน *ออกบัตรของขวัญ* หรือ *เพิ่มลงในบัตรของขวัญ* ในธุรกรรมการขายจะถูกเลือกด้วยแอททริบิวต์พิเศษ เมื่อลงทะเบียนธุรกรรมในบริการลงทะเบียนทางการเงิน
- การชำระเงินด้วยบัตรของขวัญถือเป็นการชำระเงินแบบปกติ และมีการเลือกด้วยแอททริบิวต์พิเศษเมื่อมีการลงทะเบียนธุรกรรมในบริการลงทะเบียนทางการเงิน

### <a name="customer-account-deposits-and-customer-order-deposits"></a>การฝากเงินเข้าบัญชีลูกค้าและการฝากเงินตามใบสั่งของลูกค้า

ตัวอย่างการรวมบริการลงทะเบียนทางการเงินจะใช้กฎต่อไปนี้ที่เกี่ยวข้องกับการฝากเงินเข้าบัญชีลูกค้าและการฝากเงินตามใบสั่งของลูกค้า

- ธุรกรรมที่เกี่ยวข้องกับการฝากเงินเข้าบัญชีลูกค้าหรือการฝากเงินตามใบสั่งของลูกค้าจะมีการลงทะเบียนในบริการลงทะเบียนทางการเงินเป็นธุรกรรมรายการเดียว และมีการทำเครื่องหมายด้วยแอททริบิวต์พิเศษ กลุ่ม VAT การฝากเงินมีการระบุในบรรทัดนี้
- เมื่อสร้างใบสั่งของลูกค้าไฮบริด นั่นคือใบสั่งของลูกค้าที่มีผลิตภัณฑ์ที่สามารถดําเนินการของร้านค้าโดยลูกค้า รวมทั้งผลิตภัณฑ์ที่จะเบิกหรือจัดส่งในภายหลัง ธุรกรรมที่ลงทะเบียนในบริการลงทะเบียนทางการเงินจะมีรายการต่างๆ สำหรับผลิตภัณฑ์ที่ดำเนินการ รวมทั้งรายการสำหรับการฝากเงินตามใบสั่ง
- การชำระเงินจากบัญชีลูกค้าด้วยบัตรของขวัญถือเป็นการชำระเงินแบบปกติ และทำเครื่องหมายด้วยแอททริบิวต์พิเศษเมื่อมีการลงทะเบียนธุรกรรมในบริการลงทะเบียนทางการเงิน
- ยอดเงินการฝากเงินตามใบสั่งของลูกค้าที่ใช้กับการดําเนินงาน *เบิกสินค้า* ตามใบสั่งของลูกค้าจะถือเป็นการชำระเงินปกติ และทำเครื่องหมายด้วยแอททริบิวต์พิเศษเมื่อลงทะเบียนธุรกรรมในบริการลงทะเบียนทางการเงิน

### <a name="offline-registration"></a>การลงทะเบียนออฟไลน์

ถ้าบริการลงทะเบียนทางการเงินไม่สามารถส่งผ่านข้อมูลธุรกรรมไปที่บริการเว็บทางการเงินของหน่วยงานจัดเก็บภาษี (ตัวอย่างเช่น เนื่องจากหมดเวลาการตอบสนอง) และได้รับการยืนยันจากเว็บบริการ (นั่นคือรหัสการระบุทางการเงินของธุรกรรม) ระบบจะสร้างลายเซ็นเฉพาะที่สําหรับธุรกรรม และรวมธุรกรรมนั้นและรหัสข้อผิดพลาดพิเศษในการตอบสนอง บริการลงทะเบียนทางการเงินจะส่งธุรกรรมอีกครั้งตามลำดับในฉากหลัง ทันทีที่คืนค่าการเชื่อมต่อเครือข่าย

### <a name="limitations-of-the-sample"></a>ข้อจํากัดของตัวอย่าง

บริการลงทะเบียนทางการเงินสนับสนุนเฉพาะสถานการณ์ที่ภาษีขายรวมอยู่ในราคาเท่านั้น ดังนั้น ต้องตั้งค่าตัวเลือก **ราคารวมภาษีขาย** เป็น **ใช่** ให้กับทั้งร้านค้าและลูกค้า

## <a name="set-up-commerce-for-the-czech-republic"></a>ตั้งค่าการแปล Commerce สำหรับสาธารณรัฐเช็ก

ส่วนนี้อธิบายการตั้งค่า Commerce เฉพาะและที่แนะนำให้เลือกสำหรับสาธารณรัฐเช็ก สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [โฮมเพจ Commerce](../index.md)

เพื่อใช้ฟังก์ชันเฉพาะของสาธารณรัฐเช็ก คุณต้องระบุการตั้งค่าต่อไปนี้

- ในที่อยู่หลักของนิติบุคคล ให้ตั้งค่าฟิลด์ **ประเทศ/ภูมิภาค** เป็น **CZE** (สาธารณรัฐเช็ก)
- ในโปรไฟล์ฟังก์ชัน POS ทุกร้านที่ตั้งอยู่ในสาธารณรัฐเช็ก ให้ตั้งค่าฟิลด์รหัส **รหัส ISO** เป็น **CZ** (สาธารณรัฐเช็ก)

คุณต้องระบุการตั้งค่าต่อไปนี้สำหรับสาธารณรัฐเช็ก โปรดทราบว่าคุณต้องเรียกใช้งานการกระจายที่เหมาะสมหลังจากที่คุณเสร็จสิ้นการตั้งค่า

### <a name="set-up-vat-per-czech-republic-requirements"></a>ตั้งค่า VAT ตามข้อกำหนดของสาธารณรัฐเช็ก


คุณต้องสร้างภาษีขาย กลุ่มภาษีขาย และกลุ่มภาษีขายของสินค้า คุณต้องตั้งค่าข้อมูลภาษีขายเกี่ยวกับผลิตภัณฑ์และบริการด้วย สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการตั้งค่าและใช้คุณลักษณะภาษีขาย ให้ดูที่ [ภาพรวมของภาษีขาย](../../finance/general-ledger/indirect-taxes-overview.md)

### <a name="set-up-stores"></a>ตั้งค่าร้านค้า

ในหน้า **ร้านค้าทั้งหมด** ให้อัปเดตรายละเอียดร้านค้า ตั้งค่าพารามิเตอร์ต่อไปนี้โดยเฉพาะ

- ในฟิลด์ **กลุ่มภาษีขาย** ให้ระบุกลุ่มภาษีขายที่ควรจะใช้สำหรับการขายให้กับลูกค้าเริ่มต้น
- ตั้งค่าตัวเลือก **ราคารวมภาษีขาย** เป็น **ใช่**
- ตั้งค่าฟิลด์ **ชื่อ** เป็นชื่อบริษัท การเปลี่ยนแปลงนี้ช่วยให้มั่นใจว่าชื่อบริษัทจะปรากฏในใบเสร็จ หรือคุณสามารถเพิ่มชื่อบริษัทในโครงร่างใบเสร็จการขายเป็นข้อความรูปแบบอิสระ
- ตั้งค่าฟิลด์ **หมายเลขรหัสภาษี (TIN)** เป็นหมายเลขรหัสบริษัท การเปลี่ยนแปลงนี้ช่วยให้มั่นใจว่าหมายเลขรหัสการชำระเงินของบริษัทจะปรากฏในใบเสร็จ หรือคุณสามารถเพิ่มหมายเลขประจำตัวผู้เสียภาษีบริษัทในโครงร่างใบเสร็จการขายเป็นข้อความรูปแบบอิสระ

### <a name="set-up-functionality-profiles"></a>ตั้งค่าโพรไฟล์ฟังก์ชัน

ตั้งค่าโปรไฟล์ฟังก์ชัน POS

- บน FastTab **การกำหนดหมายเลขใบเสร็จ** ให้ตั้งค่าการกำหนดหมายเลขใบเสร็จโดยการสร้างหรืออัปเดตเรกคอร์ดสำหรับชนิดของธุรกรรมใบเสร็จ **การขาย** **ใบสั่งขาย** และ **การส่งคืน**

### <a name="set-up-registration-numbers"></a>ตั้งค่าหมายเลขทะเบียน

1. ไปที่ **การจัดการองค์กร \> สมุดที่อยู่สากล \> ชนิดการลงทะเบียน \> ชนิดการลงทะเบียน** สร้างชนิดการลงทะเบียนใหม่ ระบุฟิลด์ **ประเทศ/ภูมิภาค** เป็น **CZE** (สาธารณรัฐเช็ก) และใช้เฉพาะกับองค์กร
2. ไปที่ **การจัดการองค์กร \> สมุดที่อยู่สากล \> ชนิดการลงทะเบียน \> ประเภททะเบียน** สร้างประเภทการลงทะเบียนใหม่ เลือกชนิดการลงทะเบียนจากขั้นตอนก่อนหน้าและตั้งค่า **ประเภทการลงทะเบียน** เป็น **รหัสองค์กรธุรกิจ**
3. ไปที่ **การจัดการองค์กร \>องค์กร \>หน่วยปฏิบัติงาน** สำหรับร้านค้าแต่ละร้านที่ตั้งอยู่ในสาธารณรัฐเช็ก เลือกหน่วยที่เกี่ยวข้องกับร้านค้า บน FastTab **ที่อยู่** ขยายรายการแบบหล่นลง **ตัวเลือกเพิ่มเติม** แล้วเลือก **ขั้นสูง** 
4. ในหน้า **จัดการที่อยู่** ที่เปิด คุณต้องระบุการตั้งค่าต่อไปนี้

    - บน FastTab **ที่อยู่** ให้ตั้งค่าฟิลด์ **ประเทศ/ภูมิภาค** เป็น **CZE**
    - บน FastTab **รหัสการลงทะเบียน** ให้สร้างเรกคอร์ดใหม่ เลือกชนิดการลงทะเบียนที่คุณสร้างไว้ก่อนหน้านี้และตั้งค่าหมายเลขการลงทะเบียน

### <a name="configure-custom-fields-so-that-they-can-be-used-in-receipt-formats-for-sales-receipts"></a>ตั้งค่าคอนฟิกฟิลด์ที่กําหนดเองเพื่อให้สามารถใช้ฟิลด์เหล่านั้นในรูปแบบใบเสร็จของใบเสร็จได้

คุณสามารถตั้งค่าคอนฟิกข้อความภาษาและฟิลด์ที่กําหนดเองที่ใช้ในรูปแบบใบเสร็จ POS ได้ บริษัทเริ่มต้นของผู้ใช้ที่สร้างการตั้งค่าใบเสร็จควรเป็นนิติบุคคลเดียวกันที่มีการสร้างการตั้งค่าข้อความภาษาขึ้น หรือควรสร้างข้อความภาษาเดียวกันในทั้งบริษัทเริ่มต้นของผู้ใช้และนิติบุคคลของร้านค้าที่มีการสร้างการตั้งค่าให้

ในหน้า **ข้อความภาษา** ให้เพิ่มเรกคอร์ดต่อไปนี้ของป้ายชื่อของฟิลด์แบบกำหนดเองเป็นโครงร่างของใบเสร็จ โปรดทราบว่ามีเพียงค่า **รหัสภาษา** **รหัสข้อความ** และ **ข้อความ** ที่แสดงในตารางเท่านั้น คุณสามารถเปลี่ยนเพื่อให้ตรงกับความต้องการของคุณได้ อย่างไรก็ตาม ค่า **รหัสข้อความ** ที่คุณใช้ต้องเป็นค่าเฉพาะ และต้องเท่ากับหรือมากกว่า 900001

เพิ่มป้ายชื่อ POS ต่อไปนี้ลงในส่วน **POS** ของ **ข้อความภาษา** จากตาราง:

| รหัสภาษา | รหัสข้อความ | ข้อความ                   |
|-------------|---------|------------------------|
| th       | 900001  | รหัส provozovny/pokladny |
| th       | 900002  | BKP                    |
| th       | 900003  | PKP                    |
| th       | 900004  | FIK                    |
| th       | 900005  | รายละเอียด                   |
| th       | 900006  | หมายเลขลำดับ        |

ในหน้า **ฟิลด์ที่กำหนดเอง** ให้เพิ่มเรกคอร์ดต่อไปนี้ของฟิลด์แบบกำหนดเองเป็นโครงร่างของใบเสร็จ โปรดทราบว่าค่า **รหัสข้อความคำอธิบาย** ต้องสอดคล้องกับค่า **รหัสข้อความ** ที่คุณระบุไว้ในหน้า **ข้อความภาษา**:

| ชื่อ                 | ชนิด    | รหัสข้อความของคำอธิบาย |
|----------------------|---------|-----------------|
| TLT                  | ใบเสร็จรับเงิน | 900001          |
| SEC                  | ใบเสร็จรับเงิน | 900002          |
| SIGN                 | ใบเสร็จรับเงิน | 900003          |
| FISCAL               | ใบเสร็จรับเงิน | 900004          |
| ข้อมูล                 | ใบเสร็จรับเงิน | 900005          |
| CONTINUOUSNUMBER     | ใบเสร็จรับเงิน | 900006          |

> [!NOTE]
> คุณควรระบุชื่อฟิลด์ที่ศุลกากรซึ่งถูกต้อง ตามที่แสดงรายการไว้ในตารางก่อนหน้า ชื่อฟิลด์ที่กำหนดเองไม่ถูกต้องจะทําให้เกิดข้อมูลที่ขาดหายไปในใบเสร็จ

### <a name="configure-receipt-formats"></a>ตั้งค่าคอนฟิกรูปแบบใบเสร็จ

สำหรับรูปแบบใบเสร็จที่จำเป็นทั้งหมด ให้เปลี่ยนค่าของฟิลด์ **ลักษณะการพิมพ์** เป็น **พิมพ์เสมอ**

ในตัวออกแบบรูปแบบใบเสร็จ ให้เพิ่มฟิลด์ที่กำหนดเองต่อไปนี้ลงในส่วนใบเสร็จที่เหมาะสม โปรดสังเกตว่าชื่อฟิลด์จะตรงกับข้อความภาษาที่คุณกําหนดไว้ในส่วนก่อนหน้านี้

- **ชื่อเรื่อง:** เพิ่มฟิลด์ต่อไปนี้

    - **ชื่อร้านค้า** และ **หมายเลขประจำตัวผู้เสียภาษี**: ฟิลด์เหล่านี้จะใช้พิมพ์ชื่อบริษัทและหมายเลขประจำตัวผู้เสียภาษีบนใบเสร็จ หรือคุณสามารถเพิ่มชื่อบริษัทและหมายเลขประจำตัวผู้เสียภาษีในโครงร่างเป็นข้อความรูปแบบอิสระ
    - **ที่อยู่ร้านค้า** **วันที่** **เวลา 24 ชั่วโมง** **หมายเลขใบเสร็จ** และ **หมายเลขลงทะเบียน**
    - **หมายเลขลำดับ**: ฟิลด์นี้ระบุหมายเลขของธุรกรรมเงินสดในบริการลงทะเบียนทางการเงิน

- **รายการ:** เพิ่มฟิลด์ต่อไปนี้

    - **ชื่อสินค้า**
    - **ปริมาณ**
    - **ราคารวมพร้อมภาษี**

- **ส่วนท้าย:** เพิ่มฟิลด์ต่อไปนี้

    - ฟิลด์การชำระเงิน ดังนั้นมีการพิมพ์ยอดการชำระเงินของวิธีการชำระเงินแต่ละวิธี ตัวอย่างเช่น เพิ่มฟิลด์ **ชื่อการชำระเงิน** และ **ยอดการชำระเงิน** ลงในบรรทัดใดบรรทัดหนึ่งของโครงร่าง
    - **รหัส provozovny/pokladny**: ฟิลด์นี้จะพิมพ์รหัสของสถานที่ทางธุรกิจและเครื่องบันทึกเงินสด
    - **BKP**: ฟิลด์นี้จะพิมพ์รหัสความปลอดภัยของผู้ชําระภาษีที่กําหนดโดยบริการลงทะเบียนทางการเงิน
    - **FIK**: ฟิลด์นี้จะพิมพ์รหัสการระบุทางการเงินของธุรกรรมที่มอบหมายโดยเว็บบริการของหน่วยงานจัดเก็บภาษีในกรณีที่การลงทะเบียนออนไลน์สำเร็จ
    - **PKP**: ฟิลด์นี้จะพิมพ์รหัสลายเซ็นของผู้เสียภาษีที่สร้างโดยบริการลงทะเบียนทางการเงินในกรณีของการลงทะเบียนแบบออฟไลน์
    - **ข้อมูล**: ฟิลด์นี้พิมพ์ข้อมูลเพิ่มเติมจากบริการลงทะเบียนทางการเงิน

หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้งานรูปแบบใบเสร็จ โปรดดูที่ [การตั้งค่าและออกแบบรูปแบบใบเสร็จ](../receipt-templates-printing.md)

## <a name="set-up-fiscal-integration-for-the-czech-republic"></a>ตั้งค่าการรวมทางการเงินสำหรับสาธารณรัฐเช็ก

ตัวอย่างการรวมบริการลงทะเบียนทางการเงินของสาธารณรัฐเช็กยึดตาม [ฟังก์ชันการรวมทางการเงิน](fiscal-integration-for-retail-channel.md) และเป็นส่วนหนึ่งของ Retail SDK ตัวอย่างอยู่ในโฟลเดอร์ **src\\FiscalIntegration\\Efr** ของที่เก็บ [โซลูชัน Dynamics 365 Commerce](https://github.com/microsoft/Dynamics365Commerce.Solutions/) (ตัวอย่างเช่น [ตัวอย่างในรุ่น/9.33](https://github.com/microsoft/Dynamics365Commerce.Solutions/tree/release/9.33/src/FiscalIntegration/Efr)) ตัวอย่าง [ประกอบด้วย](fiscal-integration-for-retail-channel.md#fiscal-registration-process-and-fiscal-integration-samples-for-fiscal-devices-and-services) ของตัวให้บริการเอกสารทางการเงิน ซึ่งเป็นส่วนขยายของ Commerce Runtime (CRT) และตัวเชื่อมต่อทางการเงิน ซึ่งเป็นส่วนขยายของ Commerce Hardware Station หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้ Retail SDK โปรดดู [สถาปัตยกรรม Retail SDK](../dev-itpro/retail-sdk/retail-sdk-overview.md) และ [ตั้งค่าไปป์ไลน์การสร้างของ SDK บรรจุภัณฑ์อิสระ](../dev-itpro/build-pipeline.md)

> [!WARNING]
> เนื่องจากข้อจํากัดของ [แบบจำลองบรรจุภัณฑ์และส่วนขยายอิสระใหม่](../dev-itpro/build-pipeline.md) จึงไม่สามารถใช้กับตัวอย่างการรวมทางการเงินนี้ได้ในขณะนี้ คุณต้องใช้ Retail SDK บนเครื่องเสมือนของนักพัฒนา (VM) ใน Microsoft Dynamics Lifecycle Services (LCS) รุ่นก่อนหน้านี้ หากต้องการข้อมูลเพิ่มเติม โปรดดูที่ [แนวทางการปรับใช้งานตัวอย่างการรวมทางการเงินของสาธารณรัฐเช็ก (ดั้งเดิม)](emea-cze-fi-sample-sdk.md)
>
> มีการวางแผนการสนับสนุนรูปแบบบรรจุภัณฑ์และส่วนขยายอิสระใหม่จากตัวอย่างการรวมทางการเงินกับรุ่นที่ใหม่กว่า

ปฏิบัติตามขั้นตอนการตั้งค่าการรวมทางการเงินตามที่อธิบายไว้ใน [การตั้งค่าการรวมทางการเงินของช่องทาง Commerce](setting-up-fiscal-integration-for-retail-channel.md):

1. [ตั้งค่ากระบวนการการลงทะเบียนทางการเงิน](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process) นอกจากนี้ ให้จดบันทึกการตั้งค่าต่างๆ ของกระบวนการลงทะเบียนทางการเงินที่ใช้กับ [ตัวอย่างการรวมบริการลงทะเบียนทางการเงินนี้โดยเฉพาะ](#set-up-the-registration-process)
1. [กำหนดการตั้งค่าการจัดการข้อผิดพลาด](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings)
1. [เปิดใช้งานการดำเนินการด้วยตนเองของการลงทะเบียนทางการเงินที่เลื่อนออกไปแล้ว](setting-up-fiscal-integration-for-retail-channel.md#enable-manual-execution-of-postponed-fiscal-registration)
1. [ตั้งค่าคอนฟิกส่วนประกอบช่องทาง](#configure-channel-components)

### <a name="set-up-the-registration-process"></a>ตั้งค่ากระบวนการลงทะเบียน

เมื่อต้องการเปิดใช้งานกระบวนการการลงทะเบียน ให้ทําตามขั้นตอนต่อไปนี้เพื่อตั้งค่าศูนย์ควบคุม Commerce สำหรับข้อมูลเพิ่มเติม ดูที่ [ตั้งค่าการรวมทางการเงินสำหรับช่องทาง Commerce](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process)

1. ดาวน์โหลดไฟล์การตั้งค่าคอนฟิกสำหรับผู้ให้บริการเอกสารทางการเงินและตัวเชื่อมต่อทางการเงิน:

    1. เปิดที่เก็บ [โซลูชัน Dynamics 365 Commerce](https://github.com/microsoft/Dynamics365Commerce.Solutions/)
    1. เลือกรุ่นสาขาที่นำออกใช้ที่ถูกต้องตามรุ่น SDK/แอปพลิเคชันของคุณ (ตัวอย่างเช่น **[รุ่น/9.33](https://github.com/microsoft/Dynamics365Commerce.Solutions/tree/release/9.33)**)
    1. เปิด **src \> FiscalIntegration \> Efr**
    1. ดาวน์โหลดไฟล์การตั้งค่าคอนฟิกผู้ให้บริการเอกสารทางการเงินที่ **Configurations \> DocumentProviders \> DocumentProviderFiscalEFRSampleCzech.xml** (ตัวอย่างเช่น [ไฟล์สำหรับรุ่น/9.33](https://github.com/microsoft/Dynamics365Commerce.Solutions/blob/release/9.33/src/FiscalIntegration/Efr/Configurations/DocumentProviders/DocumentProviderFiscalEFRSampleCzech.xml))
    1. ดาวน์โหลดไฟล์การตั้งค่าคอนฟิกตัวเชื่อมต่อทางการเงินที่ **Configurations \> Connectors \> ConnectorEFRSample.xml** (ตัวอย่างเช่น [ไฟล์สำหรับรุ่น/9.33](https://github.com/microsoft/Dynamics365Commerce.Solutions/blob/release/9.33/src/FiscalIntegration/Efr/Configurations/Connectors/ConnectorEFRSample.xml))

    > [!WARNING]
    > เนื่องจากข้อจํากัดของ [แบบจำลองบรรจุภัณฑ์และส่วนขยายอิสระใหม่](../dev-itpro/build-pipeline.md) จึงไม่สามารถใช้กับตัวอย่างการรวมทางการเงินนี้ได้ในขณะนี้ คุณต้องใช้ Retail SDK บน VM สำหรับนักพัฒนาใน LCS ไฟล์การตั้งค่าคอนฟิกของตัวอย่างการรวมทางการเงินนี้อยู่ในโฟลเดอร์ต่อไปนี้ของ Retail SDK บน VM สำหรับนักพัฒนาใน LCS:
    >
    > - **ไฟล์การตั้งค่าคอนฟิกผู้ให้บริการเอกสารทางการเงิน:** RetailSdk\\SampleExtensions\\CommerceRuntime\\Extensions.DocumentProvider.EFRSample\\Configuration\\DocumentProviderFiscalEFRSampleCzech.xml
    > - **ไฟล์การตั้งค่าคอนฟิกตัวเชื่อมต่อทางการเงิน:** RetailSdk\\SampleExtensions\\HardwareStation\\Extension.EFRSample\\Configuration\\ConnectorEFRSample.xml
    > 
    > มีการวางแผนการสนับสนุนรูปแบบบรรจุภัณฑ์และส่วนขยายอิสระใหม่จากตัวอย่างการรวมทางการเงินกับรุ่นที่ใหม่กว่า

1. ไปที่ **Retail และ Commerce \> การตั้งค่าศูนย์ควบคุม \> พารามิเตอร์ \> พารามิเตอร์ที่ใช้ร่วมกันของ Commerce** บนแท็บ **ทั่วไป** ให้ตั้งค่าตัวเลือก **เปิดใช้งานการรวมทางการเงิน** เป็น **ใช่**
1. ไปที่ **การขายปลีกและการค้า \> การตั้งค่าช่องทาง \> การรวมทางการเงิน \> ผู้ให้บริการเอกสารทางการเงิน** และโหลดไฟล์การตั้งค่าคอนฟิกผู้ให้บริการเอกสารทางการเงินที่คุณดาวน์โหลดก่อนหน้านี้
1. ไปที่ **การขายปลีกและการค้า \> การตั้งค่าช่องทาง \> การรวมทางการเงิน \> ตัวเชื่อมต่อทางการเงิน** และโหลดไฟล์การตั้งค่าคอนฟิกตัวเชื่อมต่อทางการเงินที่คุณดาวน์โหลดก่อนหน้านี้
1. ไปที่ **การขายปลีกและการพาณิชย์ \> การตั้งค่าช่องทางการขาย \> การรวมทางการเงิน \> โปรไฟล์ฟังก์ชันของตัวเชื่อมต่อ** สร้างโปรไฟล์ฟังก์ชันของตัวเชื่อมต่อใหม่ เลือกผู้ให้บริการเอกสารและตัวเชื่อมต่อที่คุณโหลดไว้ก่อนหน้านี้ อัปเดต [การตั้งค่าการแมปข้อมูล](#default-data-mapping) ตามที่ต้องการ
1. ไปที่ **การขายปลีกและการพาณิชย์ \> การตั้งค่าช่องทางการขาย \> การรวมทางการเงิน \> โปรไฟล์ทางเทคนิคของตัวเชื่อมต่อ** สร้างโปรไฟล์ทางเทคนิคของตัวเชื่อมต่อใหม่ และเลือกตัวเชื่อมต่อทางการเงินที่คุณโหลดไว้ก่อนหน้านี้ อัปเดต [การตั้งค่าตัวเชื่อมต่อ](#fiscal-connector-settings) ตามที่ต้องการ
1. ไปที่ **การขายปลีกและการพาณิชย์ \> การตั้งค่าช่องทางการขาย \> การรวมทางการเงิน \> กลุ่มตัวเชื่อมต่อทางการเงิน** สร้างกลุ่มตัวเชื่อมต่อทางการเงินใหม่สำหรับโปรไฟล์ฟังก์ชันของตัวเชื่อมต่อที่คุณสร้างไว้ก่อนหน้านี้
1. ไปที่ **การขายปลีกและการพาณิชย์ \> การตั้งค่าช่องทางการขาย \> การรวมทางการเงิน \> กระบวนการลงทะเบียนทางการเงิน** สร้างกระบวนการลงทะเบียนทางการเงินใหม่และขั้นตอนกระบวนการลงทะเบียนทางการเงิน และเลือกกลุ่มตัวเชื่อมต่อทางการเงินที่คุณสร้างก่อนหน้านี้
1. ไปที่ **การขายปลีกและการค้า \> การตั้งค่าช่องทาง \> การตั้งค่า POS \> โพรไฟล์POS \> โพรไฟล์ฟังก์ชัน** เลือกโปรไฟล์ฟังก์ชันที่เชื่อมโยงกับร้านค้าที่ควรมีการเรียกใช้งานกระบวนการลงทะเบียน บน FastTab **กระบวนการลงทะเบียนทางการเงิน** ให้เลือกกระบวนการลงทะเบียนทางการเงินที่คุณสร้างไว้ก่อนหน้านี้
1. ไปที่ **การขายปลีกและการค้า \> การตั้งค่าช่องทาง \> การตั้งค่า POS \> โพรไฟล์POS \> โปรไฟล์ฮาร์ดแวร์** เลือกโปรไฟล์ฮาร์ดแวร์ที่เชื่อมโยงกับสถานีฮาร์ดแวร์ที่เครื่องพิมพ์ทางการเงินจะเชื่อมต่อด้วย บน FastTab **อุปกรณ์ต่อพ่วงทางการเงิน** ให้เลือกโปรไฟล์ทางเทคนิคของตัวเชื่อมต่อที่คุณสร้างก่อนหน้านี้
1. เปิดกำหนดการจัดจำหน่าย (**การขายปลีกและการค้า \> การขายปลีกและการค้าไอที \> กำหนดการจัดจำหน่าย**) และเลือกงาน **1070** และ **1090** เพื่อโอนย้ายข้อมูลไปยังฐานข้อมูลช่องทาง

#### <a name="default-data-mapping"></a>การแมปข้อมูลเริ่มต้น

การแมปข้อมูลเริ่มต้นต่อไปนี้รวมอยู่ในการตั้งค่าคอนฟิกผู้ให้บริการเอกสารทางการเงินที่ให้ไว้โดยเป็นส่วนหนึ่งของตัวอย่างการรวมทางการเงิน:

- **ภาษีมูลค่าเพิ่ม (VAT)** – การแมปค่าเปอร์เซ็นต์ภาษีที่ตั้งค่าไว้ให้กับรหัสภาษีขายกับค่าของแอททริบิวต์ **TaxG** (กลุ่มภาษี) ในคำขอที่ส่งไปยังบริการทางการเงิน ต่อไปนี้เป็นการแมปเริ่มต้น:

    ```
    A: 21.00; B: 15.00; C: 10.00; Z: 0.00
    ```

    ส่วนประกอบที่แรกในแต่ละคู่จะแสดงถึงกลุ่มภาษี VAT ซึ่งบริการลงทะเบียนทางการเงิน EFR รองรับ ส่วนประกอบที่สองจะแสดงถึงอัตรา VAT ที่เกี่ยวข้อง หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับกลุ่มภาษี VAT ที่ EFR สนับสนุนสำหรับสาธารณรัฐเช็ก โปรดดูที่ [ข้อมูลอ้างอิง EFR](https://public.efsta.net/efr/)

- **การแมปกลุ่ม VAT เริ่มต้น** – ยอดเงิน VAT ใดๆ ที่สามารถแมปกับกลุ่ม VAT ที่ไว้ล่วงหน้ากลุ่มใดกลุ่มหนึ่งจะถูกแอททริบิวต์เป็นกลุ่ม VAT เริ่มต้น (พื้นฐาน) ต่อไปนี้เป็นการแมปเริ่มต้น:

    ```
    A
    ```

- **การแมปกลุ่ม VAT การฝากเงิน** – ยอดเงินฝากของลูกค้าและยอดเงินฝากใบสั่งของลูกค้าจะได้รับการแอททริบิวต์ไปยังกลุ่ม VAT การฝากเงิน ต่อไปนี้เป็นการแมปเริ่มต้น:

    ```
    Z
    ```

#### <a name="fiscal-connector-settings"></a>การตั้งค่าตัวเชื่อมต่อทางการเงิน

การตั้งค่าต่อไปนี้รวมอยู่ในการตั้งค่าคอนฟิกตัวเชื่อมต่อทางการเงินที่ให้ไว้โดยเป็นส่วนหนึ่งของตัวอย่างการรวมทางการเงิน:

- **ที่อยู่ปลายทาง** – URL ของบริการลงทะเบียนทางการเงิน
- **การหมดเวลา** – จํานวนเวลาเป็นมิลลิวินาที ซึ่งตัวเชื่อมต่อทางการเงินจะรอการตอบสนองจากบริการลงทะเบียนทางการเงิน

### <a name="configure-channel-components"></a>ตั้งค่าคอนฟิกส่วนประกอบช่องทาง

> [!WARNING]
> เนื่องจากข้อจํากัดของ [แบบจำลองบรรจุภัณฑ์และส่วนขยายอิสระใหม่](../dev-itpro/build-pipeline.md) จึงไม่สามารถใช้กับตัวอย่างการรวมทางการเงินนี้ได้ในขณะนี้ คุณต้องใช้ Retail SDK บน VM สำหรับนักพัฒนาใน LCS หากต้องการข้อมูลเพิ่มเติม โปรดดูที่ [แนวทางการปรับใช้งานตัวอย่างการรวมทางการเงินของสาธารณรัฐเช็ก (ดั้งเดิม)](emea-cze-fi-sample-sdk.md)
>
> มีการวางแผนการสนับสนุนรูปแบบบรรจุภัณฑ์และส่วนขยายอิสระใหม่จากตัวอย่างการรวมทางการเงินกับรุ่นที่ใหม่กว่า

#### <a name="set-up-the-development-environment"></a>ตั้งค่าสภาพแวดล้อมการพัฒนา

หากต้องการตั้งค่าสภาพแวดล้อมการพัฒนาเพื่อทดสอบและขยายตัวอย่าง ให้ปฏิบัติตามขั้นตอนต่อไปนี้

1. ลอกแบบหรือดาวน์โหลดที่เก็บ [โซลูชัน Dynamics 365 Commerce](https://github.com/microsoft/Dynamics365Commerce.Solutions) เลือกรุ่นสาขาที่นำออกใช้ที่ถูกต้องตามรุ่น SDK/แอปพลิเคชันของคุณ สำหรับข้อมูลเพิ่มเติม โปรดดูที่ [ดาวน์โหลดตัวอย่าง Retail SDK และแพคเกจอ้างอิงจาก GitHub และ NuGet](../dev-itpro/retail-sdk/sdk-github.md)
1. เปิดโซลูชัน EFR ที่ **Dynamics365Commerce.Solutions\\FiscalIntegration\\Efr\\EFR.sln** แล้วสร้างโซลูชันนี้
1. ติดตั้งส่วนขยาย CRT:

    1. ค้นหาตัวติดตั้งส่วนขยาย CRT:

        - **Commerce Scale Unit:** ในโฟลเดอร์ **Efr\\ScaleUnit\\ScaleUnit.EFR.Installer\\bin\\Debug\\net461** ให้ค้นหาตัวติดตั้ง **ScaleUnit.EFR.Installer**
        - **CRT เฉพาะที่บน Modern POS:** ในโฟลเดอร์ **Efr\\ModernPOS\\ModernPOS.EFR.Installer\\bin\\Debug\\net461** ให้ค้นหาตัวติดตั้ง **ModernPOS.EFR.Installer**

    1. เริ่มต้นตัวติดตั้งส่วนขยาย CRT จากบรรทัดใบสั่ง:

        - **Commerce Scale Unit:**

            ```Console
            ScaleUnit.EFR.Installer.exe install --verbosity 0
            ```

        - **CRT เฉพาะที่บน Modern POS:**

            ```Console
            ModernPOS.EFR.Installer.exe install --verbosity 0
            ```

1. ติดตั้งส่วนขยายสถานีฮาร์ดแวร์:

    1. ในโฟลเดอร์ **Efr\\HardwareStation\\HardwareStation.EFR.Installer\\bin\\Debug\\net461** ให้ค้นหาตัวติดตั้ง **HardwareStation.EFR.Installer**
    1. เริ่มต้นตัวติดตั้งส่วนขยายจากบรรทัดใบสั่ง:

        ```Console
        HardwareStation.EFR.Installer.exe install --verbosity 0
        ```

#### <a name="production-environment"></a>สภาพแวดล้อมการทำงานจริง

ปฏิบัติตามขั้นตอนต่างๆ ใน [การตั้งค่าไปป์ไลน์การสร้างตัวอย่างการรวมทางการเงิน](fiscal-integration-sample-build-pipeline.md) เพื่อสร้างและปล่อย Cloud Scale Unit และแพคเกจที่ปรับใช้ได้แบบบริการตนเองในตัวอย่างการรวมทางการเงิน ไฟล์ YAML เทมเพลต **EFR build-pipeline.yml** สามารถพบได้ในโฟลเดอร์ **Pipeline\\YAML_Files** ของที่เก็บ [Dynamics 365 Commerce Solutions](https://github.com/microsoft/Dynamics365Commerce.Solutions)

## <a name="design-of-extensions"></a>การออกแบบของส่วนขยาย

ตัวอย่างการรวมบริการลงทะเบียนทางการเงินของสาธารณรัฐเช็กยึดตาม [ฟังก์ชันการรวมทางการเงิน](fiscal-integration-for-retail-channel.md) และเป็นส่วนหนึ่งของ Retail SDK ตัวอย่างอยู่ในโฟลเดอร์ **src\\FiscalIntegration\\Efr** ของที่เก็บ [โซลูชัน Dynamics 365 Commerce](https://github.com/microsoft/Dynamics365Commerce.Solutions/) (ตัวอย่างเช่น [ตัวอย่างในรุ่น/9.33](https://github.com/microsoft/Dynamics365Commerce.Solutions/tree/release/9.33/src/FiscalIntegration/Efr)) ตัวอย่าง [ประกอบด้วย](fiscal-integration-for-retail-channel.md#fiscal-registration-process-and-fiscal-integration-samples-for-fiscal-devices-and-services) ของตัวให้บริการเอกสารทางการเงิน ซึ่งเป็นส่วนขยายของ CRT และตัวเชื่อมต่อทางการเงิน ซึ่งเป็นส่วนขยายของ Commerce Hardware Station หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้ Retail SDK โปรดดู [สถาปัตยกรรม Retail SDK](../dev-itpro/retail-sdk/retail-sdk-overview.md) และ [ตั้งค่าไปป์ไลน์การสร้างของ SDK บรรจุภัณฑ์อิสระ](../dev-itpro/build-pipeline.md)

> [!WARNING]
> เนื่องจากข้อจํากัดของ [แบบจำลองบรรจุภัณฑ์และส่วนขยายอิสระใหม่](../dev-itpro/build-pipeline.md) จึงไม่สามารถใช้กับตัวอย่างการรวมทางการเงินนี้ได้ในขณะนี้ คุณต้องใช้ Retail SDK บน VM สำหรับนักพัฒนาใน LCS หากต้องการข้อมูลเพิ่มเติม โปรดดูที่ [แนวทางการปรับใช้งานตัวอย่างการรวมทางการเงินของสาธารณรัฐเช็ก (ดั้งเดิม)](emea-cze-fi-sample-sdk.md) มีการวางแผนการสนับสนุนรูปแบบบรรจุภัณฑ์และส่วนขยายอิสระใหม่จากตัวอย่างการรวมทางการเงินกับรุ่นที่ใหม่กว่า

### <a name="commerce-runtime-extension-design"></a>การออกแบบส่วนขยาย Commerce Runtime

วัตถุประสงค์ของส่วนขยายที่เป็นผู้ให้บริการเอกสารทางการเงินคือการสร้างเอกสารเฉพาะบริการ และจัดการการตอบสนองจากบริการลงทะเบียนทางการเงิน

#### <a name="request-handler"></a>ตัวจัดการคำขอ

มีตัวจัดการคำขอ **DocumentProviderEFRFiscalCZE** หนึ่งตัวจัดการตัวให้บริการเอกสาร ซึ่งใช้ในการสร้างเอกสารทางการเงินของบริการลงทะเบียนทางการเงิน

ตัวจัดการสืบทอดมาจากอินเทอร์เฟส **INamedRequestHandler** วิธีการ **HandlerName** จะรับผิดชอบการส่งคืนชื่อของตัวจัดการ ชื่อตัวจัดการควรตรงกับชื่อผู้ให้บริการเอกสารตัวเชื่อมต่อที่ระบุในศูนย์ควบคุม Commerce

ตัวเชื่อมต่อสนับสนุนคำขอต่อไปนี้

- **GetFiscalDocumentDocumentProviderRequest** – คำขอนี้จะมีข้อมูลเกี่ยวกับเอกสารใดที่ควรถูกสร้างขึ้น โดยจะส่งคืนเอกสารเฉพาะบริการที่ควรลงทะเบียนในบริการลงทะเบียนทางการเงิน
- **GetSupportedRegistrableEventsDocumentProviderRequest** – คำขอนี้จะส่งคืนรายการเหตุการณ์ที่จะสมัครเป็นสมาชิก ปัจจุบัน เหตุการณ์ต่อไปนี้ได้รับการสนับสนุน: การขาย การฝากเงินเข้าบัญชีลูกค้า และการฝากเงินตามใบสั่งของลูกค้า
- **GetFiscalRegisterResponseToSaveDocumentProviderRequest** – คำขอนี้จะส่งคืนการตอบสนองจากบริการการลงทะเบียนทางการเงิน การตอบสนองนี้จะเป็นอนุกรมเพื่อให้เป็นสตริงเพื่อความพร้อมในการบันทึก

#### <a name="configuration"></a>การกำหนดค่า

ไฟล์การตั้งค่าคอนฟิกสำหรับผู้ให้บริการเอกสารทางการเงินอยู่ที่ **src\\FiscalIntegration\\Efr\\Configurations\\DocumentProviders\\DocumentProviderFiscalEFRSampleCzech.xml** ในที่เก็บ [โซลูชัน Dynamics 365 Commerce](https://github.com/microsoft/Dynamics365Commerce.Solutions/) วัตถุประสงค์ของไฟล์คือเพื่อเปิดใช้งานการตั้งค่าของผู้ให้บริการเอกสารทางการเงินที่จะตั้งค่าคอนฟิกจากศูนย์ควบคุม Commerce รูปแบบไฟล์จะสอดคล้องกับข้อกําหนดของการตั้งค่าคอนฟิกการรวมทางการเงิน

### <a name="hardware-station-extension-design"></a>การออกแบบส่วนขยายสถานีฮาร์ดแวร์

วัตถุประสงค์ของส่วนขยายที่เป็นตัวเชื่อมต่อทางการเงินคือเพื่อสื่อสารกับบริการลงทะเบียนทางการเงิน ส่วนขยายของสถานีฮาร์ดแวร์นี้ใช้โปรโทคอล HTTP เพื่อส่งเอกสารที่ส่วนขยาย CRT สร้างขึ้นไปยังบริการลงทะเบียนทางการเงิน และยังจัดการการตอบสนองที่ได้รับจากบริการลงทะเบียนทางการเงินด้วย

#### <a name="request-handler"></a>ตัวจัดการคำขอ

ตัวจัดการคำขอ **EFRHandler** เป็นจุดเข้าใช้งานเพื่อจัดการคำขอไปยังบริการลงทะเบียนทางการเงิน

ตัวจัดการสืบทอดมาจากอินเทอร์เฟส **INamedRequestHandler** วิธีการ **HandlerName** จะรับผิดชอบการส่งคืนชื่อของตัวจัดการ ชื่อตัวจัดการควรตรงกับชื่อตัวเชื่อมต่อทางการเงินที่ระบุในศูนย์ควบคุม Commerce

ตัวเชื่อมต่อสนับสนุนคำขอต่อไปนี้

- **SubmitDocumentFiscalDeviceRequest** – คำขอนี้จะส่งเอกสารไปยังบริการลงทะเบียนทางการเงินและส่งคืนการตอบสนองจากบริการลงทะเบียนทางการเงิน
- **IsReadyFiscalDeviceRequest** – คำขอนี้ใช้เพื่อตรวจสอบความสมบูรณ์ของบริการลงทะเบียนทางการเงิน
- **InitializeFiscalDeviceRequest** – คำขอนี้ใช้สำหรับการเริ่มต้นบริการลงทะเบียนทางการเงิน

#### <a name="configuration"></a>การกำหนดค่า

ไฟล์การตั้งค่าคอนฟิกของตัวเชื่อมต่อทางการเงินอยู่ที่ **src\\FiscalIntegration\\Efr\\Configurations\\Connectors\\ConnectorEFRSample.xml** ในที่เก็บ [โซลูชัน Dynamics 365 Commerce](https://github.com/microsoft/Dynamics365Commerce.Solutions/) วัตถุประสงค์ของไฟล์คือเพื่อเปิดใช้งานการตั้งค่าของตัวเชื่อมต่อทางการเงินที่จะตั้งค่าคอนฟิกจากศูนย์ควบคุม Commerce รูปแบบไฟล์จะสอดคล้องกับข้อกําหนดของการตั้งค่าคอนฟิกการรวมทางการเงิน

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
