---
title: การจัดการใบสั่งแบบกระจาย (DOM)
description: หัวข้อนี้อธิบายฟังก์ชันการจัดการใบสั่งแบบกระจาย (DOM) ใน Microsoft Dynamics 365 for Retail
author: josaw1
manager: AnnBe
ms.date: 11/15/2018
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: 4f682e0c98ff70d526648bc50f8a5d6cb884ac93
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 05/15/2019
ms.locfileid: "1565822"
---
# <a name="distributed-order-management-dom"></a>การจัดการใบสั่งแบบกระจาย (DOM)

[!include [banner](includes/banner.md)]

ในรูปแบบใหม่สำหรับการดำเนินงานขายปลีก ผู้ขายปลีกพยายามที่จะมอบการมีส่วนร่วมของลูกค้าแบบส่วนบุคคล ประสบการณ์ช่องทาง Omni และการโต้ตอบที่ราบรื่น เนื่องจากมีตัวเลือกที่พร้อมใช้งานมากมาย ผู้บริโภคจึงเลือกซื้อได้ในทุกที่ที่พวกเขาจะได้รับประสบการณ์ที่น่าประทับใจมากที่สุด ในหลายกรณี ราคาและผลิตภัณฑ์ไม่ใช่ปัจจัยในการตัดสินใจอันดับต้นๆ สำหรับผู้บริโภคอีกต่อไป

เพื่อช่วยปรับปรุงประสบการณ์การใช้งานของลูกค้า ผู้ขายปลีกต้องมองเห็นสินค้าคงคลังแบบเรียลไทม์ในทุกช่องทาง ภาพรวมสินค้าคงคลังทั้งหมดแบบมุมมองเดียวสามารถช่วยให้การเติมสินค้าของใบสั่ง การปันส่วน และการกระจายสินค้าเกิดประสิทธิภาพสูงสุด ดังนั้น การใช้และการปฏิบัติการของระบบการจัดการใบสั่งแบบกระจาย (DOM) สำหรับผู้ค้าปลีจะยิ่งทวีความสำคัญมากขึ้นเรื่อยๆ

DOM จะเพิ่มประสิทธิภาพสูงสุดให้กับการเติมสินค้าของใบสั่งในเครือข่ายระบบและกระบวนการที่ซับซ้อน โดยอาศัยการดูภาพรวมสินค้าคงคลังทั้งหมดแบบมุมมองเดียวทั่วทั้งองค์กร จากนั้นจึงจัดการใบสั่งซื้ออย่างชาญฉลาดเพื่อเติมสินค้าอย่างถูกต้องและคุ้มค่ากับการลงทุนมากขึ้น ด้วยการปรับปรุงประสิทธิภาพห่วงโซ่อุปทานของผู้ขายปลีก DOM ช่วยให้ผู้ขายปลีกตอบสนองความคาดหวังของลูกค้าได้ดีขึ้น

ในภาพต่อไปนี้จะแสดงวงจรของใบสั่งขายในระบบ DOM

![วงจรใบสั่งขายในบริบทของ DOM](./media/flow.png "วงจรใบสั่งขายในบริบทของ DOM")

## <a name="set-up-dom"></a>ตั้งค่า DOM

1. ไปที่ **การจัดการระบบ \> การตั้งค่า \> การตั้งค่าคอนฟิกลิขสิทธิ์**
2. ในแท็บ **คีย์การตั้งค่าคอนฟิก** ขยายโหนด **การขายปลีก** แล้วเลือกกล่องกาเครื่องหมาย **การจัดการใบสั่งแบบกระจาย**
3. ไปที่ **การขายปลีก \> การจัดการใบสั่งแบบกระจาย \> การตั้งค่า \> พารามิเตอร์ DOM**
4. บนแท็บ **ทั่วไป** ให้กำหนดค่าดังต่อไปนี้:

    - **เปิดใช้งานการจัดการใบสั่งแบบกระจาย** – ตั้งค่าตัวเลือกนี้เป็น **ใช่**
    - **ยืนยันการใช้ Bing Maps สำหรับ DOM** – ตั้งค่าตัวเลือกนี้เป็น **ใช่**

        > [!NOTE]
        > คุณสามารถตั้งค่าตัวเลือกนี้เป็น **ใช่** ต่อเมื่อตัวเลือก **เปิดใช้งาน Bing Maps** บนแท็บ **Bing Maps** ของหน้า **พารามิเตอร์ที่ใช้ร่วมกันของการขายปลีก** (**การขายปลีก \> การตั้งค่าศูนย์ควบคุม \> พารามิเตอร์ \> พารามิเตอร์ที่ใช้ร่วมกันของการขายปลีก**) ได้รับการตั้งค่าเป็น **ใช่** เช่นเดียวกัน และได้ป้อนคีย์ที่ถูกต้องในฟิลด์ **คีย์ Bing Maps**

    - **รอบระยะเวลาของเงินวางประกันเป็นวัน** – ระบุระยะเวลาที่แผนการเติมสินค้าที่สร้างขึ้นในการเรียกใช้ DOM ถูกเก็บไว้ในระบบ ชุดงาน **การตั้งค่างานการลบข้อมูลการเติมสินค้า DOM** จะลบแผนการเติมสินค้าใดๆ ที่เก่ากว่าจำนวนวันที่คุณระบุไว้ที่นี่
    - **รอบระยะเวลาการปฏิเสธ (เป็นวัน)** – ระบุเวลาที่ต้องใช้ก่อนที่จะสามารถกำหนดรายการใบสั่งที่ปฏิเสธให้กับสถานที่เดียวกัน

5. บนแท็บ **โปรแกรมแก้ปัญหา** ให้กำหนดค่าดังต่อไปนี้:

    - **จำนวนครั้งสูงสุดในการเติมสินค้าอัตโนมัติ** – ระบุจำนวนครั้งที่กลไกจัดการ DOM จะพยายามกำหนดรายการใบสั่งเป็นแบบนายหน้าให้กับสถานที่ หากกลไกจัดการ DOM ไม่สามารถกำหนดรายการใบสั่งเป็นแบบนายหน้าให้กับสถานที่ตามจำนวนครั้งของความพยายามที่ระบุไว้ กลไกจัดการจะใส่ค่าสถานะรายการใบสั่งเป็นข้อยกเว้น จากนั้นจะข้ามรายการดังกล่าวไปในการรันในอนาคตจนกว่าจะมีการรีเซ็ตสถานะด้วยตนเอง
    - **รัศมีพื้นที่ของร้านค้าในท้องถิ่น** – ป้อนค่า ฟิลด์นี้จะช่วยกำหนดวิธีการจัดกลุ่มสถานที่และวิธีที่จะได้รับพิจารณาว่าเท่ากันในแง่ของระยะทาง ตัวอย่างเช่น หากคุณป้อนค่า **100** ทุกร้านค้าหรือศูนย์การกระจายสินค้าในรัศมี 100 ไมล์ของที่อยู่การเติมสินค้าจะถือว่าเท่ากันในแง่ของระยะทาง
    - **ชนิดโปรแกรมแก้ปัญหา** – เลือกค่า ชนิดโปรแกรมแก้ปัญหาสองชนิดที่ถูกนำออกใช้พร้อมกับ Retail: **โปรแกรมแก้ปัญหาการผลิต** และ **โปรแกรมแก้ปัญหาแบบง่าย** สำหรับเครื่องทั้งหมดที่จะรัน DOM (ซึ่งก็คือเซิร์ฟเวอร์ทั้งหมดที่เป็นส่วนหนึ่งของกลุ่ม DOMBatch) ต้องเลือก **โปรแกรมแก้ปัญหาการผลิต** โปรแกรมแก้ปัญหาการผลิตต้องใช้คีย์ลิขสิทธิ์พิเศษที่ได้รับอนุญาตและปรับใช้ในสภาพแวดล้อมการผลิตตามค่าเริ่มต้น สำหรับสภาพแวดล้อมที่ไม่ใช้งานจริง ต้องปรับใช้คีย์ลิขสิทธิ์นี้ด้วยตนเอง ในการปรับใช้คีย์ลิขสิทธิ์ด้วยตนเอง ให้ทำตามขั้นตอนเหล่านี้:

        1. ใน Microsoft Dynamics Lifecycle Services เปิดไลบรารีแอสเซทที่ใช้ร่วมกัน เลือก **แบบจำลอง** เป็นชนิดสินทรัพย์ และดาวน์โหลดไฟล์ **ลิขสิทธิ์ DOM**
        2. เริ่มตัวจัดการ Internet Information Services (IIS) ของ Microsoft คลิกขวาที่ **เว็บไซต์ AOSService** แล้วเลือก **สำรวจ** หน้าต่าง Windows Explorer จะเปิดขึ้นที่ **\<AOS service root\>\\webroot** ให้เขียนหมายเหตุพาธ \<AOS service root\> เนื่องจากคุณจะใช้พาธดังกล่าวในขั้นตอนต่อไป
        3. คัดลอกไฟล์การตั้งค่าคอนฟิกในไดเรกทอรี **\<AOS service root\>\\PackagesLocalDirectory\\DOM\\bin**
        4. ไปที่ไคลเอนต์ Retail Headquarters แล้วเปิดหน้า **พารามิเตอร์ DOM** ใน **โปรแกรมแก้ปัญหา** ในฟิลด์ **ชนิดโปรแกรมแก้ปัญหา** เลือก **โปรแกรมแก้ปัญหาการผลิต** และยืนยันว่าไม่มีข้อความแสดงข้อผิดพลาดปรากฏ

        > [!NOTE]
        > มีการใช้โปรแกรมแก้ปัญหาแบบง่ายเพื่อที่ผู้ขายปลีกจะได้ลองใช้งานคุณลักษณะ DOM โดยไม่ต้องปรับใช้ลิขสิทธิ์พิเศษ องค์กรไม่ควรใช้โปรแกรมแก้ปัญหาแบบง่ายในสภาพแวดล้อมการผลิต
        >
        > แม้ว่าโปรแกรมแก้ปัญหาแบบง่ายจะมีชุดความสามารถเหมือนกับโปรแกรมแก้ปัญหาการผลิต แต่มีข้อจำกัดในเรื่องประสิทธิภาพการทำงาน (จำนวนของใบสั่งและรายการใบสั่งที่สามารถจัดการได้ในการรัน) และการบรรจบกันของผลลัพธ์ (ชุดใบสั่งอาจไม่ทำให้ได้ผลลัพธ์ที่ดีที่สุดในบางสถานการณ์จำลอง)
     
6. กลับไปที่ **การขายปลีก \> การจัดการใบสั่งแบบกระจาย \> การตั้งค่า \> พารามิเตอร์ DOM**
7. บนแท็บ **ลำดับหมายเลข** กำหนดลำดับหมายเลขที่ต้องการสำหรับเอนทิตี้ DOM ต่างๆ

    > [!NOTE]
    > ก่อนที่จะกำหนดลำดับหมายเลขให้กับเอนทิตี้ จะต้องกำหนดลำดับหมายเลขในหน้า **ลำดับหมายเลข** (**การดูแลองค์กร \> ลำดับหมายเลข \> ลำดับหมายเลข**)

8. คุณลักษณะ DOM รองรับการกำหนดกฎ DOM ชนิดต่างๆ และองค์กรสามารถตั้งค่าคอนฟิกกฎหลายรายการ ทั้งนี้ขึ้นอยู่กับความต้องการทางธุรกิจของตน กฎ DOM สามารถกำหนดให้กับกลุ่มสถานที่หรือสถานที่แต่ละแห่ง รวมถึงประเภทผลิตภัณฑ์เฉพาะ ผลิตภัณฑ์ หรือตัวแปร ในการสร้างการจัดกลุ่มสถานที่ที่ต้องใช้สำหรับกฎ DOM ให้ทำตามขั้นตอนต่อไปนี้:

    1. ไปที่ **การขายปลีก \> การตั้งค่าช่องทาง \> กลุ่มการเติมสินค้า**
    2. เลือก **ใหม่** และป้อนชื่อและคำอธิบายสำหรับกลุ่มใหม่
    3. เลือก **บันทึก**
    4. เลือก **เพิ่มรายการ** เพื่อเพิ่มสถานที่เดียวไปยังกลุ่ม หรือเลือก **เพิ่มรายการ** เพื่อเพิ่มหลายสถานที่

9. ในการกำหนดกฎ ไปที่ **การขายปลีก \> การจัดการใบสั่งแบบกระจาย \> การตั้งค่า \> จัดการกฎ** ขณะนี้ระบบสนับสนุนกฎ DOM ต่อไปนี้:

    - **กฎสินค้าคงคลังต่ำสุด** – ชนิดกฎนี้ทำให้องค์กรสามารถ "แบ่งขอบเขต" ปริมาณเฉพาะของผลิตภัณฑ์เพื่อวัตถุประสงค์อื่นที่ไม่ใช่การเติมสินค้าของใบสั่งได้ ตัวอย่างเช่น องค์กรอาจไม่ต้องการให้ DOM พิจารณาสินค้าคงคลังทั้งหมดที่มีในร้านค้าสำหรับการเติมสินค้าของใบสั่ง แต่อาจต้องการให้เก็บรักษาสินค้าคงคลังสำหรับลูกค้าที่เข้ามาในร้านแทน เมื่อใช้ชนิดกฎนี้ คุณสามารถกำหนดสินค้าคงคลังขั้นต่ำที่จะเก็บสำหรับประเภทของผลิตภัณฑ์ ผลิตภัณฑ์แต่ละอย่าง หรือผลิตภัณฑ์ย่อยต่อสถานที่หรือกลุ่มสถานที่ได้
    - **กฎลำดับความสำคัญของสถานที่สำหรับการเติมสินค้า** – ชนิดกฎนี้ทำให้องค์กรสามารถกำหนดลำดับชั้นของสถานที่เพื่อสร้างระดับความสำคัญที่กลไกจัดการ DOM จะใช้พิจารณาเมื่อพยายามระบุสถานที่เติมสินค้าสำหรับผลิตภัณฑ์เฉพาะ ช่วงที่ถูกต้องของระดับความสำคัญคือ 1 ถึง 10 เมื่อ 1 มีระดับความสำคัญสูงสุดและ 10 มีระดับความสำคัญต่ำสุด สถานที่ที่มีระดับความสำคัญสูงกว่าจะได้รับการพิจารณาก่อนสถานที่ที่มีระดับความสำคัญต่ำกว่า หากกฎถูกจำกัดเป็นกฎข้อจำกัดตายตัว ใบสั่งจะได้รับการกำหนดเป็นแบบนายหน้าเฉพาะสำหรับสถานที่ที่มีการกำหนดระดับความสำคัญไว้เท่านั้น
    - **กฎใบสั่งบางส่วน** – กฎนี้ทำให้องค์กรสามารถกำหนดว่าจะเติมสินค้าบางส่วนให้กับใบสั่งหรือรายการใบสั่งหรือไม่ พารามิเตอร์ที่พร้อมใช้งานมีดังต่อไปนี้:

        - **เติมสินค้าให้กับใบสั่งบางส่วน** – หากตั้งค่าตัวเลือกนี้เป็น **ใช่** DOM สามารถเติมปริมาณส่วนหนึ่งให้กับรายการใบสั่งได้เท่านั้น โดยการเติมสินค้าบางส่วนนี้ทำได้โดยการแบ่งรายการใบสั่ง
        - **เติมสินค้าให้กับรายการบางส่วน** – หากตั้งค่าตัวเลือกนี้เป็น **ใช่** DOM สามารถเติมปริมาณบางส่วนให้กับรายการใบสั่ง โดยการเติมสินค้าบางส่วนนี้ทำได้โดยการแบ่งรายการใบสั่ง
        - **ดำเนินการกับใบสั่งจากสถานที่แห่งเดียวเท่านั้น** – หากตั้งค่าตัวเลือกนี้เป็น **ใช่** DOM จะช่วยให้มั่นใจว่าทุกรายการในใบสั่งจะได้รับการเติมสินค้าจากสถานที่แห่งเดียว

        ตารางต่อไปนี้อธิบายพฤติกรรมเมื่อมีการกำหนดชุดข้อมูลพารามิเตอร์เหล่านี้

        |      | เติมสินค้าให้กับใบสั่งบางส่วน | เติมสินค้าให้กับรายการบางส่วน | เติมสินค้าให้กับใบสั่งจากสถานที่แห่งเดียวเท่านั้น | คำอธิบาย |
        |------|------------------------|-----------------------|--------------------------------------|-------------|
        | 1    | ใช่                    | ใช่                   | ใช่                                  | ใบสั่งสองสามรายการสามารถเติมสินค้าได้ และรายการแต่ละรายการสามารถเติมสินค้าได้บางส่วน แต่รายการทุกรายการต้องมาจากสถานที่เดียวกันในอินสแตนซ์ของการเรียกใช้ DOM (ชุดข้อมูลนี้ไม่ได้รับการสนับสนุนในขณะนี้) |
        | 2    | ใช่                    | ไม่ใช่                    | ใช่                                  | ใบสั่งสองสามรายการสามารถเติมสินค้าได้ แต่รายการแต่ละรายการไม่สามารถเติมสินค้าได้บางส่วน และรายการทุกรายการที่เติมสินค้าแล้วต้องมาจากสถานที่เดียวกันในอินสแตนซ์ของการเรียกใช้ DOM (ชุดข้อมูลนี้ไม่ได้รับการสนับสนุนในขณะนี้) |
        | 3    | ใช่                    | ใช่                   | ไม่ใช่                                   | ใบสั่งสองสามรายการสามารถเติมสินค้าได้ แต่รายการแต่ละรายการสามารถเติมสินค้าได้บางส่วน และแต่ละรายการสามารถเติมสินค้าได้จากสถานที่มากกว่าหนึ่งแห่งในอินสแตนซ์ของการเรียกใช้ DOM |
        | 4\*  | ไม่ใช่                     | ใช้ไม่ได้        | ไม่ใช่                                   | รายการใบสั่งทั้งหมดต้องได้รับการเติมสินค้า แต่รายการแต่ละรายการไม่สามารถเติมสินค้าได้บางส่วน และรายการใบสั่งแต่ละรายการสามารถเติมสินค้าได้จากสถานที่อื่น |
        | 5\*  | ไม่ใช่                     | ใช้ไม่ได้        | ใช่                                  | รายการใบสั่งทั้งหมดต้องได้รับการเติมสินค้า แต่รายการแต่ละรายการไม่สามารถเติมสินค้าได้บางส่วน และรายการใบสั่งทุกรายการสามารถจัดส่งได้จากสถานที่เดียวเท่านั้น |
        | 6\*  | ไม่ใช่                     | ใช้ไม่ได้        | ไม่ใช่                                   | ชุดงานนี้ทำงานเหมือนชุดงาน 4 เนื่องจากไม่สามารถตั้งค่า **เติมสินค้าให้กับรายการบางส่วน** เป็น **ใช่** เมื่อ **เติมสินค้าให้กับใบสั่งบางส่วน** ถูกตั้งค่าเป็น **ไม่** |
        | 7\*  | ไม่ใช่                     | ใช้ไม่ได้        | ใช่                                  | ชุดงานนี้ทำงานเหมือนชุดงาน 5 เนื่องจากไม่สามารถตั้งค่า **เติมสินค้าให้กับรายการบางส่วน** เป็น **ใช่** เมื่อ **เติมสินค้าให้กับใบสั่งบางส่วน** เป็น **ไม่** |
        | 8    | ใช่                    | ไม่ใช่                    | ไม่ใช่                                   | ใบสั่งสองสามรายการสามารถเติมสินค้าได้ แต่รายการแต่ละรายการไม่สามารถเติมสินค้าได้บางส่วน และใบสั่งรายการต่างๆ สามารถเติมสินค้าได้จากสถานที่มากกว่าหนึ่งแห่งในอินสแตนซ์ของการเรียกใช้ DOM |
        | 9\*  | ไม่ใช่                     | ใช้ไม่ได้        | ใช่                                  | รายการใบสั่งทั้งหมดต้องได้รับการเติมสินค้า และรายการใบสั่งทุกรายการต้องได้รับการเติมสินค้าจากสถานที่เดียวเท่านั้น |

        \* หาก **เติมสินค้าให้กับใบสั่งบางส่วน** ถูกตั้งค่าเป็น **ไม่** **เติมสินค้าให้กับรายการบางส่วน** จะถูกพิจารณาให้ตั้งค่าเป็น **ไม่** เสมอ ไม่ว่าจริงๆ แล้วจะถูกตั้งค่าอย่างไรก็ตาม

    - **กฎสถานที่สำหรับการเติมสินค้าแบบออฟไลน์** – กฎนี้ทำให้องค์กรสามารถระบุสถานที่หรือกลุ่มสถานที่เป็นออฟไลน์หรือไม่พร้อมใช้งานสำหรับ DOM เพื่อที่จะไม่สามารถกำหนดใบสั่งไว้ที่นั่นสำหรับการเติมสินค้า
    - **กฎการปฏิเสธสูงสุด** – กฎนี้ทำให้องค์กรสามารถกำหนดค่าเกณฑ์สำหรับการปฏิเสธ เมื่อถึงขีดจำกัด ตัวประมวลผล DOM จะทำเครื่องหมายใบสั่งหรือรายการใบสั่งเป็นข้อยกเว้น และแยกออกเพื่อประมวลผลต่อไป

        หลังจากกำหนดรายการใบสั่งให้กับสถานที่แล้ว สถานที่สามารถปฏิเสธรายการใบสั่งที่กำหนดได้ เนื่องจากอาจไม่สามารถเติมสินค้าให้กับรายการดังกล่าวด้วยเหตุผลบางประการ รายการที่ถูกปฏิเสธจะถูกทำเครื่องหมายเป็นข้อยกเว้น และใส่กลับเข้าไปที่กลุ่มเพื่อประมวลผลในการรันครั้งต่อไป ในการรันครั้งต่อไป DOM จะพยายามกำหนดรายการที่ถูกปฏิเสธไปยังสถานที่อื่น สถานที่ใหม่ดังกล่าวสามารถปฏิเสธรายการใบสั่งที่กำหนดได้เช่นกัน วงจรการกำหนดและการปฏิเสธนี้อาจเกิดขึ้นหลายครั้ง เมื่อจำนวนการปฏิเสธถึงขีดจำกัดที่กำหนดไว้ DOM จะทำเครื่องหมายรายการใบสั่งนั้นเป็นข้อยกเว้นถาวร และไม่นำรายการดังกล่าวมากำหนดอีก DOM จะพิจารณารายการใบสั่งเพื่อการกำหนดใหม่ต่อเมื่อผู้ใช้รีเซ็ตสถานะของใบสั่งรายการดังกล่าวด้วยตนเอง

    - **กฎระยะทางสูงสุด** – กฎนี้ทำให้องค์กรสามารถกำหนดระยะทางสูงสุดที่สถานที่หรือกลุ่มสถานที่สามารถเติมสินค้าให้กับสั่ง หากมีการกำหนดกฎระยะทางสูงสุดที่ทับซ้อนกันให้กับสถานที่ DOM จะนำระยะทางสูงสุดที่ต่ำที่สุดซึ่งกำหนดให้กับสถานที่ดังกล่าวมาใช้
    - **กฎใบสั่งสูงสุด** – กฎนี้ทำให้องค์กรสามารถกำหนดจำนวนใบสั่งสูงสุดที่สถานที่หรือกลุ่มสถานที่สามารถประมวลผลในระหว่างวันในปฏิทิน หากมีการกำหนดกฎใบสั่งสูงสุดให้กับสถานที่ในวันเดียว DOM จะไม่กำหนดใบสั่งเพิ่มเติมไปยังสถานที่ดังกล่าวอีกสำหรับวันในปฏิทินที่เหลือดังกล่าว

    ต่อไปนี้คือแอตทริบิวต์ทั่วไปที่สามารถกำหนดให้กับชนิดกฎก่อนหน้านี้ทั้งหมด:

    - **วันที่เริ่มต้น** และ **วันที่สิ้นสุด** – กฎทุกกฎสามารถทำให้เป็นวันที่มีผลบังคับใช้ได้โดยใช้ฟิลด์เหล่านี้
    - **ปิดใช้งาน** – เฉพาะกฎที่มีค่า **ไม่** สำหรับฟิลด์นี้เท่านั้นที่จะได้รับพิจารณาในการเรียกใช้ DOM
    - **ข้อจำกัดตายตัว** – สามารถกำหนดกฎเป็นข้อจำกัดตายตัวหรือไม่เป็นข้อจำกัดตายตัวได้ ทุกๆ การเรียกใช้ DOM จะผ่านการเกิดซ้ำสองครั้ง ในการเกิดซ้ำครั้งแรก กฎทุกกฎจะได้รับการจัดการเป็นกฎข้อจำกัดตายตัว ไม่ว่าไม่ว่าจะตั้งค่าไว้อย่างไรในฟิลด์ กล่าวคือ มีการนำกฎทุกกฎมาใช้ ข้อยกเว้นเดียวคือกฎ **ลำดับความสำคัญของสถานที่** ในการเกิดซ้ำครั้งที่สอง กฎที่ไม่ได้รับการกำหนดเป็นกฎข้อจำกัดตายตัวจะถูกลบออก และใบสั่งหรือรายการใบสั่งที่ไม่ได้รับการกำหนดให้กับสถานที่เมื่อนำกฎทุกกฎมาใช้จะได้รับการกำหนดให้กับสถานที่

10. มีการใช้โพรไฟล์การเติมสินค้าเพื่อจัดกลุ่มชุดข้อมูลกฎ นิติบุคคล จุดเริ่มต้นของใบสั่งขาย และวิธีการจัดส่ง การเรียกใช้ DOM ทุกครั้งมีไว้สำหรับโพรไฟล์การเติมสินค้าเฉพาะ ด้วยวิธีนี้ องค์กรจะสามารถกำหนดและเรียกใช้ชุดของกฎสำหรับชุดนิติบุคคลกับใบสั่งที่มีจุดเริ่มต้นของใบสั่งขายและวิธีการจัดส่งเฉพาะ ดังนั้น หากต้องรันชุดของกฎอื่นสำหรับจุดเริ่มต้นของใบสั่งขายและวิธีการจัดส่งอื่น เราสามารถกำหนดโพรไฟล์การเติมสินค้าให้สอดคล้องกันได้ หากต้องการตั้งค่าโพรไฟล์การเติมสินค้า ให้ดำเนินการตามขั้นตอนต่อไปนี้:  

    1. ไปที่ **การขายปลีก \> การจัดการใบสั่งแบบกระจาย \> การตั้งค่า \> โพรไฟล์การเติมสินค้า**
    2. เลือก **ใหม่**
    3. ป้อนค้าในฟิลด์ **โพรไฟล์** และ **คำอธิบาย**
    4. ตั้งค่าตัวเลือก **ใช้ผลลัพธ์แบบอัตโนมัติ** ถ้าคุณกำหนดตัวเลือกนี้เป็น **ใช่** ผลลัพธ์ของการเรียกใช้ DOM สำหรับโพรไฟล์จะนำมาใช้กับรายการใบสั่งขายโดยอัตโนมัติ ถ้าคุณกำหนดตัวเลือกเป็น **ไม่** สามารถเห็นผลลัพธ์ได้ในแผนการเติมสินค้าเท่านั้น ผลลัพธ์จะไม่ถูกนำไปใช้กับรายการใบสั่งขาย
    5. หากคุณต้องการให้มีการเรียกใช้โพรไฟล์ DOM สำหรับใบสั่งที่มีจุดเริ่มต้นของใบสั่งขายทุกรายการ แม้ว่าใบสั่งจะไม่ได้กำหนดจุดเริ่มต้นของใบสั่งขายไว้ ให้ตั้งค่าตัวเลือก **ประมวลผลใบสั่งที่มีจุดเริ่มต้นการขายที่ว่างเปล่า** เป็น **ใช่** หากต้องการรันโพรไฟล์สำหรับจุดเริ่มต้นของใบสั่งขายเพียงสองสามรายการ คุณสามารถกำหนดโพรไฟล์บนหน้า **จุดเริ่มต้นการขาย** ได้ดังที่จะอธิบายต่อไป
    6. ในแท็บด่วน **นิติบุคคล** เลือก **เพิ่ม** แล้วเลือกนิติบุคคล
    7. ในแท็บด่วน **กฎ** เลือก **เพิ่ม** แล้วเลือกกฎเพื่อเชื่อมโยงโพรไฟล์
    8. ทำซ้ำสองขั้นตอนก่อนหน้านี้จนกว่ากฎที่จำเป็นทั้งหมดจะเชื่อมโยงกับโพรไฟล์
    9. เลือก **บันทึก**
    10. บนบานหน้าต่างการดำเนินการ บนแท็บ **การตั้งค่า** เลือก **วิธีการจัดส่ง**
    11. ในหน้า **วิธีการจัดส่ง** เลือก **ใหม่**
    12. ในฟิลด์ **บริษัท** เลือกนิติบุคคล ข้อมูลรายชื่อของบริษัทถูกจำกัดไว้ตามนิติบุคคลที่คุณเพิ่มไว้ก่อนหน้านี้
    13. ในฟิลด์ **วิธีการจัดส่ง** เลือกวิธีการจัดส่งเพื่อเชื่อมโยงกับโพรไฟล์นี้ วิธีการจัดส่งไม่สามารถเชื่อมโยงกับโพรไฟล์ที่ใช้งานอยู่หลายโพรไฟล์
    14. ทำซ้ำสองขั้นตอนก่อนหน้านี้จนกว่าวิธีการจัดส่งที่จำเป็นทั้งหมดจะเชื่อมโยงกับโพรไฟล์
    15. ปิดหน้า **วิธีการจัดส่ง**
    16. บนบานหน้าต่างการดำเนินการ บนแท็บ **การตั้งค่า** เลือก **จุดเริ่มต้นของใบสั่งขาย**
    17. ในหน้า **จุดเริ่มต้นการขาย** เลือก **ใหม่**
    18. ในฟิลด์ **บริษัท** เลือกนิติบุคคล ข้อมูลรายชื่อของบริษัทถูกจำกัดไว้ตามนิติบุคคลที่คุณเพิ่มไว้ก่อนหน้านี้
    19. ในฟิลด์ **จุดเริ่มต้นการขาย** เลือกจุดเริ่มต้นการขายเพื่อเชื่อมโยงกับโพรไฟล์นี้ จุดเริ่มต้นการขายไม่สามารถเชื่อมโยงกับโพรไฟล์ที่ใช้งานอยู่หลายโพรไฟล์
    20. ทำซ้ำสองขั้นตอนก่อนหน้านี้จนกว่าจุดเริ่มต้นการขายที่จำเป็นทั้งหมดจะเชื่อมโยงกับโพรไฟล์
    21. ปิดหน้า **จุดเริ่มต้นการขาย**
    22. ตั้งค่าตัวเลือก **เปิดใช้งานโพรไฟล์** เป็น **ใช่** ถ้ามีข้อผิดพลาดใดๆ ในการตั้งค่า คุณจะได้รับข้อความเตือน

## <a name="dom-processing"></a>การประมวลผล DOM

DOM จะรันในชุดงานเท่านั้น ในการตั้งค่าคอนฟิกชุดงานสำหรับการเรียกใช้ DOM ให้ทำตามขั้นตอนเหล่านี้

1. ไปที่ **การขายปลีก \> การจัดการใบสั่งแบบกระจาย \> การประมวลผลชุดงาน \> การตั้งค่างานของตัวประมวลผล DOM**
1. บนแท็บด่วน **พารามิเตอร์** ในฟิลด์ **โพรไฟล์การเติมสินค้า** เลือกโพรไฟล์ที่ DOM จะต้องรัน
1. บนแท็บด่วน **รันในแบบเบื้องหลัง** ในฟิลด์ **กลุ่มชุดงาน** เลือกกลุ่มชุดงานที่ตั้งค่าคอนฟิก
1. ในฟิลด์ **คำอธิบายงาน** ป้อนชื่อสำหรับชุดงาน
1. เลือก **การเกิดซ้ำ** และกำหนดการเกิดซ้ำของชุดงาน
1. เลือก **ตกลง**

ในเวลาที่ประมวลผล DOM จะพิจารณาใบสั่งและรายการใบสั่งตามที่อธิบายไว้ที่นี่:

- รายการใบสั่งที่ตรงตามเกณฑ์สำหรับจุดเริ่มต้นของใบสั่งขาย วิธีการจัดส่ง และนิติบุคคลตามที่กำหนดไว้ในโพรไฟล์ DOM และที่ตรงตามเกณฑ์ข้อใดข้อหนึ่งดังต่อไปนี้:

    - รายการใบสั่งที่สร้างขึ้นจากช่องทางการขายปลีก
    - รายการใบสั่งที่ไม่เคยได้รับการกำหนดเป็นแบบนายหน้าโดย DOM
    - รายการใบสั่งที่เคยได้รับการกำหนดเป็นแบบนายหน้าโดย DOM แล้ว แต่ถูกทำเครื่องหมายเป็นข้อยกเว้นและอยู่ต่ำกว่าค่าเกณฑ์สูงสุดสำหรับความพยายาม
    - วิธีการจัดส่งไม่ใช่การรับสินค้าหรือการจัดส่งแบบอิเล็กทรอนิกส์
    - รายการใบสั่งไม่ถูกทำเครื่องหมายสำหรับการจัดส่ง
    - รายการใบสั่งไม่ได้ถูกตัดออกด้วยตนเอง

- ใบสั่งที่ไม่ถูกระงับ

หากใช้กฎ ข้อจำกัดสินค้าคงคลัง และการเพิ่มประสิทธิภาพ DOM จะเลือกสถานที่อยู่ใกล้กับที่อยู่ที่จัดส่งของลูกค้ามากที่สุด

![เกณฑ์ใบสั่งขาย](./media/ordercriteria.png "เกณฑ์ใบสั่งขาย")

## <a name="results-of-dom-runs"></a>ผลลัพธ์ของการเรียกใช้ DOM

หากมีการตั้งค่าไฟล์การเติมสินค้าเป็น **การนำมาใช้อัตโนมัติ** ผลลัพธ์ของการเรียกใช้จะนำมาใช้กับรายการใบสั่งขายโดยอัตโนมัติ และสามารถดูข้อมูลแผนการเติมสินค้าแยกต่างหากได้ อย่างไรก็ดี หากไม่มีการตั้งค่าไฟล์การเติมสินค้าเป็น **การนำมาใช้อัตโนมัติ** จะไม่สามารถดูผลลัพธ์ของการเรียกใช้จากมุมมองแผนการเติมสินค้าได้ 

เพื่อดูแผนการเติมสินค้าทั้งหมดที่สร้างขึ้น ให้ทำตามขั้นตอนดังนี้

1. ไปที่ **การขายปลีก \> การจัดการใบสั่งแบบกระจาย \> การจัดการใบสั่งแบบกระจาย**
2. ในพื้นที่ทำงาน **การจัดการใบสั่งแบบกระจาย** เลือกไทล์ **แผนการเติมสินค้า**
3. เลือกรหัสของแผนการเติมสินค้าที่เกี่ยวข้องเพื่อดูแผนการเติมสินค้า

    ส่วนรายละเอียดใบสั่งของแผนการเติมสินค้าแสดงต้นฉบับของรายการใบสั่งขายที่เคยเป็นส่วนหนึ่งของการรัน นอกจากฟิลด์รายการใบสั่งขายมาตรฐานแล้ว ส่วนรายละเอียดใบสั่งยังประกอบด้วยฟิลด์ที่เกี่ยวข้องกับ DOM สามฟิลด์ดังต่อไปนี้:

    - **ชนิดการเติมสินค้า** – ฟิลด์นี้จะระบุว่ารายการใบสั่งขายได้รับการกำหนดเป็นแบบนายหน้าทั้งหมด ได้รับการกำหนดเป็นแบบนายหน้าบางส่วน หรือไม่ได้รับการกำหนดเป็นแบบนายหน้าเลยให้กับสถานที่หรือไม่
    - **การแบ่ง** – ฟิลด์นี้จะระบุว่ารายการใบสั่งขายใบหนึ่งถูกแบ่งและได้รับการกำหนดเป็นแบบนายหน้าทั้งหมดให้กับสถานที่ต่างๆ หรือไม่
    - **จำนวนของสถานที่สำหรับการเติมสินค้า** – ฟิลด์นี้จะระบุจำนวนรายการการเติมสินค้าที่สร้างสำหรับรายการใบสั่งขายหนึ่งรายการ (ตามจำนวนสถานที่ที่ต้นฉบับรายการใบสั่งขายได้รับการกำหนดเป็นแบบนายหน้า)

    ส่วนรายละเอียดการเติมสินค้าของใบสั่งแสดงการกำหนดต้นฉบับของรายการใบสั่งขายไปยังสถานที่ต่างๆ พร้อมกับปริมาณของรายการใบสั่งขาย

## <a name="order-line-actions-and-statuses"></a>การดำเนินการและสถานะของรายการใบสั่ง

ข้อมูลต่อไปนี้จะอธิบายการตั้งค่าต่างๆ ในรายการใบสั่ง ในการเปิดรายการใบสั่ง ไปที่ **การขายปลีก \> ลูกค้า \> ใบสั่งขายทั้งหมด**
- หากคุณตั้งค่าตัวเลือก **ตัดออกจากการประมวลผล DOM** บนแท็บ **ทั่วไป** ของรายการใบสั่งขายเป็น **ใช่** ใบสั่งหรือรายการใบสั่งจะถูกตัดออกจากการประมวลผล DOM
- ฟิลด์ **สถานะ DOM** บนแท็บ **ทั่วไป** ของรายการใบสั่งขายสามารถกำหนดให้มีค่าดังต่อไปนี้:

    - **ไม่มี** – รายการใบสั่งไม่เคยได้รับการกำหนดเป็นแบบนายหน้า
    - **เสร็จสมบูรณ์** – รายการใบสั่งได้รับการกำหนดเป็นแบบนายหน้าและกำหนดให้กับสถานที่เรียบร้อยแล้ว
    - **ข้อยกเว้น** – รายการใบสั่งได้รับการกำหนดเป็นแบบนายหน้าแล้วแต่ไม่สามารถกำหนดให้กับสถานที่ ข้อยกเว้นมีชนิดย่อยหลายชนิดที่สามารถดูได้จากพื้นที่ทำงาน DOM:

        - **ไม่มีปริมาณที่พร้อมใช้งาน** – ไม่มีสินค้าคงคลังที่พร้อมใช้งานเพื่อกำหนดใบสั่งให้กับสถานที่
        - **การปฏิเสธสูงสุด** – รายการใบสั่งถึงค่าเกณฑ์สูงสุดสำหรับการปฏิเสธแล้ว
        - **ความขัดแย้งในการแก้ไขข้อมูล** – รายการใบสั่งขายมีการเปลี่ยนแปลงนับตั้งแต่ใบสั่งได้รับการกำหนดเป็นแบบนายหน้า ดังนั้น แผนการเติมสินค้าจะไม่ถูกนำไปใช้กับใบสั่ง
        - **ข้อยกเว้นเฉพาะของรายการใบสั่ง** – มีข้อยกเว้นหลายรายการในรายการใบสั่ง

- ในระหว่างการป้อนข้อมูลใบสั่งขาย DOM สามารถเรียกใช้ในโหมดแบบโต้ตอบได้ ขณะที่คุณกำลังป้อนข้อมูลรายการใบสั่ง หลังจากระบุผลิตภัณฑ์และปริมาณแล้ว คุณสามารถเลือก **อัปเดตรายการ** และภายใต้ **DOM** เลือก **แนะนำสถานที่สำหรับการเติมสินค้า** จากนั้น คุณจะเห็นรายชื่อสถานที่ซึ่งอิงตามกฎ DOM ที่สามารถเติมปริมาณลงในรายการใบสั่ง รายการนี้มีการเรียงลำดับตามระยะทาง เลือกสถานที่เพื่อกำหนดไซต์และคลังสินค้าที่เกี่ยวข้องในรายการใบสั่งขาย เพื่อให้ฟังก์ชันนี้ทำงานจะต้องมีโพรไฟล์ที่ใช้งานอยู่ซึ่งตรงกับจุดเริ่มต้นการขายและโหมดการจัดส่งในรายการขาย
- หากต้องการดูล็อกจากการเรียกใช้ DOM สำหรับรายการใบสั่งขาย ให้เลือก **รายการใบสั่งขาย** และภายใต้ **DOM** เลือก **ดูล็อก DOM** ล็อก DOM แสดงเหตุการณ์และล็อกทั้งหมดที่ถูกสร้างขึ้นจากการเรียกใช้ DOM ล็อกช่วยให้คุณเข้าใจว่าเพราะเหตุใดจึงกำหนดสถานที่เฉพาะให้กับรายการใบสั่ง และกฎและข้อจำกัดใดบ้างที่ได้รับการพิจารณาเป็นส่วนหนึ่งของการกำหนด บนแท็บ **จัดการ** ล็อก DOM ยังพร้อมใช้งานที่ระดับส่วนหัวของใบสั่งขาย

## <a name="run-a-clean-up-job-for-dom-fulfillment-plans"></a>เรียกใช้งานการล้างข้อมูลสำหรับแผนการเติมสินค้าสำหรับ DOM

ขณะที่การประมวลผล DOM ทำงาน แผนการเติมสินค้าจะถูกสร้างขึ้น เมื่อเวลาผ่านไป ระบบจะเก็บแผนการเติมสินค้าต่างๆ ไว้ ในการจัดการจำนวนแผนการเติมสินค้าที่ระบบเก็บไว้ คุณสามารถตั้งค่าคอนฟิกชุดงานที่ลบแผนการเติมสินค้าที่เก่ากว่าได้ตามค่า **รอบระยะเวลาของเงินวางประกันเป็นวัน**

1. ไปที่ **การขายปลีก \> การจัดการใบสั่งแบบกระจาย \> การประมวลผลชุดงาน \> การตั้งค่างานการลบข้อมูลการเติมสินค้า DOM** 
1. ในฟิลด์ **กลุ่มชุดงาน** เลือกกลุ่มชุดงานที่ตั้งค่าคอนฟิก
1. เลือก **การเกิดซ้ำ** และกำหนดการเกิดซ้ำของชุดงาน
1. เลือก **ตกลง**

## <a name="more-information"></a>ข้อมูลเพิ่มเติม

ต่อไปนี้เป็นสิ่งที่ควรพิจารณาเมื่อคุณใช้คุณลักษณะ DOM:

- ปัจจุบัน DOM ดูเฉพาะใบสั่งที่สร้างขึ้นจากช่องทางการขายปลีกเท่านั้น ใบสั่งขายจะถูกระบุเป็นใบสั่งขายของการขายปลีกเมื่อตัวเลือก **การขายปลีก** ถูกตั้งค่าเป็น **ใช่**
- Microsoft ไม่ได้ทดสอบ DOM ที่มีคุณลักษณะการทำงานของการบริหารคลังสินค้าขั้นสูง ลูกค้าและคู่ค้าต้องใช้ความระมัดระวังในการกำหนดว่า DOM เข้ากันได้กับความสามารถในการจัดการคลังสินค้าขั้นสูงและกระบวนการที่เกี่ยวข้องหรือไม่
- DOM มีพร้อมใช้งานใน Retail เวอร์ชันคลาวด์เท่านั้น ซึ่งไม่ได้รับการสนับสนุนในการปรับใช้ในองค์กร
