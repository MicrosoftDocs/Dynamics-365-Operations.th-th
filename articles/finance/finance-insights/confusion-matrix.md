---
title: ผลลัพธ์ของแบบจำลองการเรียนรู้ของเครื่อง (ตัวอย่าง)
description: หัวข้อนี้จะกล่าวถึงเกี่ยวกับเมทริกซ์ความสับสน ปัญหาการจัดประเภท และความถูกต้องในแบบจำลองการเรียนรู้ของเครื่อง (ML) จุดประสงค์คือเพื่อเพิ่มความเข้าใจของคุณเรื่องความถูกต้องในผลการคาดการณ์ ML
author: ShivamPandey-msft
manager: AnnBe
ms.date: 06/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.search.scope: Core, Operations
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: 6a1620c33ee1e23a79ef5413afebdee332aa82b6
ms.sourcegitcommit: deb711c92251ed48cdf20ea514d03461c26a2262
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 11/25/2020
ms.locfileid: "4645028"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="8f893-104">ผลลัพธ์ของแบบจำลองการเรียนรู้ของเครื่อง (ตัวอย่าง)</span><span class="sxs-lookup"><span data-stu-id="8f893-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="8f893-105">หัวข้อนี้จะกล่าวถึงเกี่ยวกับเมทริกซ์ความสับสน ปัญหาการจัดประเภท และความถูกต้องในแบบจำลองการเรียนรู้ของเครื่อง (ML)</span><span class="sxs-lookup"><span data-stu-id="8f893-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="8f893-106">จุดประสงค์คือเพื่อเพิ่มความเข้าใจของคุณเรื่องความถูกต้องในผลการคาดการณ์ ML</span><span class="sxs-lookup"><span data-stu-id="8f893-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="8f893-107">ผู้ชมเป้าหมายรวมถึงวิศวกร นักวิเคราะห์ และผู้จัดการที่ต้องการสร้างความรู้และทักษะในด้านวิทยาศาสตร์ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="8f893-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="8f893-108">เมทริกซ์ความสับสน</span><span class="sxs-lookup"><span data-stu-id="8f893-108">Confusion matrix</span></span>
<span data-ttu-id="8f893-109">หลังจากที่ได้รับการฝึกอบรมจากปัญหา ML ที่มีการตรวจสอบในชุดของข้อมูลในอดีต จะมีการทดสอบโดยการใช้ข้อมูลที่หักจากกระบวนการฝึกอบรม</span><span class="sxs-lookup"><span data-stu-id="8f893-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="8f893-110">ด้วยวิธีนี้ คุณสามารถเปรียบเทียบการคาดการณ์จากแบบจำลองที่ได้รับการฝึกอบรมที่มีค่าจริง</span><span class="sxs-lookup"><span data-stu-id="8f893-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="8f893-111">เมทริกซ์ความสับสนจะช่วยให้คุณสามารถประเมินความสำเร็จในการจัดประเภทได้อย่างไรและทำให้เกิดข้อผิดพลาด (นั่นคือ ซึ่งจะกลายเป็น "สับสน")</span><span class="sxs-lookup"><span data-stu-id="8f893-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="8f893-112">ตัวอย่างเช่น วัตถุประสงค์ของคุณคือการคาดการณ์ว่าสัตว์เลี้ยงเป็นสุนัขหรือแมว โดยขึ้นอยู่กับแอททริบิวต์ทางกายภาพและพฤติกรรมบางอย่าง</span><span class="sxs-lookup"><span data-stu-id="8f893-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="8f893-113">ถ้าคุณมีการทดสอบชุดข้อมูลที่มีสุนัข 30 และแมว 20 ตัว เมทริกซ์ความสับสนอาจคล้ายกับภาพประกอบต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="8f893-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

<span data-ttu-id="8f893-114">[![ตัวอย่างการคาดการณ์สปีชีส์](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="8f893-114">[![Species prediction example](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="8f893-115">ตัวเลขในเซลล์สีเขียวแสดงการคาดการณ์ที่ถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="8f893-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="8f893-116">ดังเช่นที่คุณสามารถเห็นได้ แบบจำลองคาดการณ์เปอร์เซ็นต์ของแมวจริงสูงกว่าได้อย่างถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="8f893-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="8f893-117">ความถูกต้องโดยรวมของแบบจำลองสามารถคำนวณได้ง่าย</span><span class="sxs-lookup"><span data-stu-id="8f893-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="8f893-118">ในกรณีนี้ 42 ÷ 50 หรือ 0.84</span><span class="sxs-lookup"><span data-stu-id="8f893-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="8f893-119">ตัวจำแนกหลายคลาสในเมทริกซ์ความสับสน</span><span class="sxs-lookup"><span data-stu-id="8f893-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="8f893-120">การสนทนาส่วนใหญ่เกี่ยวกับเมทริกซ์ความสับสนจะเน้นบนตัวจำแนกไบนารี เช่นเดียวกับในตัวอย่างก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="8f893-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="8f893-121">กรณีนี้เป็นกรณีพิเศษที่จะถือว่าเมตริกอื่น ๆ เช่น ความไวและการเรียกคืน</span><span class="sxs-lookup"><span data-stu-id="8f893-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="8f893-122">ถัดไป เราจะพิจารณาปัญหาการจัดประเภทสำหรับสถานการณ์จำลองทางการเงินที่มีสามรัฐ</span><span class="sxs-lookup"><span data-stu-id="8f893-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="8f893-123">แบบจำลองการคาดการณ์ว่าใบแจ้งหนี้ของลูกค้าจะได้รับการชำระเงินในเวลา ล่าช้า หรือช้ามาก</span><span class="sxs-lookup"><span data-stu-id="8f893-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="8f893-124">ตัวอย่างเช่น จากใบแจ้งหนี้ 100 ใบหนี้ 50 ชำระเงินตรงเวลา 35 มีการชำระเงินล่าช้า และ 15 จะมีการชำระเงินล่าช้ามาก</span><span class="sxs-lookup"><span data-stu-id="8f893-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="8f893-125">ในกรณีนี้ แบบจำลองอาจสร้างเมทริกซ์ความสับสนที่คล้ายกับภาพประกอบต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="8f893-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

<span data-ttu-id="8f893-126">[![แบบจำลอง 1](./media/payment-prediction-matrix.png)](payment-prediction-matrix.png) แบบจำลอง1</span><span class="sxs-lookup"><span data-stu-id="8f893-126">[![Model 1](./media/payment-prediction-matrix.png)](payment-prediction-matrix.png) Model 1</span></span>

<span data-ttu-id="8f893-127">เมทริกซ์ความสับสนมีข้อมูลมากเกินกว่าการวัดความแม่นยำอย่างง่าย</span><span class="sxs-lookup"><span data-stu-id="8f893-127">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="8f893-128">อย่างไรก็ตาม ยังคงเข้าใจง่าย</span><span class="sxs-lookup"><span data-stu-id="8f893-128">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="8f893-129">เมทริกซ์ความสับสนจะบอกให้คุณทราบว่าคุณมีชุดข้อมูลที่มีความสมดุลซึ่งคลาสของผลลัพธ์มีการตรวจนับที่คล้ายกันหรือไม่</span><span class="sxs-lookup"><span data-stu-id="8f893-129">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="8f893-130">สำหรับสถานการณ์จำลองแบบหลายคลาส จะบอกให้คุณทราบว่าการคาดการณ์จะเป็นอย่างไรเมื่อมีการจัดลำดับชั้นของผลผลิต ตามตัวอย่างก่อนหน้านี้เกี่ยวกับการชำระเงินของลูกค้า</span><span class="sxs-lookup"><span data-stu-id="8f893-130">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="8f893-131">ความถูกต้องของแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="8f893-131">Model accuracy</span></span> 
<span data-ttu-id="8f893-132">เมตริกความถูกต้องแตกต่างกันมีข้อดีของการกำหนดปริมาณคุณภาพของแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="8f893-132">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="8f893-133">เนื่องจากความถูกต้องเป็นการวัดอย่างง่ายที่จะเข้าใจ ซึ่งเป็นจุดเริ่มต้นที่ดีสำหรับการอธิบายแบบจำลองให้กับผู้อื่น โดยเฉพาะอย่างยิ่งกับผู้ใช้ที่ไม่ใช่นักวิทยาศาสตร์ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="8f893-133">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="8f893-134">ไม่จำเป็นต้องทำความเข้าใจเกี่ยวกับสถิติเพื่อให้เข้าใจถึงความถูกต้องของแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="8f893-134">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="8f893-135">เมื่อมีเมทริกซ์ความสับสนที่พร้อมใช้งาน จะให้ข้อมูลเชิงลึกเพิ่มเติมเกี่ยวกับประสิทธิภาพของแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="8f893-135">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="8f893-136">อย่างไรก็ตาม เพื่อให้เกิดความเข้าใจอย่างชัดแจ้ง ความท้าทายหลายอย่างที่เกี่ยวข้องกับความแม่นยำควรมีการระบุไว้</span><span class="sxs-lookup"><span data-stu-id="8f893-136">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="8f893-137">ประโยชน์ของการวัดจะขึ้นอยู่กับบริบทของปัญหา</span><span class="sxs-lookup"><span data-stu-id="8f893-137">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="8f893-138">คำถามที่มักเกิดขึ้นจากความสัมพันธ์กับประสิทธิภาพของแบบจำลองคือ "แบบจำลองดีขนาดไหน"</span><span class="sxs-lookup"><span data-stu-id="8f893-138">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="8f893-139">อย่างไรก็ตาม คำตอบสำหรับคำถามนี้ไม่จำเป็นต้องตรงไปตรงมา</span><span class="sxs-lookup"><span data-stu-id="8f893-139">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="8f893-140">พิจารณาเมทริกซ์ความสับสนต่อไปนี้ (แบบจำลอง 2)</span><span class="sxs-lookup"><span data-stu-id="8f893-140">Consider the following confusion matrix (model 2).</span></span>

<span data-ttu-id="8f893-141">[![ตัวอย่างการคาดการณ์การชำระเงินที่มีตัวอย่างที่ใหญ่กว่า](./media/payment-prediction-matrix-2.png)](payment-prediction-matrix-2.png)</span><span class="sxs-lookup"><span data-stu-id="8f893-141">[![Payment prediction example with a larger sample](./media/payment-prediction-matrix-2.png)](payment-prediction-matrix-2.png)</span></span>

<span data-ttu-id="8f893-142">การคำนวณอย่างรวดเร็วแสดงว่าความถูกต้องของแบบจำลองนี้คือ (70 + 10 + 3) ÷ 100 หรือ 0.83</span><span class="sxs-lookup"><span data-stu-id="8f893-142">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="8f893-143">ตามพื้นผิว ผลลัพธ์นี้ดูเหมือนดีกว่าผลลัพธ์สำหรับรุ่นก่อนหน้าแบบหลายคลาส (แบบจำลอง 1) ซึ่งมีความถูกต้องเป็น 0.73</span><span class="sxs-lookup"><span data-stu-id="8f893-143">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="8f893-144">แต่ดีกว่าหรือไม่</span><span class="sxs-lookup"><span data-stu-id="8f893-144">But is it better?</span></span>

<span data-ttu-id="8f893-145">ถ้าต้องการเริ่มต้นที่จะแก้ไขคำถามนี้ ให้พิจารณาความถูกต้องของการคาดการณ์แบบไร้กังวล</span><span class="sxs-lookup"><span data-stu-id="8f893-145">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="8f893-146">สำหรับปัญหาการจัดประเภท การคาดการณ์แบบง่าย ๆ จะทำนายระดับชั้นทั่วไปเสมอ</span><span class="sxs-lookup"><span data-stu-id="8f893-146">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="8f893-147">สำหรับแบบจำลอง 1 ทายว่าจะเป็น "ในเวลา" และจะสร้างความถูกต้องของ 0.50</span><span class="sxs-lookup"><span data-stu-id="8f893-147">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="8f893-148">การทายสำหรับแบบจำลอง 2 จะเป็น "ในเวลา" และจะสร้างความถูกต้องของ 0.80</span><span class="sxs-lookup"><span data-stu-id="8f893-148">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="8f893-149">เนื่องจากแบบจำลอง 1 ช่วยเพิ่มความคาดการณ์โดย 0.73 – 0.50 = 0.23 ในขณะที่แบบจำลอง 2 ปรับปรุงในความคิดแบบไร้กังวลของ 0.83 – 0.80 = 0.03 แบบจำลอง 1 เป็นแบบจำลองที่ดีกว่าแม้ว่าจะมีความถูกต้องต่ำกว่า</span><span class="sxs-lookup"><span data-stu-id="8f893-149">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="8f893-150">การคำนวณจะแสดงให้เห็นว่าการประเมินที่มีประสิทธิภาพของคุณภาพของแบบจำลองจำเป็นต้องมีบริบทมากขึ้นกว่าค่าความถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="8f893-150">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="8f893-151">อีกแง่มุมหนึ่งไม่มีประโยชน์</span><span class="sxs-lookup"><span data-stu-id="8f893-151">Another aspect is worth noting.</span></span> <span data-ttu-id="8f893-152">พิจารณาสถานการณ์จำลองที่ใช้ในการตรวจรักษาโรคในผู้ป่วย</span><span class="sxs-lookup"><span data-stu-id="8f893-152">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="8f893-153">ปัญหานี้เป็นปัญหาการจัดประเภทแบบไบนารีซึ่งผลบวกบ่งชี้ว่าผู้ป่วยมีโรค</span><span class="sxs-lookup"><span data-stu-id="8f893-153">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="8f893-154">ในสถานการณ์จำลองนี้ คุณต้องคำนึงถึงผลกระทบของข้อผิดพลาดต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="8f893-154">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="8f893-155">บวกเท็จ ซึ่งการทดสอบกล่าวว่าผู้ป่วยมีโรค แต่เธอไม่ได้มีจริง ๆ</span><span class="sxs-lookup"><span data-stu-id="8f893-155">False positives, where the test says that a patient has the disease, but she doesn't really have it</span></span>
- <span data-ttu-id="8f893-156">ลบเท็จ ซึ่งการทดสอบกล่าวว่าผู้ป่วยไม่มีโรค แต่จริง ๆ เขามี</span><span class="sxs-lookup"><span data-stu-id="8f893-156">False negatives, where the test says that a patient doesn't have the disease, but he really does have it</span></span>

<span data-ttu-id="8f893-157">เห็นได้ชัด ทั้งสองชนิดของข้อผิดพลาดไม่พึงประสงค์ แต่อันไหนเลวร้ายกว่ากัน</span><span class="sxs-lookup"><span data-stu-id="8f893-157">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="8f893-158">อีกครั้ง ก็ขึ้นอยู่กับปัจจัย</span><span class="sxs-lookup"><span data-stu-id="8f893-158">Again, it depends.</span></span> <span data-ttu-id="8f893-159">ในกรณีที่มีโรคที่คุกคามชีวิตซึ่งจำเป็นต้องมีการรักษาอย่างรวดเร็ว การลดลงของผลลบเท็จ (คาดหวังตามการทดสอบเพิ่มเติม) จะให้ความสำคัญสูงกว่า</span><span class="sxs-lookup"><span data-stu-id="8f893-159">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="8f893-160">ในกรณีอื่นที่มีสถานการณ์ร้ายแรงน้อยกว่า ผู้สร้างแบบจำลองอาจลดผลบวกเท็จแทน</span><span class="sxs-lookup"><span data-stu-id="8f893-160">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="8f893-161">ในอัตราใดก็ตาม ข้อสรุปที่เหมาะสมคือเพื่อให้สามารถกำหนดคุณภาพของแบบจำลองได้อย่างมีประสิทธิภาพ คุณต้องมีข้อมูลเพิ่มเติมที่มากกว่าที่การวัดความถูกต้องให้</span><span class="sxs-lookup"><span data-stu-id="8f893-161">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="8f893-162">คำแนะนำ</span><span class="sxs-lookup"><span data-stu-id="8f893-162">Recommendations</span></span>

<span data-ttu-id="8f893-163">ความถูกต้องเป็นเครื่องมือที่สำคัญสำหรับการสื่อสารกับผู้เชี่ยวชาญของโดเมนที่ไม่คุ้นเคยกับสถิติ</span><span class="sxs-lookup"><span data-stu-id="8f893-163">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="8f893-164">อย่างไรก็ตาม เพื่อให้ข้อมูลที่เป็นประโยชน์ ถือเป็นเรื่องสำคัญที่จะให้เนื้อหาเพิ่มเติมพร้อมกับค่าความถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="8f893-164">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="8f893-165">สำหรับสถานการณ์การคาดการณ์การชำระเงิน คุณสามารถตั้งค่าเป้าหมายสำหรับรูปแบบ ML ที่มีปัจจัยในลักษณะการทำงานการชำระเงินที่แตกต่างกัน</span><span class="sxs-lookup"><span data-stu-id="8f893-165">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="8f893-166">เป้าหมายคือแบบจำลองควรจะปรับปรุงการคาดการณ์ไร้เดียงสาโดยการลดจำนวนของคำตอบที่ไม่ถูกต้องด้วยอย่างน้อย 50 เปอร์เซ็นต์</span><span class="sxs-lookup"><span data-stu-id="8f893-166">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="8f893-167">กล่าวอีกอย่างหนึ่งคือ คุณต้องการความถูกต้องของเป้าหมายซึ่งแยกความแตกต่างระหว่างความถูกต้องของการคาดการณ์ไร้เดียงสาและ 100 เปอร์เซ็นต์</span><span class="sxs-lookup"><span data-stu-id="8f893-167">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="8f893-168">ตารางต่อไปนี้สรุปหลักการนี้สำหรับเมทริกซ์ความสับสนในหัวข้อนี้</span><span class="sxs-lookup"><span data-stu-id="8f893-168">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="8f893-169">รุ่น</span><span class="sxs-lookup"><span data-stu-id="8f893-169">Model</span></span>   | <span data-ttu-id="8f893-170">คาดการณ์ไร้เดียงสา</span><span class="sxs-lookup"><span data-stu-id="8f893-170">Naïve guess</span></span> | <span data-ttu-id="8f893-171">เป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="8f893-171">Target</span></span> | <span data-ttu-id="8f893-172">ความถูกต้องของแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="8f893-172">Model accuracy</span></span> | <span data-ttu-id="8f893-173">เป็นไปตามเป้าหมายหรือไม่</span><span class="sxs-lookup"><span data-stu-id="8f893-173">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="8f893-174">แบบจำลอง 1</span><span class="sxs-lookup"><span data-stu-id="8f893-174">Model 1</span></span> | <span data-ttu-id="8f893-175">0.50</span><span class="sxs-lookup"><span data-stu-id="8f893-175">0.50</span></span>        | <span data-ttu-id="8f893-176">0.75</span><span class="sxs-lookup"><span data-stu-id="8f893-176">0.75</span></span>   | <span data-ttu-id="8f893-177">0.73</span><span class="sxs-lookup"><span data-stu-id="8f893-177">0.73</span></span>           | <span data-ttu-id="8f893-178">เกือบ</span><span class="sxs-lookup"><span data-stu-id="8f893-178">Almost.</span></span> <span data-ttu-id="8f893-179">แบบจำลองนี้ช่วยปรับปรุงอย่างมีนัยสำคัญของการคาดการณ์</span><span class="sxs-lookup"><span data-stu-id="8f893-179">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="8f893-180">แบบจำลอง 2</span><span class="sxs-lookup"><span data-stu-id="8f893-180">Model 2</span></span> | <span data-ttu-id="8f893-181">0.80</span><span class="sxs-lookup"><span data-stu-id="8f893-181">0.80</span></span>        | <span data-ttu-id="8f893-182">0.90</span><span class="sxs-lookup"><span data-stu-id="8f893-182">0.90</span></span>   | <span data-ttu-id="8f893-183">0.83</span><span class="sxs-lookup"><span data-stu-id="8f893-183">0.83</span></span>           | <span data-ttu-id="8f893-184">ลำดับที่</span><span class="sxs-lookup"><span data-stu-id="8f893-184">No.</span></span> <span data-ttu-id="8f893-185">จำเป็นต้องมีการปรับปรุง</span><span class="sxs-lookup"><span data-stu-id="8f893-185">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="8f893-186">ความถูกต้องของการจัดประเภท F1</span><span class="sxs-lookup"><span data-stu-id="8f893-186">Classification F1 accuracy</span></span>

<span data-ttu-id="8f893-187">การพิจารณาสุดท้ายของหัวข้อนี้เป็นการวัดขั้นสูงของประสิทธิภาพ ML ของการจัดประเภทซึ่งเรียกว่าความถูกต้องของ F1</span><span class="sxs-lookup"><span data-stu-id="8f893-187">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="8f893-188">ก่อนที่จะสามารถกำหนดความถูกต้องของ F1 ต้องมีการแนะนำการวัดเพิ่มเติมสองอย่างต่อไปนี้: ความแม่นยำและการเรียกคืน</span><span class="sxs-lookup"><span data-stu-id="8f893-188">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="8f893-189">ความแม่นยำจะบ่งชี้จำนวนของจำนวนรวมของการคาดการณ์ทั้งหมดที่มีการระบุเป็นค่าบวกถูกกำหนดไว้อย่างถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="8f893-189">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="8f893-190">การวัดนี้เรียกอีกอย่างว่าค่าที่คาดคะเนไว้ในเชิงบวก</span><span class="sxs-lookup"><span data-stu-id="8f893-190">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="8f893-191">การเรียกคืนเป็นจำนวนรวมของกรณีบวกจริงที่คาดการณ์ไว้อย่างถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="8f893-191">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="8f893-192">การวัดนี้เรียกอีกอย่างว่าความไว</span><span class="sxs-lookup"><span data-stu-id="8f893-192">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="8f893-193">[![ผลลัพธ์จริงเทียบกับผลลัพธ์ที่เป็นเท็จ](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="8f893-193">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="8f893-194">ในเมทริกซ์ความสับสนในภาพประกอบก่อนหน้านี้ การวัดเหล่านี้จะมีการคำนวณในลักษณะต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="8f893-194">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="8f893-195">ความแม่นยำ = TP ÷ (TP + FP)</span><span class="sxs-lookup"><span data-stu-id="8f893-195">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="8f893-196">การเรียกคืน = TP ÷ (TP + FN)</span><span class="sxs-lookup"><span data-stu-id="8f893-196">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="8f893-197">การวัด F1 จะรวมความแม่นยำและการเรียกคืน</span><span class="sxs-lookup"><span data-stu-id="8f893-197">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="8f893-198">ผลที่ได้คือค่าเฉลี่ยฮาร์โมนิกที่เป็นความจริงของสองค่า</span><span class="sxs-lookup"><span data-stu-id="8f893-198">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="8f893-199">ซึ่งคำนวณได้ในลักษณะต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="8f893-199">It's calculated in the following way:</span></span>

- <span data-ttu-id="8f893-200">F1 = 2 × (ความแม่นยำ × เรียกคืน) ÷ (ความแม่นยำ + เรียกคืน)</span><span class="sxs-lookup"><span data-stu-id="8f893-200">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="8f893-201">ลองดูที่ตัวอย่างที่เป็นรูปธรรม</span><span class="sxs-lookup"><span data-stu-id="8f893-201">Let's look at a concrete example.</span></span> <span data-ttu-id="8f893-202">ก่อนหน้านี้ในหัวข้อนี้ มีตัวอย่างของแบบจำลองที่คาดว่าสัตว์เป็นสุนัขหรือแมว</span><span class="sxs-lookup"><span data-stu-id="8f893-202">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="8f893-203">มีการทำซ้ำภาพประกอบที่นี่</span><span class="sxs-lookup"><span data-stu-id="8f893-203">The illustration is repeated here.</span></span>

<span data-ttu-id="8f893-204">[![ตัวอย่างการคาดการณ์สปีชีส์](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="8f893-204">[![Species prediction example](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="8f893-205">ต่อไปนี้เป็นผลลัพธ์ถ้า "สุนัข" ถูกใช้เป็นคำตอบในเชิงบวก</span><span class="sxs-lookup"><span data-stu-id="8f893-205">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="8f893-206">ความแม่นยำ = 24 ÷ (24 + 2) = 0.9231</span><span class="sxs-lookup"><span data-stu-id="8f893-206">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="8f893-207">เรียกคืน = 24 ÷ (24 + 6) = 0.8</span><span class="sxs-lookup"><span data-stu-id="8f893-207">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="8f893-208">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span><span class="sxs-lookup"><span data-stu-id="8f893-208">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="8f893-209">ดังเช่นที่คุณสามารถเห็นได้ ค่า F1 อยู่ระหว่างค่าสำหรับความแม่นยำและการเรียกคืน</span><span class="sxs-lookup"><span data-stu-id="8f893-209">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="8f893-210">ถึงแม้ว่าจะไม่สามารถเข้าใจความถูกต้องของ F1 ได้ง่าย จึงช่วยเพิ่มความแตกต่างให้กับหมายเลขความแม่นยำพื้นฐาน</span><span class="sxs-lookup"><span data-stu-id="8f893-210">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="8f893-211">นอกจากนี้ยังสามารถช่วยให้มีชุดที่ไม่สมดุลได้ เนื่องจากการสนทนาดังต่อไปนี้จะแสดงขึ้น</span><span class="sxs-lookup"><span data-stu-id="8f893-211">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="8f893-212">ส่วน [ความถูกต้องของแบบจำลอง](#classify-machine-learning-accuracy) ของหัวข้อนี้จะเปรียบเทียบเมทริกซ์ความสับสนสองต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="8f893-212">The [Model accuracy](#classify-machine-learning-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="8f893-213">ถึงแม้ว่าแบบจำลองแรกจึงมีความถูกต้องแม่นยำ แต่ก็ถือว่าเป็นแบบจำลองที่มีประโยชน์มากกว่า เนื่องจากแสดงให้เห็นถึงการปรับปรุงเพิ่มเติมที่ไม่ใช่ค่าเริ่มต้นในการชำระเงินในเวลาเดียวกัน</span><span class="sxs-lookup"><span data-stu-id="8f893-213">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

<span data-ttu-id="8f893-214">[![การคาดการณ์การชำระเงินเปรียบเทียบกับตัวอย่างจริง](./media/payment-prediction-matrix.png)](payment-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="8f893-214">[![Payment prediction vs. actuals example](./media/payment-prediction-matrix.png)](payment-prediction-matrix.png)</span></span>

<span data-ttu-id="8f893-215">[![ตัวอย่างการคาดการณ์การชำระเงินที่มีตัวอย่างที่ใหญ่กว่า](./media/payment-prediction-matrix-2.png)](payment-prediction-matrix-2.png)</span><span class="sxs-lookup"><span data-stu-id="8f893-215">[![Payment prediction example with a larger sample](./media/payment-prediction-matrix-2.png)](payment-prediction-matrix-2.png)</span></span>

<span data-ttu-id="8f893-216">ลองดูว่าแบบจำลองสองแบบนี้เปรียบเทียบอย่างไรเมื่อมีการใช้คะแนน F1</span><span class="sxs-lookup"><span data-stu-id="8f893-216">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="8f893-217">ตัวคูณคะแนน F1 ในความแม่นยำและการเรียกคืนสำหรับแต่ละสถานะ และการคำนวณแมโครหาค่าเฉลี่ยคะแนน F1 ทั่วสถานะเพื่อระบุคะแนน F1 โดยรวม</span><span class="sxs-lookup"><span data-stu-id="8f893-217">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="8f893-218">มีการกำหนดผลิตภัณฑ์ F1 อื่น ๆ แต่เป็นการให้ดอกเบี้ยมากขึ้นที่จะพิจารณารุ่นแมโคร จากการพิจารณาเท่ากันที่ให้กับทั้งสามสถานะ</span><span class="sxs-lookup"><span data-stu-id="8f893-218">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="8f893-219">เพื่อให้การคำนวณง่ายขึ้น อาร์เรย์ตัวอย่างถูกสร้างขึ้นเพื่อให้ตรงกับค่าที่เกิดขึ้นจริงและค่าที่คาดการณ์</span><span class="sxs-lookup"><span data-stu-id="8f893-219">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="8f893-220">อาร์เรย์เหล่านี้ใช้ในไลบรารีเกณฑ์ชี้วัดของ sklearn ใน Python เพื่อคำนวณค่า</span><span class="sxs-lookup"><span data-stu-id="8f893-220">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="8f893-221">นี่คือผลลัพธ์</span><span class="sxs-lookup"><span data-stu-id="8f893-221">Here is the result.</span></span>

| <span data-ttu-id="8f893-222">รุ่น</span><span class="sxs-lookup"><span data-stu-id="8f893-222">Model</span></span>   | <span data-ttu-id="8f893-223">การคาดการณ์ไร้เดียงสา</span><span class="sxs-lookup"><span data-stu-id="8f893-223">Naive guess</span></span> | <span data-ttu-id="8f893-224">ความถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="8f893-224">Accuracy</span></span> | <span data-ttu-id="8f893-225">F1 แมโคร</span><span class="sxs-lookup"><span data-stu-id="8f893-225">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="8f893-226">แบบจำลอง 1</span><span class="sxs-lookup"><span data-stu-id="8f893-226">Model 1</span></span> | <span data-ttu-id="8f893-227">0.5</span><span class="sxs-lookup"><span data-stu-id="8f893-227">0.5</span></span>         | <span data-ttu-id="8f893-228">0.73</span><span class="sxs-lookup"><span data-stu-id="8f893-228">0.73</span></span>     | <span data-ttu-id="8f893-229">0.67</span><span class="sxs-lookup"><span data-stu-id="8f893-229">0.67</span></span>     |
| <span data-ttu-id="8f893-230">แบบจำลอง 2</span><span class="sxs-lookup"><span data-stu-id="8f893-230">Model 2</span></span> | <span data-ttu-id="8f893-231">0.80</span><span class="sxs-lookup"><span data-stu-id="8f893-231">0.80</span></span>        | <span data-ttu-id="8f893-232">0.83</span><span class="sxs-lookup"><span data-stu-id="8f893-232">0.83</span></span>     | <span data-ttu-id="8f893-233">0.66</span><span class="sxs-lookup"><span data-stu-id="8f893-233">0.66</span></span>     |

<span data-ttu-id="8f893-234">สำหรับรายละเอียดเพิ่มเติมเกี่ยวกับวิธีการทำงานของการคำนวณนี้ นี่คือรายงานการจัดประเภท sklearn.การวัด สำหรับแบบจำลอง1</span><span class="sxs-lookup"><span data-stu-id="8f893-234">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="8f893-235">สามสถานะ "ในเวลา" "ล่าช้า" และ "ล่าช้ามาก" แสดงโดยแถวที่ติดป้ายชื่อ 1, 2 และ 3 ตามลำดับ</span><span class="sxs-lookup"><span data-stu-id="8f893-235">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="8f893-236">ค่าเฉลี่ยของแมโครจะเป็นค่าเฉลี่ยของคอลัมน์ "คะแนน F1" เท่านั้น</span><span class="sxs-lookup"><span data-stu-id="8f893-236">The macro average is just the average of the "f1-score" column.</span></span>

|           | <span data-ttu-id="8f893-237">ความแม่นยำ</span><span class="sxs-lookup"><span data-stu-id="8f893-237">precision</span></span> | <span data-ttu-id="8f893-238">เรียกคืน</span><span class="sxs-lookup"><span data-stu-id="8f893-238">recall</span></span>   | <span data-ttu-id="8f893-239">คะแนน F1</span><span class="sxs-lookup"><span data-stu-id="8f893-239">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="8f893-240">**1**</span><span class="sxs-lookup"><span data-stu-id="8f893-240">**1**</span></span>     | <span data-ttu-id="8f893-241">0.83</span><span class="sxs-lookup"><span data-stu-id="8f893-241">0.83</span></span>      | <span data-ttu-id="8f893-242">0.80</span><span class="sxs-lookup"><span data-stu-id="8f893-242">0.80</span></span>     | <span data-ttu-id="8f893-243">0.82</span><span class="sxs-lookup"><span data-stu-id="8f893-243">0.82</span></span>     |
| <span data-ttu-id="8f893-244">**2**</span><span class="sxs-lookup"><span data-stu-id="8f893-244">**2**</span></span>     | <span data-ttu-id="8f893-245">0.68</span><span class="sxs-lookup"><span data-stu-id="8f893-245">0.68</span></span>      | <span data-ttu-id="8f893-246">0.71</span><span class="sxs-lookup"><span data-stu-id="8f893-246">0.71</span></span>     | <span data-ttu-id="8f893-247">0.69</span><span class="sxs-lookup"><span data-stu-id="8f893-247">0.69</span></span>     |
| <span data-ttu-id="8f893-248">**3**</span><span class="sxs-lookup"><span data-stu-id="8f893-248">**3**</span></span>     | <span data-ttu-id="8f893-249">0.50</span><span class="sxs-lookup"><span data-stu-id="8f893-249">0.50</span></span>      | <span data-ttu-id="8f893-250">0.50</span><span class="sxs-lookup"><span data-stu-id="8f893-250">0.50</span></span>     | <span data-ttu-id="8f893-251">0.50</span><span class="sxs-lookup"><span data-stu-id="8f893-251">0.50</span></span>     |

<span data-ttu-id="8f893-252">ตามที่ผลลัพธ์เหล่านี้แสดงให้เห็น แบบจำลองสองแบบนี้มีคะแนนความแม่นยำของ F1 แมโครที่เกือบเหมือนกัน</span><span class="sxs-lookup"><span data-stu-id="8f893-252">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="8f893-253">ในกรณีนี้และกรณีอื่น ๆ ความถูกต้องของ F1 จะแสดงตัวบ่งชี้ที่ดีของความสามารถของแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="8f893-253">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="8f893-254">ตามความถูกต้อง ผลลัพธ์ของผลการตีความจะกำหนดให้คุณเข้าใจถึงสิ่งที่สำคัญที่สุดที่ควรพิจารณาในแบบจำลอง</span><span class="sxs-lookup"><span data-stu-id="8f893-254">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="8f893-255">ประกาศความเป็นส่วนตัว</span><span class="sxs-lookup"><span data-stu-id="8f893-255">Privacy notice</span></span>
<span data-ttu-id="8f893-256">การแสดงตัวอย่าง (1) อาจใช้วิธีการที่มีความปลอดภัยและความเป็นส่วนตัวที่น้อยลงกว่าบริการ Dynamics 365 Finance and Operations (2) ไม่ถูกรวมอยู่ในข้อตกลงระดับการให้บริการ (SLA) สำหรับบริการนี้ (3) ไม่ควรถูกใช้เพื่อประมวลผลข้อมูลส่วนบุคคลหรือข้อมูลอื่นที่อยู่ภายใต้ข้อกำหนดการปฏิบัติตามกฎหมายหรือระเบียบข้อบังคับ และ (4) มีการสนับสนุนที่จำกัด</span><span class="sxs-lookup"><span data-stu-id="8f893-256">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>
