---
title: ทำงานกับการตั้งค่าคุณลักษณะ
description: บทความนี้จะอธิบายวิธีการตั้งค่าคุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์
author: gionoder
ms.date: 12/15/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: gionoder
ms.search.validFrom: ''
ms.dyn365.ops.version: ''
ms.custom: ''
ms.assetid: ''
ms.search.form: ''
ms.openlocfilehash: 0d64757871c12ae914f7ace4cc0121a08a32a9d5
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/12/2022
ms.locfileid: "9272270"
---
# <a name="work-with-feature-setups"></a>ทำงานกับการตั้งค่าคุณลักษณะ

[!include [banner](../includes/banner.md)]

ในการตั้งค่าการสร้างไฟล์อิเล็กทรอนิกส์และขั้นตอนการประมวลผลอื่นๆ (ตัวอย่างเช่น ไฟล์การลงชื่อทางดิจิทัล การส่งไฟล์ไปยังบริการเว็บของรัฐบาลและการรับการตอบสนอง หรือการจัดเก็บไฟล์) ตั้งค่าไปป์ไลน์การประมวลผล กฎการใช้งาน และตัวแปรสำหรับคุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์

ข้อมูลการตั้งค่าจะรวมไว้ในแนวคิด *การตั้งค่าคุณลักษณะ* และสามารถสร้าง ลบ ปรับปรุงได้ คุณสามารถดูข้อมูลเพิ่มเติมรุ่นที่เสร็จสมบูรณ์แล้วของคุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์ได้

คุณสามารถสร้างรายการการตั้งค่าคุณลักษณะได้มากเท่าที่ต้องการ เพื่อกําหนดสถานการณ์ต่างๆ ในการสร้าง การประมวลผล และการรับไฟล์อิเล็กทรอนิกส์ แม้ว่ารายการการตั้งค่าคุณลักษณะเหล่านี้จะมีการดำเนินการและเงื่อนไขการประมวลผลที่เป็นอิสระสำหรับการดำเนินการ แต่ถูกสร้างขึ้นโดยเป็นส่วนหนึ่งของคุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์เดียว และสืบทอดวงจรการใช้งานและกระบวนการปรับใช้

## <a name="add-a-feature-setup"></a>เพิ่มการตั้งค่าคุณลักษณะ

1. ลงชื่อเข้าใช้บัญชี Regulatory Configuration Service (RCS) ของคุณ
2. ในพื้นที่ทำงาน **คุณลักษณะมาตรฐานโลก** ในส่วน **คุณลักษณะ** เลือกไทล์ **การออกใบแจ้งหนี้อิเล็กทรอนิกส์**
3. บนหน้า **คุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์** เลือกรุ่นของคุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์ที่มีสถานะเป็น **ร่าง**
4. บนแท็บ **การตั้งค่า** ให้เลือก **เพิ่ม**
5. ในกล่องโต้ตอบแบบหล่นลง **สร้างการตั้งค่าคุณลักษณะ** ในกลุ่มฟิลด์ **ใหม่** ให้เลือกตัวเลือกใดตัวเลือกหนึ่งต่อไปนี้
 
    - **การตั้งค่าที่กำหนดเอง** – สร้างการตั้งค่าคุณลักษณะใหม่ที่มีช่องทางว่างเปล่า รายการไปป์ไลน์การประมวลผลว่างเปล่า ส่วนว่างเปล่าของกฎการใช้งาน และชุดตัวแปรเริ่มต้น ทั้งนี้ขึ้นอยู่กับชนิดการตั้งค่า
    - **จากการตั้งค่าคุณลักษณะ** – สร้างสําเนาของการตั้งค่าของคุณลักษณะอื่นในขอบเขตของคุรลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์ปัจจุบัน

6. หากคุณเลือกตัวเลือก **การตั้งค่าที่กำหนดเอง** ในขั้นตอนสุดท้าย ให้ป้อนชื่อและคำอธิบายของรายการการตั้งค่าคุณลักษณะ จากนั้นในกลุ่มฟิลด์ **ชนิดการตั้งค่า** ให้เลือกตัวเลือกใดตัวเลือกหนึ่งต่อไปนี้

    - **ไปป์ไลน์การประมวลผล** – เลือกตัวเลือกนี้เพื่อสร้างและประมวลผลเอกสารอิเล็กทรอนิกส์ขาออก สำหรับการตั้งค่าชนิดนี้ ระบบจะสร้างรายการไปป์ไลน์การประมวลผลที่ว่างเปล่า ส่วนที่ว่างเปล่าของกฎการใช้งาน และชุดเริ่มต้นของตัวแปร คุณจะไม่สามารถทำงานกับช่องทางสำหรับเอกสารอิเล็กทรอนิกส์ขาเข้าได้
    - **ช่องทางข้อมูล** – เลือกตัวเลือกนี้เพื่อตั้งค่ากระบวนการของการรับเอกสารอิเล็กทรอนิกส์ขาเข้าจากช่องทางที่กําหนดไว้ ช่องทางใดช่องทางหนึ่ง และส่งผ่านเอกสารดังกล่าวไปยัง Microsoft Dynamics 365 Finance หรือ Dynamics 365 Supply Chain Management โดยตรงโดยไม่มีการดำเนินการเพิ่มเติม สำหรับการตั้งค่าชนิดนี้ ระบบจะสร้างรายการพารามิเตอร์ที่กำหนดไว้ล่วงหน้าสำหรับช่องทางข้อมูล ส่วนที่ว่างเปล่าสำหรับกฎการใช้งาน และชุดของตัวแปรเริ่มต้น คุณจะไม่สามารถเพิ่มการดำเนินการใดๆ ในไปป์ไลน์การประมวลผล
    - **ช่องทางข้อมูลและไปป์ไลน์การประมวลผล** – การตั้งค่าชนิดนี้คล้ายกับชนิดการตั้งค่า **ช่องทางข้อมูล** อย่างไรก็ตาม ก่อนที่เอกสารอิเล็กทรอนิกส์ขาเข้าจะส่งผ่านไปยัง Finance หรือ Supply Chain Management คุณสามารถตั้งค่าการดำเนินการเพิ่มเติมในไปป์ไลน์การประมวลผลได้

7. หากคุณเลือกตัวเลือก **ช่องทางข้อมูล** หรือ **ช่องทางข้อมูลและไปป์ไลน์การประมวลผล** ในขั้นตอนสุดท้าย ในฟิลด์ **เลือกช่องทางข้อมูล** คุณต้องเลือกช่องทางที่จะรวม
8. เลือก **สร้าง**

เมื่อสร้างการตั้งค่าคุณลักษณะแล้ว คุณสามารถเลือก **แก้ไข** เพื่อตั้งค่าคอนฟิกได้

## <a name="edit-a-feature-setup"></a>แก้ไขการตั้งค่าคุณลักษณะ

คุณสามารถกำหนดค่ากระบวนการสร้างไฟล์อิเล็กทรอนิกส์ขาออกและส่งไปยังช่องทางภายนอก หรือรับเอกสารขาเข้าและส่งไปยังแอปพลิเคชัน Finance หรือ Supply Chain Management ของคุณได้ ขึ้นอยู่กับชนิดของการตั้งค่าคุณลักษณะ

### <a name="data-channel"></a>ช่องทางข้อมูล

*ช่องทางข้อมูล* จะรับไฟล์อิเล็กทรอนิกส์ และประมวลผลไฟล์ดังกล่าวหรือส่งผ่านไปยัง Finance หรือ Supply Chain Management ได้โดยตรง ตัวเลือกนี้ไม่พร้อมใช้งานสำหรับการตั้งค่าคุณลักษณะของชนิด **ไปป์การประมวลผล**

เมื่อต้องการตั้งค่าช่องทางข้อมูล ให้ป้อนชื่อของช่องทาง จากนั้นกําหนดพารามิเตอร์ตามชนิดช่องทางที่เลือก ตัวระบุช่องทางข้อมูลต้องอ้างอิงถึงตัวแปรที่สร้างขึ้นโดยเฉพาะเพื่อระบุช่องทางข้อมูล ซึ่งจะใช้เป็นการอ้างอิงใน Finance หรือ Supply Chain Management

บนแท็บ **ตัวกรองสิ่งที่แนบ** คุณควรกําหนดชุดของตัวกรองเพื่อรับไฟล์เฉพาะจากช่องทาง คุณสามารถสร้างหลายรายการได้ถ้าคุณคาดว่าไฟล์จะมีนามสกุลไฟล์แตกต่างกัน หรือถ้าต้องมีการประมวลผลไฟล์แตกต่างกันไป ขึ้นอยู่กับชื่อไฟล์ ต่อไปนี้เป็นพารามิเตอร์หลัก:

- **ชื่อ** – ป้อนชื่อของไฟล์ที่ระบบจะอ้างอิงถึงในระหว่างการประมวลผล ในแอปพลิเคชัน Finance และ Supply Chain Management คุณจะสามารถดูไฟล์ในบันทึกการส่งได้
- **ตัวกรอง** – กําหนดตัวกรองเพื่อเลือกไฟล์
- **ไม่บังคับ** – ถ้าไม่เลือกกล่องกาเครื่องหมายนี้ ต้องระบุไฟล์ ในกรณีนี้ ระบบจะแสดงข้อความแสดงข้อผิดพลาดถ้าช่องทางไม่มีไฟล์ที่ตรงกับตัวกรอง พารามิเตอร์นี้สามารถใช้ได้กับอีเมล

ถ้าช่องทางเป็นกล่องจดหมาย และอีเมลขาเข้ามีสิ่งที่แนบหลายชุด คุณสามารถตั้งค่าคอนฟิกกฎเพื่อกําหนดว่าบริการควรจัดการสิ่งที่แนบอย่างไร การบริการอาจพิจารณาการแนบใบแจ้งหนี้อิเล็กทรอนิกส์แยกต่างหากแต่ละใบ หรือสามารถถือว่าสิ่งที่แนบหนึ่งรายการเป็นใบแจ้งหนี้หลักและสิ่งที่แนบอื่นๆ ทั้งหมดเป็นส่วนเพิ่มเติมได้

### <a name="processing-pipeline"></a>ไปป์ไลน์การประมวลผล

*ไปป์ไลน์การประมวลผล* เป็นชุดของ *การดำเนินการ* ที่จะเรียกใช้ตามลำดับจนกว่าจะเสร็จสมบูรณ์ คุณสามารถใช้ไปป์ไลน์การประมวลผลเพื่อตั้งค่ากระบวนการในการสร้างไฟล์อิเล็กทรอนิกส์และปฏิบัติการขั้นตอนอื่นๆ (ตัวอย่างเช่น ไฟล์การลงชื่อทางดิจิทัล การส่งไฟล์ไปยังบริการเว็บภายนอกและแยกวิเคราะห์การตอบสนอง การรับและการประมวลผลเอกสารขาเข้า)

กําหนดรายการของการดำเนินการไว้ล่วงหน้าแล้ว คุณสามารถใช้ปุ่ม **ใหม่** และ **ลบ** เพื่อระบุการรวมกันของการดำเนินการที่กำหนดกระบวนการที่ต้องการสำหรับการส่งหรือรับเอกสารอย่างเหมาะสม

ลำดับของการดำเนินการมีความสําคัญมาก คุณสามารถปรับลำดับโดยใช้ปุ่ม **ขึ้น** และ **ลง**

การดำเนินการแต่ละอย่างจะมีชุดพารามิเตอร์ที่คุณสามารถตั้งค่าคอนฟิกหรือปรับได้ ชุดพารามิเตอร์แต่ละชุดขึ้นอยู่กับชนิดของการดำเนินการ

- **การดำเนินการ** – เลือกชนิดของการดำเนินการ
- **ชื่อการดำเนินการ** - ป้อนชื่อสำหรับการดำเนินการ ชื่อนี้จะปรากฏในบันทึกการส่ง และในข้อความในแอปพลิเคชัน Finance และ Supply Chain Management
- **คำอธิบาย** – แสดงรายละเอียดเพิ่มเติมเกี่ยวกับวัตถุประสงค์ของการกระบวนการ
- **เปิดใช้งานการลองใหม่** – ถ้าคุณเลือกกล่องกาเครื่องหมายนี้ คุณจะสามารถเลือกการดำเนินการใน **ลองการดำเนินการใหม่** และตั้งค่าคอนฟิกพารามิเตอร์เพิ่มเติมบนแท็บ **พารามิเตอร์ลองใหม่**

    ฟังก์ชันการลองใหม่ช่วยให้คุณตั้งค่าคอนฟิกลักษณะการทำงานของบริการได้ถ้าไม่สามารถเรียกใช้การดำเนินการเฉพาะ ตัวอย่างเช่น ถ้าบริการเว็บภายนอกที่คุณพยายามเชื่อมต่อด้วยไม่ตอบสนอง คุณสามารถระบุจำนวนครั้งที่ระบบควรเริ่มต้นการเชื่อมต่ออีกครั้ง ช่วงเวลา และจากการดำเนินการใดในไปป์ไลน์การประมวลผล

- **ส่งออกผลลัพธ์** – คุณสามารถเลือกกล่องกาเครื่องหมายนี้สำหรับการดําเนินการ *เดียว* ในไปป์ไลน์การประมวลผล ไฟล์อิเล็กทรอนิกส์ที่การดำเนินการสร้างในแอปพลิเคชัน Finance หรือ Supply Chain Management application สามารถส่งออกจากหน้า **บันทึกการส่งเอกสารอิเล็กทรอนิกส์** ได้

### <a name="applicability-rules"></a>กฎการนำไปใช้ได้

*กฎการนำไปใช้ได้* ได้รับการตั้งค่าคอนฟิกเพื่อให้บริบทเกี่ยวกับการเรียกใช้คุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์โดยผ่านชุดความสามารถการออกใบแจ้งหนี้อิเล็กทรอนิกส์
เอกสารทางธุรกิจที่ส่งจาก Finance หรือ Supply Chain Management ไปยังการออกใบแจ้งหนี้อิเล็กทรอนิกส์ไม่มีการอ้างอิงที่ชัดเจนว่าเปิดใช้งานความสามารถในการออกใบแจ้งหนี้อิเล็กทรอนิกส์ที่ตั้งค่าให้เรียกใช้รุ่นของคุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์เฉพาะ และรายการการตั้งค่าคุณลักษณะเฉพาะเพื่อดำเนินการกับการส่ง อย่างไรก็ตาม เมื่อเอกสารทางธุรกิจได้รับการตั้งค่าคอนฟิกอย่างถูกต้อง จะมีองค์ประกอบที่จำเป็นที่จะเปิดใช้งานการออกใบแจ้งหนี้อิเล็กทรอนิกส์เพื่อกำหนดว่าต้องเลือกและเรียกใช้คุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์รุ่นใดและไปป์ไลน์การประมวลผล

กฎการนำไปใช้ได้เปิดใช้บริการออกใบแจ้งหนี้อิเล็กทรอนิกส์เพื่อค้นหาคุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์ที่แน่นอนซึ่งต้องใช้ในการดำเนินการกับการส่ง หากต้องการค้นหาคุณลักษณะที่ถูกต้อง ฟิลด์ **บริบท** จากเอกสารทางธุรกิจที่ส่งจะถูกจับคู่กับคำสั่งจากกฎการนำไปใช้ได้

คุณสามารถทำงานกับกฎการนำไปใช้ได้ด้วยวิธีการดังต่อไปนี้:

- เลือก **สร้าง** เพื่อเพิ่มคำสั่งใหม่ให้กับชุดของกฎการนำไปใช้ได้
- เลือก **ลบ** เพื่อลบคำสั่ง
- เลือกหลายเรกคอร์ด และใช้ปุ่ม **จัดกลุ่ม** หรือ **ยกเลิกการจัดกลุ่ม** เพื่อสร้างชุดของรายการหรือคำสั่งทางตรรกะ ตัวอย่างเช่น เลือกรายการที่คุณต้องการจัดกลุ่ม แล้วเลือกคำสั่ง **จัดกลุ่ม** เมื่อมีการจัดกลุ่มอนุประโยค คอลัมน์ใหม่จะถูกเพิ่มเข้าในกริด คอลัมน์นี้จะระบุตัวดำเนินการทางตรรกะสำหรับคำสั่งที่มีการจัดกลุ่ม ตอนนี้ระบบสนับสนุนชนิดของตัวดำเนินการต่อไปนี้:

    - Equal
    - Not equal
    - มากกว่า/น้อยกว่า
    - มากกว่าหรือเท่ากับ น้อยกว่าหรือเท่ากับ
    - Contains
    - ขึ้นต้นด้วย

    > [!NOTE]
    > เมื่อคุณยกเลิกการจัดกลุ่มอนุประโยค ให้เริ่มต้นจากระดับการจัดกลุ่มเสมอ

### <a name="variables"></a>ตัวแปร

*ตัวแปร* ช่วยให้คุณมีความยืดหยุ่นมากขึ้นเมื่อคุณตั้งค่าไปป์ไลน์การประมวลผลและลำดับข้อมูลในการดำเนินการต่างๆ คุณสามารถอ้างอิงถึงตัวแปรในพารามิเตอร์การดำเนินการบางพารามิเตอร์เพื่อจัดเก็บข้อมูลหรือไฟล์อิเล็กทรอนิกส์ชั่วคราวได้ ตัวแปรบางตัวใช้ในการส่งผ่านข้อมูลระหว่างแอปพลิเคชัน Finance หรือ Supply Chain Management และบริการออกใบแจ้งหนี้อิเล็กทรอนิกส์

ระบบจะสร้างตัวแปรบางตัวตามค่าเริ่มต้น ตัวอย่างเช่น ตัวแปร **BusinessDocumentDataModel** มีข้อมูลธุรกิจในโครงสร้าง JavaScript Object Notation (JSON) ที่เข้ามาในการเรียกจากจากแอปพลิเคชันที่เชื่อมต่อในระหว่างกระบวนการส่ง

ชนิดของตัวแปรที่มีอยู่คือ

- **ค่าคงที่** – คอนเทนเนอร์ที่ใช้จัดเก็บข้อมูลชั่วคราวที่ใช้ในการดำเนินการของไปป์ไลน์การประมวลผล
- **จากไคลเอ็นต์** – เนื้อหาของตัวแปรได้มาจากไคลเอ็นต์ Dynamics 365 เมื่อมีการดำเนินการของกระบวนการส่ง
- **ไปยังไคลเอ็นต์** – เนื้อหาของตัวแปรได้มาจากการนำเข้าของไคลเอ็นต์ Dynamics 365 เมื่อมีการดำเนินการของกระบวนการส่ง
- **ชนิดข้อมูล** – เลือกชนิดข้อมูลของข้อมูลที่จัดเก็บไว้ในตัวแปร

### <a name="parameters"></a>พารามิเตอร์

ตัวเลือก **ปิดใช้งานการลดข้อมูลของธุรกิจ** จะใช้เพื่อให้โครงสร้างของข้อมูลธุรกิจมีประสิทธิภาพสูงสุด ซึ่งมาจากแอปพลิเคชัน Finance หรือ Supply Chain Management ระหว่างการส่งเอกสารอิเล็กทรอนิกส์ การเพิ่มประสิทธิภาพจะช่วยลดข้อมูลที่เข้าสู่บริการออกใบแจ้งหนี้อิเล็กทรอนิกส์เพื่อการแปลงไปยังไฟล์อิเล็กทรอนิกส์ที่ต้องใช้ต่อไป ค่าเริ่มต้นคือ **ไม่**

- **ใช่** – Finance หรือ Supply Chain Management จะส่งไฟล์ JSON ของโครงสร้าง **แบบจำลองทางการเงิน** หรือ **แบบจำลองทางการเงิน** (ของบราซิล) ที่กําหนดไว้ในโมดูล **การรายงานทางอิเล็กทรอนิกส์** องค์ประกอบทั้งหมดของแบบจำลองจะถูกเติมด้วยข้อมูลธุรกิจบนฝั่งแอปพลิเคชัน ไม่ว่าโครงสร้างไฟล์อิเล็กทรอนิกส์ขั้นสุดท้ายจะเป็นอย่างไรก็ตาม โดยทั่วไป แบบจำลองจะมีข้อมูลธุรกิจมากกว่าโครงสร้างไฟล์เป้าหมายที่ต้องการ และในเวลามากกว่าหนึ่งชั่วโมงจึงจะสามารถสร้างข้อมูลนี้ในแอปพลิเคชันได้ ค่า **ใช่** สำหรับตัวเลือกนี้เป็นข้อมูลที่ต้องระบุในเหตุการณ์ที่หาได้ยาก ซึ่งคุณต้องการสร้างไฟล์ผลลัพธ์ที่แตกต่างกันในคุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์และการตั้งค่าคุณลักษณะ ค่า **ใช่** มีประโยชน์เมื่อคุณแก้ไขปัญหาสถานการณ์ของคุณ โครงสร้างของไฟล์อิเล็กทรอนิกส์ และความสมบูรณ์ของข้อมูลธุรกิจ
- **ไม่** – Finance หรือ Supply Chain Management จะเรียกครั้งแรกไปยังบริการโดยไม่มีข้อมูลธุรกิจใดๆ วัตถุประสงค์ของการเรียกนี้คือเพื่อเรียกข้อมูลเกี่ยวกับการตั้งค่าคอนฟิกการรายงานทางอิเล็กทรอนิกส์ (ER) ที่จะใช้เพื่อการแปลงไฟล์อิเล็กทรอนิกส์ในไปป์ไลน์การประมวลผล ข้อมูลนี้จะส่งคืนไปยังแอปพลิเคชัน ซึ่งใช้ในการระบุชุดย่อยของข้อมูลธุรกิจที่ควรรวมอยู่ในไฟล์ JSON ของโครงสร้าง **แบบจำลองใบแจ้งหนี้** หรือ **แบบจำลองทางการเงิน** (สำหรับบราซิล) ค่า **ไม่** สำหรับตัวเลือกนี้จะช่วยลดปริมาณข้อมูลธุรกิจที่แอปพลิเคชันส่งไปยังบริการ เนื่องจากแอปพลิเคชันสามารถส่งได้เฉพาะข้อมูลธุรกิจที่จำเป็นต่อการสร้างไฟล์อิเล็กทรอนิกส์ให้สำเร็จเท่านั้น

### <a name="validate-a-feature-setup"></a>ตรวจสอบความถูกต้องของการตั้งค่าคุณลักษณะ

คุณสามารถเรียกใช้การตรวจสอบความถูกต้องเพื่อตรวจสอบความสอดคล้องกันของการตั้งค่าคอนฟิกทั้งหมด ตัวอย่างเช่น ถ้าพารามิเตอร์ที่บังคับสำหรับการดำเนินการเป็นว่างเปล่า การตรวจสอบความถูกต้องจะตรวจพบความไม่สอดคล้องกันนี้และคุณจะได้รับข้อความคำเตือน

- ในหน้า **การตั้งค่ารุ่นของคุณลักษณะ** ในบานหน้าต่างการดำเนินการ ให้เลือก **ตรวจสอบความถูกต้อง**

## <a name="delete-a-feature-setup"></a>ลบการตั้งค่าคุณลักษณะ

1. บนหน้า **คุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์** เลือกรุ่นของคุณลักษณะการออกใบแจ้งหนี้อิเล็กทรอนิกส์ที่มีสถานะเป็น **ร่าง**
2. บนแท็บ **การตั้งค่า** ให้เลือก **ลบ**
3. ในกล่องข้อความที่ปรากฏขึ้น ให้เลือก **ใช่** เพื่อยืนยันว่าคุณต้องการลบการตั้งค่าคุณลักษณะ
