---
title: ไม่สามารถกําหนดรหัสภาษี
description: หัวข้อนี้อธิบายวิธีการแก้ไขข้อผิดพลาด "ไม่สามารถกําหนดรหัสภาษี" ของบริการคํานวณภาษี
author: hangwan
ms.date: 03/25/2022
ms.topic: business-process
ms.prod: ''
ms.technology: ''
ms.search.form: TaxIntegrationTaxServiceParameters
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: hangwan
ms.search.validFrom: 03/23/2022
ms.dyn365.ops.version: Version 10.0.21
ms.openlocfilehash: 3c0914f0013ad2de61cd5a59e3092fef149742e4
ms.sourcegitcommit: d715e44b92b84b1703f5915d15d403ccf17c6606
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 04/27/2022
ms.locfileid: "8645437"
---
# <a name="tax-code-cannot-be-determined"></a>ไม่สามารถกําหนดรหัสภาษี

[!include [banner](../includes/banner.md)]

หัวข้อนี้อธิบายขั้นตอนการแก้ไขปัญหาที่คุณสามารถทำได้หากคุณได้รับข้อผิดพลาด "ไม่สามารถกําหนดรหัสภาษี" ของบริการคํานวณภาษี

## <a name="symptom"></a>อาการ

คุณจะได้รับข้อความแสดงข้อผิดพลาดต่อไปนี้: "ไม่สามารถกําหนดส่วนหัว/บรรทัด - 1 รหัสภาษี" หรือคุณพบข้อผิดพลาดในไฟล์การแก้ไขปัญหา ดังที่แสดงในตัวอย่างต่อไปนี้ สำหรับข้อมูลเพิ่มเติม โปรดดู [เปิดใช้งานโหมดดีบักสำหรับการแก้ไขปัญหา](tcs-troubleshooting-enable-debug-mode.md)

```json
======================Tax service calculation result JSON:===========================
{
    "taxDocument": {
        "Header": [
            {
                "Lines": [
                    {
                        ...
                        "Errors": [
                            {
                                "Code": "TaxSetup20001",
                                "Message": "Header/Lines - 1, tax code cannot be determined."
                            }
                        ],
                        "Adjustment": null
                    }
                ],
                "Measures": {
                    ...
                },
                ...
            }
        ]
    },
    ...
}
```

## <a name="cause"></a>สาเหตุ

ปัญหาอาจเกิดขึ้นเนื่องจากกลุ่มภาษีและกลุ่มภาษีสินค้าไม่บรรจบกัน

## <a name="troubleshoot"></a>แก้ไขปัญหา

ให้ทำตามขั้นตอนต่อไปนี้เพื่อแก้ไขปัญหานี้

1. ในไฟล์การแก้ไขปัญหา ให้ตรวจสอบว่าได้กําหนดกลุ่มภาษีและกลุ่มภาษีสินค้าแล้ว ถ้าค่าของ **กลุ่มภาษี** และ **กลุ่มภาษีสินค้า** ว่างเปล่า ระบบจะไม่กําหนดกลุ่มภาษีและกลุ่มภาษีสินค้า ถ้ามีการกําหนดแล้ว ผลลัพธ์อาจไม่ถูกต้อง

    นี่เป็นตัวอย่างของไฟล์การแก้ไขปัญหา

    ```json
    ======================Tax service calculation result JSON:===========================
    {
        "taxDocument": {
            "Header": [
                {
                    "Lines": [
                        {
                            "Tax Codes": {},
                            "Measures": {
                                "Tax Group": "Group A",
                                "Item Tax Group": "Group B"
                            },
                            "Adjustment": null
                        }
                    ],
                    "Measures": {
                        ...
                    },
                    ...
                }
            ]
        },
        ...
    }
    ```

2. ตรวจสอบว่าตัวเลือก **แทนที่ภาษีขาย** บนแท็บ **การตั้งค่า** ของรายละเอียดรายการใบสั่งขายเปิดใช้งานอยู่

    - ถ้าเปิดใช้งาน รหัสภาษีจะกําหนดโดยค่า **กลุ่มภาษี** และ **กลุ่มภาษีสินค้า** ที่คุณป้อนในรายการธุรกรรม ตรวจสอบว่าได้ป้อนค่าเหล่านี้อย่างถูกต้อง
    - ถ้าไม่ได้เปิดใช้งาน ให้ตรวจสอบว่าได้ตั้งค่าที่ถูกต้องแล้วสำหรับฟิลด์ **การใช้งานกลุ่มภาษี** และ **การใช้งานกลุ่มภาษีสินค้า** สำหรับข้อมูลเพิ่มเติม โปรดดู [ไม่พบผลลัพธ์ที่ตรงกัน](tcs-troubleshooting-no-matching-result.md)

3. ถ้ามีการกําหนดกลุ่มภาษีและกลุ่มภาษีสินค้าอย่างถูกต้อง ให้กําหนดว่ากลุ่มภาษีและกลุ่มภาษีสินค้าตรงกันหรือไม่

    1. ใน RCS ไปที่ **คุณลักษณะภาษี** \> **รหัสและกลุ่มภาษี** \> **กลุ่มภาษี**

        | กลุ่มภาษี Line | รหัสภาษี |
        |----------------|-----------|
        | กลุ่ม A        | A         |

    2. ไปที่ **คุณลักษณะภาษี** \> **รหัสและกลุ่มภาษี** \> **กลุ่มภาษีสินค้า**

        | กลุ่มภาษี Line.Item | รหัสภาษี |
        |---------------------|-----------|
        | กลุ่ม B             | B         |

    ถ้าไม่มีการบรรจบกันสำหรับกลุ่มภาษีและกลุ่มภาษีสินค้า จะไม่มีการกำหนดรหัสภาษี

## <a name="mitigation"></a>การลดความเสี่ยง

1. ดำเนินการตามแต่ละขั้นตอนในส่วน [แก้ไขปัญหา](#troubleshoot) ของหัวข้อนี้ และแก้ไขการตั้งค่าได้ตามที่ต้องการ ถ้ากําหนดกลุ่มภาษีและกลุ่มภาษีสินค้าไม่ถูกต้อง ให้ดู [ไม่พบผลลัพธ์ที่ตรงกัน](tcs-troubleshooting-no-matching-result.md)
2. ถ้าไม่มีการบรรจบกันสำหรับกลุ่มภาษีและกลุ่มภาษีสินค้า ให้สร้างรุ่นคุณลักษณะใหม่ใน RCS และแก้ไขการตั้งค่า

    - ไปที่ **คุณลักษณะภาษี** \> **รหัสและกลุ่มภาษี** > **กลุ่มภาษีสินค้า**

        | กลุ่มภาษี Line.Item | รหัสภาษี |
        |---------------------|-----------|
        | กลุ่ม B             | A;B       |

    รหัสภาษีจะถูกกําหนดเป็น **A**

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
