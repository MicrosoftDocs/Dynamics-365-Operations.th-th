---
title: มิติทางการเงินเริ่มต้นในสมุดรายวันทางการเงิน
description: บทความนี้อธิบายกฎที่กําหนดวิธีการตั้งค่ามิติทางการเงินของธุรกรรม ที่ป้อนผ่านสมุดรายวันทางการเงิน นอกจากนี้ยังมีรายละเอียดเกี่ยวกับสถานการณ์ที่มีการใช้มิติคงที่ด้วย
author: kweekley
ms.date: 09/04/2021
ms.topic: index-page
ms.prod: ''
ms.technology: ''
ms.search.form: LedgerJournalTransDaily, LedgerJournalTransVendInvoice, LedgerJournalTransVendPaym, LedgerJournalTransCustPaym
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2020-12-14
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: 8d0fcf836e22207baae562801fb082d735df0f96
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 06/03/2022
ms.locfileid: "8907947"
---
# <a name="default-financial-dimensions-on-financial-journals"></a>มิติทางการเงินเริ่มต้นในสมุดรายวันทางการเงิน

[!include [banner](../includes/banner.md)]

บทความนี้อธิบายกฎที่กําหนดวิธีการตั้งค่ามิติทางการเงินของธุรกรรม ที่ป้อนผ่านสมุดรายวันทางการเงิน (แต่ไม่ได้ผ่านสมุดรายวันสินค้าคงคลัง หรือสมุดรายวันโครงการ) นอกจากนี้ยังมีรายละเอียดเกี่ยวกับสถานการณ์ที่มีการใช้มิติคงที่ด้วย

## <a name="symptom"></a>อาการ

มิติทางการเงินไม่ได้ถูกตั้งค่าตามที่คาดไว้ในบัญชีหรือบัญชีตรงข้าม ภายในสมุดรายวันทางการเงิน สถานการณ์ต่อไปนี้มีสองตัวอย่าง ดังนี้:

ใบสำคัญจะถูกป้อนลงในสมุดรายวันสมุดรายวันทั่วไป บัญชีคือบัญชีผู้ผู้จัดจำหน่าย และบัญชีตรงข้ามคือบัญชีธนาคาร มิติทางการเงินของผู้จัดจำหน่ายจะถูกป้อนโดยค่าเริ่มต้นในบัญชี แต่มิติทางการเงินของธนาคารไม่ได้ถูกป้อนไว้ตามค่าเริ่มต้นในบัญชีตรงข้าม แต่ค่ามิติจากบัญชีจะถูกป้อนโดยค่าเริ่มต้นในบัญชีตรงข้าม

ลูกค้ามีค่ามิติทางการเงินเริ่มต้นที่ระบุ และบัญชีหลักของรายได้มีค่ามิติคงที่ที่มอบหมายให้กับมิติทางการเงินของแผนก ใบสำคัญจะถูกป้อนลงในสมุดรายวันทั่วไป  บัญชีคือลูกค้าและบัญชีตรงข้ามคือบัญชีแยกประเภท โดยเฉพาะบัญชีรายได้ที่มีค่ามิติคงที่ ค่ามิติคงที่ไม่ได้ถูกตั้งไว้ในบัญชีตรงข้ามของบัญชีรายได้หลัก แต่ค่านี้จะถูกตั้งเป็นค่ามิติแผนกจากบัญชี ซึ่งมาจากลูกค้า  หลังจากลงรายการบัญชีใบสำคัญแล้ว ค่ามิติคงที่จะใช้ในรายการบัญชีที่ลงรายการบัญชีแล้ว แต่ใบสำคัญยังคงแสดงค่าแผนกของลูกค้าในบัญชีรายได้ 

กฎใดที่ปฏิบัติตามค่ามิติทางการเงินที่ตั้งค่าบนใบสำคัญภายในสมุดรายวัน

## <a name="resolution"></a>การแก้ปัญหา

กฎต่อไปนี้จะปฏิบัติตามเพื่อป้อนค่ามิติทางการเงินโดยค่าเริ่มต้น บนบรรทัดของใบสำคัญในสมุดรายวันทางการเงิน เช่น สมุดรายวันทั่วไป หรือสมุดรายวันใบแจ้งหนี้ของผู้จัดจำหน่าย 

1. **ส่วนหัวของสมุดรายวัน**

   - มิติหัวข้อของสมุดรายวันจะถูกป้อนตามค่าเริ่มต้นจากมิติชื่อของสมุดรายวัน

2. **บัญชีของบรรทัดสมุดรายวัน**

   - มิติบัญชีของบรรทัดสมุดรายวันจะถูกป้อนตามค่าเริ่มต้นจากมิติหัวข้อของสมุดรายวัน
   - หากมิติทางการเงินว่างเปล่า ค่าจะถูกป้อนไว้ตามค่าเริ่มต้นจากลูกค้า ผู้จัดจำหน่าย ธนาคาร สินทรัพย์ถาวร โครงการ หรือมิติบัญชีแยกประเภท

     - ถ้าชนิดบัญชีเป็น **บัญชีแยกประเภท** มิติคงที่ในบัญชีแยกประเภทจะถือว่าเป็นมิติเริ่มต้นในระหว่างการป้อนรายการธุรกรรม
     - ถ้าชนิดบัญชีคือ **ลูกค้า** **ผู้จัดจำหน่าย** **ธนาคาร** **สินทรัพย์ถาวร** หรือ **โครงการ** จะไม่สามารถกําหนดบัญชีหลักได้ ดังนั้น จะไม่มีการป้อนมิติคงที่โดยค่าเริ่มต้นของบัญชี

3. **บัญชีตรงข้ามของบรรทัดสมุดรายวัน**

 - อันดับแรก มิติบัญชีตรงข้ามของบรรทัดสมุดรายวันจะถูกป้อนตามค่าเริ่มต้นจากมิติบัญชีของบรรทัดสมุดรายวัน

 - หากมิติทางการเงินว่างเปล่า การป้อนค่าเริ่มต้นครั้งถัดไปจะมาจากมิติเริ่มต้นจากลูกค้า ผู้จัดจำหน่าย ธนาคาร สินทรัพย์ถาวร โครงการ หรือบัญชีแยกประเภท
   1. ถ้าชนิดบัญชีตรงข้ามเป็น **บัญชีแยกประเภท** มิติคงที่ในบัญชีแยกประเภทจะถือว่าเป็นมิติเริ่มต้นในระหว่างการป้อนรายการธุรกรรม ถ้ามีการป้อนค่ามิติไว้ตามค่าเริ่มต้นจากบัญชี ค่ามิติเริ่มต้นหรือค่ามิติคงที่ของบัญชีหลักจะไม่แทนที่ค่าที่มีอยู่
   2. ถ้าชนิดบัญชีตรงข้ามเป็น **ลูกค้า** **ผู้จัดจำหน่าย** **ธนาคาร** **สินทรัพย์ถาวร** หรือ **โครงการ** บัญชีหลักจะยังไม่เป็นที่ทราบ ดังนั้นมิติคงที่จะไม่มีค่าเริ่มต้นเป็นบัญชีตรงข้าม

4. **การลงรายการบัญชี**

    1. ระหว่างการลงรายการบัญชี บัญชีหลักของแต่ละรายการของรายการบัญชี (สำหรับทั้งบัญชีและบัญชีตรงข้าม) จะถูกประเมิน เพื่อระบุว่ามีค่ามิติคงที่หรือไม่ ถ้ามิติคงที่ถูกกำหนดไว้ ค่าที่มีอยู่หรือค่าว่างใดๆ จะถูกแทนที่ด้วยค่ามิติคงที่นั้น

        ค่ามิติคงที่จะ **ไม่** แสดงบนบรรทัดสมุดรายวันหลังจากการลงรายการบัญชี แต่จะแสดงขึ้นบนรายการบัญชีเมื่อคุณดูใบสำคัญ หลังจากที่ลงรายการบัญชีแล้ว

    2. ไม่มีการป้อนค่ามิติอื่นโดยค่าเริ่มต้นในระหว่างการลงรายการบัญชี รวมทั้งบัญชีแยกประเภทเพิ่มเติมที่อาจเพิ่มในระหว่างการลงรายการบัญชี เช่น บัญชีการปัดเศษสตางค์ และระหว่างบริษัท เนื่องจากหรือครบกําหนดจากบัญชี รายการมิติเริ่มต้นเกี่ยวกับบัญชีแยกประเภทเพิ่มเติมจะมาจากบัญชีหรือบัญชีตรงข้าม

เพื่อวัตถุประสงค์ของการป้อนค่ามิติตามค่าเริ่มต้น กระบวนการเริ่มต้นของสมุดรายวันไม่สามารถระบุได้ว่าค่ามิติที่ว่างเปล่าถูกปล่อยว่างไว้โดยเจตนา หรือไม่ได้ป้อนรายการเริ่มต้นไว้ ถ้าค่ามิติถูกปล่อยว่างโดยเจตนา ค่าอาจยังคงมีการป้อนโดยค่าเริ่มต้น โดยใช้ใบสั่งเริ่มต้นที่อธิบายไว้ก่อนหน้านี้ ถ้าคุณต้องการให้มิติมีค่าว่างเปล่า คุณอาจต้องสร้างมิติที่มีค่าเป็น **0** (ศูนย์) หรือ **ว่างเปล่า** เพื่อให้สามารถใช้ค่าว่างเปล่าได้

ทบทวนสถานการณ์ต่อไปนี้ ตัวอย่างของใบสั่งค่าเริ่มต้นของมิติทางการเงิน

### <a name="scenario-1"></a>สถานการณ์จำลอง 1

ไปที่ **บัญชีแยกประเภททั่วไป \> การตั้งค่าสมุดรายวัน \> ชื่อสมุดรายวัน** และเลือกชื่อสมุดรายวัน **GenJrn** จากนั้น บนแท็บด่วน **มิติทางการเงิน** ให้กําหนดค่าต่อไปนี้ของมิติทางการเงินเริ่มต้น

- **BUSINESSUNIT:** 001
- **DEPARTMENT:** 024

[![หน้าชื่อสมุดรายวัน](./media/financial-dimension-defaulting-jrnl-names-01.png)](./media/financial-dimension-defaulting-jrnl-names-01.png)

ไปที่ **บัญชีแยกประเภททั่วไป \> รายการสมุดรายวัน \> สมุดรายวันทั่วไป** และสร้างสมุดรายวันทั่วไปใหม่ที่ใช้ชื่อสมุดรายวัน **GenJrn** มิติจะถูกป้อนตามค่าเริ่มต้นจากชื่อสมุดรายวัน (ตาราง LedgerJournalName) ไปยังหัวข้อสมุดรายวัน (ตาราง LedgerJournalTable) ตามที่แสดงบนแท็บ **มิติทางการเงิน**

[![แท็บมิติทางการเงินบนหน้าสมุดรายวันทั่วไป](./media/financial-dimension-defaulting-genrl-jrnl-02.png)](./media/financial-dimension-defaulting-genrl-jrnl-02.png)

ไปที่ **รายการ** ในฟิลด์ **ชนิดบัญชี** ให้เลือก **บัญชีแยกประเภท** จากนั้นในฟิลด์ **บัญชี** ให้ป้อน **170150** แล้วเลือกคีย์ **แท็บ** เพื่อย้ายออกจากฟิลด์ มิติจะถูกป้อนตามค่าเริ่มต้นจากมิติหัวข้อของสมุดรายวัน ดังนั้น ค่า **บัญชี** จึงถูกแสดงเป็น **170150-001-024**

[![บรรทัดสมุดรายวันสำหรับสมุดรายวันทั่วไปในหน้าใบสำคัญของสมุดรายวัน](./media/financial-dimension-defaulting-jrnl-vchr-03.png)](./media/financial-dimension-defaulting-jrnl-vchr-03.png)

เปลี่ยนค่า **บัญชี** เป็น **170150-001-023** ป้อนยอดเงินเดบิตหรือยอดเครดิต ในฟิลด์ **ชนิดบัญชีตรงข้าม** ให้เลือก **บัญชีแยกประเภท** จากนั้นในฟิลด์ **บัญชีตรงข้าม** ให้ป้อน **600150** ค่ามิติจะถูกป้อนตามค่าเริ่มต้นจากบัญชี ดังนั้น ค่า **บัญชีตรงข้าม** จึงถูกแสดงเป็น **600150-001-023**

### <a name="scenario-2"></a>สถานการณ์จำลอง 2

ใช้มิติทางการเงินเดียวกันกับที่คุณกําหนดไว้เป็นชื่อสมุดรายวันในสถานการณ์ที่ 1 จากนั้น ไปที่ **บัญชีลูกหนี้ \> ลูกค้า \> ลูกค้าทั้งหมด** และกําหนดค่ามิติทางการเงินเริ่มต้นสำหรับลูกค้า US-001 เลือกลูกค้าที่จะเปิดรายละเอียดของลูกค้า บนแท็บ **มิติทางการเงิน** ให้รักษาค่าเริ่มต้นของมิติ **BUSINESSUNIT** (**001**) เพิ่มมิติ **COSTCENTER** แล้วป้อน **007** เป็นค่า

สร้างสมุดรายวันทั่วไปใหม่ที่ใช้ชื่อสมุดรายวัน **GenJrn** บนแท็บ **มิติทางการเงิน** ให้เปลี่ยนค่าเริ่มต้นของ **BUSINESSUNIT** จาก **001** เป็น **002**

ไปที่ **รายการ** ในฟิลด์ **ชนิดบัญชี** ให้เลือก **ลูกค้า** จากนั้นในฟิลด์ **บัญชี** ให้ป้อน **US-001** หากต้องการดูมิติทางการเงินของชนิดบัญชีที่ไม่ใช่บัญชีแยกประเทภ ให้เลือก **มิติทางการเงิน \> บัญชี** รายการเริ่มต้นต่อไปนี้ถูกป้อนให้กับค่ามิติทางการเงิน

- **BUSINESSUNIT:** 002 – รายการเริ่มต้นจะมาจากหัวข้อสมุดรายวัน ค่า **001** ไม่ได้ป้อนไว้ตามค่าเริ่มต้นจากลูกค้า US-001 เนื่องจากค่าเริ่มต้นถูกป้อนไว้อยู่แล้ว
- **COSTCENTER:** 007 – รายการเริ่มต้นจะมาจากการตั้งค่าของลูกค้า US-001
- **DEPARTMENT:** 024 – รายการเริ่มต้นจะมาจากหัวข้อสมุดรายวัน

กลับไปที่รายการ ใน **ชนิดบัญชีตรงข้าม** ให้เลือก **บัญชีแยกประเภท** จากนั้นในฟิลด์ **บัญชีตรงข้าม** ให้ป้อน **600150** ค่ามิติทางการเงินเริ่มต้นต่อไปนี้ถูกป้อนให้กับรายการ:

- **BUSINESSUNIT:** 002 – รายการเริ่มต้นจะมาจากมิติทางการเงินของบัญชี (มีการป้อนข้อมูลโดยค่าเริ่มต้นจากหัวข้อของสมุดรายวันตั้งแต่แรก)
- **DEPARTMENT:** 024 – รายการเริ่มต้นจะมาจากมิติทางการเงินของบัญชี (มีการป้อนข้อมูลโดยค่าเริ่มต้นจากหัวข้อของสมุดรายวันตั้งแต่แรก)
- **COSTCENTER:** 007 – รายการเริ่มต้นจะมาจากมิติทางการเงินของบัญชี (มีการป้อนข้อมูลโดยค่าเริ่มต้นจากลูกค้าตั้งแต่แรก)

### <a name="scenario-3"></a>สถานการณ์จำลอง 3

ในสมุดรายวันเดียวกันกับที่คุณใช้ในสถานการณ์ที่ 2 ให้เพิ่มบรรทัดใหม่ ในฟิลด์ **ชนิดบัญชี** ให้เลือก **บัญชีแยกประเภท** จากนั้นในฟิลด์ **บัญชี** ให้ป้อน **170150** ล้างข้อมูลค่ามิติเริ่มต้น เพื่อให้มีเพียงบัญชีหลัก170150 คงเหลืออยู่ ในฟิลด์ **ชนิดบัญชีตรงข้าม** ให้เลือก **ลูกค้า** จากนั้นในฟิลด์ **บัญชีตรงข้าม** ให้ป้อน **US-001** รายการเริ่มต้นต่อไปนี้ถูกป้อนให้กับค่ามิติทางการเงิน

- **BUSINESSUNIT:** 002 – รายการเริ่มต้นมาจากส่วนหัวของสมุดรายวัน เนื่องจากค่ามิติบัญชีว่างเปล่า ค่า **001** ไม่ได้ป้อนไว้ตามค่าเริ่มต้นจากลูกค้า US-001 เนื่องจากค่าเริ่มต้นถูกนำมาจากส่วนหัวของสมุดรายวัน ถ้าค่า **BUSINESSUNIT** ว่างเปล่าโดยเจตนา คุณต้องลบมิติทางการเงินในบัญชีตรงข้ามด้วย
- **COSTCENTER:** 007 – รายการเริ่มต้นจะมาจากลูกค้า US-001 เนื่องจากค่ามิติบัญชีและค่ามิติส่วนหัวของสมุดรายวันว่างเปล่า ถ้าค่า **COSTCENTER** ว่างเปล่าโดยเจตนา คุณต้องลบมิติทางการเงินในบัญชีตรงข้ามด้วย
- **DEPARTMENT:** 024 – รายการเริ่มต้นมาจากส่วนหัวของสมุดรายวัน เนื่องจากค่ามิติบัญชีว่างเปล่า ถ้าค่า **DEPARTMENT** ว่างเปล่าโดยเจตนา คุณต้องลบมิติทางการเงินในบัญชีตรงข้ามด้วย

### <a name="scenario-4"></a>สถานการณ์จำลอง 4

ใช้ค่ามิติทางการเงินเริ่มต้นเดียวกันกับที่คุณกําหนดไว้ให้กับชื่อสมุดรายวันและลูกค้าในสถานการณ์ที่ 1 และ 2 จากนั้น ให้กําหนดค่ามิติคงที่ของมิติ **BUSINESSUNIT** ในบัญชีหลัก 170150 ไปที่ **บัญชีแยกประเภททั่วไป \> ผังบัญชี \> บัญชี \> บัญชีหลัก** ในฟิลด์ **บัญชีหลัก** ให้เลือก **170150** จากนั้นบนแท็บ **การแทนที่นิติบุคคล** ให้เลือก **เพิ่ม** เลือก **USMF** เป็นนิติบุคคล แล้วเลือก **เพิ่ม** เลือกเรกคอร์ดนั้น แล้วเลือก **มิติเริ่มต้น** เปลี่ยนมิติ **BUSINESSUNIT** เป็น **ค่าคงที่** และป้อน **003** เป็นค่า

สร้างสมุดรายวันทั่วไปใหม่ที่ใช้ชื่อสมุดรายวัน **GenJrn** บนแท็บ **มิติทางการเงิน** ให้ลบค่ามิติเริ่มต้นทั้งหมดออก

ไปที่ **รายการ** ในฟิลด์ **ชนิดบัญชี** ให้เลือก **บัญชีแยกประเภท** จากนั้นในฟิลด์ **บัญชี** ให้ป้อน **170150** แล้วเลือกคีย์ **แท็บ** เพื่อย้ายออกจากฟิลด์ ค่ามิติจะถูกป้อนโดยค่าเริ่มต้นจากบัญชีหลักที่ตั้งค่าสำหรับบัญชี 170150 ดังนั้น ค่า **บัญชี** จึงถูกแสดงเป็น **170150-003-**

เปลี่ยนค่า **บัญชี** เป็น **170150-004-** **ฟังก์ชันสมุดรายวันไม่ได้ป้องกันไม่ให้มีการเปลี่ยนค่ามิติคงที่** ป้อนยอดเงินเดบิตหรือยอดเครดิต ในฟิลด์ **ชนิดบัญชีตรงข้าม** ให้เลือก **บัญชีแยกประเภท** จากนั้นในฟิลด์ **บัญชีตรงข้าม** ให้ป้อน **170250** ค่ามิติทางการเงิน 004 จะถูกป้อนเป็นค่าเริ่มต้นจากบัญชี แล้วลงรายการบัญชีเอกสาร ในสมุดรายวัน ให้เลือก **ใบสำคัญ** โปรดสังเกตว่าค่า **BUSINESSUNIT** ที่จะแปลงกลับเป็นค่ามิติคงที่ **003** ในระหว่างการลงรายการบัญชี

เมื่อคุณกลับไปที่ใบสำคัญบนสมุดรายวัน มิติ **BUSINESSUNIT** จะ **ไม่** สะท้อนถึงค่ามิติคงที่ ค่านี้จะแสดงบนหน้าจอก่อนการลงรายการบัญชีเสมอ กระบวนการลงรายการบัญชีจะไม่เปลี่ยนค่าใดๆ ที่ป้อนบนใบสำคัญ เฉพาะรายการบัญชีเท่านั้นที่มีการเปลี่ยนแปลงในระหว่างการลงรายการบัญชี

## <a name="developer-notes"></a>หมายเหตุของนักพัฒนา

ถ้าคุณเป็นนักพัฒนาและต้องการดูรหัสของกระบวนการเริ่มต้น ให้ดูที่วิธีการต่อไปนี้:

- **LedgerJournalEngine.accountModified()** – วิธีการนี้เป็นจุดเข้าใช้งานหลักในขั้นตอนการตั้งค่าเริ่มต้นของมิติบัญชีหลัก ซึ่งเป็นมาตรฐานของสมุดรายวันทั้งหมด (และแทนที่ด้วยสมุดรายวันบางชนิด)
- **LedgerJournalEngine.offsetAccountModified()** – วิธีการนี้เป็นจุดเข้าใช้งานหลักของกระบวนการตั้งค่าเริ่มต้นของบัญชีตรงข้าม
