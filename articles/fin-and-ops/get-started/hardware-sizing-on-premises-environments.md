---
title: "ข้อกำหนดของการกำหนดฮาร์ดแวร์สำหรับสภาพแวดล้อมในองค์กร"
description: "หัวข้อนี้แสดงรายการข้อกำหนดของการกำหนดฮาร์ดแวร์สำหรับสภาพแวดล้อมในองค์กร"
author: kfend
manager: AnnBe
ms.date: 06/23/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 55651
ms.assetid: 
ms.search.region: Global
ms.author: chwolf
ms.search.validFrom: 2016-08-30
ms.dyn365.ops.version: Platform update 8
ms.translationtype: HT
ms.sourcegitcommit: 3ee5334c87b2b0acae2afa6882feca63e3b9cc8e
ms.openlocfilehash: d277bc4c4c815317bade8a04b9111232fb707086
ms.contentlocale: th-th
ms.lasthandoff: 12/18/2018

---

# <a name="hardware-sizing-requirements-for-on-premises-environments"></a>ข้อกำหนดของการกำหนดฮาร์ดแวร์สำหรับสภาพแวดล้อมในองค์กร

[!include [banner](../includes/banner.md)]

ก่อนที่คุณจะเริ่มกระบวนการกำหนดฮาร์ดแวร์และโครงสร้างพื้นฐานสำหรับสภาพแวดล้อมในองค์กร ให้ทำความคุ้นเคยกับ [ความต้องการของระบบ](system-requirements.md) และ [คำแนะนำในการตั้งค่าและการปรับใช้](../../dev-itpro/deployment/setup-deploy-on-premises-environments.md) เพื่อทำความเข้าใจที่ดีขึ้นเกี่ยวกับโครงการสร้างพื้นฐานที่อยู่ภายใต้

> [!NOTE]
> พิจารณาแนวทางปฏิบัติที่ดีที่สุดอย่างใกล้ชิดในการตั้งค่าระบบเพื่อให้ได้ประสิทธิภาพที่ดีที่สุด

หลังจากที่คุณได้ตรวจทานเอกสาร คุณสามารถเริ่มต้นกระบวนการประเมินปริมาตรของผู้ใช้ที่เกิดขึ้นพร้อมกันและที่เกี่ยวกับธุรกรรม และการกำหนดสภาพแวดล้อมของคุณตามปริมาณที่สามารถประมวลผลได้หลักเฉลี่ย

## <a name="factors-that-affect-sizing"></a>ปัจจัยที่มีผลต่อการกำหนด

ปัจจัยทั้งหมดที่แสดงในภาพประกอบต่อไปนี้เป็นส่วนหนึ่งของการกำหนด ยิ่งมีการรวบรวมข้อมูลที่ละเอียดมากเท่าใด คุณก็สามารถกำหนดได้แม่นยำเท่านั้น การกำหนดฮาร์ดแวร์โดยไม่มีข้อมูลสนับสนุนมักจะไม่แม่นยำ ความต้องการขั้นต่ำเพียงอย่างเดียวสำหรับข้อมูลที่จำเป็นคือรายการธุรกรรมสูงสุดต่อชั่วโมง

[![การกำหนดฮาร์ดแวร์สำหรับสภาพแวดล้อมในองค์กร](./media/lbd-sizing-01.png)](./media/lbd-sizing-01.png)

ดูจากซ้ายไปขวา ปัจจัยแรกที่มีความสำคัญมากที่สุดที่จำเป็นต้องกำหนดการประเมินอย่างแม่นยำคือโพรไฟล์ธุรกรรมหรือลักษณะของธุรกรรม เป็นสิ่งสำคัญที่ต้องค้นหาปริมาณของธุรกรรมสูงสุดต่อชั่วโมงเสมอ ถ้ามีรอบระยะเวลาสูงสุดหลายอย่าง จำเป็นจะต้องกำหนดรอบระยะเวลาเหล่านี้ให้ถูกต้อง

เมื่อคุณทราบจำนวนงานในศูนย์การผลิตที่มีผลกระทบต่อโครงสร้างพื้นฐานของคุณ คุณยังจำเป็นต้องทราบรายละเอียดเพิ่มเติมเกี่ยวกับปัจจัยเหล่านี้:

- **ธุรกรรม** – โดยทั่วไปธุรกรรมมีจำนวนสูงสุดที่แน่นอนตลอดวัน/สัปดาห์ ซึ่งส่วนใหญ่แล้วจะขึ้นอยู่กับชนิดของธุรกรรม โดยปกติรายการเวลาและค่าใช้จ่ายจะแสดงรายการสูงสุดหนึ่งครั้งต่อสัปดาห์ ในขณะที่รายการใบสั่งขายมักจะแสดงเป็นจำนวนมากผ่านการรวมหรือ Trickle ในระหว่างวัน
- **จำนวนของผู้ใช้ที่เกิดขึ้นพร้อมกัน** – จำนวนของผู้ใช้ที่เกิดขึ้นพร้อมกันคือปัจจัยของการกำหนดที่สำคัญที่สุดอันดับที่สอง คุณไม่สามารถประเมินการกำหนดได้อย่างน่าเชื่อถือตามจำนวนของผู้ใช้ที่เกิดขึ้นพร้อมกัน ดังนั้นถ้านี่เป็นข้อมูลเดียวที่คุณมี ให้ประเมินหมายเลขโดยประมาณ และจากนั้นให้กลับมาอีกครั้งเมื่อคุณมีข้อมูลเพิ่มเติม ข้อกำหนดของผู้ใช้ที่เกิดขึ้นพร้อมที่แม่นยำหมายความว่า:

    - ผู้ใช้ที่มีชื่อไม่ใช่ผู้ใช้ที่เกิดขึ้นพร้อมกัน
    - ผู้ใช้ที่เกิดขึ้นพร้อมกันคือชุดย่อยของผู้ใช้ที่มีชื่อเสมอ 
    - ปริมาณงานสูงสุดกำหนดการเกิดขึ้นพร้อมกันสูงสุดสำหรับการกำหนด

    เกณฑ์สำหรับผู้ใช้ที่เกิดขึ้นพร้อมกันคือการที่ผู้ใช้เป็นไปตามเงื่อนไขต่อไปนี้ทั้งหมด:

    - ล็อกอินแล้ว
    - การทำธุรกรรม/การสอบถามในขณะตรวจนับ
    - ไม่มีรอบเวลาที่ไม่ได้ใช้งาน

- **องค์ประกอบของข้อมูล** – ส่วนใหญ่จะเกี่ยวกับวิธีการตั้งค่าและตั้งค่าคอนฟิกของระบบของคุณ ตัวอย่างเช่น จำนวนนิติบุคคลที่คุณจะมี จำนวนรายการ จำนวนระดับ BOM และความซับซ้อนของวิธีการตั้งค่าความปลอดภัยของคุณ แต่ละปัจจัยเหล่านั้นอาจมีผลกระทบเล็กน้อยต่อประสิทธิภาพ ดังนั้นจึงสามารถออฟเซ็ตปัจจัยเหล่านี้ได้โดยใช้ตัวเลือกที่ชาญฉลาดเมื่อเกี่ยวข้องกับโครงสร้างพื้นฐาน
- **ส่วนขยาย** – การกำหนดเองสามารถเป็นแบบง่ายหรือซับซ้อนได้ จำนวนของการกำหนดเองและลักษณะของความซับซ้อนและการใช้งานมีผลกระทบที่แตกต่างกันในเรื่องของขนาดของโครงสร้างพื้นฐานที่จำเป็น สำหรับการกำหนดเองที่ซับซ้อน เราแนะนำให้ดำเนินการประเมินผลการปฏิบัติงานเพื่อให้แน่ใจว่าจะไม่เป็นเพียงการทดสอบประสิทธิภาพ แต่ยังช่วยให้เข้าใจความต้องการของโครงสร้างพื้นฐานอีกด้วย สิ่งนี้ยิ่งสำคัญมากขึ้นเมื่อไม่มีการกำหนดรหัสส่วนขยายตามแนวทางปฏิบัติสำหรับประสิทธิภาพและความสามารถในการขยาย
- **การรายงานและการวิเคราะห์** – โดยทั่วไปปัจจัยเหล่านี้จะประกอบด้วยการรันการสอบถามจำนวนมากเทียบกับฐานข้อมูลต่าง ๆ ในระบบฐานข้อมูลของ Finance and Operations การทำความเข้าใจและการลดความถี่เมื่อรายงานราคาแพงรันจะช่วยให้คุณเข้าใจผลกระทบต่อสิ่งเหล่านั้น
- **โซลูชันของบุคคลที่สาม** – โซลูชันเหล่านี้ เช่น ISV มีการส่อความและคำแนะนำเป็นส่วนขยายเดียวกัน

## <a name="sizing-your-finance-and-operations-environment"></a>การกำหนดสภาพแวดล้อม Finance and Operations ของคุณ

เมื่อต้องการทำความเข้าใจถึงความต้องการในการกำหนดของคุณ คุณจำเป็นต้องทราบปริมาตรสูงสุดของธุรกรรมที่คุณต้องการประมวลผล ระบบเสริมส่วนใหญ่ เช่น Management Reporter หรือ SSRS เป็นภารกิจที่สำคัญน้อยกว่า ซึ่งอาจส่งผลให้เอกสารนี้มุ่งเน้นที่ AOS และ SQL Server เป็นส่วนใหญ่

> [!NOTE]
> โดยทั่วไป ระดับการคำนวณจะขยายและควรตั้งค่าในแฟชั่น N+1 ซึ่งหมายความว่า ถ้าคุณคาดคะเน AOS สามรายการ ให้เพิ่ม AOS ที่สี่ ควรตั้งค่าระดับฐานข้อมูลในการตั้งค่า พร้อมใช้งานสูงเสมอ

## <a name="sql-server-oltp"></a>SQL Server (OLTP)

### <a name="sizing"></a>การกำหนด

- รายการธุรกรรม 3,000 ถึง 15,000 ต่อชั่วโมงสำหรับหลักในเซิร์ฟเวอร์ฐานข้อมูลแต่ละรายการ
- โดยทั่วไป หลัก AOS-to-SQL มีอัตราส่วน 3:1 สำหรับ SQL Server หลัก จำเป็นต้องมีหลักเพิ่มเติมตามการตั้งค่าคอนฟิกของความพร้อมใช้งานสูงที่เลือก

    - การประมวลผลการดำเนินงานฐานข้อมูลหลายรายการอาจทำให้อัตราส่วนลดเหลือ 2:1

- ปัจจัยต่อไปนี้มีผลกระทบต่อการเปลี่ยนแปลง:

    - ใช้งานการตั้งค่าพารามิเตอร์อยู่
    - ระดับของส่วนขยาย
    - การใช้ฟังก์ชันเพิ่มเติม เช่น ข้อความแจ้งเตือนและล็อกฐานข้อมูล การล็อกฐานข้อมูลระดับสูงสุดจะช่วยลดปริมาณที่สามารถประมวลผลได้ต่อชั่วโมงสำหรับหลักที่อยู่ต่ำกว่า 3,000 รายการแต่ละรายการ
    - ความซับซ้อนขององค์ประกอบของข้อมูล – ผังบัญชีอย่างง่ายเทียบกับผังบัญชีโดยละเอียดมีความเกี่ยวข้องด้านปริมาณที่สามารถประมวลผลได้ (ดังตัวอย่าง)
    - ลักษณะของธุรกรรม
    - หน่วยความจำ 2 GB ถึง 4 GB สำหรับแต่ละหลัก
    - ฐานข้อมูลเสริมบนเซิร์ฟเวอร์ฐานข้อมูล เช่น Management reporter และฐานข้อมูล SSRS
    - ฐานข้อมูลชั่วคราว = 15% ของขนาดของฐานข้อมูล ด้วยไฟล์จำนวนมากเป็นตัวประมวลผลจริง
    - ขนาด SAN และปริมาณที่สามารถประมวลผลได้ตามปริมาตร/การใช้งานของธุรกรรมที่เกิดขึ้นพร้อมกันรวม

### <a name="high-availability"></a>ความพร้อมใช้งานสูง

เราขอแนะนำให้ใช้ SQL Server ในการตั้งค่าการสะท้อนหรือคลัสเตอร์อย่างใดอย่างหนึ่งเสมอ โหนด SQL ที่สองควรมีหมายเลขเดียวกันกับแกนเป็นโหนดหลัก

### <a name="active-directory-federation-services-ad-fs"></a>Active Directory Federation Services (AD FS)

สำหรับการกำหนดขนาด AD FS ให้ดูที่ [เอกสารประกอบกำลังการผลิตของเซิร์ฟเวอร์ AD FS](/windows-server/identity/ad-fs/design/planning-for-ad-fs-server-capacity)

[แผ่นตารางการกำหนด](http://adfsdocs.blob.core.windows.net/adfs/ADFSCapacity2016.xlsx) จะพร้อมใช้งานสำหรับการวางแผนจำนวนอินสแตนซ์ในการปรับใช้ของคุณ

## <a name="aos-online-and-batch"></a>AOS (ออนไลน์และชุดงาน)

### <a name="sizing"></a>การกำหนด

- การกำหนดตามปริมาตร/การใช้ธุรกรรม

    - 2,000 ถึง 6,000 รายการต่อหลัก
    - 16 GB ต่ออินสแตนซ์
    - กล่องมาตรฐาน – หลัก 4 ถึง 24 รายการ
    - ผู้ใช้ระดับองค์กร 10 ถึง 15 รายต่อหลัก
    - ผู้ใช้กิจกรรม 15 ถึง 25 รายต่อหลัก
    - สมาชิกในทีม 25 ถึง 50 รายต่อหลัก

- ชุดงาน

    - เธรดชุดงาน 1 ถึง 4 รายการต่อหลัก
    - ขนาดตามลักษณะหน้าต่างชุดงาน

- หมายเหตุว่า AOS การจัดการข้อมูล และชุดงานในบทบาทเดียวกันใน Service Fabric คุณต้องปรับขนาดสำหรับปริมาณงานสามรายการดังกล่าวรวมกัน และไม่แบ่งรายการเหล่านี้ดังเช่นใน Microsoft Dynamics AX 2012
- จะมีการใช้ปัจจัยความผันแปรเดียวกันสำหรับ SQL Server ที่นี่

### <a name="high-availability"></a>ความพร้อมใช้งานสูง

- ตรวจสอบให้แน่ใจว่าคุณมี AOS อย่างน้อย 1 ถึง 2 รายการเพิ่มเติมที่พร้อมใช้งานมากกว่าที่คุณคาดคะเนไว้
- ตรวจสอบให้แน่ใจว่าคุณมีโฮสต์เสมือนอย่างน้อย 3 ถึง 4 รายการที่พร้อมใช้งาน

## <a name="management-reporter"></a>Management Reporter

ในกรณีส่วนใหญ่ เว้นแต่มีการนำไปใช้อย่างแพร่หลาย ข้อกำหนดขั้นต่ำที่แนะนำที่ใช้โหนดสองรายการควรทำงานได้ดี เฉพาะในกรณีที่มีการใช้งานจำนวนมากที่คุณจะต้องใช้มากกว่าสองโหนด โปรดปรับขนาดตามความจำเป็น

## <a name="sql-server-reporting-services"></a>SQL Server Reporting Services

สำหรับการนำออกใช้ความพร้อมใช้งานทั่วไป สามารถปรับใช้โหนด SSRS ได้เพียงรายการเดียวเท่านั้น ตรวจสอบโหนด SSRS ของคุณขณะที่กำลังทดสอบและเพิ่มจำนวนของหลักที่พร้อมใช้งานสำหรับ SSRS หากจำเป็น ตรวจสอบให้แน่ใจว่าคุณได้กำหนดโหนดรองโหนดที่พร้อมใช้งานในโฮสต์เสมือนที่แตกต่างจาก SSRS VM ไว้ล่วงหน้าแล้ว นี่เป็นสิ่งสำคัญถ้ามีปัญหาเกี่ยวกับเครื่องเสมือนที่โฮสต์ SSRS หรือโฮสต์เสมือน ถ้าในกรณีนี้ จะต้องถูกแทนที่

## <a name="environment-orchestrator"></a>Orchestrator สภาพแวดล้อม

บริการ Orchestrator คือบริการที่จัดการการปรับใช้ของคุณและการสื่อสารที่เกี่ยวข้องกับ LCS บริการนี้จะถูกปรับใช้เป็นบริการ Service Fabric หลักและต้องมี VM อย่างน้อยสามรายการ บริการนี้อยู่ร่วมกับบริการการประสานกันของ Service Fabric ควรปรับขนาดของสิ่งนี้เป็นจำนวนงานในศูนย์การผลิตสูงสุดของคลัสเตอร์ สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [ข้อควรพิจารณาสำหรับการวางแผนกำลังการผลิตคลัสเตอร์ของ Service Fabric](/azure/service-fabric/service-fabric-cluster-capacity)

## <a name="virtualization-and-oversubscription"></a>การจำลองเสมือนและการบอกรับเป็นสมาชิกที่มากเกินไป

บริการที่เป็นภารกิจที่สำคัญ เช่น AOS ควรได้รับการโฮสต์บนโฮสต์เสมือนที่มีทรัพยากรเฉพาะ – หลัก หน่วยความจำ และดิสก์

