---
title: ตั้งค่าคอนฟิกนโยบายการรวมบัญชีการจัดส่ง
description: บทความนี้อธิบายวิธีการตั้งค่านโยบายการรวมบัญชีการจัดส่งเริ่มต้นและแบบกำหนดเอง
author: Mirzaab
ms.date: 09/07/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSShipConsolidationPolicy, WHSShipConsolidationWorkbench, WHSFilterGroupTable, TMSMode, WHSShipmentConsolidation, WHSFilterGenerallyAvail
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-05-01
ms.dyn365.ops.version: 10.0.3
ms.openlocfilehash: 0312d425d2ebc5311e894030423a916b90f1881a
ms.sourcegitcommit: 3d7ae22401b376d2899840b561575e8d5c55658c
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/08/2022
ms.locfileid: "9427994"
---
# <a name="configure-shipment-consolidation-policies"></a>ตั้งค่าคอนฟิกนโยบายการรวมบัญชีการจัดส่ง

[!include [banner](../includes/banner.md)]

กระบวนการรวมบัญชีการจัดส่งที่ใช้นโยบายการรวมบัญชีการจัดส่ง อนุญาตให้มีการรวมบัญชีการจัดส่งแบบอัตโนมัติในระหว่างการนำออกใช้แบบอัตโนมัติและแบบด้วยตนเองไปยังคลังสินค้า หลังจากที่คุณเปิดใช้งานคุณลักษณะนี้แล้ว คุณต้องตั้งค่าคอนฟิกนโยบายเริ่มต้นของคุณ ถ้าไม่มีการตั้งค่าคอนฟิกนโยบาย รายการขายแต่ละรายการจะสร้างการจัดส่งแยกต่างหากที่มีรายการจำนวนงานในศูนย์การผลิตเดียว

สถานการณ์ที่แสดงในบทความนี้แสดงวิธีการตั้งค่านโยบายการรวมบัญชีการจัดส่งเริ่มต้นและแบบกำหนดเอง

> [!WARNING]
> ถ้าคุณอัปเกรดระบบ Microsoft Dynamics 365 Supply Chain Management ที่คุณใช้คุณลักษณะการรวมบัญชีการจัดส่งเดิม การรวมบัญชีอาจหยุดการงานตามที่คุณคาดไว้ เว้นแต่คุณจะปฏิบัติตามใบแจ้งที่มอบให้ที่นี่
>
> ในการติดตั้ง Supply Chain Management ที่คุณลักษณะ *นโยบายการรวมบัญชีการจัดส่ง* ปิดอยู่ คุณเปิดใช้งานการตั้งค่า **รวมการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** สำหรับคลังสินค้าแต่ละแห่ง คุณลักษณะนี้เป็นคุณสมบัติบังคับรุ่น 10.0.29 เมื่อเปิดใช้งาน การตั้งค่า **รวมการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** จะถูกซ่อนไว้ และฟังก์ชันจะถูกแทนที่ด้วย *นโยบายการรวมบัญชีการจัดส่ง* ซึ่งอธิบายไว้ในบทความนี้ แต่ละนโยบายกําหนดกฎการรวมบัญชีและมีการสอบถามเพื่อควบคุมว่าจะใช้นโยบายที่ใด เมื่อคุณเปิดคุณลักษณะครั้งแรก จะไม่มีการกําหนดนโยบายการรวมบัญชีการจัดส่งบนหน้า **นโยบายการรวมบัญชีการจัดส่ง** เมื่อไม่ได้กําหนดนโยบายไว้ ระบบจะใช้ลักษณะการทำงานแบบดั้งเดิม คลังสินค้าที่มีอยู่แต่ละแห่งจะยังคงทำตามการตั้งค่า **รวมการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** แม้ว่าขณะนี้การตั้งค่าจะถูกซ่อนอยู่ อย่างไรก็ตาม หลังจากที่คุณสร้างนโยบายการรวมบัญชีการจัดส่งอย่างน้อยหนึ่งนโยบาย กราตั้งค่า **รวมการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** จะไม่มีผลใดๆ อีกต่อไป และนโยบายควบคุมฟังก์ชันการรวมบัญชีทั้งหมด
>
> หลังจากที่คุณกําหนดนโยบายการรวมบัญชีการจัดส่งอย่างน้อยหนึ่งนโยบาย ระบบจะตรวจสอบนโยบายการรวมบัญชีทุกครั้งที่ใบสั่งถูกนำออกใช้ไปยังคลังสินค้า ระบบประมวลผลนโยบายโดยใช้การจัดอันดับที่กําหนดโดยค่า **ลำดับนโยบาย** แต่ละนโยบาย ใช้นโยบายแรกที่การสอบถามตรงกับใบสั่งใหม่ ถ้าไม่มีการสอบถามตรงกับใบสั่ง ใบสั่งแต่ละรายการจะสร้างการจัดส่งแยกต่างหากที่มีรายการจำนวนงานในศูนย์การผลิตเดียว ดังนั้น เป็นทางเลือก เราจึงขอแนะนำว่าคุณควรสร้างนโยบายเริ่มต้นที่ใช้กับคลังสินค้าและกลุ่มทั้งหมดตามหมายเลขใบสั่ง ให้ค่านโยบายทางเลือกนี้ **ลำดับนโยบาย** สูงสูด เพื่อให้มีการประมวลผลครั้งล่าสุด
>
> หากต้องการสร้างลักษณะการทำงานแบบดั้งเดิมใหม่ คุณต้องสร้างนโยบายที่ซึ่งไม่จัดกลุ่มตามหมายเลขใบสั่ง และมีเกณฑ์การสอบถามที่มีคลังสินค้าที่เกี่ยวข้องทั้งหมด

## <a name="turn-on-the-shipment-consolidation-policies-feature"></a>เปิดคุณลักษณะนโยบายการรวมบัญชีการจัดส่ง

การใช้คุณลักษณะ *นโยบายการรวมบัญชีการจัดส่ง* คุณต้องเปิดใช้งานในระบบของคุณ เริ่มจาก Supply Chain Management เวอร์ชัน 10.0.29 คุณลักษณะนี้เป็นแบบบังคับ และไม่สามารถปิดได้ ถ้าคุณเรียกใช้รุ่นที่เก่ากว่า 10.0.29 ผู้ดูแลระบบสามารถเปิดหรือปิดฟังก์ชันนี้ได้โดยค้นหาคุณลักษณะ *นโยบายการรวมบัญชีการจัดส่ง* ในพื้นที่ทำงาน [การจัดการคุณลักษณะ](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)

## <a name="set-up-your-initial-consolidation-policies"></a><a name="initial-policies"></a>ตั้งค่านโยบายการรวมบัญชีเริ่มต้นของคุณ

หากคุณใช้งานระบบใหม่หรือระบบที่คุณเพิ่งเปิดคุณลักษณะ *นโยบายการรวมบัญชีการจัดส่ง* เป็นครั้งแรก ให้ปฏิบัติตามขั้นตอนต่อไปนี้เพื่อตั้งค่านโยบายการรวมบัญชีการจัดส่งสินค้าครั้งแรก

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้างการตั้งค่าเริ่มต้น** เพื่อสร้างนโยบายต่อไปนี้:

    - นโยบายที่ชื่อ *เริ่มต้น* สำหรับชนิดนโยบาย *ใบสั่งขาย*
    - นโยบายที่ชื่อ *เริ่มต้น* สำหรับชนิดนโยบาย *โอนย้ายการตัดสินค้า*
    - นโยบายที่ชื่อ *CrossOrder* สำหรับชนิดนโยบาย *โอนย้ายการตัดสินค้า* (นโยบายนี้จะถูกสร้างขึ้นเฉพาะเมื่อคุณมีคลังสินค้าอย่างน้อยหนึ่งแห่งที่เปิดใช้งานการตั้งค่า **รวมการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** ดั้งเดิม)
    - นโยบายที่ชื่อ *CrossOrder* สำหรับชนิดนโยบาย *ใบสั่งขาย* (นโยบายนี้จะถูกสร้างขึ้นเฉพาะเมื่อคุณมีคลังสินค้าอย่างน้อยหนึ่งแห่งที่เปิดใช้งานการตั้งค่า **รวมการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** ดั้งเดิม)

    > [!NOTE]
    > - นโยบาย *CrossOrder* ทั้งสองนโยบายจะพิจารณาถึงชุดของฟิลด์เดียวกันกับตรรกะก่อนหน้านี้ แต่ให้พิจารณาถึงฟิลด์หมายเลขใบสั่งด้วย (ฟิลด์ดังกล่าวจะใช้เพื่อรวมบัญชีรายการไว้ในการจัดส่ง โดยยึดตามปัจจัยต่างๆ เช่น คลังสินค้า โหมดการขนส่งของการจัดส่ง และที่อยู่)
    > - นโยบาย *เริ่มต้น* ทั้งสองนโยบายจะพิจารณาถึงชุดของฟิลด์เดียวกันกับตรรกะก่อนหน้านี้ แต่ให้พิจารณาถึงฟิลด์หมายเลขใบสั่งด้วย (ฟิลด์ดังกล่าวจะใช้เพื่อรวมบัญชีรายการไว้ในการจัดส่ง โดยยึดตามปัจจัยต่างๆ เช่น หมายเลขใบสั่ง คลังสินค้า โหมดการขนส่งของการจัดส่ง และที่อยู่)

1. หากระบบสร้างนโยบาย *CrossOrder* สำหรับชนิดนโยบาย *ใบสั่งขาย* ให้เลือก และจากนั้น บนบานหน้าต่างการดำเนินการ ให้เลือก **แก้ไขการสอบถาม** โปรแกรมแก้ไขการสอบถาม คุณสามารถดูคลังสินค้าใดที่มีการเปิดใช้งานการตั้งค่า **รวมการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** ไว้ก่อนหน้านี้ นโยบายนี้จะคัดลอกการตั้งค่าก่อนหน้านี้ของคุณมากับคลังสินค้าเหล่านี้
1. เลือกระบุนโยบายเริ่มต้นใหม่ตามที่ต้องการด้วยการเพิ่มหรือลบฟิลด์และ/หรือแก้ไขการสอบถาม คุณสามารถเพิ่มนโยบายใหม่มากเท่าที่คุณต้องการ ตัวอย่างเช่น ที่แสดงวิธีการเลือกกําหนดและตั้งค่าคอนฟิกนโยบายของคุณ โปรดดูที่ตัวอย่างสถานการณ์ที่ตามมาในสถานการณ์นี้

## <a name="scenario-configure-custom-shipment-consolidation-policies"></a>สถานการณ์จำลอง: ตั้งค่าคอนฟิกนโยบายการรวมบัญชีการจัดส่งแบบกำหนดเอง

สถานการณ์นี้จะแสดงตัวอย่างวิธีการตั้งค่านโยบายการรวมบัญชีการจัดส่งแบบกำหนดเอง แล้วทดสอบนโยบายเหล่านั้นโดยใช้ข้อมูลสาธิต นโยบายที่กำหนดเองสามารถสนับสนุนความต้องการทางธุรกิจที่ซับซ้อน ที่ซึ่งการรวมบัญชีการจัดส่งจะขึ้นอยู่กับเงื่อนไขหลายอย่าง สำหรับนโยบายตัวอย่างแต่ละนโยบายในภายหลังในสถานการณ์นี้ คำอธิบายย่อของกรณีธุรกิจจะรวมอยู่ด้วย ควรตั้งค่านโยบายตัวอย่างเหล่านี้ในลำดับที่ช่วยให้มั่นใจในการประเมินผลแบบพีระมิดของการสอบถาม (กล่าวคือ นโยบายที่มีเงื่อนไขมากที่สุดควรได้รับการประเมินว่ามีระดับความสำคัญสูงสุด)

### <a name="make-demo-data-available"></a>ทำให้ข้อมูลสาธิตพร้อมใช้งาน

สถานการณ์จำลองนี้จะอ้างอิงค่าและเรกคอร์ดที่ถูกรวมอยู่ใน [ข้อมูลสาธิต](../../fin-ops-core/fin-ops/get-started/demo-data.md) มาตรฐานที่ให้ไว้สำหรับ Supply Chain Management ถ้าคุณต้องการใช้ค่าที่ระบุไว้ที่นี่เมื่อคุณทำแบบฝึกหัด ควรตรวจสอบให้แน่ใจว่าได้ทำงานในสภาพแวดล้อมที่มีการติดตั้งข้อมูลสาธิต และตั้งค่านิติบุคคลเป็น *USMF* ก่อนที่คุณจะเริ่มต้น

### <a name="prepare-master-data-for-this-scenario"></a>เตรียมข้อมูลหลักสำหรับสถานการณ์จำลองนี้

ก่อนที่คุณจะสามารถไปยังแบบฝึกหัดในสถานการณ์นี้ คุณต้องจัดเตรียมข้อมูลหลักที่จำเป็นสำหรับการกรอง ตามที่อธิบายไว้ในส่วนย่อยต่อไปนี้ (ข้อกำหนดเบื้องต้นเหล่านี้นำไปใช้กับสถานการณ์ที่แสดงรายการอยู่ในส่วน [สถานการณ์ตัวอย่างของวิธีการใช้นโยบายการรวมบัญชีการจัดส่ง](#example-scenarios))

#### <a name="create-two-new-product-filter-codes"></a>สร้างรหัสตัวกรองผลิตภัณฑ์ใหม่สองรหัส

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> ตัวกรองผลิตภัณฑ์ \> ตัวกรองผลิตภัณฑ์** และเพิ่มตัวกรองผลิตภัณฑ์สองรายการ:

    - ตัวกรองผลิตภัณฑ์ 1:

        - **รหัสตัวกรอง:** *ไวไฟ*
        - **ชื่อตัวกรอง:** *รหัส 4*

    - ตัวกรองผลิตภัณฑ์ 2:

        - **รหัสตัวกรอง:** *ระเบิด*
        - **ชื่อตัวกรอง:** *รหัส 4*

1. ไปยัง **การจัดการข้อมูลผลิตภัณฑ์ \> ผลิตภัณฑ์ \> ผลิตภัณฑ์ที่นำออกใช้**
1. เปิดผลิตภัณฑ์ที่มีหมายเลขสินค้า *M9200* (ผลิตภัณฑ์ที่คุณเลือกต้องถูกเปิดใช้งานสำหรับกระบวนการ \[WMS\] ของคลังสินค้าขั้นสูง และผลิตภัณฑ์นี้ถูกเปิดใช้งานไว้ล่วงหน้าสำหรับกระบวนการ WMS ในข้อมูลสาธิต **USMF**)
1. บน FastTab **คลังสินค้า** ให้ตั้งค่าฟิลด์ **รหัส 4** เป็น *ไวไฟ*
1. ปิดหน้า
1. เปิดผลิตภัณฑ์ที่มีหมายเลขสินค้า *M9201* (นอกจากนี้ ผลิตภัณฑ์นี้ยังถูกเปิดใช้งานไว้ล่วงหน้าสำหรับกระบวนการ WMS ในข้อมูลสาธิต **USMF**)
1. บน FastTab **คลังสินค้า** ให้ตั้งค่าฟิลด์ **รหัส 4** เป็น *ระเบิด*
1. ปิดหน้า

#### <a name="create-a-new-transportation-mode-of-delivery"></a>สร้างโหมดการขนส่งของการจัดส่งใหม่

1. ไปที่ **การจัดการการขนส่ง \> การตั้งค่า \> ผู้ขนส่ง > \> โหมด**
1. สร้างโหมดการขนส่งที่จะใช้ในการสอบถามการรวมบัญชี และตั้งชื่อว่า *สายการบิน*
1. ไปที่ **การจัดการการขนส่ง \> การตั้งค่า \> ผู้ขนส่ง \> ผู้ขนส่งสินค้า**
1. สร้างผู้ขนส่งที่มีการตั้งค่าต่อไปนี้:

    - **ผู้ขนส่งสินค้า:** *สายการบิน*
    - **ชื่อ:** *สายการบิน*
    - **โหมด:** *สายการบิน*

1. บน FastTab **บริการ** สำหรับผู้ขนส่งใหม่ ให้เพิ่มแถวที่มีการตั้งค่าต่อไปนี้:

    - **บริการขนส่ง:** *อากาศ*
    - **วิธีการขนส่ง:** *อากาศ*

1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**

    > [!NOTE]
    > เมื่อคุณบันทึกผู้ขนส่งใหม่จะมีการตั้งค่าฟิลด์ **โหมดการจัดส่ง** สำหรับแถวใหม่ในกริด **บริการ** เป็น *Airwa-Air* โดยอัตโนมัติ เมื่อคุณใช้โหมดการจัดส่ง *Airwa-Air* สำหรับใบสั่งขาย โหมดการขนส่ง *สายการบิน* จะถูกใช้สำหรับการจัดส่งที่เกี่ยวข้อง

#### <a name="create-an-order-pool"></a>สร้างกลุ่มใบสั่ง

1. ไปที่ **การขายและการตลาด \> การตั้งค่า \> ใบสั่งขาย \> กลุ่มใบสั่ง**
1. สร้างกลุ่มใบสั่งที่จะใช้สำหรับการสอบถามการรวมบัญชี กลุ่มใบสั่งนี้ควรมีการตั้งค่าต่อไปนี้:

    - **กลุ่ม:** ให้ป้อนจำนวนเต็มที่ไม่ได้ถูกใช้โดยกลุ่มอื่นๆ อยู่แล้ว
    - **ชื่อ:** *ShipCons*

1. ไปที่ **การขายและการตลาด \> ลูกค้า \> ลูกค้าทั้งหมด**
1. เปิดลูกค้าที่มีหมายเลขบัญชี *US-003*
1. บน FastTab **ค่าเริ่มต้นของใบสั่งขาย** ให้ตั้งค่าฟิลด์ **กลุ่มใบสั่งขาย** เป็นกลุ่มใบสั่งที่คุณเพิ่งสร้างขึ้น
1. ปิดหน้า แล้วจากนั้น ทำซ้ำขั้นตอนที่ 4 และ 5 สำหรับลูกค้าที่มีหมายเลขบัญชี *US-004*

### <a name="create-example-policy-1"></a>สร้างนโยบายตัวอย่าง 1

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *ลูกค้า + โหมด* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายนี้จะสอบถามเกี่ยวกับบัญชีลูกค้าเฉพาะ (*US-001*) และโหมดการจัดส่งเฉพาะ (*Airwa-Air*)
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกปิดอยู่
- มีการดำเนินการการรวมบัญชีสำหรับรหัสใบสั่งแต่ละรหัส (กล่าวคือ จะมีการจัดส่งแยกต่างหากสำหรับแต่ละใบสั่ง คลังสินค้า ฯลฯ)

ทำตามขั้นตอนต่อไปนี้เพื่อสร้างนโยบายการรวมบัญชีการจัดส่งสำหรับกรณีทางธุรกิจนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *CustomerMode*
    - **คำอธิบายนโยบาย:** *บัญชีลูกค้าและโหมดการจัดส่ง*

1. ปล่อยให้ตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** ถูกตั้งค่าเป็น *ไม่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) การย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **ช่วง** ในกริด ให้ค้นหาแถวที่มีการตั้งค่าฟิลด์ของ **ฟิลด์** เป็น *บัญชีลูกค้า* และตั้งค่าฟิลด์ **เงื่อนไข** สำหรับแถวนั้นเป็น *US-001*
1. เลือก **เพิ่ม** เพื่อเพิ่มแถวที่มีการตั้งค่าต่อไปนี้ไปยังกริด:

    - **ตาราง:** *รายการใบสั่ง*
    - **ตารางสืบทอด:** *รายการใบสั่ง*
    - **ฟิลด์:** *โหมดการจัดส่ง*
    - **เงื่อนไข:** *Airwa-Air*

1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

> [!NOTE]
> สำหรับกรณีทางธุรกิจนี้ รายการใบสั่งสำหรับลูกค้าของ *US-001* ที่ใช้โหมดการจัดส่ง *Airwa-Air* จะไม่มีการรวมบัญชีระหว่างใบสั่ง นโยบายนี้มีไว้สำหรับใช้เป็นอันดับแรกในลำดับ ในกรณีที่การจัดส่งสำหรับโหมดการจัดส่งอื่นๆ ทั้งหมดถูกรวมบัญชีสำหรับลูกค้านี้

### <a name="create-example-policy-2"></a>สร้างนโยบายตัวอย่าง 2

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *วัตถุอันตราย* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายนี้จะสอบถามเกี่ยวกับรหัสตัวกรองเฉพาะ (*อันตราย*) และโหมดการจัดส่งเฉพาะ (*Airwa-Air*)
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกเปิดอยู่
- มีการดำเนินการการรวมบัญชีระหว่างใบสั่ง (กล่าวคือ จะมีการจัดส่งแยกต่างหากสำหรับแต่ละบัญชี คลังสินค้า และอื่นๆ แต่เฉพาะภายในกลุ่มสินค้าที่ระบุไว้ในการสอบถามเท่านั้น)

ทำตามขั้นตอนต่อไปนี้เพื่อสร้างนโยบายการรวมบัญชีการจัดส่งสำหรับกรณีทางธุรกิจนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *ชนิดสินค้า*
    - **คำอธิบายนโยบาย:** *รวมบัญชีสินค้าชนิดเดียวกันระหว่างใบสั่ง*

1. ตั้งค่าตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** เป็น *ใช่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) การย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **รวม** ขยายและเลือก **ตาราง \> รายละเอียดจำนวนงานในศูนย์การผลิต** ในแผนภูมิ
1. เลือก **เพิ่มการรวมตาราง**
1. ในกริดของความสัมพันธ์ที่ปรากฏขึ้น ให้ค้นหาและเลือกแถวที่มีการตั้งค่าฟิลด์ **ความสัมพันธ์** เป็น *หมายเลขสินค้าในคลังสินค้า (หมายเลขสินค้า)* และจากนั้น เลือก **เลือก** 
1. บนแท็บ **ช่วง** เลือก **เพิ่ม** เพื่อเพิ่มแถวที่มีการตั้งค่าต่อไปนี้ไปยังกริด:

    - **ตาราง:** *หมายเลขสินค้าในคลังสินค้า*
    - **ตารางสืบทอด:** *หมายเลขสินค้าในคลังสินค้า*
    - **ฟิลด์:** *รหัส 4*
    - **เงื่อนไข:** *ไวไฟ*

1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

> [!NOTE]
> สำหรับกรณีทางธุรกิจนี้ รายการใบสั่งทั้งหมดที่ซึ่งสินค้ามีรหัสตัวกรองเฉพาะ (นั่นคือ รหัสตัวกรองที่มีการตั้งค่าฟิลด์ **รหัส 4** เป็น *ไวไฟ*) จะถูกรวมบัญชีเข้ากับสินค้าอื่นๆ ของชนิดเดียวกันระหว่างใบสั่ง ถ้ามีการจัดส่งที่เปิดค้างไว้สำหรับบัญชี คลังสินค้า และกลุ่มสินค้าเดียวกัน รายการใหม่จะถูกแนบอยู่กับสินค้านั้น

### <a name="create-example-policy-3"></a>สร้างนโยบายตัวอย่าง 3

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *ความต้องการของลูกค้า* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายจะสอบถามสำหรับบัญชีลูกค้าที่ระบุ
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกเปิดอยู่
- มีการดำเนินการรวมบัญชีระหว่างใบสั่ง แต่จะขึ้นอยู่กับการจัดหาวัตถุดิบของลูกค้า (กล่าวคือ ใบสั่งหลายใบจะถูกจัดกลุ่มเป็นการจัดส่ง โดยยึดตามหมายเลขการจัดหาวัตถุดิบของลูกค้าและคลังสินค้าเดียวกัน)

ทำตามขั้นตอนต่อไปนี้เพื่อสร้างนโยบายการรวมบัญชีการจัดส่งสำหรับกรณีทางธุรกิจนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *CustomerOrderNo*
    - **คำอธิบายนโยบาย:** *รวมบัญชีรายการโดยยึดตาม PO ของลูกค้า*

1. ตั้งค่าตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** เป็น *ใช่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *การจัดหาวัตถุดิบของลูกค้า*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) การย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) การย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **ช่วง** ให้ค้นหาแถวที่มีการตั้งค่าฟิลด์ของ **ฟิลด์** เป็น *บัญชีลูกค้า* และตั้งค่าฟิลด์ **เงื่อนไข** สำหรับแถวนั้นเป็น *US-001*
1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

> [!NOTE]
> สำหรับกรณีทางธุรกิจนี้ รายการใบสั่งทั้งหมดที่ซึ่งใบสั่งขายมีหมายเลขการจัดหาวัตถุดิบของลูกค้าเดียวกันจะถูกรวมบัญชีอยู่ในการจัดส่งหนึ่งรายการ โดยไม่คำนึงถึงหมายเลขใบสั่งขาย (หมายเลขการจัดหาวัตถุดิบของลูกค้าถูกใช้เป็นหมายเลข \[PO\] ใบสั่งซื้อของลูกค้า) ถ้ามีการจัดส่งที่เปิดค้างไว้สำหรับบัญชี คลังสินค้า และการจัดหาวัตถุดิบของลูกค้าเดียวกัน รายการใหม่จะถูกแนบอยู่ คุณสามารถใช้นโยบายนี้ได้ ถ้าลูกค้าส่งรายการใบสั่งเพิ่มเติมที่มีหมายเลข PO เดียวกันหลายครั้งในระหว่างวัน และต้องการให้มีการจัดกลุ่มรายการทั้งหมดเป็นการจัดส่งเดียว (กล่าวคือ จะมีใบตราส่งหนึ่งใบและบันทึกการจัดส่งหนึ่งฉบับ)

### <a name="create-example-policy-4"></a>สร้างนโยบายตัวอย่าง 4

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *ลูกค้าที่อนุญาตการรวมบัญชี* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายจะสอบถามสำหรับกลุ่มใบสั่งเฉพาะเพื่อระบุลูกค้าที่ยอมรับการจัดส่งที่รวมบัญชี
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกปิดอยู่
- มีการดำเนินการรวมบัญชีระหว่างใบสั่งโดยใช้ฟิลด์ที่เลือกโดยนโยบาย CrossOrder เริ่มต้น (เพื่อจำลองกล่องกาเครื่องหมาย **รวมบัญชีการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** ก่อนหน้านี้)

- คุณสามารถแทนที่กฎในใบสั่งขายได้โดยการเลือกกลุ่มใบสั่งที่แตกต่างกัน

ทำตามขั้นตอนต่อไปนี้เพื่อสร้างนโยบายการรวมบัญชีการจัดส่งสำหรับกรณีทางธุรกิจนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *กลุ่มใบสั่ง*
    - **คำอธิบายนโยบาย:** *รวมบัญชีระหว่างใบสั่งโดยยึดตามกลุ่มใบสั่ง*

1. ปล่อยให้ตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** ถูกตั้งค่าเป็น *ไม่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) การย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **ช่วง** ให้เลือก **เพิ่ม** เพื่อเพิ่มแถวที่มีการตั้งค่าต่อไปนี้ไปยังกริด:

    - **ตาราง:** *ใบสั่งขาย*
    - **ตารางสืบทอด:** *ใบสั่งขาย*
    - **ฟิลด์:** *กลุ่ม*
    - **เงื่อนไข:** *ShipCons*

1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

> [!NOTE]
> สำหรับกรณีทางธุรกิจนี้ รายการใบสั่งทั้งหมดที่ซึ่งใบสั่งขายเป็นของกลุ่มใบสั่งเดียวกันจะถูกรวมเข้ากับการจัดส่งหนึ่งรายการทั่วทั้งใบสั่งขายสำหรับโหมดการจัดส่งของบัญชี คลังสินค้า และการขนส่งเดียวกัน แทนที่จะเป็นกลุ่มใบสั่ง คุณสามารถใช้ฟิลด์อื่นเพื่อแยกความแตกต่างของกลุ่มลูกค้าและใช้ส่วนหัวของใบสั่งขายตามค่าเริ่มต้น คุณสามารถใช้วิธีการนี้ได้ ถ้าลูกค้า ไม่ใช่คลังสินค้า กำลังสนับสนุนความต้องการสำหรับการรวมบัญชี (ในตรรกะการรวมบัญชีก่อนหน้านี้ คลังสินค้าสนับสนุนความต้องการสำหรับการรวมบัญชี)

### <a name="create-example-policy-5"></a>สร้างนโยบายตัวอย่าง 5

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *คลังสินค้าที่อนุญาตการรวมบัญชี* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายจะสอบถามสำหรับกลุ่มใบสั่งเฉพาะเพื่อระบุคลังสินค้าที่สามารถรวมบัญชีการจัดส่ง
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกปิดอยู่
- มีการดำเนินการรวมบัญชีระหว่างใบสั่งโดยใช้ฟิลด์ที่เลือกโดยนโยบาย CrossOrder เริ่มต้น (เพื่อจำลองกล่องกาเครื่องหมาย **รวมบัญชีการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** ก่อนหน้านี้)

โดยทั่วไป กรณีทางธุรกิจนี้สามารถแก้ไขได้โดยใช้นโยบายเริ่มต้นที่คุณสร้างขึ้นใน [ตั้งค่านโยบายการรวมบัญชีเริ่มต้นของคุณ](#initial-policies) อย่างไรก็ตาม คุณยังสามารถสร้างนโยบายที่คล้ายกันด้วยตนเองได้โดยปฏิบัติตามขั้นตอนต่อไปนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *ข้ามใบสั่ง*
    - **คำอธิบายนโยบาย:** *การรวมบัญชีข้ามใบสั่งสำหรับคลังสินค้าที่ระบุ*

1. ปล่อยให้ตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** ถูกตั้งค่าเป็น *ไม่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในฟิลด์ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ซึ่งฟิลด์ของ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) การย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **ช่วง** ให้ค้นหาแถวที่ซึ่งมีการตั้งค่าฟิลด์ของ **ฟิลด์** เป็น *คลังสินค้า* และตั้งค่าฟิลด์ **เงื่อนไข** สำหรับแถวนั้นเป็น *61, 63*
1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

### <a name="set-the-order"></a>ตั้งค่าใบสั่ง

หลังจากที่คุณได้สร้างนโยบายทั้งหมดแล้ว คุณต้องสร้างใบสั่งที่จะนำไปใช้ เมื่อต้องการใช้วิธีการแบบพีระมิด ที่ซึ่งนโยบายที่มีเงื่อนไขมากที่สุดถูกประเมินเป็นมีระดับความสำคัญสูงสุด ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. เลือกนโยบายแต่ละนโยบายที่แสดงรายการอยู่ในคอลัมน์ด้านซ้าย และจากนั้นใช้ปุ่ม **เลื่อนขึ้น** และ **เลื่อนลง** บนบานหน้าต่างการดำเนินการ เพื่อจัดเรียงนโยบายตามลำดับต่อไปนี้:

    1. CustomerMode
    1. ชนิดรายการ
    1. CustomerOrderNo
    1. กลุ่มใบสั่ง
    1. ข้ามใบสั่ง
    1. ค่าเริ่มต้น

## <a name="example-scenarios-of-how-to-use-shipment-consolidation-policies"></a><a name="example-scenarios"></a> สถานการณ์ตัวอย่างของวิธีการใช้นโยบายการรวมบัญชีการจัดส่ง

สถานการณ์สมมติต่อไปนี้แสดงวิธีการที่คุณสามารถใช้นโยบายการรวมบัญชีการจัดส่งที่คุณสร้างขึ้นในขณะที่อ่านบทความนี้ สถานการณ์แต่ละสถานการณ์จะนำคุณผ่านกระบวนการรวมบัญชีการจัดส่งที่ใช้นโยบายการรวมบัญชีการจัดส่ง ในระหว่างการนำออกใช้แบบอัตโนมัติหรือแบบด้วยตนเองไปยังคลังสินค้า:

- สถานการณ์จำลอง 1: [รวมบัญชีการจัดส่ง เมื่อนำออกใช้ไปยังคลังสินค้าโดยใช้การนำใบสั่งขายออกใช้โดยอัตโนมัติ](../warehousing/consolidate-shipments-automatic.md)
- สถานการณ์จำลอง 2: [รวมบัญชีการจัดส่ง เมื่อนโยบายการรวมบัญชีการจัดส่งถูกแทนที่จากหน้านำออกใช้ไปยังคลังสินค้า](../warehousing/consolidate-shipments-release-to-warehouse-override.md)
- สถานการณ์จำลอง 3: [รวมบัญชีการจัดส่งโดยใช้การนำออกใช้ไปยังคลังสินค้าจากเวิร์กเบนช์การวางแผนการบรรทุก](../warehousing/consolidate-shipments-load-planning-workbench.md)
- สถานการณ์จำลอง 4: [รวมบัญชีการจัดส่งโดยใช้เวิร์กเบนช์การรวมบัญชีการจัดส่ง](../warehousing/consolidate-shipments-manual-workbench.md)
- สถานการณ์จำลอง 5: [รวมบัญชีการจัดส่งด้วยตนเองโดยใช้หน้ารวมบัญชีการจัดส่ง](../warehousing/consolidate-shipments-manual-form.md)


## <a name="additional-resources"></a>แหล่งข้อมูลเพิ่มเติม

- [ภาพรวมนโยบายการรวมบัญชีการจัดส่ง](about-shipment-consolidation-policies.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
