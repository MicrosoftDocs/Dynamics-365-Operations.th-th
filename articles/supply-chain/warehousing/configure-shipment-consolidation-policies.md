---
title: ตั้งค่าคอนฟิกนโยบายการรวมบัญชีการจัดส่ง
description: หัวข้อนี้อธิบายวิธีการตั้งค่านโยบายการรวมบัญชีการจัดส่งเริ่มต้นและแบบกำหนดเอง
author: GarmMSFT
manager: tfehr
ms.date: 05/12/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSShipConsolidationPolicy, WHSShipConsolidationWorkbench, WHSFilterGroupTable, TMSMode, WHSShipmentConsolidation, WHSFilterGenerallyAvail
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2020-05-01
ms.dyn365.ops.version: 10.0.3
ms.openlocfilehash: 0d6ab6c034a5c341432f661cf1e729dfd3e5c239
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 01/15/2021
ms.locfileid: "4996411"
---
# <a name="configure-shipment-consolidation-policies"></a>ตั้งค่าคอนฟิกนโยบายการรวมบัญชีการจัดส่ง

[!include [banner](../includes/banner.md)]

กระบวนการรวมบัญชีการจัดส่งที่ใช้นโยบายการรวมบัญชีการจัดส่ง อนุญาตให้มีการรวมบัญชีการจัดส่งแบบอัตโนมัติในระหว่างการนำออกใช้แบบอัตโนมัติและแบบด้วยตนเองไปยังคลังสินค้า หลังจากที่คุณเปิดใช้งานคุณลักษณะนี้แล้ว คุณต้องตั้งค่าคอนฟิกนโยบายเริ่มต้นของคุณ ถ้าไม่มีการตั้งค่าคอนฟิกนโยบาย รายการขายแต่ละรายการจะสร้างการจัดส่งแยกต่างหากที่มีรายการจำนวนงานในศูนย์การผลิตเดียว

สถานการณ์ที่แสดงในหัวข้อนี้แสดงวิธีการตั้งค่านโยบายการรวมบัญชีการจัดส่งเริ่มต้นและแบบกำหนดเอง

## <a name="turn-on-the-shipment-consolidation-policies-feature"></a>เปิดคุณลักษณะนโยบายการรวมบัญชีการจัดส่ง

> [!IMPORTANT]
> ใน [สถานการณ์แรก](#scenario-1) ที่อธิบายไว้ในหัวข้อนี้ คุณจะตั้งค่าคลังสินค้าก่อน จึงจะใช้คุณลักษณะการรวมบัญชีการจัดส่งก่อนหน้านี้ จากนั้น คุณจะจัดทำให้นโยบายการรวมบัญชีการจัดส่งพร้อมใช้งาน ด้วยวิธีนี้ คุณสามารถพบวิธีการทำงานของสถานการณ์จำลองการอัพเกรด ถ้าคุณวางแผนที่จะใช้สภาพแวดล้อมข้อมูลสาธิตเพื่อไปยังสถานการณ์แรก ไม่ต้องเปิดคุณลักษณะก่อนที่คุณจะทำสถานการณ์จำลองดังกล่าว

ก่อนที่คุณจะสามารถใช้คุณลักษณะ *นโยบายการรวมบัญชีการจัดส่ง* คุณต้องเปิดใช้งานในระบบของคุณ ผู้ดูแลระบบสามารถใช้การตั้งค่า [การจัดการคุณลักษณะ](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) เพื่อตรวจสอบสถานะของคุณลักษณะและเปิดใช้งาน ในพื้นที่ทำงาน **การจัดการคุณลักษณะ** มีการแสดงรายการคุณลักษณะในวิธีต่อไปนี้:

- **โมดูล:** *การจัดการคลังสินค้า*
- **ชื่อคุณลักษณะ:** *รวมบัญชีการจัดส่ง*

## <a name="make-demo-data-available"></a>ทำให้ข้อมูลสาธิตพร้อมใช้งาน

สถานการณ์จำลองแต่ละสถานการณ์ในหัวข้อนี้จะอ้างอิงค่าและเรกคอร์ดที่รวมอยู่ในข้อมูลสาธิตมาตรฐานที่ให้ไว้สำหรับ Microsoft Dynamics 365 Supply Chain Management ถ้าคุณต้องการใช้ค่าที่ระบุไว้ที่นี่เมื่อคุณทำแบบฝึกหัด ควรตรวจสอบให้แน่ใจว่าได้ทำงานในสภาพแวดล้อมที่มีการติดตั้งข้อมูลสาธิต และตั้งค่านิติบุคคลเป็น **USMF** ก่อนที่คุณจะเริ่มต้น

## <a name="scenario-1-configure-default-shipment-consolidation-policies"></a><a name="scenario-1"></a>สถานการณ์จำลอง1: ตั้งค่าคอนฟิกนโยบายการรวมบัญชีการจัดส่งเริ่มต้น

มีสถานการณ์สองสถานการณ์ที่คุณต้องตั้งค่าคอนฟิกจำนวนขั้นต่ำของนโยบายเริ่มต้น หลังจากที่คุณเปิดใช้งานคุณลักษณะ *นโยบายการรวมบัญชีการจัดส่ง*:

- คุณกำลังอัพเกรดสภาพแวดล้อมที่มีข้อมูลอยู่แล้ว
- คุณกำลังตั้งค่าสภาพแวดล้อมใหม่ทั้งหมด

### <a name="upgrade-an-environment-where-warehouses-are-already-configured-for-cross-order-consolidation"></a>อัพเกรดสภาพแวดล้อมที่มีการตั้งค่าคอนฟิกคลังสินค้าสำหรับการรวมบัญชีข้ามใบสั่งอยู่แล้ว

เมื่อคุณเริ่มต้นกระบวนงานนี้ ควรปิดคุณลักษณะ *นโยบายการรวมบัญชีการจัดส่ง* เพื่อจำลองสภาพแวดล้อมที่มีการใช้คุณลักษณะการรวมบัญชีข้ามใบสั่งขั้นพื้นฐานอยู่แล้ว จากนั้น คุณจะใช้การจัดการคุณลักษณะเพื่อเปิดใช้งานคุณลักษณะ เพื่อให้คุณสามารถเรียนรู้วิธีการตั้งค่านโยบายการรวมบัญชีการจัดส่งหลังจากการอัพเกรด

ทำตามขั้นตอนต่อไปนี้เพื่อตั้งค่านโยบายการรวมบัญชีการจัดส่งเริ่มต้นในสภาพแวดล้อมที่มีการตั้งค่าคอนฟิกคลังสินค้าสำหรับการรวมบัญชีข้ามใบสั่งอยู่แล้ว

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> คลังสินค้า \> คลังสินค้า**
1. ในรายการ ให้ค้นหาและเปิดเรกคอร์ดของคลังสินค้าที่ต้องการ (ตัวอย่างเช่น คลังสินค้า *24* ในข้อมูลสาธิต **USMF**)
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไข**
1. บน FastTab **คลังสินค้า** ให้ตั้งค่าตัวเลือก **รวมบัญชีการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** เป็น *ใช่*
1. ทำซ้ำขั้นตอนที่ 2 ถึง 4 สำหรับคลังสินค้าอื่นๆ ทั้งหมดที่จำเป็นต้องมีการรวมบัญชี
1. ปิดหน้า
1. ใช้ [การจัดการคุณลักษณะ](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) เพื่อเปิดใช้งานคุณลักษณะ *นโยบายการรวมบัญชีการจัดส่ง* ในพื้นที่ทำงาน **การจัดการคุณลักษณะ** คุณลักษณะจะถูกตั้งชื่อเป็น *รวมบัญชีการจัดส่ง*
1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง** คุณอาจต้องรีเฟรชเบราว์เซอร์ของคุณเพื่อดูรายการเมนู **นโยบายการรวมบัญชีการจัดส่ง** ใหม่ หลังจากที่คุณเปิดใช้งานคุณลักษณะ
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้างการตั้งค่าเริ่มต้น** เพื่อสร้างนโยบายต่อไปนี้:

    - นโยบาย **CrossOrder** สำหรับชนิดนโยบาย *ใบสั่งขาย* (ซึ่งระบุว่าคุณมีคลังสินค้าอย่างน้อยหนึ่งรายการที่มีการตั้งค่าให้ใช้คุณลักษณะการรวมบัญชีก่อนหน้านี้)
    - นโยบาย **เริ่มต้น** สำหรับชนิดนโยบาย *ใบสั่งขาย*
    - นโยบาย **เริ่มต้น** สำหรับชนิดนโยบาย *การออกใช้การโอนย้าย*
    - นโยบาย **CrossOrder** สำหรับชนิดนโยบาย *การออกใช้การโอนย้าย* (ซึ่งระบุว่าคุณมีคลังสินค้าอย่างน้อยหนึ่งรายการที่มีการตั้งค่าให้ใช้คุณลักษณะการรวมบัญชีก่อนหน้านี้)

    > [!NOTE]
    > - นโยบาย **CrossOrder** ทั้งสองนโยบายจะพิจารณาถึงชุดของฟิลด์เดียวกันกับตรรกะก่อนหน้านี้ ยกเว้นสำหรับฟิลด์สำหรับหมายเลขใบสั่ง (ฟิลด์ดังกล่าวจะใช้เพื่อรวมบัญชีรายการไว้ในการจัดส่ง โดยยึดตามปัจจัยต่างๆ เช่น คลังสินค้า โหมดการขนส่งของการจัดส่ง และที่อยู่)
    > - นโยบาย **เริ่มต้น** ทั้งสองนโยบายจะพิจารณาถึงชุดของฟิลด์เดียวกันกับตรรกะก่อนหน้านี้ ซึ่งรวมถึงฟิลด์สำหรับหมายเลขใบสั่ง (ฟิลด์ดังกล่าวจะใช้เพื่อรวมบัญชีรายการไว้ในการจัดส่ง โดยยึดตามปัจจัยต่างๆ เช่น หมายเลขใบสั่ง คลังสินค้า โหมดการขนส่งของการจัดส่ง และที่อยู่)

1. เลือกนโยบาย **CrossOrder** สำหรับชนิดนโยบาย *ใบสั่งขาย* และจากนั้น บนบานหน้าต่างการดำเนินการ ให้เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม โปรดทราบว่าคลังสินค้าที่มีการตั้งค่าตัวเลือก **รวมบัญชีการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** เป็น *ใช่* ถูกแสดงรายการ ดังนั้น จึงรวมอยู่ในการสอบถาม

### <a name="create-default-policies-for-a-new-environment"></a>สร้างนโยบายเริ่มต้นสำหรับสภาพแวดล้อมใหม่

ทำตามขั้นตอนต่อไปนี้เพื่อตั้งค่านโยบายการรวมบัญชีการจัดส่งเริ่มต้นในสภาพแวดล้อมใหม่

1. ใช้ [การจัดการคุณลักษณะ](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) เพื่อเปิดใช้งานคุณลักษณะ *นโยบายการรวมบัญชีการจัดส่ง* ถ้าคุณไม่ได้เปิดใช้งานไว้อยู่แล้ว ในพื้นที่ทำงาน **การจัดการคุณลักษณะ** คุณลักษณะจะถูกตั้งชื่อเป็น *รวมบัญชีการจัดส่ง*
1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้างการตั้งค่าเริ่มต้น** เพื่อสร้างนโยบายต่อไปนี้:

    - นโยบาย **เริ่มต้น** สำหรับชนิดนโยบาย *ใบสั่งขาย*
    - นโยบาย **เริ่มต้น** สำหรับชนิดนโยบาย *การออกใช้การโอนย้าย*

    > [!NOTE]
    > นโยบาย **เริ่มต้น** ทั้งสองนโยบายจะพิจารณาถึงชุดของฟิลด์เดียวกันกับตรรกะก่อนหน้านี้ ซึ่งรวมถึงฟิลด์สำหรับหมายเลขใบสั่ง (ฟิลด์ดังกล่าวจะใช้เพื่อรวมบัญชีรายการไว้ในการจัดส่ง โดยยึดตามปัจจัยต่างๆ เช่น หมายเลขใบสั่ง คลังสินค้า โหมดการขนส่งของการจัดส่ง และที่อยู่)

## <a name="scenario-2-configure-custom-shipment-consolidation-policies"></a>สถานการณ์จำลอง2: ตั้งค่าคอนฟิกนโยบายการรวมบัญชีการจัดส่งแบบกำหนดเอง

สถานการณ์นี้แสดงวิธีการตั้งค่านโยบายการรวมบัญชีการจัดส่งแบบกำหนดเอง นโยบายที่กำหนดเองสามารถสนับสนุนความต้องการทางธุรกิจที่ซับซ้อน ที่ซึ่งการรวมบัญชีการจัดส่งจะขึ้นอยู่กับเงื่อนไขหลายอย่าง สำหรับนโยบายตัวอย่างแต่ละนโยบายในภายหลังในสถานการณ์นี้ คำอธิบายย่อของกรณีธุรกิจจะรวมอยู่ด้วย ควรตั้งค่านโยบายตัวอย่างเหล่านี้ในลำดับที่ช่วยให้มั่นใจในการประเมินผลแบบพีระมิดของการสอบถาม (กล่าวคือ นโยบายที่มีเงื่อนไขมากที่สุดควรได้รับการประเมินว่ามีระดับความสำคัญสูงสุด)

### <a name="turn-on-the-feature-and-prepare-master-data-for-this-scenario"></a>เปิดใช้งานคุณลักษณะและจัดเตรียมข้อมูลหลักสำหรับสถานการณ์นี้

ก่อนที่คุณจะสามารถไปยังแบบฝึกหัดในสถานการณ์นี้ คุณต้องเปิดใช้งานคุณลักษณะและจัดเตรียมข้อมูลหลักที่จำเป็นสำหรับการกรอง ตามที่อธิบายไว้ในส่วนย่อยต่อไปนี้ (ข้อกำหนดเบื้องต้นเหล่านี้นำไปใช้กับสถานการณ์ที่แสดงรายการอยู่ใน [สถานการณ์ตัวอย่างของวิธีการใช้นโยบายการรวมบัญชีการจัดส่ง](#example-scenarios))

#### <a name="turn-on-the-feature-and-create-the-default-policies"></a>เปิดใช้งานคุณลักษณะและสร้างนโยบายเริ่มต้น

ใช้การจัดการคุณลักษณะเพื่อเปิดใช้งานคุณลักษณะนี้ ถ้าคุณไม่ได้เปิดใช้งานอยู่แล้ว และสร้างนโยบายการรวมบัญชีเริ่มต้นที่อธิบายไว้ใน [สถานการณ์จำลอง 1](#scenario-1)

#### <a name="create-two-new-product-filter-codes"></a>สร้างรหัสตัวกรองผลิตภัณฑ์ใหม่สองรหัส

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> ตัวกรองผลิตภัณฑ์ \> ตัวกรองผลิตภัณฑ์** และเพิ่มตัวกรองผลิตภัณฑ์สองรายการ:

    - ตัวกรองผลิตภัณฑ์ 1:

        - **รหัสตัวกรอง:** *ไวไฟ*
        - **ชื่อตัวกรอง:** *รหัส 4*

    - ตัวกรองผลิตภัณฑ์ 2:

        - **รหัสตัวกรอง:** *ระเบิด*
        - **ชื่อตัวกรอง:** *รหัส 4*

1. ไปยัง **การจัดการข้อมูลผลิตภัณฑ์ \> ผลิตภัณฑ์ \> ผลิตภัณฑ์ที่นำออกใช้**
1. เปิดผลิตภัณฑ์ที่มีหมายเลขสินค้า *M9200* (ผลิตภัณฑ์ที่คุณเลือกต้องถูกเปิดใช้งานสำหรับกระบวนการ \[WMS\] ของคลังสินค้าขั้นสูง และผลิตภัณฑ์นี้ถูกเปิดใช้งานไว้ล่วงหน้าสำหรับกระบวนการ WMS ในข้อมูลสาธิต **USMF**)
1. บน FastTab **คลังสินค้า** ให้ตั้งค่าฟิลด์ **รหัส 4** เป็น *ไวไฟ*
1. ปิดหน้า
1. เปิดผลิตภัณฑ์ที่มีหมายเลขสินค้า *M9201* (นอกจากนี้ ผลิตภัณฑ์นี้ยังถูกเปิดใช้งานไว้ล่วงหน้าสำหรับกระบวนการ WMS ในข้อมูลสาธิต **USMF**)
1. บน FastTab **คลังสินค้า** ให้ตั้งค่าฟิลด์ **รหัส 4** เป็น *ระเบิด*
1. ปิดหน้า

#### <a name="create-a-new-transportation-mode-of-delivery"></a>สร้างโหมดการขนส่งของการจัดส่งใหม่

1. ไปที่ **การจัดการการขนส่ง \> การตั้งค่า \> ผู้ขนส่ง > \> โหมด**
1. สร้างโหมดการขนส่งที่จะใช้ในการสอบถามการรวมบัญชี และตั้งชื่อว่า *สายการบิน*
1. ไปที่ **การจัดการการขนส่ง \> การตั้งค่า \> ผู้ขนส่ง \> ผู้ขนส่งสินค้า**
1. สร้างผู้ขนส่งที่มีการตั้งค่าต่อไปนี้:

    - **ผู้ขนส่งสินค้า:** *สายการบิน*
    - **ชื่อ:** *สายการบิน*
    - **โหมด:** *สายการบิน*

1. บน FastTab **บริการ** สำหรับผู้ขนส่งใหม่ ให้เพิ่มแถวที่มีการตั้งค่าต่อไปนี้:

    - **บริการขนส่ง:** *อากาศ*
    - **วิธีการขนส่ง:** *อากาศ*

1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**

    > [!NOTE]
    > เมื่อคุณบันทึกผู้ขนส่งใหม่จะมีการตั้งค่าฟิลด์ **โหมดการจัดส่ง** สำหรับแถวใหม่ในกริด **บริการ** เป็น *Airwa-Air* โดยอัตโนมัติ เมื่อคุณใช้โหมดการจัดส่ง *Airwa-Air* สำหรับใบสั่งขาย โหมดการขนส่ง *สายการบิน* จะถูกใช้สำหรับการจัดส่งที่เกี่ยวข้อง

#### <a name="create-an-order-pool"></a>สร้างกลุ่มใบสั่ง

1. ไปที่ **การขายและการตลาด \> การตั้งค่า \> ใบสั่งขาย \> กลุ่มใบสั่ง**
1. สร้างกลุ่มใบสั่งที่จะใช้สำหรับการสอบถามการรวมบัญชี กลุ่มใบสั่งนี้ควรมีการตั้งค่าต่อไปนี้:

    - **กลุ่ม:** ให้ป้อนจำนวนเต็มที่ไม่ได้ถูกใช้โดยกลุ่มอื่นๆ อยู่แล้ว
    - **ชื่อ:** *ShipCons*

1. ไปที่ **การขายและการตลาด \> ลูกค้า \> ลูกค้าทั้งหมด**
1. เปิดลูกค้าที่มีหมายเลขบัญชี *US-003*
1. บน FastTab **ค่าเริ่มต้นของใบสั่งขาย** ให้ตั้งค่าฟิลด์ **กลุ่มใบสั่งขาย** เป็นกลุ่มใบสั่งที่คุณเพิ่งสร้างขึ้น
1. ปิดหน้า แล้วจากนั้น ทำซ้ำขั้นตอนที่ 4 และ 5 สำหรับลูกค้าที่มีหมายเลขบัญชี *US-004*

### <a name="create-example-policy-1"></a>สร้างนโยบายตัวอย่าง 1

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *ลูกค้า + โหมด* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายนี้จะสอบถามเกี่ยวกับบัญชีลูกค้าเฉพาะ (*US-001*) และโหมดการจัดส่งเฉพาะ (*Airwa-Air*)
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกปิดอยู่
- มีการดำเนินการการรวมบัญชีสำหรับรหัสใบสั่งแต่ละรหัส (กล่าวคือ จะมีการจัดส่งแยกต่างหากสำหรับแต่ละใบสั่ง คลังสินค้า ฯลฯ)

ทำตามขั้นตอนต่อไปนี้เพื่อสร้างนโยบายการรวมบัญชีการจัดส่งสำหรับกรณีทางธุรกิจนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *CustomerMode*
    - **คำอธิบายนโยบาย:** *บัญชีลูกค้าและโหมดการจัดส่ง*

1. ปล่อยให้ตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** ถูกตั้งค่าเป็น *ไม่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) เพื่อย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **ช่วง** ในกริด ให้ค้นหาแถวที่มีการตั้งค่าฟิลด์ของ **ฟิลด์** เป็น *บัญชีลูกค้า* และตั้งค่าฟิลด์ **เงื่อนไข** สำหรับแถวนั้นเป็น *US-001*
1. เลือก **เพิ่ม** เพื่อเพิ่มแถวที่มีการตั้งค่าต่อไปนี้ไปยังกริด:

    - **ตาราง:** *รายการใบสั่ง*
    - **ตารางสืบทอด:** *รายการใบสั่ง*
    - **ฟิลด์:** *โหมดการจัดส่ง*
    - **เงื่อนไข:** *Airwa-Air*

1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

> [!NOTE]
> สำหรับกรณีทางธุรกิจนี้ รายการใบสั่งสำหรับลูกค้าของ *US-001* ที่ใช้โหมดการจัดส่ง *Airwa-Air* จะไม่มีการรวมบัญชีระหว่างใบสั่ง นโยบายนี้มีไว้สำหรับใช้เป็นอันดับแรกในลำดับ ในกรณีที่การจัดส่งสำหรับโหมดการจัดส่งอื่นๆ ทั้งหมดถูกรวมบัญชีสำหรับลูกค้านี้

### <a name="create-example-policy-2"></a>สร้างนโยบายตัวอย่าง 2

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *วัตถุอันตราย* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายนี้จะสอบถามเกี่ยวกับรหัสตัวกรองเฉพาะ (*อันตราย*) และโหมดการจัดส่งเฉพาะ (*Airwa-Air*)
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกเปิดอยู่
- มีการดำเนินการการรวมบัญชีระหว่างใบสั่ง (กล่าวคือ จะมีการจัดส่งแยกต่างหากสำหรับแต่ละบัญชี คลังสินค้า และอื่นๆ แต่เฉพาะภายในกลุ่มสินค้าที่ระบุไว้ในการสอบถามเท่านั้น)

ทำตามขั้นตอนต่อไปนี้เพื่อสร้างนโยบายการรวมบัญชีการจัดส่งสำหรับกรณีทางธุรกิจนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *ชนิดสินค้า*
    - **คำอธิบายนโยบาย:** *รวมบัญชีสินค้าชนิดเดียวกันระหว่างใบสั่ง*

1. ตั้งค่าตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** เป็น *ใช่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) เพื่อย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **รวม** ขยายและเลือก **ตาราง \> รายละเอียดจำนวนงานในศูนย์การผลิต** ในแผนภูมิ
1. เลือก **เพิ่มการรวมตาราง**
1. ในกริดของความสัมพันธ์ที่ปรากฏขึ้น ให้ค้นหาและเลือกแถวที่มีการตั้งค่าฟิลด์ **ความสัมพันธ์** เป็น *หมายเลขสินค้าในคลังสินค้า (หมายเลขสินค้า)* และจากนั้น เลือก **เลือก** 
1. บนแท็บ **ช่วง** เลือก **เพิ่ม** เพื่อเพิ่มแถวที่มีการตั้งค่าต่อไปนี้ไปยังกริด:

    - **ตาราง:** *หมายเลขสินค้าในคลังสินค้า*
    - **ตารางสืบทอด:** *หมายเลขสินค้าในคลังสินค้า*
    - **ฟิลด์:** *รหัส 4*
    - **เงื่อนไข:** *ไวไฟ*

1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

> [!NOTE]
> สำหรับกรณีทางธุรกิจนี้ รายการใบสั่งทั้งหมดที่ซึ่งสินค้ามีรหัสตัวกรองเฉพาะ (นั่นคือ รหัสตัวกรองที่มีการตั้งค่าฟิลด์ **รหัส 4** เป็น *ไวไฟ*) จะถูกรวมบัญชีเข้ากับสินค้าอื่นๆ ของชนิดเดียวกันระหว่างใบสั่ง ถ้ามีการจัดส่งที่เปิดค้างไว้สำหรับบัญชี คลังสินค้า และกลุ่มสินค้าเดียวกัน รายการใหม่จะถูกแนบอยู่กับสินค้านั้น

### <a name="create-example-policy-3"></a>สร้างนโยบายตัวอย่าง 3

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *ความต้องการของลูกค้า* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายจะสอบถามสำหรับบัญชีลูกค้าที่ระบุ
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกเปิดอยู่
- มีการดำเนินการรวมบัญชีระหว่างใบสั่ง แต่จะขึ้นอยู่กับการจัดหาวัตถุดิบของลูกค้า (กล่าวคือ ใบสั่งหลายใบจะถูกจัดกลุ่มเป็นการจัดส่ง โดยยึดตามหมายเลขการจัดหาวัตถุดิบของลูกค้าและคลังสินค้าเดียวกัน)

ทำตามขั้นตอนต่อไปนี้เพื่อสร้างนโยบายการรวมบัญชีการจัดส่งสำหรับกรณีทางธุรกิจนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *CustomerOrderNo*
    - **คำอธิบายนโยบาย:** *รวมบัญชีรายการโดยยึดตาม PO ของลูกค้า*

1. ตั้งค่าตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** เป็น *ใช่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *การจัดหาวัตถุดิบของลูกค้า*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) เพื่อย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) เพื่อย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **ช่วง** ให้ค้นหาแถวที่มีการตั้งค่าฟิลด์ของ **ฟิลด์** เป็น *บัญชีลูกค้า* และตั้งค่าฟิลด์ **เงื่อนไข** สำหรับแถวนั้นเป็น *US-001*
1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

> [!NOTE]
> สำหรับกรณีทางธุรกิจนี้ รายการใบสั่งทั้งหมดที่ซึ่งใบสั่งขายมีหมายเลขการจัดหาวัตถุดิบของลูกค้าเดียวกันจะถูกรวมบัญชีอยู่ในการจัดส่งหนึ่งรายการ โดยไม่คำนึงถึงหมายเลขใบสั่งขาย (หมายเลขการจัดหาวัตถุดิบของลูกค้าถูกใช้เป็นหมายเลข \[PO\] ใบสั่งซื้อของลูกค้า) ถ้ามีการจัดส่งที่เปิดค้างไว้สำหรับบัญชี คลังสินค้า และการจัดหาวัตถุดิบของลูกค้าเดียวกัน รายการใหม่จะถูกแนบอยู่ คุณสามารถใช้นโยบายนี้ได้ ถ้าลูกค้าส่งรายการใบสั่งเพิ่มเติมที่มีหมายเลข PO เดียวกันหลายครั้งในระหว่างวัน และต้องการให้มีการจัดกลุ่มรายการทั้งหมดเป็นการจัดส่งเดียว (กล่าวคือ จะมีใบตราส่งหนึ่งใบและบันทึกการจัดส่งหนึ่งฉบับ)

### <a name="create-example-policy-4"></a>สร้างนโยบายตัวอย่าง 4

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *ลูกค้าที่อนุญาตการรวมบัญชี* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายจะสอบถามสำหรับกลุ่มใบสั่งเฉพาะเพื่อระบุลูกค้าที่ยอมรับการจัดส่งที่รวมบัญชี
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกปิดอยู่
- มีการดำเนินการรวมบัญชีระหว่างใบสั่งโดยใช้ฟิลด์ที่เลือกโดยนโยบาย CrossOrder เริ่มต้น (เพื่อจำลองกล่องกาเครื่องหมาย **รวมบัญชีการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** ก่อนหน้านี้)

- คุณสามารถแทนที่กฎในใบสั่งขายได้โดยการเลือกกลุ่มใบสั่งที่แตกต่างกัน

ทำตามขั้นตอนต่อไปนี้เพื่อสร้างนโยบายการรวมบัญชีการจัดส่งสำหรับกรณีทางธุรกิจนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *กลุ่มใบสั่ง*
    - **คำอธิบายนโยบาย:** *รวมบัญชีระหว่างใบสั่งโดยยึดตามกลุ่มใบสั่ง*

1. ปล่อยให้ตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** ถูกตั้งค่าเป็น *ไม่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในรายการ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) เพื่อย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **ช่วง** ให้เลือก **เพิ่ม** เพื่อเพิ่มแถวที่มีการตั้งค่าต่อไปนี้ไปยังกริด:

    - **ตาราง:** *ใบสั่งขาย*
    - **ตารางสืบทอด:** *ใบสั่งขาย*
    - **ฟิลด์:** *กลุ่ม*
    - **เงื่อนไข:** *ShipCons*

1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

> [!NOTE]
> สำหรับกรณีทางธุรกิจนี้ รายการใบสั่งทั้งหมดที่ซึ่งใบสั่งขายเป็นของกลุ่มใบสั่งเดียวกันจะถูกรวมเข้ากับการจัดส่งหนึ่งรายการทั่วทั้งใบสั่งขายสำหรับโหมดการจัดส่งของบัญชี คลังสินค้า และการขนส่งเดียวกัน แทนที่จะเป็นกลุ่มใบสั่ง คุณสามารถใช้ฟิลด์อื่นเพื่อแยกความแตกต่างของกลุ่มลูกค้าและใช้ส่วนหัวของใบสั่งขายตามค่าเริ่มต้น คุณสามารถใช้วิธีการนี้ได้ ถ้าลูกค้า ไม่ใช่คลังสินค้า กำลังสนับสนุนความต้องการสำหรับการรวมบัญชี (ในตรรกะการรวมบัญชีก่อนหน้านี้ คลังสินค้าสนับสนุนความต้องการสำหรับการรวมบัญชี)

### <a name="create-example-policy-5"></a>สร้างนโยบายตัวอย่าง 5

ในตัวอย่างนี้ คุณจะสร้างนโยบาย *คลังสินค้าที่อนุญาตการรวมบัญชี* ที่สามารถใช้สำหรับกรณีทางธุรกิจต่อไปนี้:

- นโยบายจะสอบถามสำหรับกลุ่มใบสั่งเฉพาะเพื่อระบุคลังสินค้าที่สามารถรวมบัญชีการจัดส่ง
- การรวมบัญชีที่มีการจัดส่งที่เปิดค้างไว้ถูกปิดอยู่
- มีการดำเนินการรวมบัญชีระหว่างใบสั่งโดยใช้ฟิลด์ที่เลือกโดยนโยบาย CrossOrder เริ่มต้น (เพื่อจำลองกล่องกาเครื่องหมาย **รวมบัญชีการจัดส่งเมื่อนำออกใช้ไปยังคลังสินค้า** ก่อนหน้านี้)

โดยทั่วไป กรณีทางธุรกิจนี้สามารถแก้ไขได้โดยใช้นโยบายเริ่มต้นที่คุณสร้างขึ้นใน [สถานการณ์จำลอง 1](#scenario-1) อย่างไรก็ตาม คุณยังสามารถสร้างนโยบายที่คล้ายกันด้วยตนเองได้โดยปฏิบัติตามขั้นตอนต่อไปนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. บนบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อสร้างนโยบายที่มีการตั้งค่าต่อไปนี้:

    - **ชื่อนโยบาย:** *ข้ามใบสั่ง*
    - **คำอธิบายนโยบาย:** *การรวมบัญชีข้ามใบสั่งสำหรับคลังสินค้าที่ระบุ*

1. ปล่อยให้ตัวเลือก **รวมบัญชีกับการจัดส่งที่เปิดอยู่** ถูกตั้งค่าเป็น *ไม่*
1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
1. บน FastTab **ฟิลด์การรวมบัญชี** ในฟิลด์ **ฟิลด์คงเหลือ** ให้เลือกแถวที่ซึ่งฟิลด์ของ **ฟิลด์ชื่อ** ถูกตั้งค่าเป็น *โหมดการจัดส่ง*
1. เลือกปุ่ม **เพิ่ม** ![ลูกศรขวา](media/forward-button.png) เพื่อย้ายฟิลด์ไปยังรายการ **ฟิลด์ที่เลือก**
1. บนบานหน้าต่างการดำเนินการ เลือก **แก้ไขการสอบถาม**
1. ในกล่องโต้ตอบตัวแก้ไขการสอบถาม บนแท็บ **ช่วง** ให้ค้นหาแถวที่ซึ่งมีการตั้งค่าฟิลด์ของ **ฟิลด์** เป็น *คลังสินค้า* และตั้งค่าฟิลด์ **เงื่อนไข** สำหรับแถวนั้นเป็น *61, 63*
1. เลือก **ตกลง** เพื่อปิดกล่องโต้ตอบ

### <a name="set-the-order"></a>ตั้งค่าใบสั่ง

หลังจากที่คุณได้สร้างนโยบายทั้งหมดแล้ว คุณต้องสร้างใบสั่งที่จะนำไปใช้ เมื่อต้องการใช้วิธีการแบบพีระมิด ที่ซึ่งนโยบายที่มีเงื่อนไขมากที่สุดถูกประเมินเป็นมีระดับความสำคัญสูงสุด ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การจัดการคลังสินค้า \> การตั้งค่า \> การนำออกใช้ไปยังคลังสินค้า \> นโยบายการรวมบัญชีการจัดส่ง**
1. ตั้งค่าฟิลด์ **ชนิดนโยบาย** เป็น *ใบสั่งขาย*
1. เลือกนโยบายแต่ละนโยบายที่แสดงรายการอยู่ในคอลัมน์ด้านซ้าย และจากนั้นใช้ปุ่ม **เลื่อนขึ้น** และ **เลื่อนลง** บนบานหน้าต่างการดำเนินการ เพื่อจัดเรียงนโยบายตามลำดับต่อไปนี้:

    1. CustomerMode
    1. ชนิดรายการ
    1. CustomerOrderNo
    1. กลุ่มใบสั่ง
    1. ข้ามใบสั่ง
    1. ค่าเริ่มต้น

## <a name="example-scenarios-of-how-to-use-shipment-consolidation-policies"></a><a name="example-scenarios"></a> สถานการณ์ตัวอย่างของวิธีการใช้นโยบายการรวมบัญชีการจัดส่ง

สถานการณ์สมมติต่อไปนี้แสดงวิธีการที่คุณสามารถใช้นโยบายการรวมบัญชีการจัดส่งที่คุณสร้างขึ้นในขณะที่อ่านหัวข้อนี้ สถานการณ์แต่ละสถานการณ์จะนำคุณผ่านกระบวนการรวมบัญชีการจัดส่งที่ใช้นโยบายการรวมบัญชีการจัดส่ง ในระหว่างการนำออกใช้แบบอัตโนมัติหรือแบบด้วยตนเองไปยังคลังสินค้า:

- สถานการณ์จำลอง 1: [รวมบัญชีการจัดส่ง เมื่อนำออกใช้ไปยังคลังสินค้าโดยใช้การนำใบสั่งขายออกใช้โดยอัตโนมัติ](../warehousing/consolidate-shipments-automatic.md)
- สถานการณ์จำลอง 2: [รวมบัญชีการจัดส่ง เมื่อนโยบายการรวมบัญชีการจัดส่งถูกแทนที่จากหน้านำออกใช้ไปยังคลังสินค้า](../warehousing/consolidate-shipments-release-to-warehouse-override.md)
- สถานการณ์จำลอง 3: [รวมบัญชีการจัดส่งโดยใช้การนำออกใช้ไปยังคลังสินค้าจากเวิร์กเบนช์การวางแผนการบรรทุก](../warehousing/consolidate-shipments-load-planning-workbench.md)
- สถานการณ์จำลอง 4: [รวมบัญชีการจัดส่งโดยใช้เวิร์กเบนช์การรวมบัญชีการจัดส่ง](../warehousing/consolidate-shipments-manual-workbench.md)
- สถานการณ์จำลอง 5: [รวมบัญชีการจัดส่งด้วยตนเองโดยใช้หน้ารวมบัญชีการจัดส่ง](../warehousing/consolidate-shipments-manual-form.md)


## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

- [นโยบายการรวมบัญชีการจัดส่ง](about-shipment-consolidation-policies.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]