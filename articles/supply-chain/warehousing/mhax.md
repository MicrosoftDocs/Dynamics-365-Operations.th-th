---
title: อินเทอร์เฟสเครื่องมือจัดการวัสดุ (MHAX)
description: หัวข้อนี้จะอธิบายวิธีการตั้งค่าอินเทอร์เฟสเครื่องมือจัดการวัสดุ (MHAX) เพื่อให้คุณสามารถเชื่อมต่อกับระบบการจัดการวัสดุทางกายภาพภายนอก (MH) ได้
author: Mirzaab
ms.date: 03/04/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WMHEParameters, WMHESubscription, WMHEQueueManagerWorkspace, WMHEInboundQueue, WMHEOutboundQueue
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-04
ms.dyn365.ops.version: Release 10.0.17
ms.openlocfilehash: 9273e4a1f6b3f57086c921c4beb0530a67ccd976
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 04/01/2021
ms.locfileid: "5810521"
---
# <a name="material-handling-equipment-interface-mhax"></a>อินเทอร์เฟสเครื่องมือจัดการวัสดุ (MHAX)

[!include [banner](../../includes/banner.md)]

คุณสามารถใช้ *อินเทอร์เฟสเครื่องมือจัดการวัสดุ* (WMS) เพื่อเชื่อมต่อระบบการจัดการวัสดุทางกายภาพ (MH) ภายนอกกับคลังสินค้าที่จัดการโดยการจัดการคลังสินค้าขั้นสูงใน Microsoft Dynamics 365 Supply Chain Management อินเทอร์เฟสระหว่างระบบ WMS และระบบ MH ประกอบด้วยสองคิว ซึ่งได้แก่ หนึ่งคิวต่อหนึ่งเหตุการณ์ขาออก (WMS ถึง MH) และอีกชุดหนึ่งเป็นเหตุการณ์ขาเข้า (MH ถึง WMS) ระบบ WMS จะสร้างเหตุการณ์ขาออกตามรายการงานที่ถูกสร้างระหว่างกระบวนการสร้างและการปฏิบัติการงานต่างๆ จากนั้นระบบ MH จะสความคิดเห็นเกี่ยวกับระบบ WMS เป็นปกติเพื่อเหตุการณ์ใหม่และประมวลผลการตอบสนอง หลังจากที่ระบบ MH จัดการเหตุการณ์ตามคําแนะนําเกี่ยวกับงานเสร็จสิ้นแล้ว ระบบจะส่งเหตุการณ์ขาเข้า เช่น การเสร็จสมบูรณ์ของรายการงาน และการเบิกสินค้าสั้นๆ

ในภาพต่อไปนี้จะแสดงองค์ประกอบต่างๆ และลำดับที่กระบวนการจะเกิดขึ้นเมื่อคุณใช้การรวม MHAX

![ส่วนประกอบและการโต้ตอบกับ MHAX](media/mhax-components.png "ส่วนประกอบและการโต้ตอบกับ MHAX")

ต่อไปนี้เป็นคําอธิบายการโต้ตอบที่แสดงในภาพอธิบายก่อนหน้านี้:

1. ในระหว่างการสร้างงานหรือการปฏิบัติการงาน เหตุการณ์ขาออกจะถูกสร้างขึ้นในคิวขาออก
2. อุปกรณ์ MH เชื่อมต่อกับบริการอุปกรณ์ MH แล้วสำหรับเหตุการณ์ใหม่ใด ๆ ที่เกี่ยวข้องกับบริการดังกล่าว และประมวลผลเหตุการณ์เหล่านั้น
3. เมื่ออุปกรณ์ MH พร้อมที่จะรายงาน ข้อมูลจะเชื่อมต่อกับบริการอีกครั้งและส่งเหตุการณ์ขาเข้า เหตุการณ์เหล่านั้นจะถูกประมวลผลโดยตัวประมวลผลคิวทันที
4. ตามข้อมูลเหตุการณ์ขาเข้า ตัวประมวลผลคิวอาจรันงานที่มีอยู่ แก้ไข หรือสร้างงานใหม่

## <a name="turn-on-the-mhax-feature"></a>เปิดคุณลักษณะ MHAX

ก่อนที่คุณจะสามารถใช้คุณลักษณะ MHAX ได้ คุณต้องเปิดคุณลักษณะและคีย์การตั้งค่าคอนฟิกของคุณสมบัตินั้นก่อน

1. ไปที่ **การดูแลระบบ \> พื้นที่ทำงาน \> การจัดการคุณลักษณะ**
2. ในพื้นที่ทำงาน  **[การจัดการคุณลักษณะ](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)** เปิดคุณลักษณะที่ชื่อ *อินเทอร์เฟสเครื่องมือจัดการวัสดุ*
3. วางระบบของคุณให้เข้าสู่โหมดการบำรุงรักษา ตามที่อธิบายไว้ใน [โหมดการบำรุงรักษา](../../fin-ops-core/dev-itpro/sysadmin/maintenance-mode.md)
4. ไปที่ **การจัดการระบบ \> การตั้งค่า \> การตั้งค่าคอนฟิกลิขสิทธิ์**
5. ขยาย **การค้า \> การจัดการคลังสินค้าและการขนส่ง** แล้วเลือกกล่องกาเครื่องหมาย **อินเทอร์เฟสเครื่องมือจัดการวัสดุ**
6. ปิดโหมดการบำรุงรักษา ตามที่อธิบายไว้ใน [โหมดการบำรุงรักษา](../../fin-ops-core/dev-itpro/sysadmin/maintenance-mode.md)

## <a name="set-mhax-parameters"></a>ตั้งค่าพารามิเตอร์ MHAX

คุณต้องตั้งค่าพารามิเตอร์ทั่วไปสองสามพารามิเตอร์ในหน้า **พารามิเตอร์อินเทอร์เฟสเครื่องมือจัดการวัสดุ** เพื่อตั้งค่าคอนฟิกคุณลักษณะการใช้งาน

1. ไปที่ **อินเทอร์เฟสเครื่องมือจัดการวัสดุ \> การตั้งค่า \> พารามิเตอร์อินเทอร์เฟสเครื่องมือจัดการวัสดุ**
2. บนแท็บ **ทั่วไป** ให้กำหนดฟิลด์ดังต่อไปนี้:

    - **รหัสผู้ใช้** – เลือกผู้ปฏิบัติงาน ผู้ปฏิบัติงานนี้จะใช้เพื่อรันการดําเนินงานทั้งหมด (เบิกสินค้าและส่ง) ที่ประมวลผลผ่านทางคิวขาเข้า
    - **เปิดใช้งานรหัสข้อความขาเข้า** – เมื่อตั้งค่าตัวเลือกนี้เป็น *ใช่* ถ้าได้รับรหัสข้อความขาเข้าที่คัดลอก ข้อความจะถูกปฏิเสธ และข้อความแสดงข้อผิดพลาดจะระบุว่ามีข้อความนี้อยู่แล้ว เมื่อตั้งค่าตัวเลือกนี้เป็น *ไม่* จะอนุญาตให้ใช้รหัสข้อความขาเข้าที่คัดลอกกัน

3. บนแท็บ **ลำดับหมายเลข** ให้เลือกลำดับหมายเลขทั่วทั้งระบบ ซึ่งควรจะใช้เพื่อสร้างรหัสเฉพาะของรายการคิวขาเข้า รายการคิวขาออก และ คู่รายการงาน

## <a name="outbound-events"></a>เหตุการณ์ขาออก

ที่จุดเฉพาะระหว่างการสร้างงานหรือการปฏิบัติการงาน ระบบจะตัดสินว่าต้องมีการสร้างเหตุการณ์ขาออกเพื่อส่งไปยังระบบ MH หรือไม่ ถ้ามีการตั้งค่าคอนฟิกการบอกรับเป็นสมาชิกไว้เฉพาะจุดหนึ่งๆ ระหว่างการประมวลผลคลังสินค้า ระบบจะสร้างเหตุการณ์ดังกล่าวตามการตั้งค่าการสมัครใช้งาน

### <a name="structure-of-outbound-events"></a>โครงสร้างของเหตุการณ์ขาออก

แต่ละเหตุการณ์ขาออกจะระบุเฉพาะด้วยรหัสคิวขาออก ชนิดของธุรกรรมขาออกจะระบุชนิดของเหตุการณ์ คลังสินค้าและรหัสของการสมัครใช้งานที่สร้างเหตุการณ์นั้นจะได้รับการบันทึกในเหตุการณ์ด้วย

เพื่อยกข้อมูลไปที่ระบบ MH เหตุการณ์ขาออกจะมีฟิลด์ 10 ฟิลด์ของข้อมูล (**data01** ผ่าน **data10**) ฟิลด์ข้อมูลเหล่านี้ไม่มีการแม็ปแบบหนึ่งต่อหนึ่ง (1:1) กับฟิลด์ฐานข้อมูลที่มีอยู่ โดยเฉพาะฟิลด์เหล่านี้จะถูกแยกออกจากฟิลด์ในบรรทัดงานและตารางหัวข้องาน คุณสามารถเลือกฟิลด์ต่าง ๆ ได้ตามอิสระ คุณตั้งค่าการตั้งค่าเมื่อคุณสร้างการสมัครใช้งาน

นอกจากฟิลด์ข้อมูล 10 ซึ่งมีการแม็ป 1:1 กับฟิลด์ฐานข้อมูลที่มีอยู่แล้ว เหตุการณ์อาจประกอบด้วยฟิลด์ข้อมูลเพิ่มเติม ที่เรียกอีกอย่างว่า *ส่วนข้อความ* เนื้อหาของฟิลด์นี้สร้างขึ้นโดยรหัส X++ ที่แบบกำหนดเอง ซึ่งเรียกอีกอย่างว่า *ตัวสร้างส่วนข้อความ* ตัวสร้างส่วนข้อความที่ควรใช้มีการตั้งค่าในการสมัครใช้งาน

เพื่อให้แน่ใจว่าระบบ MH จะได้รับรหัสคิวขาออกแต่ละรหัสเพียงครั้งเดียว จะมีการใช้ฟิลด์สถานะเพื่อระบุว่าเหตุการณ์พร้อมที่จะส่งไปยังระบบภายนอกหรือถูกส่งไปแล้ว

### <a name="outbound-queue-subscriptions"></a>การสมัครใช้งานคิวขาออก

ก่อนสร้างเหตุการณ์ใด ๆ ต้องมีการตั้งค่าการสมัครใช้งานเพื่อบอกคุณลักษณะเกี่ยวกับ MHAX ไม่ว่าจะสร้างเหตุการณ์หรือไม่และอย่างไร เหตุการณ์ที่สร้างขึ้นมีการระบุป้ายโดยตัวระบุการสมัครใช้งาน ดังนั้น ระบบ MH หลายระบบจึงสามารถเชื่อมต่อกับระบบ WMS เดียวกันได้ แต่เก็บเหตุการณ์ต่าง ๆ แยกกัน เมื่อบริการ MHAX ถูกทําการสำรวจสำหรับเหตุการณ์ใหม่ การสมัครใช้งานเป็นหนึ่งในตัวเลือกที่พร้อมใช้งานในการดึงข้อมูลเหตุการณ์

หากต้องการสร้างการสมัครใช้งาน ให้ไปที่ **อินเทอร์เฟสเครื่องมือจัดการวัสดุ \> การตั้งค่า \> การสมัครใช้งาน** สำหรับแแต่ละการสมัครใช้งาน พารามิเตอร์ที่พร้อมใช้งานมีดังต่อไปนี้

- **รหัสการสมัครใช้งาน** – ชื่อเฉพาะที่ระบุโดยการสมัครใช้งาน
- **คำอธิบาย** – ป้อนคำอธิบายของการสมัครใช้งาน
- **คลังสินค้า** – คลังสินค้าเฉพาะที่เหตุการณ์ควรถูกกรองข้อมูล
- **ชนิดของธุรกรรมขาออก** – ชนิดของเหตุการณ์ที่การสมัครใช้งานควรมี
- **ตัวสร้างส่วนข้อความ** – ส่วนขยายรหัสที่เลือกระบุ ซึ่งสามารถป้อนข้อมูลเพิ่มเติมในฟิลด์ **ส่วนข้อความ** ของเหตุการณ์ขาออก

คุณสามารถเชื่อมโยงการสอบถามกับการสมัครใช้งานแต่ละรายการได้ การสอบถามนี้จะกรองรายการงานและหัวข้อเพื่อจํากัดงานที่จะใช้การสมัครใช้งานเพื่อสร้างเหตุการณ์ต่อไป เมื่อต้องการเพิ่มการสอบถามที่การสมัครใช้งาน ให้เลือกกล่องกาเครื่องหมาย **รันการสอบถาม** เกี่ยวกับการสมัครใช้งานที่เกี่ยวข้องในหน้า **การสมัครใช้งาน** แล้วเลือก **แก้ไขการสอบถาม** ในบานหน้าต่างการดำเนินการ โปรแกรมแก้ไขการสอบถาม Supply Chain Management มาตรฐานจะปรากฏขึ้น

นอกจากนี้ การสั่งซื้อโดยบอกรับเป็นสมาชิกยังรวมถึง *แผนผังการสั่งซื้อโดยบอกรับเป็นสมาชิก* ที่แม็ปฟิลด์จากหัวข้องานหรือรายการงานไปยังฟิลด์ข้อมูลว่างทั้ง 10 ฟิลด์ของเหตุการณ์ขาออกตามที่ต้องการ หากต้องการส่งคืนข้อมูลไปยังบริการ MHAX โดยทั่วไป คุณจะรวมรหัสเรกคอร์ดรายการงานหรือ *รหัสคู่รายการงาน* (รหัสคู่รายการงานเป็นคุณสมบัติใหม่ที่ช่วยให้ระบบสามารถใช้ใบสั่งส่งคืนสินค้าเดียว เพื่อประมวลผลการเบิกสินค้าและจัดส่ง) ฟิลด์ที่เหลือจะขึ้นอยู่กับกรณีการใช้งาน บางตัวอย่างมีให้ในหัวข้อนี้ในภายหลัง

เมื่อต้องการตั้งค่าแผนผังการสั่งซื้อโดยบอกรับเป็นสมาชิก ให้เลือกการสั่งซื้อโดยบอกรับเป็นสมาชิกที่เกี่ยวข้องในหน้า **การสั่งซื้อโดยบอกรับเป็นสมาชิก** แล้วเลือก **แผนผังการสั่งซื้อโดยบอกรับเป็นสมาชิก** ในบานหน้าต่างการดำเนินการ ในกล่องโต้ตอบ **แผนผังการสั่งซื้อโดยบอกรับเป็นสมาชิก** ที่ปรากฏ คุณสามารถกําหนดตารางและฟิลด์ให้กับฟิลด์ข้อมูลที่พร้อมใช้งานแต่ละฟิลด์ได้ตามต้องการ

### <a name="outbound-event-types"></a>ชนิดของเหตุการณ์ขาออก

ส่วนนี้อธิบายชนิดของเหตุการณ์ต่าง ๆ ที่พร้อมใช้งาน (ชนิดเหตุการณ์เรียกอีกอย่างว่า *ชนิดของธุรกรรม*) และอธิบายเมื่อมีการสร้างเหตุการณ์แต่ละชนิดในระบบ WMS ด้วย

#### <a name="work-creation-events"></a>เหตุการณ์การสร้างงาน

เหตุการณ์การสร้างงานจะถูกสร้างขึ้นหลังจากงานถูกสร้างโดยโปรแกรมประยุกต์ ลักษณะนี้จะใช้กับกระบวนการสร้างงานส่วนใหญ่ ซึ่งไม่อาจปฏิเสธต่อการสร้างงานการเบิกสินค้าและการเติมสินค้า โดยทั่วไปแล้ว หากงานถูกสร้างในสถานะ *เปิด* ซึ่งบ่งชี้ว่างานนั้นพร้อมที่จะรันโดยผู้ปฏิบัติงาน เหตุการณ์การสร้างงานจะถูกสร้างขึ้น นอกจากนี้ เหตุการณ์การสร้างงานจะถูกสร้างขึ้นเพื่องานการเคลื่อนย้ายพื้นฐาน (ไม่เคลื่อนย้ายตามงานแม่แบบ) ถึงแม้ว่างานจะไม่ได้สร้างขึ้นเป็นงานที่เปิด

ข้อยกเว้นที่ไม่อาจระบุในพฤติกรรมนี้เป็นงานการตรวจนับตามรอบ ซึ่งปัจจุบันไม่ได้รับการสนับสนุน การตรวจนับสินค้าคงคลังในระบบ MH อยู่นอกขอบเขตของ MHAX และต้องนําเข้าผลลัพธ์ของการตรวจนับลงในสมุดรายวันการตรวจนับสินค้าคงคลัง

หลังจากสร้างงานแล้ว บริการ MHAX จะประมวลผลรายการงานที่สร้างและกําหนดรหัสคู่รายการงานให้กับรายการงานที่สร้างขึ้นทั้งหมดต่อหัวข้องานแต่ละหัวข้อ วัตถุประสงค์คือเพื่อจัดกลุ่มรายการงานเบิกสินค้าทั้งหมดโดยระบุรหัสคู่รายการงานหนึ่งรหัสอย่างต่อเนื่อง (กลุ่มจะตรงกับคู่การเบิกสินค้า/ส่งสินค้าในเท็มเพลตงาน) ด้วยวิธีนี้ คุณจะสามารถใช้รหัสเดียวในการรายงานการเสร็จสมบูรณ์ของงานรายการเบิกสินค้าและรายการรับสินค้าที่เกี่ยวข้องทั้งหมดได้ กระบวนการจัดกลุ่มจะเริ่มต้นด้วยรายการแรก แล้วต่อด้วยรหัสเดียวกันจนกว่าจะพบคู่ที่ต่อเนื่องกันเป็นคู่ของรายการงานส่ง/เบิกสินค้า รหัสการรันถูกมอบหมายให้กับรายการส่งสินค้าของคู่นั้น จากนั้นรหัสใหม่จะใช้กับรายการเบิกสินค้าของคู่นั้นเป็นต้นไป กระบวนการนี้จะต่อไปจนกว่าจะมีการประมวลผลรายการทั้งหมดที่อยู่ในหัวข้องาน

เป็นคุณลักษณะพิเศษของเหตุการณ์การสร้างงาน ถ้าตัวเลือก **เวฟที่บล็อค** มีการตั้งค่าเป็น *ใช่* บนหัวข้องาน เหตุการณ์ที่สร้างขึ้นจะมีสถานะเป็น *ถูกบล็อค* แทนที่จะเป็นสถานะปกติเป็น *พร้อม* ซึ่งใช้เพื่อส่งไปยังระบบ MH แฟล็ก **เวฟที่บล็อค** บนหัวข้องานบ่งชี้ว่าหัวข้องานยังไม่พร้อมเพื่อให้ผู้ปฏิบัติงานรัน ซึ่งอาจเป็นเพราะงานการเพิ่มเติมสินค้าที่ยังไม่เสร็จ เมื่อแฟล็ก **เวฟที่บล็อค** ถูกล้าง เหตุการณ์ที่สร้างไว้แล้วจะถูกยกเลิกการบล็อค และจะพร้อมใช้งานเพื่อให้ระบบ MH ดึงข้อมูลจากคิวได้

#### <a name="work-initiation-events"></a>เหตุการณ์การเริ่มต้นงาน

เหตุการณ์การเริ่มต้นงานจะถูกทริกเกอร์เมื่อสถานะของงานเปลี่ยนจาก *เปิด* เป็น *อยู่ระหว่างการดำเนินงาน* ในระหว่างการอัปเดตงาน

#### <a name="work-completion-events"></a>เหตุการณ์การเสร็จสมบูรณ์ของงาน

เหตุการณ์การเสร็จสมบูรณ์ของงานจะถูกทริกเกอร์เมื่อสถานะของงานเปลี่ยนจาก *อยู่ระหว่างการดำเนินงาน* เป็น *ปิด* ในระหว่างการอัปเดตงาน

#### <a name="work-cancellation-events"></a>เหตุการณ์การยกเลิกงาน

เหตุการณ์การยกเลิกงานจะถูกทริกเกอร์เมื่อสถานะของงานเปลี่ยนจากสถานะใด ๆ นอกจาก *ยกเลิก* เป็น *ยกเลิก* ในระหว่างการอัปเดตงาน นอกจากนี้ เหตุการณ์อื่น ๆ ทั้งหมดที่เกี่ยวข้องกับหัวข้องานจะถูกลบออกจากคิวของการบอกรับเป็นสมาชิกทั้งหมด ด้วยวิธีนี้ ระบบภายนอกจะถูกป้องกันจากเหตุการณ์การประมวลผลที่ไม่ต้องการ

#### <a name="pickput-completion-events"></a>เหตุการณ์การเบิก/การส่งสินค้าเสร็จสมบูรณ์

เหตุการณ์การเบิก/การส่งสินค้าเสร็จสมบูรณ์จะถูกทริกเกอร์เมื่อรายการการเบิก/การส่งสินค้าเปลี่ยนจาก *อยู่ระหว่างการดำเนินงาน* เป็น *ปิด* ในระหว่างการอัปเดตรายการงาน

### <a name="monitor-the-outbound-queue"></a>การตรวจสอบคิวขาออก

หากต้องการทบทวนคิวขาออกของคุณ ให้ไปที่ **อินเทอร์เฟสเครื่องมือจัดการวัสดุ \> ทั่วไป \> คิวขาออก** หน้า **คิวขาออก** แสดงรายการคิวขาออกทั้งหมด และสถานะของรายการคิวขาออก เลือกรายการคิวเพื่อดูรายละเอียด รายละเอียดเหล่านี้ได้แก่ชนิดของธุรกรรมของสินค้า การสั่งซื้อโดยบอกรับเป็นสมาชิกที่ใช้ และค่าของแต่ละฟิลด์ข้อมูล (**data01** ผ่าน **data10**) และส่วนข้อความ

### <a name="clean-up-the-outbound-queue"></a>การล้างข้อมูลคิวขาออก

ในในที่สุด คิวขาออกของคุณจะเริ่มกลายเป็นรายการคิวทั้งหมดที่ส่งไปแล้ว เมื่อต้องการลบสินค้าเหล่านี้ ให้ไปที่ **อินเทอร์เฟสเครื่องมือจัดการวัสดุ \> งานประจำงวด \> ล้างข้อมูล \> การล้างข้อมูลคิวขาออก**

## <a name="inbound-events"></a>เหตุการณ์ขาเข้า

ส่วนนี้อธิบายเหตุการณ์ขาเข้าชนิดต่าง ๆ ที่ระบบ MH สามารถรายงานกลับไปยังระบบ WMS ได้ และอธิบายข้อมูลที่ต้องระบุโดยระบบ MH และเหตุการณ์ขาเข้าแต่ละเหตุการณ์จะในระบบ WMS

### <a name="structure-of-inbound-events"></a>โครงสร้างของเหตุการณ์ขาเข้า

เมื่อส่งเหตุการณ์ขาเข้า ระบบภายนอกต้องจัดหาชนิดธุรกรรมขาเข้า พร้อมด้วยพารามิเตอร์สูงสุด 10 พารามิเตอร์ (**data01** ผ่าน **data10**) การตรวจสอบความถูกต้องที่เลือกได้สามารถตรวจสอบให้แน่ใจว่าบริการ MHAX ไม่ได้รับเหตุการณ์ขาเข้าเดียวกันมากกว่าหนึ่งครั้ง เมื่อต้องการเปิดใช้งานการตรวจสอบความถูกต้องนี้ แต่ละเหตุการณ์ขาเข้าต้องมีรหัสข้อความเฉพาะ ถ้าได้รับรหัสข้อความซ้.ล. และหากตัวเลือก **เปิดใช้งานรหัสข้อความขาเข้า** ถูกตั้งค่าเป็น *ใช่* บนหน้า **พารามิเตอร์อินเทอร์เฟสเครื่องมือจัดการวัสดุ** ข้อความจะถูกปฏิเสธ ข้อความแสดงข้อผิดพลาดจะระบุว่ามีข้อความนี้อยู่แล้ว

นอกจากฟิลด์ข้อมูลขาเข้าแล้ว ระบบจะกําหนดรหัสคิวขาเข้าเฉพาะให้กับเหตุการณ์

### <a name="inbound-event-types"></a>ชนิดของเหตุการณ์ขาเข้า

ส่วนนี้อธิบายชนิดของเหตุการณ์ขาเข้า (ชนิดของธุรกรรม) ที่ได้รับการสนับสนุนและข้อมูลที่ต้องระบุให้กับเหตุการณ์ที่จะประมวลผล

#### <a name="work-confirm-events"></a>เหตุการณ์การยืนยันงาน

เหตุการณ์การยืนยันงานต้องการให้ฟิลด์ข้อมูลขาเข้ารวมข้อมูลต่อไปนี้

- **data01** – รหัสคู่รายการงาน
- **data02** – รหัสเรกคอร์ดรายการงาน (ค่า `RecId`)

    > [!NOTE]
    > *ไม่* ฟิลด์ **data01** *หรือ* ฟิลด์ **data02** ต้องแสดง

- **data03** – รหัสของป้ายทะเบียนที่จะเบิกสินค้า
- **data04** – รหัสป้ายทะเบียนเป้าหมายของหัวข้องาน

ถ้ามีการจัดเตรียมรหัสคู่รายการงาน รายการงานเบิกสินค้า ส่ง หรืองานที่ศุลกากรทั้งหมดซึ่งถูกเลือกไว้โดยรหัสคู่รายการงานและมีสถานะ *เปิด* หรือ *อยู่ระหว่างการดำเนินงาน* จะรันตามลำดับ ถ้ามีการจัดเตรียมรหัสเรกคอร์ดรายการงาน (ค่า `RecId`) รายการงานต้องเป็นรายการงานเบิกสินค้า ส่ง หรืองานที่ศุลกากรซึ่งมีสถานะ *เปิด* หรือ *อยู่ระหว่างการดำเนินงาน*

รายการเบิกสินค้าจากสถานที่ที่มีการควบคุมป้ายทะเบียนระบุว่า **data03** ระบุป้ายทะเบียนที่ควรเบิกไม่ว่าจะมีการเลือกรายการตามรหัสเรกคอร์ดรายการงานหรือรหัสคู่รายการงานหรือไม่ ฟิลด์ **data04** ต้องระบุป้ายทะเบียนเป้าหมายของหัวข้องานของการเบิกสินค้า

รายการส่งสินค้าไม่ยอมรับข้อมูลเพิ่มเติม โดยจะรันตามสถานที่รายการงานปัจจุบันและป้ายทะเบียนเป้าหมายของงานเท่านั้น ถ้าต้องส่งสินค้าไปยังที่ตั้งอื่น ให้เปลี่ยนที่ตั้งของรายการงานตามที่อธิบายไว้ในส่วน [แทนที่เหตุการณ์](#override-events) ในหัวข้อนี้ในภายหลัง

รายการงานที่ศุลกากรไม่ต้องการ หรือการสนับสนุน ข้อมูลเพิ่มเติมใดๆ ในเหตุการณ์ขาเข้า

#### <a name="short-pick-events"></a>เหตุการณ์การเบิกสินค้าสั้นๆ

เหตุการณ์การเบิกสินค้าสั้น ๆ ต้องการให้ฟิลด์ข้อมูลขาเข้ารวมข้อมูลต่อไปนี้

- **data02** – รหัสเรกคอร์ดงาน (ค่า `RecId`)
- **data03** – รหัสของป้ายทะเบียนที่จะเบิกสินค้า
- **data04** – ปริมาณที่จะเบิกสินค้า
- **data05** – รหัสข้อยกเว้นการเบิกสินค้าสั้นๆ
- **data06** – รหัสป้ายทะเบียนเป้าหมายของหัวข้องาน

> [!NOTE]
> ฟิลด์ **ข้อมูล01** ไม่ได้ใช้ในเหตุการณ์การเบิกสินค้าสั้นๆ

เหตุการณ์นี้จะคล้ายกับเหตุการณ์การยืนยันงาน แต่ใช้เฉพาะกับรายการเบิกสินค้าเท่านั้น

#### <a name="override-events"></a><a id="override-events"></a>เหตุการณ์แทนที่

เหตุการณ์แทนที่ต้องการให้ฟิลด์ข้อมูลขาเข้ารวมข้อมูลต่อไปนี้

- **data01** – รหัสเรกคอร์ดงาน (ค่า `RecId`)
- **data02** – รหัสที่ตั้งใหม่

รายการงานต้องมีสถานะ *เปิด* หรือ *อยู่ระหว่างดำเนินการ* และต้องมีสถานที่ใหม่อยู่

#### <a name="license-plate-receipt-events"></a>เหตุการณ์การรับสินค้าป้ายทะเบียน

เหตุการณ์การรับสินค้าป้ายทะเบียนต้องการให้ฟิลด์ข้อมูลขาเข้ารวมข้อมูลต่อไปนี้

- **data01** – รหัสของป้ายทะเบียนขาเข้าที่จะรับสินค้า

ระบบดําเนินงานรับป้ายทะเบียน ตามป้ายทะเบียนที่ผ่านเข้าเป็นค่าของฟิลด์ **data01**

### <a name="monitor-the-inbound-queue"></a>การตรวจสอบคิวขาเข้า

หากต้องการทบทวนคิวขาเข้าของคุณ ให้ไปที่ **อินเทอร์เฟสเครื่องมือจัดการวัสดุ \> ทั่วไป \> คิวขาเข้า** หน้า **คิวขาเข้า** แสดงรายการคิวขาเข้าทั้งหมด และสถานะของรายการคิวขาออก เลือกรายการคิวเพื่อดูรายละเอียด รายละเอียดเหล่านี้ได้แก่ชนิดของธุรกรรมของสินค้า รหัสข้อความและค่าของแต่ละฟิลด์ข้อมูล (**data01** ผ่าน **data10**)

ถ้าเกิดข้อผิดพลาดหรือรายการล็อกชนิดอื่นเกิดขึ้นขณะประมวลผลเหตุการณ์ขาเข้า คุณสามารถตรวจสอบล็อกได้ โดยการเลือก **ล็อกข้อผิดพลาด** ในบานหน้าต่างการดำเนินการ

### <a name="inbound-event-processing"></a>การประมวลผลเหตุการณ์ขาเข้า

เหตุการณ์ขาเข้าจะถูกบันทึกครั้งแรกในฐานข้อมูล และเหตุการณ์เหล่านั้นจะถูกรันทันที (ซิงโครนัส) ถ้าเกิดข้อผิดพลาดระหว่างการประมวลผล เหตุการณ์จะยังคงถูกเขียนไปยังคิว แต่สถานะถูกตั้งเป็น *ผิดพลาด* บริการ MHAX ส่งคืนข้อความแสดงข้อผิดพลาดไปยังระบบ MH และจัดเก็บล็อกข้อผิดพลาดในเรกคอร์ดเหตุการณ์ขาเข้าเพื่อการตรวจสอบในภายหลัง

เหตุการณ์ที่มีสถานะ *ผิดพลาด* สามารถประมวลผลใหม่ในภายหลังได้ ถ้าเงื่อนไขข้อผิดพลาดได้รับการแก้ไข หากต้องการประมวลผลใหม่ ให้ทำตามหนึ่งในขั้นตอนเหล่านี้:

- ให้ไปที่ **อินเทอร์เฟสเครื่องมือจัดการวัสดุ \> ทั่วไป \> คิวขาเข้า** เลือกคิวขาเข้าที่เกี่ยวข้อง แล้วเลือก **ประมวลผลใหม่** ในบานหน้าต่างการดำเนินการ
- ให้ไปที่ **อินเทอร์เฟสเครื่องมือจัดการวัสดุ \> ทั่วไป \> ประมวลผลคิวขาเข้าที่ผิดพลาดใหม่** กล่องโต้ตอบชุดงานมาตรฐานจะปรากฏขึ้น คุณสามารถตั้งค่าตัวกรองข้อมูลเรกคอร์ด และจัดตารางการผลิต หรือรันชุดงานเพื่อประมวลผลคิวใหม่ได้

การดําเนินงานงานทั้งหมด (เบิกสินค้าและส่ง) จะรันโดยใช้ผู้ปฏิบัติงานที่เลือกในฟิลด์ **รหัสผู้ใช้** ในหน้า **พารามิเตอร์อินเทอร์เฟสเครื่องมือจัดการวัสดุ**

### <a name="clean-up-the-inbound-queue"></a>การล้างข้อมูลคิวขาเข้า

ในในที่สุด คิวขาเข้าของคุณจะเริ่มกลายเป็นรายการคิวทั้งหมดที่ประมวลผลแล้ว เมื่อต้องการลบสินค้าเหล่านี้ ให้ไปที่ **อินเทอร์เฟสเครื่องมือจัดการวัสดุ \> งานประจำงวด \> ล้างข้อมูล \> การล้างข้อมูลคิวขาเข้า**

## <a name="get-a-quick-overview-by-using-the-queue-manager"></a>เรียกดูภาพรวมโดยย่อโดยใช้โปรแกรมจัดการคิว

หากต้องการดูภาพรวมโดยย่อของกิจกรรมทั้งหมดที่เกี่ยวข้องกับคิวขาเข้าและขาออกของคุณ ให้ไปที่ **อินเทอร์เฟสเครื่องมือจัดการวัสดุ \> พื้นที่ทำงาน \> โปรแกรมจัดการคิว** หน้า **โปรแกรมจัดการคิว** จะมีชุดแท็บและชุดหนึ่งที่คุณสามารถใช้ในการตรวจสอบและสต่างคิวของคุณ นอกจากนี้ ยังมีลิงค์ที่เป็นประโยชน์ไปยังหน้าอื่น ๆ ส่วนใหญ่ที่กล่าวถึงในหัวข้อนี้

## <a name="connect-to-the-mhax-service"></a>เชื่อมต่อกับบริการ MHAX

MHAX ถูกใช้งานเป็นบริการศุลกากร ดังนั้น จึงสามารถเข้าถึงได้ผ่านการเรียก SOAP และ REST ต่อไปนี้เป็นที่อยู่ของปลายทาง SOAP และ REST:

- **SOAP:** `https://base_environment_URL/soap/services/WMHEServices`
- **REST:** `https://base_environment_URL/api/services/WMHEServices/WMHEService`

## <a name="retrieve-messages-from-the-outbound-queue"></a>ดึงข้อมูลข้อความจากคิวขาออก

เมื่อต้องการดึงข้อมูลข้อความจากคิวขาออก ใช้หนึ่งในวิธีต่อไปนี้:

- ใช้ `readOutboundSubscriptionQueue` เพื่อดึงข้อมูลเหตุการณ์ตามรหัสการบอกรับเป็นสมาชิก
- ใช้ `readOutboundWarehouseQueue` ดึงข้อมูลเหตุการณ์ตามชนิดเหตุการณ์และรหัสคลังสินค้าระหว่างการบอกรับเป็นสมาชิกหลายรายการ
