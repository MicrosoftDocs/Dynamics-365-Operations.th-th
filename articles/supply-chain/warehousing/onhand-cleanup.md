---
title: งานล้างข้อมูลรายการคงเหลือสำหรับการจัดการคลังสินค้า
description: หัวข้อนี้จะอธิบายงานล้างข้อมูลรายการคงเหลือ ซึ่งช่วยปรับปรุงประสิทธิภาพของระบบโดยการระบุและการลบเรกคอร์ดที่เกี่ยวข้อง แต่ไม่จำเป็น
author: perlynne
manager: tfehr
ms.date: 04/23/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2020-04-03
ms.dyn365.ops.version: Release 10.0.12
ms.openlocfilehash: f6d1f8a4c85c2161d1b79246d437bb3b4d223d1d
ms.sourcegitcommit: a3cd2783ae120ac6681431c010b9b126a9ca7d94
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 05/29/2020
ms.locfileid: "3410986"
---
# <a name="warehouse-management-on-hand-entries-cleanup-job"></a>งานล้างข้อมูลรายการคงเหลือสำหรับการจัดการคลังสินค้า

ประสิทธิภาพของการสอบถามที่ใช้ในการคำนวณปริมาณคงคลังคงเหลือจะได้รับผลกระทบจากจำนวนของเรกคอร์ดในตารางที่เกี่ยวข้อง วิธีหนึ่งที่จะช่วยปรับปรุงประสิทธิภาพการทำงานคือ ลดจำนวนเรกคอร์ดที่ฐานข้อมูลต้องพิจารณา

หัวข้อนี้อธิบายงานล้างข้อมูลรายการคงเหลือ ซึ่งลบเรกคอร์ดที่ไม่จำเป็นในตาราง InventSum และ WHSInventReserve ตารางเหล่านี้จัดเก็บข้อมูลปริมาณคงคลังคงเหลือสำหรับสินค้าที่เปิดใช้งานสำหรับการประมวลผลการจัดการคลังสินค้า (สินค้าเหล่านี้เรียกว่าสินค้า WHS) การลบเรกคอร์ดเหล่านี้อาจปรับปรุงประสิทธิภาพการทำงานของการคำนวณปริมาณคงคลังคงเหลืออย่างมาก

## <a name="what-the-cleanup-job-does"></a>งานการล้างข้อมูลมีอะไรบ้าง

งานล้างข้อมูลรายการคงเหลือจะลบเรกคอร์ดใดๆ ในตาราง WHSInventReserve และ InventSum ซึ่งค่าฟิลด์ทั้งหมดเป็น *0* (ศูนย์) คุณสามารถลบเรกคอร์ดเหล่านี้ได้ เนื่องจากไม่มีส่วนร่วมกับข้อมูลปริมาณคงคลังคงเหลือ งานจะลบเฉพาะเรกคอร์ดที่อยู่ใต้ระดับ **ที่ตั้ง**

ถ้าอนุญาตให้มีสินค้าคงคลังที่มีอยู่จริงที่เป็นค่าลบ งานการล้างข้อมูลอาจไม่สามารถลบรายการที่เกี่ยวข้องทั้งหมดได้ เหตุผลสำหรับข้อจำกัดนี้คืองานต้องอนุญาตสำหรับสถานการณ์จำลองพิเศษ ซึ่งป้ายทะเบียนมีหลายหมายเลขลำดับประจำสินค้า และหนึ่งในหมายเลขลำดับประจำสินค้าจะกลายเป็นค่าลบ ตัวอย่างเช่น ระบบจะมีปริมาณคงคลังคงเหลือเป็นศูนย์ที่ระดับป้ายทะเบียน เมื่อป้ายทะเบียนมี +1 ชิ้นเป็นเครื่องหมายเลขลำดับประจำสินค้า 1 และ – 1 ชิ้น เป็นหมายเลขลำดับประจำสินค้า 2 สำหรับสถานการณ์จำลองพิเศษนี้ งานจะเป็นการลบแบบกว้างครั้งแรก ซึ่งจะพยายามลบออกจากระดับที่ต่ำกว่าก่อน

## <a name="schedule-and-configure-the-cleanup-job"></a>จัดกำหนดการและตั้งค่าคอนฟิกงานการล้างข้อมูล

งานการล้างข้อมูลรายการคงเหลือจะพร้อมใช้งานที่ **การจัดการสินค้าคงคลัง \> งานประจำงวด \> การล้างข้อมูล \> การล้างข้อมูลรายการคงเหลือสำหรับการจัดการคลังสินค้า** ใช้การตั้งค่างานมาตรฐานเพื่อควบคุมขอบเขตและกำหนดการสำหรับการเรียกใช้งาน นอกจากนี้ ยังมีการตั้งค่าต่อไปนี้:

- **ลบถ้าไม่มีการอัปเดตเป็นเวลาหลายวัน** – ป้อนจำนวนวันต่ำสุดที่งานควรรอก่อนที่จะลบรายการคงเหลือที่ลดลงเป็นศูนย์ ใช้การตั้งค่านี้เพื่อช่วยลดความเสี่ยงในการลบรายการปริมาณคงเหลือที่ยังคงใช้อยู่ ถ้าคุณต้องการให้การล้างข้อมูลเกิดขึ้นโดยเร็วที่สุด ให้ป้อน *0* (ศูนย์) หรือปล่อยฟิลด์นี้ว่างไว้
- **เวลาที่ใช้ในการดำเนินการสูงสุด (ชั่วโมง)** – ป้อนเวลาดำเนินการสูงสุดของงานการล้างข้อมูล ในหน่วยชั่วโมง ถ้างานดำเนินการไม่เสร็จสมบูรณ์ก่อนเวลาดำเนินการสูงสุดผ่านไป ระบบจะบันทึกงานที่เสร็จสมบูรณ์แล้วจึงปิดตัวเอง ความสามารถนี้มีความเกี่ยวข้องโดยเฉพาะอย่างยิ่งสำหรับการใช้งานที่มีการใช้สินค้าคงคลังสูง ในกรณีเหล่านี้ คุณควรจัดตารางเวลางานให้เรียกใช้บางครั้ง เมื่อการโหลดของระบบเบาที่สุดเท่าที่จะเป็นไปได้ ถ้าคุณต้องการให้ชุดงานดำเนินการต่อไปจนกว่าจะเสร็จสมบูรณ์ ให้ป้อน *0* (ศูนย์) หรือปล่อยฟิลด์นี้ว่างไว้ การตั้งค่านี้จะพร้อมใช้งานเฉพาะเมื่องานลักษณะการทำงานที่เกี่ยวข้อง [มีการเปิดใช้ในระบบของคุณ](#max-execution-time) เท่านั้น

ถึงแม้ว่าคุณจะสามารถเรียกใช้งานได้ในช่วงเวลาทำการปกติ เราขอแนะนำให้คุณเรียกใช้งานนอกเวลาทำงาน ด้วยวิธีนี้ คุณจะช่วยป้องกันความขัดแย้งที่อาจเกิดขึ้นได้ ถ้าผู้ใช้กำลังทำงานกับเรกคอร์ดที่กำลังล้างข้อมูล

ถ้างานพยายามลบเรกคอร์ดสำหรับสินค้าในขณะที่มีการใช้เรกคอร์ดดังกล่าวโดยผู้ใช้รายอื่นข้อผิดพลาดการชะงักงันจะเกิดขึ้นสำหรับงานการล้างข้อมูล หรือผู้ใช้

เมื่องานรัน งานจะมีขนาดที่ยืนยันเป็น 100 กล่าวอีกอย่างหนึ่งคือ จะพยายามยืนยันครั้งเดียวสำหรับทุกการลบ 100 ครั้ง อย่างไรก็ตาม เนื่องจากมีการลบบางอย่างที่มีการตั้งค่าอยู่ อาจมีเหตุการณ์ที่มากกว่า 100 เรกคอร์ดสามารถลบออกได้ในธุรกรรมเดียวกัน ดังนั้น การเลื่อนระดับล็อคยังคงอาจเกิดขึ้นในบางครั้ง

## <a name="possible-user-impact"></a>ผลกระทบของผู้ใช้ที่เป็นไปได้

ผู้ใช้อาจได้รับผลกระทบ หากงานล้างข้อมูลรายการคงเหลือลบเรกคอร์ดทั้งหมดสำหรับระดับที่กำหนด (เช่น ระดับป้ายทะเบียน) ในกรณีนี้ ฟังก์ชันสำหรับการดูสินค้าคงคลังที่มีอยู่ก่อนหน้านี้พร้อมใช้งานบนป้ายทะเบียนอาจไม่ทำงานตามที่คาดไว้ เนื่องจากไม่มีรายการคงเหลือที่เกี่ยวข้องอีกต่อไป (ฟังก์ชันดังกล่าวจะตรวจสอบเงื่อนไข **ปริมาณ \<\> 0** ในการตั้งค่า **การแสดงมิติ** เมื่อผู้ใช้ดูข้อมูลปริมาณคงคลังคงเหลือ) อย่างไรก็ตาม การปรับปรุงประสิทธิภาพการทำงานของการล้างข้อมูลที่ให้ควรชดเชยการขาดทุนเล็กๆ นี้ในฟังก์ชัน

## <a name="make-the-maximum-execution-time-setting-available"></a><a name="max-execution-time"></a> ทำให้การตั้งค่าเวลาดำเนินการสูงสุดพร้อมใช้งาน

โดยค่าเริ่มต้น การตั้งค่า **เวลาดำเนินการสูงสุด** ไม่พร้อมใช้งาน ถ้าคุณต้องการใช้ คุณต้องใช้ [การจัดการลักษณะการทำงาน](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) เพื่อเปิดใช้งานลักษณะการทำงานที่เกี่ยวข้องในระบบของคุณ ในพื้นที่ทำงาน **การจัดการคุณลักษณะ** มีการแสดงรายการคุณลักษณะในวิธีต่อไปนี้:

- **โมดูล:** *การจัดการคลังสินค้า*
- **ชื่อลักษณะการทำงาน:** *เวลาที่ใช้ในการดำเนินการสูงสุดสำหรับงานล้างข้อมูลรายการคงเหลือของการจัดการคลังสินค้า*
