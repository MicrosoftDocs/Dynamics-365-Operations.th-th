---
title: จัดการการหักลดโดยใช้เวิร์กเบนช์การหักลด
description: หัวข้อนี้อธิบายวิธีการใช้เวิร์กเบนซ์การหักลดเพื่อประมวลผลการชำระเงินของลูกค้าที่มีการหักลด
author: sherry-zheng
ms.date: 08/02/2021
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2021-08-02
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: bf98529176fbed368708ea925f542a70f2936037
ms.sourcegitcommit: ecd4c148287892dcd45656f273401315adb2805e
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/18/2021
ms.locfileid: "7500413"
---
# <a name="manage-deductions-using-the-deduction-workbench"></a>จัดการการหักลดโดยใช้เวิร์กเบนช์การหักลด

[!include [banner](../includes/banner.md)]

หัวข้อนี้อธิบายวิธีการใช้เวิร์กเบนซ์การหักลดเพื่อประมวลผลการชำระเงินของลูกค้าที่มีการหักลด

ลูกค้าที่เป็นหนี้เงินคืนสามารถตัดสินใจไม่ให้รอจนกว่าการชำระเงินคืน ลูกค้าสามารถส่งการชำระเงินที่มีการหักลดจำนวนเงินคืนแทน การจัดการธุรกรรมชนิดนี้ คุณสามารถใช้เวิร์กเบนช์การหักลดจะจับคู่การหักลดเพื่อเปิดธุรกรรมเครดิต แบ่งการหักลด ปฏิเสธการหักลด และตัดจ่ายการหักลด

> [!NOTE]
> เวิร์กเบนช์การหักลดเป็นส่วนหนึ่งของฟังก์ชันการขายและการตลาดใน Microsoft Dynamics 365 Supply Chain Management มานานแล้ว อย่างไรก็ตาม ขณะนี้ได้รับการปรับปรุงเพื่อที่จะใช้งานได้กับโมดูล **การจัดการเงินคืน** ใหม่กว่าด้วย หัวข้อนี้จะอธิบายวิธีการใช้คุณลักษณะเก่าและคุณลักษณะการจัดการเงินคืนของเวิร์กเบนช์การหักลด อย่างไรก็ตาม ถ้าคุณยังไม่ได้ [เปิดโมดูล **การจัดการเงินคืน** ของระบบของคุณ](rebate-management-enable.md) ฟังก์ชันบางฟังก์ชันที่อธิบายไว้ที่นี่จะไม่พร้อมใช้งานสำหรับคุณ

## <a name="prerequisites"></a>ข้อกำหนดเบื้องต้น

### <a name="set-up-the-old-deduction-management-system"></a>ตั้งค่าระบบการจัดการการหักลดเก่า

คุณสามารถใช้เวิร์กเบนช์การหักลดพร้อมกับความสามารถในการจัดการการหักลดเก่าของ Supply Chain Management ได้ แม้ว่าคุณจะไม่ได้ใช้โมดูล **การจัดการเงินคืน** คุณต้องจัดเตรียมระบบของคุณตามที่อธิบายไว้ในส่วนนี้ก่อน

ก่อนที่คุณจะสามารถใช้เวิร์กเบนช์การหักลดได้ คุณต้องทำงานการตั้งค่าที่อธิบายไว้ใน [การจัดการการตั้งค่าการหักลด](/dynamicsax-2012/appuser-itpro/set-up-deduction-management) ให้เสร็จสิ้น คุณควรตั้งค่าข้อตกลงเงินคืนบางประเภทไว้เพื่อลูกค้า: เงินคืนของลูกค้า ตามที่อธิบายไว้ใน [การตั้งค่าและการรักษาเงินคืนของลูกค้า](/dynamicsax-2012/appuser-itpro/setting-up-and-maintaining-customer-rebates) หรือเงินคืนการให้ส่วนลดทางการค้า

หากคุณยังใช้การหักลดกับเงินคืนของลูกค้า คุณต้องจัดการงานเหล่านี้ให้เสร็จสมบูรณ์:

- [ตั้งค่าเงินคืนของลูกค้าของคุณ](/dynamicsax-2012/appuser-itpro/setting-up-and-maintaining-customer-rebates)
- อนุมัติและประมวลผลเงินคืน เพื่อให้คุณสามารถใช้เวิร์กเบนช์การหักลดได้

หากคุณยังใช้การหักลดกับเงินคืนการให้ส่วนลดทางการค้า คุณต้องจัดการงานเหล่านี้ให้เสร็จสมบูรณ์:

- ตั้งค่าเงินคืนในการจ่ายคืน
- การใช้เงินคืนในการจ่ายคืน

### <a name="configure-accounts-receivable-and-deductions"></a><a name="accounts-receivable-deductions"></a>ตั้งค่าคอนฟิกบัญชีลูกหนี้และการหักลด

ระบบบันทึกเหตุการณ์การหักลดทั้งหมดในสมุดรายวันการอ้างสิทธิ์ ดังนั้น ระบบของคุณจึงต้องมีสมุดรายวันที่สามารถใช้เพื่อวัตถุประสงค์นี้ ถ้าคุณยังไม่มีสมุดรายวันการอ้างสิทธิ์ ให้ตั้งค่าสมุดรายวันเดี๋ยวนี้ สมุดรายวันนี้จะต้องสร้างการหักลดโดยตรงในหน้าของเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า

การตั้งค่าสมุดรายวันการอ้างสิทธิ์ใหม่สำหรับการหักลด ให้ทำตามขั้นตอนเหล่านี้

1. ไปที่ **บัญชีแยกประเภททั่วไป \> การตั้งค่าสมุดรายวัน \> ชื่อสมุดรายวัน**
1. เลือก **สร้าง** และตั้งค่าฟิลด์ต่อไปนี้สำหรับชื่อสมุดรายวันใหม่

    - **ชื่อ** – ป้อนชื่อที่ไม่ซ้ำกันสำหรับสมุดรายวันการอ้างสิทธิ์
    - **คำอธิบาย** – ป้อนคำอธิบายของสมุดรายวันใหม่
    - **ชนิดของสมุดรายวัน** – เลือก *รายวัน*
    - **ชุดใบสำคัญ** – กําหนดลำดับหมายเลขที่มีอยู่ หรือสร้างลำดับหมายเลขใหม่ที่มีขอบเขตบริษัท และกําหนดให้กับชื่อสมุดรายวันใหม่

1. ไปที่ **บัญชีลูกหนี้ \> การตั้งค่า \> พารามิเตอร์บัญชีลูกหนี้**
1. บนแท็บ **การหักลด** บนแท็บด่วน **ทั่วไป** ให้ตั้งค่าฟิลด์ **ชื่อสมุดรายวันการอ้างสิทธิ์** เป็นชื่อสมุดรายวันที่คุณเพิ่งสร้างขึ้น
1. บนแท็บด่วน **ใบสั่งส่งคืนสินค้า** ตั้งค่าฟิลด์ต่อไปนี้

    - **สร้างใบสั่งส่งคืนสินค้า** – ตั้งค่าตัวเลือกนี้เพื่อระบุสิ่งที่ระบบควรจะใช้ เมื่ออนุมัติการอ้างสิทธิ์ตามปริมาณดังนี้:

        - *ใช่* – การสร้างใบสั่งส่งคืนสินค้า
        - *ไม่* – การสร้างใบสั่งขายค่าลบ

    - **การสร้างที่ไม่มีใบแจ้งหนี้ที่แนบ** – เลือกค่าเพื่อระบุว่าระบบควรทำอะไร เมื่ออนุมัติการอ้างสิทธิ์ตามปริมาณ แต่ไม่มีใบแจ้งหนี้แนบอยู่:

        - *ยอมรับ* – สร้างใบสั่งส่งคืนสินค้า
        - *คําเตือน* – สร้างใบสั่งส่งคืนสินค้า แต่แสดงข้อความเตือนต่อไปนี้: "การอ้างสิทธิ์ไม่ได้แนบกับใบแจ้งหนี้"
        - *ข้อผิดพลาด* – อย่าสร้างใบสั่งส่งคืนสินค้า และแสดงข้อความข้อผิดพลาดต่อไปนี้: การอ้างสิทธิ์ไม่ได้แนบกับใบแจ้งหนี้ การอัพเดตถูกยกเลิก"

    - **สร้างใบสั่งส่งคืนสินค้าก่อนการอนุมัติการหักลด** – ตั้งค่าตัวเลือกนี้เป็น *ใช่* ถ้าสามารถสร้างใบสั่งส่งคืนสินค้าได้ก่อนที่จะอนุมัติการอ้างสิทธิ์ การตั้งค่านี้จะใช้เฉพาะกับการอ้างสิทธิ์ตามปริมาณที่มีตัวเลือก **สร้างใบสั่งส่งคืนสินค้า** ตั้งค่าเป็น *ใช่* เท่านั้น

### <a name="configure-general-ledger-parameters"></a>ตั้งค่าคอนฟิกพารามิเตอร์บัญชีแยกประเภททั่วไป

เมื่อระบบสร้างสมุดรายวันการอ้างสิทธิ์ให้กับการหักลดใหม่ ระบบจะสร้างธุรกรรมลูกค้าใหม่สองรายการ ซึ่งได้แก่ ธุรกรรมใหม่ที่จะหักลบยอดเงินของการอ้างสิทธิ์กับใบแจ้งหนี้ต้นฉบับ และอีกธุรกรรมหนึ่งเพื่อลงทะเบียนหนี้สินของลูกค้าต่อยอดเงินของการอ้างสิทธิ์ (เนื่องจากยังไม่มีการอนุมัติการอ้างสิทธิ์) ดังนั้น คุณจึงต้องตั้งค่าระบบของคุณเพื่อให้ใบสำคัญหนึ่งใบสามารถมีบรรทัดลูกค้าได้หลายบรรทัด

เมื่อต้องการเปิดใช้งานใบสำคัญหนึ่งๆ เพื่อให้มีบรรทัดลูกค้าได้หลายบรรทัด ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **บัญชีแยกประเภททั่วไปr \> การตั้งค่าบัญชีแยกประเภท \>พารามิเตอร์บัญชีแยกประเภททั่วไป**
1. บนแท็บ **บัญชีแยกประเภท** บนแท็บด่วน **ทั่วไป** ให้ตั้งค่าตัวเลือก **อนุญาตให้ใช้ธุรกรรมหลายรายการภายในใบสำคัญหนึ่งใบ** เป็น *ใช่*
1. หากคุณได้รับข้อความเตือน ให้เลือก **ปิด** เพื่อยอมรับการเปลี่ยนแปลง

### <a name="create-deduction-reasons"></a><a name="deduction-reasons"></a>สร้างเหตุผลการหักลด

ระบบต้องการให้ผู้ใช้ระบุเหตุผลในการหักลดแต่ละรายการที่พวกเขาป้อนโดยตรงในเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า เหตุผลนี้จะระบุวิธีการจัดการการหักลดเมื่อการหักลดได้รับการอนุมัติ

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เหตุผลการหักลด**
1. เลือก **สร้าง** เพื่อเพิ่มแถวไปยังกริด และจากนั้นตั้งค่าฟิลด์ต่อไปนี้สำหรับแถวนั้น:

    - **เหตุผลการอ้างสิทธิ์** – ป้อนชื่อที่ไม่ซ้ำกันสำหรับเหตุผล
    - **คำอธิบาย** – ป้อนอธิบายเกี่ยวกับเหตุผล เพื่อดูข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้
    - **เกณฑ์การอ้างสิทธิ์** – เลือกเกณฑ์การอ้างสิทธิ์สำหรับเหตุผลการอ้างสิทธิ์:

        - *อิงราคา* – สร้างเครดิตข้อความอิสระเมื่ออนุมัติ
        - *อิงปริมาณ* – สร้างใบสั่งขายหรือใบสั่งส่งคืนสินค้าค่าลบเมื่ออนุมัติ

    - **รหัสเหตุผลการส่งคืน** – เลือกรหัสเหตุผลการส่งคืนที่จะใช้เป็นค่า **รหัสเหตุผลการส่งคืน** ของใบสั่งส่งคืนสินค้า
    - **ชนิด** – เลือกชนิดการหักลด ค่า **ออฟเซ็ตการหักลด** จากค่าชนิดที่เลือกจะถูกใช้เพื่อตั้งค่าฟิลด์ **ออฟเซ็ตการหักลด** เมื่อมีการสร้างการหักลดหรือการอ้างสิทธิ์ ชนิดการหักลดจะถูกกําหนดในหน้า **ชนิดการหักลด** (**การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> ชนิดการหักลด**)
    - **บัญชีการลงรายการบัญชีการอ้างสิทธิ์** – ฟิลด์นี้จะพร้อมใช้งานเฉพาะเมื่อตั้งค่าฟิลด์ **เกณฑ์การอ้างสิทธิ์** เป็น *อิงราคา* เท่านั้น เมื่ออนุมัติการอ้างสิทธิ์ตามราคา ระบบจะกําหนดบัญชีแยกประเภทที่คุณเลือกไว้ที่นี่เป็นค่า **บัญชีหลัก** สำหรับใบลดหนี้ข้อความอิสระฉบับร่าง

### <a name="set-up-the-settle-approved-deductions-periodic-task"></a>ตั้งค่างานประจำงวดของการชำระการหักลดที่อนุมัติ

สำหรับการหักลดที่สร้างโดยใช้คำสั่ง **การหักลดใหม่** บนเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า คุณสามารถตั้งค่างานประจำงวด *ชำระการหักลดที่อนุมัติ* เพื่อจับคู่การหักลดและเครดิตที่มีค่า **รหัสการหักลด** และยอดเงินที่ตรงกันโดยอัตโนมัติ

เมื่อต้องการจัดกำหนดการงานนี้ ให้ไปที่งาน **การขายและการตลาด \> งานประจำงวด \> ชำระการหักลดที่อนุมัติ** และตั้งค่าตัวเลือก ตัวกรอง และกำหนดการ เช่นเดียวกับงานประจำงวดชนิดอื่นๆ

> [!NOTE]
> หากตัวเลือก **การชําระเงินอัตโนมัติ** ถูกตั้งค่าเป็น *ใช่* บนแท็บ **การชําระเงิน** ของหน้า **พารามิเตอร์บัญชีลูกหนี้** (**บัญชีลูกหนี้ \> การตั้งค่า \> พารามิเตอร์บัญชีลูกหนี้**) งานประจำงวด *การชำระการหักลดที่อนุมัติ* จะไม่เกิดขึ้นใดๆ เนื่องจากเครดิตจะถูกชําระบัญชีโดยอัตโนมัติ

## <a name="create-a-deduction"></a>การสร้างการหักลด

### <a name="create-a-deduction-journal-entry-by-using-the-customer-payment-journal"></a>สร้างรายการสมุดรายวันการหักลดโดยใช้สมุดรายวันการชำระเงินของลูกค้า

หากต้องการสร้างรายการสมุดรายวันการหักลด ให้ปฏิบัติดังนี้

1. ไปที่ **บัญชีเจ้าหนี้ \> การชำระเงิน \> สมุดรายวันการชำระเงินล่วงหน้าของลูกค้า**
1. เลือก **สร้าง** เพื่อเพิ่มแถวลงในกริด
1. ในฟิลด์ **ชื่อ** สำหรับแถวใหม่ เลือกชื่อของสมุดรายวัน
1. บนบานหน้าต่างการดำเนินการ เลือก **รายการ**
1. ป้อนวันที่ บัญชีบริษัท และหมายเลขบัญชีลูกค้า
1. ในฟิลด์ **ใบแจ้งหนี้** เลือกใบแจ้งหนี้ที่สัมพันธ์กับการหักลด
1. ในฟิลด์ **เครดิต** ป้อนยอดเงินที่ลูกค้าชำระ
1. เลือก **ตกลง** เพื่อยืนยันว่า ยอดเงินน้อยกว่าจำนวนผลรวมของธุรกรรมที่ทำเครื่องหมายไว้
1. เลือกชนิดบัญชีตรงข้ามและบัญชีตรงข้าม
1. บนแถบเครื่องมือเหนือกริด ให้เลือก **การหักลด**
1. บนหน้า **การหักลด** ในบานหน้าต่างการดำเนินการ ให้เลือก **สร้าง** เพื่อเพิ่มแถวไปยังกริด ฟิลด์ **รหัสการหักลด** ของแถวใหม่จะถูกตั้งค่าโดยอัตโนมัติ
1. ในฟิลด์ **ชนิด** เลือกชนิดการหักลด
1. ในฟิลด์ **จํานวนเงิน** ให้ป้อนจํานวนเงินที่แสดงอยู่ในฟิลด์ **ยอดดุล** ที่ต่่ำกว่ารายการหักลด จำนวนเงินนี้แสดงถึงยอดเงินที่ลูกค้าหักจากการชำระเงิน
1. ปิดหน้า **การหักลด** คุณถูกส่งคืนไปที่หน้า **การชำระเงินของลูกค้า** ซึ่งขณะนี้จะแสดงรายการใหม่ที่จะหักลด
1. บนบานหน้าต่างการดำเนินการ เลือก **ตรวจสอบความถูกต้อง \> ตรวจสอบความถูกต้อง** คุณควรได้รับข้อความต่อไปนี้: "สมุดรายวันใช้ได้"
1. ในบานหน้าต่างการดำเนินการ เลือก **ลงรายการบัญชี**

### <a name="create-a-deduction-by-using-the-deduction-workbench"></a>สร้างการหักลดโดยใช้เวิร์กเบนช์การหักลด

หากต้องการสร้างการหักลดใหม่บนเวิร์กเบนช์การหักลด ให้ปฏิบัติดังนี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. ในบานหน้าต่างการดำเนินการ เลือก สร้าง **รักษา \> การหักลดใหม่**

    ในกล่องโต้ตอบ **การหักลดใหม่** ฟิลด์ **รหัสการหักลด** จะถูกตั้งค่าตามลำดับหมายเลข **รหัสการหักลด** ที่กําหนดไว้บนหน้า **พารามิเตอร์การจัดการการให้ส่วนลดทางการค้า** (**การขายและการตลาด \> การตั้งค่า \> การให้ส่วนลดทางการค้า \> พารามิเตอร์การจัดการการให้ส่วนลดทางการค้า**)

1. ตั้งค่าฟิลด์เหล่านี้:

    - **รหัสลูกค้า** – เลือกรหัสลูกค้าที่การหักลดจะใช้
    - **หมายเลขการอ้างสิทธิ์ภายนอก** – ป้อนข้อมูลอ้างอิงการอ้างสิทธิ์ของลูกค้า
    - **ยอดเงินการอ้างสิทธิ์** – ป้อนยอดเงินการอ้างสิทธิ์แบบรวมภาษี ค่าต้องเป็นบวก
    - **สกุลเงิน** – เลือกสกุลเงินสำหรับการหักลด ค่าเริ่มต้นคือสกุลเงินที่ตั้งค่าไว้ของรหัสลูกค้าที่เลือก
    - **เกณฑ์การอ้างสิทธิ์** – เลือกเกณฑ์การอ้างสิทธิ์ เกณฑ์การอ้างสิทธิ์จะระบุชนิดของธุรกรรมเครดิตที่สร้างขึ้นหลังจากอนุมัติการหักลดหรือการอ้างสิทธิ์แล้ว

        - *อิงราคา* – ใบแจ้งหนี้ข้อความอิสระฉบับร่างจะถูกสร้างขึ้น
        - *อิงปริมาณ* – ใบสั่งขายหรือใบสั่งส่งคืนสินค้าค่าลบจะสร้างขึ้น

    - **วันที่อ้างสิทธิ์** – เลือกวันที่อ้างสิทธิ์ ค่าเริ่มต้นคือวันที่ปัจจุบัน
    - **เหตุผลการอ้างสิทธิ์** – เลือกรหัสเหตุผลที่ใช้กับการหักลดปัจจุบัน เกณฑ์การอ้างสิทธิ์ที่คุณเลือกจะมีผลกระทบต่อตัวเลือกที่ใช้ หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีสร้างและตั้งค่าคอนฟิกเหตุผลการอ้างสิทธิ์ที่สามารถใช้งานได้ในการเลือกที่นี่ โปรดดูที่ส่วน [สร้างเหตุผลการหักลด](#deduction-reasons) ก่อนหน้าในหัวข้อนี้
    - **หมายเหตุ** – เพิ่มหมายเหตุใดๆ ที่ใช้ เมื่ออนุมัติการอ้างสิทธิ์แล้ว ผู้อนุมัติจะสามารถแก้ไขหรือเพิ่มในหมายเหตุการอ้างสิทธิ์ได้
    - **สร้างสมุดรายวันการอ้างสิทธิ์** – ตั้งค่าตัวเลือกนี้เพื่อระบุว่าควรสร้างสมุดรายวันการอ้างสิทธิ์เมื่อมีการสร้างการอ้างสิทธิ์หรือการหักลดหรือไม่

        - *ใช่* – ระบบจะสร้างและลงรายการบัญชีสมุดรายวันทั่วไป โดยใช้สมุดรายวันการอ้างสิทธิ์ที่ตั้งค่าบนหน้า **พารามิเตอร์บัญชีลูกหนี้** (สำหรับข้อมูลเพิ่มเติม ดูที่ [ตั้งค่าคอนฟิกส่วนบัญชีลูกหนี้และการหักลด](#accounts-receivable-deductions) ก่อนหน้านี้ในหัวข้อนี้) เมื่อมีการแนบใบแจ้งหนี้กับการอ้างสิทธิ์ สมุดรายวันการอ้างสิทธิ์จะใช้เพื่อลดยอดดุลของใบแจ้งหนี้ที่เกี่ยวข้อง หากมีการปฏิเสธการอ้างสิทธิ์ในภายหลัง สมุดรายวันการอ้างสิทธิ์และการชําระเงิน (หากมีการแนบใบแจ้งหนี้) จะถูกกลับรายการ
        - *ไม่* – ไม่มีการสร้างสมุดรายวันการอ้างสิทธิ์ในเวลานี้ โดยจะสร้างขึ้นเมื่อการอ้างสิทธิ์ได้รับการอนุมัติ ใบแจ้งหนี้ยังคงสามารถแนบกับการอ้างสิทธิ์ใหม่ได้ แม้ว่าสมุดรายวันการอ้างสิทธิ์จะไม่ถูกสร้างขึ้น อย่างไรก็ตาม ไม่สามารถชําระเงินได้โดยไม่มีสมุดรายวันการอ้างสิทธิ์

1. เลือก **ตกลง**

    จะมีการสร้างการหักลดใหม่ ถ้าคุณตั้งค่าตัวเลือก **สร้างสมุดรายวันการอ้างสิทธิ์** เป็น *ใช่* ธุรกรรมต่อไปนี้จะมีการลงรายการบัญชี:

    - **ธุรกรรมลูกค้าใหม่สองรายการ** – ธุรกรรมหนึ่งจะออฟเซ็ตยอดเงินของการอ้างสิทธิ์กับใบแจ้งหนี้ต้นฉบับ ธุรกรรมอื่นๆ จะลงทะเบียนหนี้สินของลูกค้าเป็นจํานวนเงินของการอ้างสิทธิ์ เนื่องจากการอ้างสิทธิ์ยังไม่ได้รับอนุมัติ ธุรกรรมใบแจ้งหนี้ต้นฉบับและธุรกรรมการอ้างสิทธิ์การชดเชยจะได้รับการเลือกโดยอัตโนมัติให้ชําระเงิน เมื่อคุณแนบใบแจ้งหนี้โดยเลือก **รักษา \> แนบใบแจ้งหนี้** ในบานหน้าต่างการดำเนินการ
    - **ธุรกรรมที่ชดเชยสองรายการ** – ธุรกรรมเหล่านี้มีการลงรายการบัญชีที่บัญชีแยกประเภท **ชดเชยการหักลด**
    - **สมุดรายวันการอ้างสิทธิ์** – ในการดูสมุดรายวันการอ้างสิทธิ์สำหรับการหักลดแต่ละรายการที่แสดงบนเวิร์กเบนช์การหักลด ให้เลือกแท็บ **การอ้างอิง** สมุดรายวันการอ้างสิทธิ์แสดงอยู่ในฟิลด์ **หมายเลขชุดงานสมุดรายวัน** คุณยังสามารถดูสมุดรายวันการอ้างสิทธิ์บนแท็บ **เหตุการณ์การหักลด** ได้ ซึ่งจะมีจะมีค่า **ชนิดการอัปเดต** เป็น *ตรงกัน*

### <a name="create-a-deduction-from-a-customer-settlement"></a>สร้างการหักลดจากการชําระเงินของลูกค้า

กระบวนการสร้างการหักลดจากการชําระเงินของลูกค้าจะคล้ายคลึงกับกระบวนการสร้างการหักลดผ่านเวิร์กเบนช์การหักลด อย่างไรก็ตาม ระบบได้ตั้งค่าสกุลเงินของลูกค้าและใบแจ้งหนี้โดยอัตโนมัติ และใบแจ้งหนี้จะแนบอยู่ คุณไม่ต้องเลือก **รักษา \> แนบใบแจ้งหนี้** ในบานหน้าต่างการดำเนินการเมื่อคุณสร้างการอ้างสิทธิ์หรือการหักลดผ่านหน้าการชําระเงินของลูกค้า

1. ไปที่ **บัญชีลูกหนี้ \> ลูกค้า \> ลูกค้าทั้งหมด**
1. เลือกลูกค้าที่จะสร้างการหักลดให้
1. บนบานหน้าต่างการดำเนินการ บนแท็บ **รวบรวม** ในกลุ่ม **ชำระ** เลือก **ชำระเงินธุรกรรม**
1. ในกล่องโต้ตอบ **การตั้งค่าธุรกรรม** บนแท็บ **ภาพรวม** ให้เลือกใบแจ้งหนี้ที่จะสร้างการหักลด
1. บนแถบเครื่องมือ ให้เลือก **การหักลด \> การหักลดใหม่**

    ในกล่องโต้ตอบ **การหักลดใหม่** ฟิลด์ **รหัสการหักลด** จะถูกตั้งค่าตามลำดับหมายเลข **รหัสการหักลด** ที่กําหนดไว้บนหน้า **พารามิเตอร์การจัดการการให้ส่วนลดทางการค้า** (**การขายและการตลาด \> การตั้งค่า \> การให้ส่วนลดทางการค้า \> พารามิเตอร์การจัดการการให้ส่วนลดทางการค้า**) ฟิลด์ **รหัสลูกค้า** ตั้งค่ารหัสลูกค้าที่การหักลดจะใช้

1. ตั้งค่าฟิลด์เหล่านี้:

    - **หมายเลขการอ้างสิทธิ์ภายนอก** – ป้อนข้อมูลอ้างอิงการอ้างสิทธิ์ของลูกค้า
    - **ยอดเงินการอ้างสิทธิ์** – ป้อนยอดเงินการอ้างสิทธิ์แบบรวมภาษี ค่าต้องเป็นบวก
    - **สกุลเงิน** – เลือกสกุลเงินสำหรับการหักลด ค่าเริ่มต้นคือสกุลเงินที่ตั้งค่าไว้ของรหัสลูกค้าที่เลือก
    - **เกณฑ์การอ้างสิทธิ์** – เลือกเกณฑ์การอ้างสิทธิ์ เกณฑ์การอ้างสิทธิ์จะระบุชนิดของธุรกรรมเครดิตที่สร้างขึ้นหลังจากอนุมัติการหักลดหรือการอ้างสิทธิ์แล้ว

        - *อิงราคา* – ใบแจ้งหนี้ข้อความอิสระฉบับร่างจะถูกสร้างขึ้น
        - *อิงปริมาณ* – ใบสั่งขายหรือใบสั่งส่งคืนสินค้าค่าลบจะสร้างขึ้น

    - **วันที่อ้างสิทธิ์** – เลือกวันที่อ้างสิทธิ์ ค่าเริ่มต้นคือวันที่ปัจจุบัน
    - **เหตุผลการอ้างสิทธิ์** – เลือกรหัสเหตุผลที่ใช้กับการหักลดปัจจุบัน เกณฑ์การอ้างสิทธิ์ที่คุณเลือกจะมีผลกระทบต่อตัวเลือกที่ใช้ หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีสร้างและตั้งค่าคอนฟิกเหตุผลการอ้างสิทธิ์ที่สามารถใช้งานได้ในการเลือกที่นี่ โปรดดูที่ส่วน [สร้างเหตุผลการหักลด](#deduction-reasons) ก่อนหน้าในหัวข้อนี้
    - **หมายเหตุ** – เพิ่มหมายเหตุใดๆ ที่ใช้ เมื่ออนุมัติการอ้างสิทธิ์แล้ว ผู้อนุมัติจะสามารถแก้ไขหรือเพิ่มในหมายเหตุการอ้างสิทธิ์ได้
    - **สร้างสมุดรายวันการอ้างสิทธิ์** – ตั้งค่าตัวเลือกนี้เพื่อระบุว่าควรสร้างสมุดรายวันการอ้างสิทธิ์เมื่อมีการสร้างการอ้างสิทธิ์หรือการหักลดหรือไม่

        - *ใช่* – ระบบจะสร้างและลงรายการบัญชีสมุดรายวันทั่วไป โดยใช้สมุดรายวันการอ้างสิทธิ์ที่ตั้งค่าบนหน้า **พารามิเตอร์บัญชีลูกหนี้** (สำหรับข้อมูลเพิ่มเติม ดูที่ [ตั้งค่าคอนฟิกส่วนบัญชีลูกหนี้และการหักลด](#accounts-receivable-deductions) ก่อนหน้านี้ในหัวข้อนี้) เมื่อมีการแนบใบแจ้งหนี้กับการอ้างสิทธิ์ สมุดรายวันการอ้างสิทธิ์จะใช้เพื่อลดยอดดุลของใบแจ้งหนี้ที่เกี่ยวข้อง หากมีการปฏิเสธการอ้างสิทธิ์ในภายหลัง สมุดรายวันการอ้างสิทธิ์และการชําระเงิน (หากมีการแนบใบแจ้งหนี้) จะถูกกลับรายการ
        - *ไม่* – ไม่มีการสร้างสมุดรายวันการอ้างสิทธิ์ในเวลานี้ โดยจะสร้างขึ้นเมื่อการอ้างสิทธิ์ได้รับการอนุมัติ ใบแจ้งหนี้ยังคงสามารถแนบกับการอ้างสิทธิ์ใหม่ได้ แม้ว่าสมุดรายวันการอ้างสิทธิ์จะไม่ถูกสร้างขึ้น อย่างไรก็ตาม ไม่สามารถชําระเงินได้โดยไม่มีสมุดรายวันการอ้างสิทธิ์

1. เลือก **ตกลง**

    จะมีการสร้างการหักลดใหม่ ถ้าคุณตั้งค่าตัวเลือก **สร้างสมุดรายวันการอ้างสิทธิ์** เป็น *ใช่* ธุรกรรมต่อไปนี้จะมีการลงรายการบัญชี:

    - **ธุรกรรมลูกค้าใหม่สองรายการ** – ธุรกรรมหนึ่งจะออฟเซ็ตยอดเงินของการอ้างสิทธิ์กับใบแจ้งหนี้ต้นฉบับ ธุรกรรมอื่นๆ จะลงทะเบียนหนี้สินของลูกค้าเป็นจํานวนเงินของการอ้างสิทธิ์ เนื่องจากการอ้างสิทธิ์ยังไม่ได้รับอนุมัติ ธุรกรรมใบแจ้งหนี้ต้นฉบับและธุรกรรมการอ้างสิทธิ์การชดเชยจะได้รับการเลือกโดยอัตโนมัติให้ชําระเงิน เมื่อคุณแนบใบแจ้งหนี้โดยเลือก **รักษา \> แนบใบแจ้งหนี้** ในบานหน้าต่างการดำเนินการ
    - **ธุรกรรมที่ชดเชยสองรายการ** – ธุรกรรมเหล่านี้มีการลงรายการบัญชีที่บัญชีแยกประเภท **ชดเชยการหักลด**
    - **สมุดรายวันการอ้างสิทธิ์** – ในการดูสมุดรายวันการอ้างสิทธิ์สำหรับการหักลดแต่ละรายการที่แสดงบนเวิร์กเบนช์การหักลด ให้เลือกแท็บ **การอ้างอิง** สมุดรายวันการอ้างสิทธิ์แสดงอยู่ในฟิลด์ **หมายเลขชุดงานสมุดรายวัน** คุณยังสามารถดูสมุดรายวันการอ้างสิทธิ์บนแท็บ **เหตุการณ์การหักลด** ได้ ซึ่งจะมีจะมีค่า **ชนิดการอัปเดต** เป็น *ตรงกัน*

    คุณจะได้รับการส่งคืนไปที่หน้า **ชำระเงินธุรกรรม** ซึ่งขณะนี้แสดงใบแจ้งหนี้ที่เลือกที่มีการทำเครื่องหมาย ปุ่ม **ลงรายการบัญชี** จะพร้อมใช้งานเฉพาะเมื่อคุณตั้งค่าตัวเลือก **สร้างสมุดรายวันการอ้างสิทธิ์** เป็น *ใช่* เท่านั้น หากพร้อมใช้งาน ให้เลือก **ลงรายการบัญชี** เพื่อลดยอดดุลในใบแจ้งหนี้ตามมูลค่า **ยอดเงินที่อ้างสิทธิ์**

### <a name="create-a-deduction-from-a-customer-page"></a>สร้างการหักลดจากหน้าลูกค้า

กระบวนการสร้างการหักลดจากหน้าของลูกค้าจะคล้ายคลึงกับกระบวนการสร้างการหักลดผ่านเวิร์กเบนช์การหักลด อย่างไรก็ตาม ลูกค้าจะถูกตั้งค่าโดยอัตโนมัติ

1. ไปที่ **บัญชีลูกหนี้ \> ลูกค้า \> ลูกค้าทั้งหมด**
1. เลือกลูกค้าที่จะสร้างการหักลดให้
1. บนบานหน้าต่างการดำเนินการ บนแท็บ **รวบรวม** ในกลุ่ม **การหักลด** เลือก **สร้างการหักลด**

    ในกล่องโต้ตอบ **การหักลดใหม่** ฟิลด์ **รหัสการหักลด** จะถูกตั้งค่าตามลำดับหมายเลข **รหัสการหักลด** ที่กําหนดไว้บนหน้า **พารามิเตอร์การจัดการการให้ส่วนลดทางการค้า** (**การขายและการตลาด \> การตั้งค่า \> การให้ส่วนลดทางการค้า \> พารามิเตอร์การจัดการการให้ส่วนลดทางการค้า**) ฟิลด์ **รหัสลูกค้า** ตั้งค่ารหัสลูกค้าที่การหักลดจะใช้

1. ตั้งค่าฟิลด์เหล่านี้:

    - **หมายเลขการอ้างสิทธิ์ภายนอก** – ป้อนข้อมูลอ้างอิงการอ้างสิทธิ์ของลูกค้า
    - **ยอดเงินการอ้างสิทธิ์** – ป้อนยอดเงินการอ้างสิทธิ์แบบรวมภาษี ค่าต้องเป็นบวก
    - **สกุลเงิน** – เลือกสกุลเงินสำหรับการหักลด ค่าเริ่มต้นคือสกุลเงินที่ตั้งค่าไว้ของรหัสลูกค้าที่เลือก
    - **เกณฑ์การอ้างสิทธิ์** – เลือกเกณฑ์การอ้างสิทธิ์ เกณฑ์การอ้างสิทธิ์จะระบุชนิดของธุรกรรมเครดิตที่สร้างขึ้นหลังจากอนุมัติการหักลดหรือการอ้างสิทธิ์แล้ว

        - *อิงราคา* – ใบแจ้งหนี้ข้อความอิสระฉบับร่างจะถูกสร้างขึ้น
        - *อิงปริมาณ* – ใบสั่งขายหรือใบสั่งส่งคืนสินค้าค่าลบจะสร้างขึ้น

    - **วันที่อ้างสิทธิ์** – เลือกวันที่อ้างสิทธิ์ ค่าเริ่มต้นคือวันที่ปัจจุบัน
    - **เหตุผลการอ้างสิทธิ์** – เลือกรหัสเหตุผลที่ใช้กับการหักลดปัจจุบัน เกณฑ์การอ้างสิทธิ์ที่คุณเลือกจะมีผลกระทบต่อตัวเลือกที่ใช้ หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีสร้างและตั้งค่าคอนฟิกเหตุผลการอ้างสิทธิ์ที่สามารถใช้งานได้ในการเลือกที่นี่ โปรดดูที่ส่วน [สร้างเหตุผลการหักลด](#deduction-reasons) ก่อนหน้าในหัวข้อนี้
    - **หมายเหตุ** – เพิ่มหมายเหตุใดๆ ที่ใช้ เมื่ออนุมัติการอ้างสิทธิ์แล้ว ผู้อนุมัติจะสามารถแก้ไขหรือเพิ่มในหมายเหตุการอ้างสิทธิ์ได้
    - **สร้างสมุดรายวันการอ้างสิทธิ์** – ตั้งค่าตัวเลือกนี้เพื่อระบุว่าควรสร้างสมุดรายวันการอ้างสิทธิ์เมื่อมีการสร้างการอ้างสิทธิ์หรือการหักลดหรือไม่

        - *ใช่* – ระบบจะสร้างและลงรายการบัญชีสมุดรายวันทั่วไป โดยใช้สมุดรายวันการอ้างสิทธิ์ที่ตั้งค่าบนหน้า **พารามิเตอร์บัญชีลูกหนี้** (สำหรับข้อมูลเพิ่มเติม ดูที่ [ตั้งค่าคอนฟิกส่วนบัญชีลูกหนี้และการหักลด](#accounts-receivable-deductions) ก่อนหน้านี้ในหัวข้อนี้) เมื่อมีการแนบใบแจ้งหนี้กับการอ้างสิทธิ์ สมุดรายวันการอ้างสิทธิ์จะใช้เพื่อลดยอดดุลของใบแจ้งหนี้ที่เกี่ยวข้อง หากมีการปฏิเสธการอ้างสิทธิ์ในภายหลัง สมุดรายวันการอ้างสิทธิ์และการชําระเงิน (หากมีการแนบใบแจ้งหนี้) จะถูกกลับรายการ
        - *ไม่* – ไม่มีการสร้างสมุดรายวันการอ้างสิทธิ์ในเวลานี้ โดยจะสร้างขึ้นเมื่อการอ้างสิทธิ์ได้รับการอนุมัติ ใบแจ้งหนี้ยังคงสามารถแนบกับการอ้างสิทธิ์ใหม่ได้ แม้ว่าสมุดรายวันการอ้างสิทธิ์จะไม่ถูกสร้างขึ้น อย่างไรก็ตาม ไม่สามารถชําระเงินได้โดยไม่มีสมุดรายวันการอ้างสิทธิ์

1. เลือก **ตกลง**

    จะมีการสร้างการหักลดใหม่ ถ้าคุณตั้งค่าตัวเลือก **สร้างสมุดรายวันการอ้างสิทธิ์** เป็น *ใช่* ธุรกรรมต่อไปนี้จะมีการลงรายการบัญชี:

    - **ธุรกรรมลูกค้าใหม่สองรายการ** – ธุรกรรมหนึ่งจะออฟเซ็ตยอดเงินของการอ้างสิทธิ์กับใบแจ้งหนี้ต้นฉบับ ธุรกรรมอื่นๆ จะลงทะเบียนหนี้สินของลูกค้าเป็นจํานวนเงินของการอ้างสิทธิ์ เนื่องจากการอ้างสิทธิ์ยังไม่ได้รับอนุมัติ ธุรกรรมใบแจ้งหนี้ต้นฉบับและธุรกรรมการอ้างสิทธิ์การชดเชยจะได้รับการเลือกโดยอัตโนมัติให้ชําระเงิน เมื่อคุณแนบใบแจ้งหนี้โดยเลือก **รักษา \> แนบใบแจ้งหนี้** ในบานหน้าต่างการดำเนินการ
    - **ธุรกรรมที่ชดเชยสองรายการ** – ธุรกรรมเหล่านี้มีการลงรายการบัญชีที่บัญชีแยกประเภท **ชดเชยการหักลด**
    - **สมุดรายวันการอ้างสิทธิ์** – ในการดูสมุดรายวันการอ้างสิทธิ์สำหรับการหักลดแต่ละรายการที่แสดงบนเวิร์กเบนช์การหักลด ให้เลือกแท็บ **การอ้างอิง** สมุดรายวันการอ้างสิทธิ์แสดงอยู่ในฟิลด์ **หมายเลขชุดงานสมุดรายวัน** คุณยังสามารถดูสมุดรายวันการอ้างสิทธิ์บนแท็บ **เหตุการณ์การหักลด** ได้ ซึ่งจะมีจะมีค่า **ชนิดการอัปเดต** เป็น *ตรงกัน*

## <a name="create-a-credit-note-for-a-customer"></a>สร้างใบลดหนี้สำหรับลูกค้า

หลักจากเงินคืนได้รับอนุมัติสำหรับลูกค้า คุณสามารถสร้างใบลดหนี้ในบัญชีของลูกค้าเพื่อแสดงถึงเงินคืน หากจำเป็น เครดิตจะปรากฏในเวิร์กเบนซ์การหัก ซึ่งสามารถจับคู่กับการหักลด

หากต้องการสร้างใบลดหนี้ ทำตามขั้นตอนเหล่านี้

1. ไปที่ **การขายและการตลาด \> ลูกค้า \> ลูกค้าทั้งหมด**
1. เลือกลูกค้า
1. บนบานหน้าต่างการดำเนินการ บนแท็บ **รวบรวม** ในกลุ่ม **ชำระ** เลือก **ชำระเงินธุรกรรม**
1. ในกล่องโต้ตอบ **ชำระเงินธุรกรรม** ให้เลือกธุรกรรมที่มีการใช้เงินคืน
1. บนแถบเครื่องมือ บนเมนู **ฟังก์ชัน** ให้เลือกชนิดของโปรแกรมเงินคืนที่ใช้
1. บนหน้า **เงินคืน** บนแท็บ **ภาพรวม** ให้เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** ที่อยู่ถัดจากรหัสเงินคืนที่เกี่ยวข้อง
1. ในบานหน้าต่างการดำเนินการ เลือก **ฟังก์ชัน \> สร้างใบลดหนี้**

## <a name="process-a-deduction-on-the-deduction-workbench"></a>ประมวลผลการหักลดในเวิร์กเบนช์การหักลด

บนเวิร์กเบนซ์การหักลด คุณสามารถจับคู่การหักลดเพื่อเปิดธุรกรรมเครดิต แบ่งการหักลด ปฏิเสธการหักลด และตัดจ่ายการหักลด

ขึ้นอยู่กับวิธีที่คุณต้องการประมวลผลการหักลด ให้ทำอย่างน้อยหนึ่งกระบวนงานในส่วนย่อยต่อไปนี้ให้เสร็จสมบูรณ์ คุณสามารถรวมกระบวนงานได้ตามที่ต้องการ ตัวอย่างเช่น คุณสามารถแบ่งการหักลดออกเป็นสองส่วน และจับคู่ส่วนหนึ่งกับเครดิตแล้ว ปล่อยส่วนที่เหลือในเวิร์กเบนซ์เพื่อจับคู่กับเครดิตอื่นในภายหลัง คุณยังสามารถจับคู่การหักลดกับเครดิตที่น้อยกว่ายอดเงินหักลด และปฏิเสธหรือตัดจ่ายยอดดุลที่เหลือของการหักลดได้

### <a name="match-a-deduction-to-a-credit"></a>จับคู่การหักลดกับเครดิต

หากต้องการจับคู่การหักลดกับเครดิต ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** สำหรับการหักลดที่จะประมวลผล
1. ในส่วน **ธุรกรรมที่เปิด** ให้เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** เพื่อเลือกเครดิตเพื่อจับคู่กับการหักลด ถ้ามีเครดิตหลายรายการ คุณสามารถเลือกมากกว่าหนึ่งเครดิตที่จะจับคู่กับการหักลด หากคุณต้องการให้ระบบเลือกเครดิตที่ตรงกับจํานวนเงินของการหักลดโดยอัตโนมัติ บนแถบเครื่องมือ ให้เลือกตัวเลือกที่เหมาะสมบนเมนู **เลือกจํานวนเงินการหักลด**
1. ในบานหน้าต่างการดำเนินการ เลือก **รักษา \> จับคู่** ระบบจะจับคู่การหักลดกับเครดิต ถ้ายอดดุลยังคงเหลืออยู่ในการหักลด ยอดดุลจะแสดงอยู่ในฟิลด์ **จํานวนเงินคงเหลือ** บนแท็บ **การหักลด**

    > [!NOTE]
    > สำหรับการหักลดที่สร้างโดยใช้คำสั่ง **การหักลดใหม่** บนเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า คำสั่ง **รักษา \> จับคู่** พร้อมใช้งานเฉพาะเมื่อฟิลด์ **สถานะการอ้างสิทธิ์** ถูกตั้งค่าเป็น *ยอมรับ* เท่านั้น คำสั่งนี้สามารถใช้เพื่อจับคู่ธุรกรรมอิงราคาหรืออิงปริมาณกับเครดิตที่เกี่ยวข้องในส่วน **ธุรกรรมที่เปิด** ด้วยตนเอง เครดิตนี้จะถูกสร้างขึ้นเมื่อการหักลดได้รับการอนุมัติ (โดยใช้คำสั่ง **รักษา \> อนุมัติการหักลด**) หรือเมื่อแนบกับเครดิตที่มีอยู่ ตามที่อธิบายไว้ในส่วน [เครดิตซึ่งสร้างขึ้นภายนอกส่วนกระบวนการหักเงินอนุมัติ](#credits-outside-approval) ในหัวข้อนี้ในภายหลัง งานประจำงวด *การชำระการหักลดที่อนุมัติ* (**การขายและการตลาด \> งานประจำงวด \> การชำระการหักลดที่อนุมัติ**) can also be used to ยังสามารถใช้เพื่อจับคู่การหักลดและเครดิตที่มีค่า **รหัสการหักลด** และยอดเงินที่ตรงกัน

### <a name="split-a-deduction"></a>แบ่งการหักลด

หากต้องการแบ่งการหักลด ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** สำหรับการหักลดที่จะประมวลผล
1. ในบานหน้าต่างการดำเนินการ เลือก **รักษา \> แบ่ง**
1. ในกล่องโต้ตอบ **แบ่ง** ในฟิลด์ **แบ่งจํานวนเงิน** ให้ป้อนจํานวนเงินที่จะแบ่งจากการหักลดหลัก จากนั้น เลือก **ตกลง**
1. ในแท็บ **การหักลด** โปรดสังเกตว่า เรกคอร์ดใหม่ปรากฏขึ้นสำหรับการแบ่งยอดเงิน เรกคอร์ดการหักลดต้นฉบับประกอบด้วยส่วนที่เหลือของยอดดุลการหักลด ขณะนี้คุณสามารถจัดการสองส่วนของเงินคืนเริ่มต้นแยกกันได้
1. เลือกเรกคอร์ดการหักลดต้นฉบับ แล้วเลือกแท็บ **ข้อมูลอ้างอิง** ฟิลด์ **แบ่งจํานวนเงิน** แสดงยอดเงินที่แยกออกจากยอดเงินเริ่มต้น

### <a name="attach-an-invoice-to-a-deduction"></a>แนบใบแจ้งหนี้กับการหักลด

คุณสามารถแนบใบแจ้งหนี้กับการหักลดได้หากมีการสร้างการหักลดโดยใช้คำสั่ง **การหักลดใหม่** บนเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า และหากไม่มีการแนบใบแจ้งหนี้ในขณะนี้ (นั่นคือ คอลัมน์ **ใบแจ้งหนี้** ว่างเปล่า)

ในการแนบใบแจ้งหนี้กับการหักลด ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** สำหรับการหักลดที่จะประมวลผล
1. ในบานหน้าต่างการดำเนินการ เลือก สร้าง **รักษา \> แนบใบแจ้งหนี้**
1. ในกล่องโต้ตอบ **แนบใบแจ้งหนี้** ให้เลือกใบแจ้งหนี้ แล้วเลือก **ตกลง**
1. ในกล่องโต้ตอบ **ชำระเงินธุรกรรม** ให้ปฏิบัติตามขั้นตอนใดขั้นตอนหนึ่งเหล่านี้ ทั้งนี้ขึ้นอยู่กับว่ามีการลงรายการบัญชีสมุดรายวันการอ้างสิทธิ์เมื่อสร้างการหักลดหรือไม่

    - หากมีการลงรายการบัญชีสมุดรายวันการอ้างสิทธิ์ ใบแจ้งหนี้ที่คุณเลือกไว้และธุรกรรมเครดิตของลูกค้าในสมุดรายวันการอ้างสิทธิ์จะแสดงเครื่องหมายถูกในคอลัมน์ **ทำเครื่องหมาย** เลือก **ลงรายการบัญชี** ยอดดุลคงเหลือในใบแจ้งหนี้ที่แนบจะลดลงตามยอดการอ้างสิทธิ์
    - ถ้าสมุดรายวันการอ้างสิทธิ์ไม่มีการลงรายการบัญชี จะไม่มีธุรกรรมใดแสดงเครื่องหมายถูกในคอลัมน์ **ทำเครื่องหมาย** เนื่องจากคุณไม่สามารถออฟเซ็ตสมุดรายวันการอ้างสิทธิ์ได้จนกว่าการหักลดจะได้รับการอนุมัติ ให้เลือก **ยกเลิก**

### <a name="detach-an-invoice-from-a-deduction"></a>แยกใบแจ้งหนี้จากการหักลด

คุณสามารถแยกใบแจ้งหนี้จาหการหักลดได้หากมีการสร้างการหักลดโดยใช้คำสั่ง **การหักลดใหม่** บนเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า และหากไม่มีการแนบใบแจ้งหนี้ในขณะนี้ (นั่นคือ คอลัมน์ **ใบแจ้งหนี้** แสดงหมายเลขใบแจ้งหนี้) และถ้าฟิลด์ **สถานะการอ้างสิทธิ์** ตั้งค่าเป็น *เปิด* คุณอาจทำงานนี้ให้เสร็จสมบูรณ์เนื่องจากมีการแนบใบแจ้งหนี้ที่ไม่ถูกต้อง ใบแจ้งหนี้จะถูกลบออกจากการหักลด และยอดดุลคงเหลือจะถูกอัปเดตหากค่าลดลงเมื่อแนบใบแจ้งหนี้

เมื่อต้องการแยกใบแจ้งหนี้ ให้ทำตามขั้นตอนเหล่านี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** สำหรับการหักลดที่จะประมวลผล
1. ในบานหน้าต่างการดำเนินการ เลือก สร้าง **รักษา \> แยกใบแจ้งหนี้**

### <a name="approve-a-deduction"></a>การอนุมัติการหักลด

คุณสามารถอนุมัติการหักลดที่สร้างขึ้นโดยการใช้คำสั่ง **การหักลดใหม่** ในหน้าเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า อย่างไรก็ตาม คุณสามารถอนุมัติได้เฉพาะการหักลดที่มีการตั้งค่าฟิลด์ **สถานะการอ้างสิทธิ์** เป็น *เปิด* เท่านั้น

หากต้องการอนุมัติการหักลด ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** สำหรับการหักลดที่จะประมวลผล
1. ในบานหน้าต่างการดำเนินการ เลือก สร้าง **รักษา \> อนุมัติการหักลด**
1. ในกล่องโต้ตอบ **อนุมัติการหักลด** ให้แก้ไขหรือเพิ่มข้อมูลลงในค่า **หมายเหตุ** ตามที่ต้องการ
1. หากการหักลดเป็นแบบอิงราคา และใบแจ้งหนี้ไม่ได้แนบอยู่กับใบแจ้งหนี้นั้น ให้เลือกกลุ่มภาษีขายตามประเภทสินค้า โดยทั่วไปแล้ว กลุ่มภาษีสินค้าจะถูกตั้งค่าบนใบแจ้งหนี้ ดังนั้น ต้องระบุรหัสภาษีของสินค้าเมื่อไม่ได้แนบกับใบแจ้งหนี้
1. เลือก **ตกลง**

    ในขั้นนี้ ไม่สามารถเปลี่ยนแปลงการหักลดได้เพิ่มเติม ถ้ามีการตั้งค่าตัวเลือก **สร้างสมุดรายวันการอ้างสิทธิ์** เป็น *ไม่* เมื่อสร้างการหักลด สมุดรายวันการอ้างสิทธิ์จะถูกสร้างขึ้นและลงรายการบัญชีเมื่อการหักลดได้รับการอนุมัติ หลังจากอนุมัติการหักลดแล้ว เครดิตจะถูกสร้างขึ้นและเปิดขึ้นโดยอัตโนมัติ ชนิดจะขึ้นอยู่กับค่า **เกณฑ์การอ้างสิทธิ์** ของการหักลด:

    - *อิงราคา* – หากการหักลดอิงราคา ระบบจะถูกสร้างใบแจ้งหนี้ข้อความอิสระขึ้นสำหรับรหัสลูกค้า คุณสามารถเพิ่มข้อความอธิบายและลงรายการบัญชีเครดิตได้ ฟิลด์ต่อไปนี้จะถูกเติมด้วยการหักลดเมื่อสร้างแบบร่าง:

        - **รหัสการหักลด** – ฟิลด์นี้จะถูกเพิ่มในหัวข้อเพื่อเปิดใช้งานการติดตามย้อนกลับไปยังการหักลด
        - **บัญชีหลัก** – ค่านี้จะกําหนดโดยค่า **บัญชีการลงรายการบัญชีการอ้างสิทธิ์** ที่กําหนดไว้ให้กับเหตุผลการหักลดที่กําหนดให้กับการหักลด
        - **กลุ่มภาษีขายตามประเภทสินค้า** – มูลค่าจะขึ้นอยู่กับใบแจ้งหนี้ที่แนบ หรือตามมูลค่าที่คุณเลือกไว้เมื่อคุณอนุมัติการหักลด
        - **ราคาต่อหน่วย** – ค่าเป็นเครดิตของยอดเงินการอ้างสิทธิ์ของการหักลด
        - **ข้อความใบแจ้งหนี้** – โดยค่าเริ่มต้น ฟิลด์นี้จะถูกตั้งค่าเป็นค่า **หมายเหตุ** ของการหักลด

    - *อิงปริมาณ* – ถ้าการหักลดอิงปริมาณ จะมีการสร้างใบสั่งขายหรือใบสั่งส่งคืนสินค้าแบบเปิด การตั้งค่า **สร้างใบสั่งส่งคืนสินค้า** ในหน้า **[พารามิเตอร์บัญชีลูกหนี้](#accounts-receivable-deductions)** เป็นตัวระบุว่ามีการสร้างใบสั่งขายหรือใบสั่งส่งคืนสินค้าเมื่ออนุมัติการหักเงินหรือไม่ หน้า **คัดลอกใบสั่ง** จะปรากฏขึ้นและถูกกรองข้อมูลเพื่อแสดงแถวที่มีการตั้งค่าฟิลด์ **บัญชีใบแจ้งหนี้** เป็นบัญชีลูกค้าการหักลด ทำตามขั้นตอนเหล่านี้:

        1. บนแท็บด่วน **ใบแจ้งหนี้** ส่วน **หัวข้อ** จะแสดงใบแจ้งหนี้การขายที่ค่า **บัญชีใบแจ้งหนี้** ตรงกับรหัสลูกค้าของการหักลด เลือกใบแจ้งหนี้การขายที่เกี่ยวข้อง
        1. ส่วน **รายการ** แสดงรายการจากใบแจ้งหนี้การขายที่เลือก เลือกกล่องกาเครื่องหมาย **เลือก** สำหรับแต่ละรายการที่คุณต้องการคัดลอก หรือในส่วน **หัวข้อ** ให้เลือกกล่องกาเครื่องหมาย **เลือกทั้งหมด** ให้กับใบสั่งขาย เพื่อเลือกบรรทัดทั้งหมด
        1. ปรับปรุงค่า **ปริมาณ** อย่างน้อยหนึ่งบรรทัดตามที่ต้องการ

            บรรทัดทั้งหมดที่คุณเลือกจนถึงขณะนี้ แสดงรายการอยู่ในแท็บด่วน **บรรทัดหรือหัวข้อที่เลือกที่จะคัดลอก**

        1. ทําซ้ําสองขั้นตอนก่อนหน้านี้ตามต้องการ จนกว่าบรรทัดที่ต้องใช้ทั้งหมดจะแสดงบนแท็บด่วน **รายการบนบรรทัดหรือหัวข้อที่เลือกเพื่อคัดลอก**
        1. เลือก **ตกลง**

            ใบสั่งส่งคืนสินค้าใหม่เปิดอยู่ และฟิลด์ต่อไปนี้จะถูกตั้งค่าโดยอัตโนมัติ:

            - **รหัสการหักลด** – ฟิลด์นี้จะถูกเพิ่มในหัวข้อเพื่อเปิดใช้งานการติดตามย้อนกลับไปยังการหักลด
            - **รหัสเหตุผลการส่งคืน** – โดยค่าเริ่มต้น ฟิลด์นี้จะถูกตั้งค่าเป็นค่า **รหัสเหตุผลการส่งคืน** ที่ตั้งค่าไว้ให้กับเหตุผลการหักลดที่มอบหมายให้กับการหักลด

หลังจากออกใบแจ้งหนี้เครดิตแล้ว เครดิตจะปรากฏในส่วน **ธุรกรรมแบบเปิด** ของเวิร์กเบนช์การหักลดกับค่า **รหัสการหักลด** ที่เกี่ยวข้อง และฟิลด์ **ชนิดการอ้างสิทธิ์** ถูกตั้งค่าเป็น *เครดิตอื่น* เครดิตจะพร้อมใช้งานจนกว่าจะมีการหักเงินด้วยการหักลดในวิธีใดวิธีหนึ่งต่อไปนี้:

- คุณชำระเงินด้วยตนเองโดยการเลือก **รักษา \> การจับคู่** ในบานหน้าต่างการดำเนินการ
- ซึ่งจะชำระเงินโดยอัตโนมัติโดยงานประจำงวด *การชำระการอ้างสิทธิ์ที่อนุมัติ* (**การขายและการตลาด \> งานประจำงวด \> การชำระการอ้างสิทธิ์ที่อนุมัติ**)
- มีการจับคู่โดยอัตโนมัติเนื่องจากตัวเลือก **การชําระเงินอัตโนมัติ** บนแท็บ **การชําระเงิน** ของหน้า **พารามิเตอร์บัญชีลูกหนี้** มีการตั้งค่าเป็น *ใช่*

เมื่อต้องการดูเครดิตที่สร้างขึ้นเมื่อการหักลดได้รับการอนุมัติ คุณยังสามารถใช้ปุ่ม **เปิดเครดิต** ในส่วน **ธุรกรรมที่เปิด** ของเวิร์กเบนช์การหักลดได้

### <a name="create-a-return-order"></a>การสร้างใบสั่งส่งคืนสินค้า

คุณสามารถสร้างใบสั่งส่งคืนสินค้าสำหรับการหักลดที่สร้างขึ้นโดยการใช้คำสั่ง **การหักลดใหม่** ในหน้าเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า อย่างไรก็ตาม ต้องเป็นไปตามเงื่อนไขต่อไปนี้ทั้งหมด:

- ฟิลด์ **เกณฑ์การอ้างสิทธิ์** ตั้งค่าเป็น *อิงปริมาณ*
- ฟิลด์ **สถานะการอ้างสิทธิ์** ตั้งค่าเป็น *เปิด*
- ตัวเลือก **สร้างใบสั่งส่งคืนสินค้า** บนแท็บ **การหักลด** ของหน้า **[พารามิเตอร์บัญชีลูกหนี้](#accounts-receivable-deductions)** ตั้งค่าเป็น *ใช่*
- ตัวเลือก **สร้างใบสั่งส่งคืนสินค้าก่อนการอนุมัติการหักลด** บนแท็บ **การหักลด** ของหน้า **[พารามิเตอร์บัญชีลูกหนี้](#accounts-receivable-deductions)** ตั้งค่าเป็น *ใช่*

ในการสร้างใบสั่งส่งคืนสินค้า ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** สำหรับการหักลดที่จะประมวลผล
1. ในบานหน้าต่างการดำเนินการ เลือก **รักษา \> สร้างใบสั่งส่งคืนสินค้า**
1. ในกล่องโต้ตอบ **อนุมัติการหักลด** ให้แก้ไขหรือเพิ่มข้อมูลลงในค่า **หมายเหตุ** ที่มีอยู่ตามที่ต้องการ และจากนั้นเลือก **ตกลง**
1. ในกล่องโต้ตอบ **การคัดลอกใบสั่ง** บนแท็บด่วน **ใบแจ้งหนี้** ส่วน **หัวข้อ** จะแสดงใบแจ้งหนี้การขายที่ค่า **บัญชีใบแจ้งหนี้** ตรงกับรหัสลูกค้าของการหักลด เลือกใบแจ้งหนี้การขายที่เกี่ยวข้อง
1. ส่วน **รายการ** แสดงรายการจากใบแจ้งหนี้การขายที่เลือก เลือกกล่องกาเครื่องหมาย **เลือก** สำหรับแต่ละรายการที่คุณต้องการคัดลอก หรือในส่วน **หัวข้อ** ให้เลือกกล่องกาเครื่องหมาย **เลือกทั้งหมด** ให้กับใบสั่งขาย เพื่อเลือกบรรทัดทั้งหมด
1. ปรับปรุงค่า **ปริมาณ** อย่างน้อยหนึ่งบรรทัดตามที่ต้องการ

    บรรทัดทั้งหมดที่คุณเลือกจนถึงขณะนี้ แสดงรายการอยู่ในแท็บด่วน **บรรทัดหรือหัวข้อที่เลือกที่จะคัดลอก**

1. ทําซ้ําสองขั้นตอนก่อนหน้านี้ตามต้องการ จนกว่าบรรทัดที่ต้องใช้ทั้งหมดจะแสดงบนแท็บด่วน **รายการบนบรรทัดหรือหัวข้อที่เลือกเพื่อคัดลอก**
1. เลือก **ตกลง**

    ใบสั่งส่งคืนสินค้าใหม่เปิดอยู่ และฟิลด์ต่อไปนี้จะถูกตั้งค่าโดยอัตโนมัติ:

    - **รหัสการหักลด** – ฟิลด์นี้จะถูกเพิ่มในหัวข้อเพื่อเปิดใช้งานการติดตามย้อนกลับไปยังการหักลด
    - **รหัสเหตุผลการส่งคืน** – โดยค่าเริ่มต้น ฟิลด์นี้จะถูกตั้งค่าเป็นค่า **รหัสเหตุผลการส่งคืน** ที่ตั้งค่าไว้ให้กับเหตุผลการหักลดที่มอบหมายให้กับการหักลด

### <a name="deny-a-deduction"></a>ปฏิเสธการหักลด

หากต้องการปฏิเสธการหักลด ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** สำหรับการหักลดที่จะประมวลผล
1. ในบานหน้าต่างการดำเนินการ เลือก **รักษา \> ปฏิเสธ**
1. ในกล่องโต้ตอบ **ปฏิเสธ** ให้เลือกรหัสเหตุผลการปฏิเสธ แล้วเลือก **ตกลง**
1. ในฟิลด์ **แสดง** ด้านล่างบานหน้าต่างการดำเนินการ เลือก *ปิด*

    แท็บ **การหักลด** แสดงการหักลดที่ถูกปฏิเสธ และฟิลด์ **จำนวนเงินที่เหลือ** สำหรับการหักลดจะถูกตั้งเป็น *0.00*

    สำหรับการหักลดที่สร้างขึ้นโดยการใช้คำสั่ง **การหักลดใหม่** ในหน้าเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า เหตุการณ์ต่อไปนี้จะเกิดขึ้น:

    - บนแท็บ **การอ้างอิง** ฟิลด์ในส่วน **การปฏิเสธ** จะถูกอัปเดต
    - หากคุณเลือกสร้างสมุดรายวันการอ้างสิทธิ์เมื่อสร้างการหักลด และถ้ามีการแนบใบแจ้งหนี้กับการหักลดที่ลดยอดดุลของใบแจ้งหนี้ ใบแจ้งหนี้จะถูกแยกออก และยอดดุลคงเหลือของใบแจ้งหนี้ที่แนบก่อนหน้านี้จะเพิ่มขึ้นตามยอดเงินของการอ้างสิทธิ์ที่ปฏิเสธ
    - ฟิลด์ **สถานะ** ของการหักลดถูกตั้งเป็น *ปิด*
    - ฟิลด์ **สถานะการอ้างสิทธิ์** ของการหักลดถูกตั้งเป็น *ถูกปฏิเสธ*

หากต้องการกลับรายการการปฏิเสธ ให้ทำตามขั้นตอนต่อไปนี้

1. บนแท็บ **การหักลด** ให้เลือกการหักลดที่ถูกปฏิเสธ
1. ในบานหน้าต่างการดำเนินการ เลือก **กลับรายการปฏิเสธ**

    สำหรับการหักลดที่สร้างขึ้นโดยการใช้คำสั่ง **การหักลดใหม่** ในหน้าเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า เหตุการณ์ต่อไปนี้จะเกิดขึ้น:

    - บนแท็บ **การอ้างอิง** ฟิลด์ในส่วน **การปฏิเสธ** จะถูกอัปเดต
    - ฟิลด์ **สถานะ** ของการหักลดถูกตั้งเป็น *เปิด*
    - ฟิลด์ **สถานะการอ้างสิทธิ์** ของการหักลดถูกตั้งเป็น *เปิด*

### <a name="write-off-a-deduction"></a>ตัดจ่ายการหักลด

หากต้องการตัดจ่ายการหักลด ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** สำหรับการหักลดที่จะประมวลผล
1. ในบานหน้าต่างการดำเนินการ เลือก **รักษา \> ตัดจ่าย**
1. ในกล่องโต้ตอบ **ตัดจ่าย** ให้เลือกรหัสเหตุผลการตัดจ่าย แล้วเลือก **ตกลง**
1. ในฟิลด์ **แสดง** ให้เลือก *ปิด*

    แท็บ **การหักลด** แสดงการหักลดที่ตัดจ่าย และฟิลด์ **จำนวนเงินที่เหลือ** สำหรับการหักลดจะถูกตั้งเป็น *0.00*

    สำหรับการหักลดที่สร้างขึ้นโดยการใช้คำสั่ง **การหักลดใหม่** ในหน้าเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า เหตุการณ์ต่อไปนี้จะเกิดขึ้น:

    - บนแท็บ **การอ้างอิง** ฟิลด์ในส่วน **การตัดจ่าย** จะถูกอัปเดต
    - หากคุณสร้างสมุดรายวันการอ้างสิทธิ์เมื่อสร้างการหักลด สมุดรายวันการอ้างสิทธิ์จะถูกลงรายการบัญชีไปยังรหัสเหตุผลการตัดจ่ายการหักลด คุณสามารถดูรายการนี้บนแท็บ **เหตุการณ์การหักลด** ซึ่งมีค่า **ชนิดการอัปเดต** เป็น *การตัดจ่าย*
    - ฟิลด์ **สถานะ** ของการหักลดถูกตั้งเป็น *ปิด*
    - ฟิลด์ **สถานะการอ้างสิทธิ์** ของการหักลดถูกตั้งเป็น *ตัดจ่าย*

หากต้องการกลับรายการการตัดจ่าย ให้ทำตามขั้นตอนต่อไปนี้

1. บนแท็บ **การหักลด** ให้เลือกการหักลดที่ถูกปฏิเสธ
1. ในบานหน้าต่างการดำเนินการ เลือก **กลับรายการการตัดจ่าย**

    สำหรับการหักลดที่สร้างขึ้นโดยการใช้คำสั่ง **การหักลดใหม่** ในหน้าเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้า เหตุการณ์ต่อไปนี้จะเกิดขึ้น:

    - บนแท็บ **การอ้างอิง** ฟิลด์ในส่วน **การตัดจ่าย** จะถูกอัปเดต
    - หากคุณสร้างสมุดรายวันการอ้างสิทธิ์เมื่อสร้างการหักลด สมุดรายวันการอ้างสิทธิ์จะถูกลงรายการบัญชีไปยังรหัสเหตุผลการตัดจ่ายการหักลด คุณสามารถดูรายการนี้บนแท็บ **เหตุการณ์การหักลด** ซึ่งมีค่า **ชนิดการอัปเดต** เป็น *กลับรายการการตัดจ่าย*
    - ฟิลด์ **สถานะ** ของการหักลดถูกตั้งเป็น *เปิด*
    - ฟิลด์ **สถานะการอ้างสิทธิ์** ของการหักลดถูกตั้งเป็น *เปิด*

## <a name="credits-created-outside-the-approve-deduction-process"></a><a name="credits-outside-approval"></a>เครดิตที่สร้างนอกกระบวนการอนุมัติการหักลด

ส่วนนี้นำไปใช้กับการหักลดที่สร้างขึ้นโดยการใช้คำสั่ง **การหักลดใหม่** ในหน้าเวิร์กเบนช์การหักลด การชําระเงินของลูกค้า หรือหน้าลูกค้าเท่านั้น

ผู้ใช้อื่นอาจสร้างใบแจ้งหนี้ข้อความอิสระ ใบสั่งส่งคืนสินค้า หรือใบสั่งขายค่าลบไว้อยู่แล้วสำหรับการอ้างสิทธิ์ของลูกค้านอกกระบวนการ **อนุมัติการหักลด** เมื่อการหักลดที่มีอยู่ได้รับอนุมัติในเวิร์กเบนช์การหักลด ระบบจะสร้างใบแจ้งหนี้ข้อความอิสระอื่น ใบสั่งส่งคืนสินค้า หรือใบสั่งขายค่าลบโดยอัตโนมัติ ส่วนนี้อธิบายวิธีการแนบเครดิตที่มีอยู่กับการหักลดก่อนที่จะอนุมัติการหักลด เพื่อช่วยป้องกันการเครดิตที่คัดลอกกัน

### <a name="attach-a-credit-to-deduction"></a>แนบเครดิตกับการหักลด

ส่วนนี้อธิบายวิธีการแนบเครดิตกับการหักลดจากเครดิต

หลังจากแนบเครดิตกับการหักลดแล้ว คุณสามารถดูได้โดยใช้ปุ่ม **เปิดเครดิต** บนแถบเครื่องมือในส่วน **ธุรกรรมที่เปิด** ของเวิร์กเบนช์การหักลดได้

หลังจากออกใบแจ้งหนี้เครดิตแล้ว และการหักลดได้รับการอนุมัติ เครดิตจะปรากฏในส่วน **ธุรกรรมแบบเปิด** ของเวิร์กเบนช์การหักลดกับค่า **รหัสการหักลด** ที่เกี่ยวข้อง และฟิลด์ **ชนิดการอ้างสิทธิ์** ถูกตั้งค่าเป็น *เครดิตอื่น*

#### <a name="attach-a-free-text-invoice-to-a-deduction"></a>แนบใบแจ้งหนี้ข้อความอิสระกับการหักลด

ในการแนบใบแจ้งหนี้ข้อความอิสระกับการหักลด ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **บัญชีลูกหนี้ \> ใบแจ้งหนี้ \> ใบแจ้งหนี้ข้อความอิสระทั้งหมด**
1. เลือกใบแจ้งหนี้ที่เกี่ยวข้อง
1. บนบานหน้าต่างการดำเนินการ บนแท็บ **ใบแจ้งหนี้** เลือก **แนบเครดิตกับการหักลด** ปุ่มนี้พร้อมใช้งานเฉพาะเมื่อฟิลด์ **รหัสการหักลด** ของใบแจ้งหนี้ข้อความอิสระว่างเปล่า ฟิลด์ว่างเปล่าบ่งชี้ว่าใบแจ้งหนี้ข้อความอิสระยังไม่ได้แนบกับการหักลด
1. บนหน้า **แนบเครดิตกับการหักลด** คุณสามารถเลือกการหักลดได้ *หนึ่ง* รายการ เฉพาะการหักลด *อิงราคา* แบบเปิดเท่านั้นที่พร้อมให้เลือก
1. เลือก **ตกลง** ฟิลด์ **รหัสการหักลด** มีการตั้งค่าอยู่บนส่วนหัวของใบแจ้งหนี้ข้อความอิสระ

#### <a name="attach-a-return-order-to-a-deduction"></a>การแนบใบสั่งส่งคืนสินค้ากับการหักลด

ในการแนบใบสั่งส่งคืนสินค้ากับการหักลด ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **บัญชีลูกหนี้ \> ใบสั่ง \> ใบสั่งส่งคืนสินค้าทั้งหมด**
1. เลือกหมายเลขอนุมัติการส่งคืนสินค้าที่ได้รับหรือที่เปิดอยู่ (RMA) ที่เกี่ยวข้อง
1. บนบานหน้าต่างการดำเนินการ บนแท็บ **ใบสั่งส่งคืนสินค้า** เลือก **แนบเครดิตกับการหักลด** ปุ่มนี้พร้อมใช้งานเฉพาะเมื่อฟิลด์ **รหัสการหักลด** ของใบสั่งส่งคืนสินค้าว่างเปล่า ฟิลด์ว่างเปล่าบ่งชี้ว่าใบสั่งส่งคืนสินค้ายังไม่ได้แนบกับการหักลด
1. บนหน้า **แนบเครดิตกับการหักลด** คุณสามารถเลือกการหักลดได้ *หนึ่ง* รายการ เฉพาะการหักลด *อิงปริมาณ* แบบเปิดเท่านั้นที่พร้อมให้เลือก
1. เลือก **ตกลง** ฟิลด์ **รหัสการหักลด** มีการตั้งค่าอยู่บนส่วนหัวของใบสั่งส่งคืนสินค้า

#### <a name="attach-a-sales-order-to-a-deduction"></a>การแนบใบสั่งขายกับการหักลด

ในการแนบใบสั่งขายกับการหักลด ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **บัญชีลูกหนี้ \> ใบสั่ง \> ใบสั่งขายทั้งหมด**
1. เลือกใบสั่งขายเปิด จัดส่งแล้ว หรือที่ออกใบแจ้งหนี้ที่เกี่ยวข้อง
1. บนบานหน้าต่างการดำเนินการ บนแท็บ **ใบแจ้งหนี้** เลือก **แนบเครดิตกับการหักลด** ปุ่มนี้พร้อมใช้งานเฉพาะเมื่อฟิลด์ **รหัสการหักลด** ของใบสั่งขายว่างเปล่า ฟิลด์ว่างเปล่าบ่งชี้ว่าใบสั่งขายยังไม่ได้แนบกับการหักลด
1. บนหน้า **แนบการหักลด** คุณสามารถเลือกการหักลดได้ *หนึ่ง* รายการ เฉพาะการหักลด *อิงปริมาณ* แบบเปิดเท่านั้นที่พร้อมให้เลือก
1. เลือก **ตกลง** ฟิลด์ **รหัสการหักลด** มีการตั้งค่าอยู่บนส่วนหัวของใบสั่งขาย

#### <a name="detach-a-deduction-from-a-credit"></a>แยกการหักลดจากเครดิต

ถ้าการหักลดไม่ถูกต้องแนบอยู่ คุณสามารถแยกออกจากเครดิตได้ อย่างไรก็ตาม ต้องเป็นไปตามเงื่อนไขต่อไปนี้ทั้งหมด:

- เครดิตถูกแนบกับการหักลด
- ฟิลด์ **สถานะการอ้างสิทธิ์** ตั้งค่าเป็น *เปิด*

เมื่อต้องการแยกการหักลดจากเครดิต ให้ปฏิบัติตามขั้นตอนใดขั้นตอนหนึ่งต่อไปนี้ ทั้งนี้ขึ้นอยู่กับชนิดเครดิต:

- **ใบแจ้งหนี้ข้อความอิสระ:** บนหน้า **ใบแจ้งหนี้ข้อความอิสระทั้งหมด** ให้เลือกใบแจ้งหนี้ จากนั้น บนบานหน้าต่างการดำเนินการ บนแท็บ **ใบแจ้งหนี้** เลือก **แยกเครดิตจากการหักลด**
- **ใบสั่งส่งคืนสินค้า:** บนหน้า **ใบสั่งส่งคืนสินค้าทั้งหมด** ให้เลือกใบสั่ง จากนั้น บนบานหน้าต่างการดำเนินการ บนแท็บ **ใบสั่งส่งคืนสินค้า** เลือก **แยกเครดิตจากการหักลด**
- **ใบสั่งขาย:** บนหน้า **ใบสั่งขายทั้งหมด** ให้เลือกใบสั่ง จากนั้น บนบานหน้าต่างการดำเนินการ บนแท็บ **ใบแจ้งหนี้** เลือก **แยกเครดิตจากการหักลด**

### <a name="attach-a-deduction-to-a-credit"></a>แนบการหักลดกับเครดิต

ส่วนนี้อธิบายวิธีการแนบการหักลดกับเครดิตจากการหักลด

#### <a name="attach-a-deduction-to-a-free-text-return-order-or-sales-order-credit"></a>แนบการหักลดกับข้อความอิสระ ใบสั่งส่งคืนสินค้า หรือเครดิตใบสั่งขาย

หากต้องการแนบการหักลดกับข้อความอิสระ ใบสั่งส่งคืนสินค้า หรือเครดิตใบสั่งขาย ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกการหักลดที่เปิดที่เกี่ยวข้อง
1. ในบานหน้าต่างการดำเนินการ เลือก สร้าง **รักษา \> แนบการหักลดกับเครดิต** ปุ่มนี้จะพร้อมใช้งานเฉพาะเมื่อตั้งค่าฟิลด์ **สถานะการอ้างสิทธิ์** เป็น *เปิด* เท่านั้น
1. บนหน้า **แนบเครดิต** คุณสามารถเลือกเครดิตได้ *หนึ่ง* รายการ ชนิดของเครดิตที่แสดงจะขึ้นอยู่กับค่า **เกณฑ์การอ้างสิทธิ์** ของการหักลด:

    - *อิงราคา* – หน้าแสดงใบแจ้งหนี้ข้อความอิสระของรหัสลูกค้าที่มีฟิลด์ **รหัสการหักลด** ว่างเปล่า ใบขอซื้อของลูกค้าจะแสดงขึ้นด้วยเนื่องจากอาจยังไม่ได้ลงรายการบัญชีใบแจ้งหนี้ข้อความอิสระ ดังนั้น จึงอาจไม่มีหมายเลขที่สามารถอ้างอิงได้
    - *อิงปริมาณ* – ชนิดของเครดิตที่แสดงขึ้นอยู่กับการตั้งค่าตัวเลือก **สร้างใบสั่งส่งคืนสินค้า** บนหน้า **[พารามิเตอร์บัญชีลูกหนี้](#accounts-receivable-deductions)**:

        - *ใช่* – หน้าแสดงใบสั่งส่งคืนสินค้าของรหัสลูกค้าที่มีฟิลด์ **รหัสการหักลด** ว่างเปล่า
        - *ไม่* – หน้าแสดงใบสั่งขายของรหัสลูกค้าที่มีฟิลด์ **รหัสการหักลด** ว่างเปล่า

1. เลือก **ตกลง** ฟิลด์ **รหัสการหักลด** มีการตั้งค่าอยู่บนส่วนหัวของเครดิต

หลังจากแนบเครดิตกับการหักลดแล้ว คุณสามารถดูได้โดยใช้ปุ่ม **เปิดเครดิต** บนแถบเครื่องมือในส่วน **ธุรกรรมที่เปิด** ของเวิร์กเบนช์การหักลดได้

หลังจากออกใบแจ้งหนี้เครดิตแล้ว และการหักลดได้รับการอนุมัติ เครดิตจะปรากฏในส่วน **ธุรกรรมแบบเปิด** ของเวิร์กเบนช์การหักลดกับค่า **รหัสการหักลด** ที่เกี่ยวข้อง และฟิลด์ **ชนิดการอ้างสิทธิ์** ถูกตั้งค่าเป็น *เครดิตอื่น*

#### <a name="detach-a-credit-from-the-deduction"></a>แยกเครดิตจากการหักลด

ถ้าเครดิตไม่ถูกต้องแนบอยู่ คุณสามารถแยกออกจากการหักลดได้ บนบานหน้าต่างการดำเนินการ ในกลุ่ม **รักษา** เลือก **แยกการหักลดจากเครดิต** ค่า **รหัสการหักลด** จะถูกลบออกจากเครดิต

ปุ่ม **แยกการหักลดออกจากเครดิต** จะพร้อมใช้งานเฉพาะเมื่อเป็นไปตามเงื่อนไขต่อไปนี้เท่านั้น:

- เครดิตถูกแนบกับการหักลด
- ฟิลด์ **สถานะการอ้างสิทธิ์** ตั้งค่าเป็น *เปิด*

## <a name="create-a-one-time-promotion"></a>สร้างโปรโมชันแบบใช้ครั้งเดียว

บางครั้ง คุณอาจไม่มีเงินคืนที่ได้รับอนุมัติที่คุณสามารถจับคู่กับการหักลด ในกรณีนี้ คุณสามารถใช้คุณลักษณะ *โปรโมชันแบบใช้ครั้งเดียว* เพื่อจับคู่การหักลดกับการให้ส่วนลดทางการค้าที่เกี่ยวข้องกับลูกค้า คุณลักษณะ *โปรโมชันแบบใช้ครั้งเดียว* จะสร้างข้อตกลงการให้ส่วนลดทางการค้าใหม่และเหตุการณ์การจัดซื้อที่มีจำนวนเงินรวมทั้งหมด จากนั้นคุณลักษณะจะจับคู่จำนวนเงินรวมทั้งหมดกับการหักลดและลงรายการบัญชีที่จำเป็นสำหรับการปิดการหักลด

คุณลักษณะนี้มีประโยชน์ถ้าคุณใช้การให้ส่วนลดทางการค้า สำหรับข้อมูลเพิ่มเติมเกี่ยวกับการให้ส่วนลดทางการค้า ดูที่ [การจัดการการให้ส่วนลดทางการค้า](../sales-marketing/trade-allowance.md)

ก่อนอื่น คุณต้องตั้งค่าแม่แบบที่สามารถใช้ในการสร้างข้อตกลงการให้ส่วนลดทางการค้าใหม่ หากต้องการตั้งค่าแม่แบบ ให้ปฏิบัติดังนี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> แม่แบบ**
1. บนบานหน้าต่างการดำเนินการ เลือก **สร้าง**
1. ในฟิลด์ ป้อนข้อมูลที่ควรปรากฏอยู่ในข้อตกลงที่สร้างขึ้นจากแม่แบบ
1. บนแท็บด่วน **ลูกค้า** ในฟิลด์ **ลำดับชั้น** ให้เลือกระดับลำดับชั้น
1. ในรายการลำดับชั้น ให้เลือกลูกค้ามีการหักลดที่ไม่ตรงกัน แล้วเลือกปุ่มลูกศรขวา (**\>**) ลูกค้าจะถูกเพิ่มเข้าในรายการ **ลูกค้าของข้อตกลงการให้ส่วนลดทางการค้า**
1. ตั้งค่าข้อมูลในฟิลด์ที่เหลือ ตามที่คุณต้องการ แล้วปิดหน้า
1. ไปที่ **การขายและการตลาด \> การตั้งค่า \> การให้ส่วนลดทางการค้า \> พารามิเตอร์การจัดการการให้ส่วนลดทางการค้า**
1. บนแท็บ **ภาพรวม** ในฟิลด์ **แม่แบบโปรโมชันแบบใช้ครั้งเดียว** ให้เลือกชื่อของแม่แบบที่จะใช้ในการสร้างโปรโมชันแบบใช้ครั้งเดียว

จากนั้น คุณสามารถสร้างโปรโมชันแบบใช้ครั้งเดียวในเวิร์กเบนช์การหักลด การสร้างโปรโมชันแบบใช้ครั้งเดียว ให้ทำตามขั้นตอนเหล่านี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. เลือกกล่องกาเครื่องหมาย **ทำเครื่องหมาย** ถัดจากการหักลดที่จะประมวลผล
1. ในบานหน้าต่างการดำเนินการ ให้เลือก **รักษา \> ชำระการหักลดเป็นโปรโมชันแบบใช้ครั้งเดียว**
1. ในกล่องโต้ตอบ **โปรโมชันแบบใช้ครั้งเดียว** ให้ปฏิบัติตามขั้นตอนเหล่านี้เพื่อเชื่อมโยงการหักลดกับเงินในบัญชีอย่างน้อยหนึ่งรายการ

    1. เลือก **สร้าง** จากนั้นในฟิลด์ **รหัสเงินทุน** เลือกรหัสเงินทุน ทําซ้ําขั้นตอนนี้เพื่อเพิ่มเงินทุนมากเท่าที่คุณต้องการ
    1. ในฟิลด์ **เปอร์เซ็นต์** ถัดจากแต่ละรหัสเงินทุน ป้อนเปอร์เซ็นต์ของการหักลดเพื่อปันส่วนเงินทุน จำนวนที่คุณป้อนในฟิลด์ **เปอร์เซ็นต์** ต้องรวมเป็น 100 เปอร์เซ็นต์

1. เลือก **ตกลง** ระบบจะสร้างข้อตกลงการให้ส่วนลดทางการค้าใหม่ที่มีเหตุการณ์การจัดซื้อที่มีจำนวนเงินรวมทั้งหมดและจับคู่จำนวนเงินรวมทั้งหมดกับการหักลด

## <a name="do-a-mass-update-of-deductions"></a>ทำการอัปเดตโดยรวมของการหักลด

ถ้าคุณจำเป็นต้องทำการเปลี่ยนแปลงเดียวกันกับการหักลดจำนวนมาก คุณสามารถเลือกการหักลดเหล่านั้นแล้วทำการอัพเดตโดยรวมของฟิลด์ทั้งหมดได้

หากต้องการดำเนินการอัพเดตโดยรวม ให้ปฏิบัติดังนี้

1. ไปที่ **การขายและการตลาด \> การให้ส่วนลดทางการค้า \> การหักลด \> เวิร์กเบนช์การหักลด**
1. ในฟิลด์ **แสดง** ด้านล่างบานหน้าต่างการดำเนินการ เลือกชนิดของการหักลดที่ต้องการดู
1. เลือกกล่องกาเครื่องหมายถัดจากแต่ละการหักลดที่คุณต้องการอัปเดต จากนั้น ในบานหน้าต่างการดำเนินการ เลือก สร้าง **รักษา \> การอัปเดตโดยรวม**
1. กล่องโต้ตอบ **การอัปเดตโดยรวม** จะแสดงการหักลดที่เลือก อัปเดตฟิลด์ตามต้องการ แล้วเลือก **ตกลง** เพื่อยอมรับการเปลี่ยนแปลง
