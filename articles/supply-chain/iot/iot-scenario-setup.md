---
title: การตั้งค่าสถานการณ์จำลองสำหรับเครื่องมือ IoT
description: หัวข้อนี้อธิบายวิธีการตั้งค่าคอนฟิกสถานการณ์จำลองใน Supply Chain Management สำหรับเครื่องมือ IoT
author: robinarh
manager: tfehr
ms.date: 08/16/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: ''
ms.search.scope: Core, Operations
ms.custom: ''
ms.search.region: Global
ms.author: ''
ms.search.validFrom: 2020-04-04
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 5633741fcd9c04b68e5b174447d7ead3c521ccd7
ms.sourcegitcommit: f64fce03ec52f844b05a9e8cac286cb201385002
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 07/16/2020
ms.locfileid: "3597179"
---
# <a name="scenario-setup-for-iot-intelligence"></a>การตั้งค่าสถานการณ์จำลองสำหรับเครื่องมือ IoT

[!include [banner](../../includes/banner.md)]

หัวข้อนี้อธิบายวิธีการตั้งค่าคอนฟิกสถานการณ์จำลองใน Supply Chain Management สำหรับเครื่องมือ IoT ก่อนที่คุณจะสามารถตั้งค่าสถานการณ์จำลองได้ คุณต้อง [ตั้งค่า LCS](iot-lcs-setup.md)

ในหัวข้อนี้คุณจะตั้งค่าคอนฟิกสถานการณ์จำลอง **การหยุดทำงานของอุปกรณ์** เพื่อสร้างการแจ้งเตือนใน Supply Chain Management เมื่อเครื่องจักรหยุดทำงาน

## <a name="configure-the-equipment-downtime-scenario-in-supply-chain-management"></a>ตั้งค่าคอนฟิกสถานการณ์จำลอง **การหยุดทำงานของอุปกรณ์** ใน Supply Chain Management

สถานการณ์จำลอง **การหยุดทำงานของอุปกรณ์** แม็ปสัญญาณ Part Out ไปยังขีดจำกัดการแจ้งเตือนเครื่องจักร เครื่องจักรจะถูกตรวจสอบเฉพาะเมื่อมีการเลือกเครื่องจักรสำหรับสถานการณ์จำลองและตั้งค่าให้รันใน Supply Chain Management ถ้าเวลาตั้งแต่สัญญาณ Part Out ที่รับล่าสุดของเครื่องจักรที่ได้รับล่าสุดมากกว่าขีดจำกัด การแจ้งเตือน **เครื่องจักรหยุดทำงาน** จะถูกทริกเกอร์ ถ้าเครื่องจักรยังคงทำงานอยู่เมื่อได้รับสัญญาณ **PartOut** ถัดไป จะมีการทริกเกอร์การแจ้งเตือน **เครื่องจักรทำงาน** ถ้าเครื่องจักรหยุดทำงานนาน 30 นาที การแจ้งเตือน **เครื่องจักรหยุดทำงาน** จะถูกทริกเกอร์

สถานการณ์จำลองของ **การหยุดทำงานของอุปกรณ์** มีความเชื่อมโยงต่อกันเหล่านี้:

+ ใบสั่งผลิตต้องรันบนเครื่องจักรที่ถูกแม็ปเพื่อให้การแจ้งเตือนถูกทริกเกอร์
+ จะต้องส่งสัญญาณที่แสดงถึงสัญญาณ Part Out ของเครื่องจักรที่ถูกแม็ปไปยังฮับ IoT ที่มีชื่อคุณสมบัติที่ไม่ซ้ำกัน
+ ต้องแสดงคุณสมบัติการลงเวลาของ Unix เป็นมิลลิวินาทีในข้อความฮับ IoT

ทำตามขั้นตอนเหล่านี้เพื่อตั้งค่าคอนฟิกสถานการณ์จำลอง

1. ลงชื่อเข้าใช้ Supply Chain Management
2. เปิดใช้งานข้อมูลแฟล็กลักษณะการทำงานของเครื่องมือ IoT สำหรับข้อมูลเพิ่มเติม ดูที่ [ภาพรวมการจัดการคุณลักษณะ](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)
3. ตั้งค่าคอนฟิกหน่วยเมตริก สำหรับข้อมูลเพิ่มเติมเกี่ยว ดูที่ [วิธีการตั้งค่าคอนฟิกหน่วยเมตริก](iot-metrics-setup.md#configure-metrics)
4. นำทางไปยังการ **ตัวควบคุมการผลิต**
5. นำทางไปยังการ **ตั้งค่า \> เครื่องมือ IoT \> การจัดการสถานการณ์จำลอง**
6. คลิก **ตั้งค่าคอนฟิก** บนไทล์ **การหยุดทำงานของอุปกรณ์** วิซาร์ดการตั้งค่าคอนฟิกเริ่มต้นด้วยหน้า **นิยามเค้าร่างของเซ็นเซอร์อุปกรณ์** เป้าหมายที่นี่คือการตั้งค่าเค้าร่างใน Supply Chain Management ให้ตรงกับรูปแบบ JSON ของข้อความ IoT สามารถกำหนดเค้าร่างข้อความหลายแบบได้ สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [รูปแบบเค้าร่างข้อความสำหรับฮับ IoT](iot-schema-format.md) ในตัวอย่างนี้ ส่วนของข้อความนี้จะประกอบด้วยชุดของข้อความที่มีรูปแบบนี้ดังนี้

    ```json
    {
        "timestamp": 1576016821614,
        "payload": [
            {
                "id": "IoTInt.Machine1225.PartOut",
                "timestamp": 1576016821614,
                "value": True
            },
            {
                "id": "IoTInt.Machine1226.PartOut",
                "timestamp": 1576016991616,
                "value": True
            }
        ]
    }
    ```

7. เพิ่มแถวลงในตาราง

    1. ตั้งค่า **ชื่อเค้าร่าง** เป็น **รหัส**
    2. ตั้งค่า **พาธเค้าร่าง** เป็น **/payload[\*]/id**
    3. ตั้งค่า **คำอธิบาย** เป็น **รหัสข้อความ**

8. เพิ่มแถวลงในตาราง

    1. ตั้งค่า **ชื่อเค้าร่าง** เป็น **การลงเวลา**
    2. ตั้งค่า **พาธเค้าร่าง** เป็น **/payload[\*]/timestamp**
    3. ตั้งค่า **คำอธิบาย** เป็น **การลงเวลาข้อความ**

9. เพิ่มแถวลงในตาราง

    1. ตั้งค่า **ชื่อเค้าร่าง** เป็น **ค่า**
    2. ตั้งค่า **พาธเค้าร่าง** เป็น **/payload[\*]/value**
    3. ตั้งค่า **คำอธิบาย** เป็น **ค่าของข้อความ**

    คุณไม่จำเป็นต้องกำหนดคุณสมบัติทั้งหมดในข้อความ กำหนดเฉพาะที่คุณต้องการ ในตัวอย่างนี้ คุณไม่ได้สร้างแถวสำหรับการ **การลงเวลาของราก** พาธสำหรับการ **การลงเวลาของราก** จะเป็น **/timestamp**
  
10. คลิก **ถัดไป** เพื่อไปยังหน้า **แม็ปเค้าร่างของเซ็นเซอร์อุปกรณ์**
11. ในแถวสำหรับ **รหัสทรัพยากรอุปกรณ์** ตั้งค่า **ชื่อเค้าร่าง** เป็น **รหัส** ค่าที่ถูกต้องจะแสดงขึ้นในตารางแบบหล่นลง
12. ในแถวสำหรับ **เวลา UTC** ให้ตั้งค่า **ชื่อเค้าร่าง** เป็น **การลงเวลา** ค่าที่ถูกต้องจะแสดงขึ้นในตารางแบบหล่นลง
13. ในแถวสำหรับ **สัญญาณที่ผลิตของส่วนประกอบ** ตั้งค่า **ชื่อเค้าร่าง** เป็น **ค่า** ค่าที่ถูกต้องจะแสดงขึ้นในตารางแบบหล่นลง
14. คลิก **ถัดไป** สำหรับหน้า **การตั้งค่าคอนฟิกรหัสทรัพยากรอุปกรณ์**
15. ในขั้นตอนนี้คุณสามารถแม็ปค่าข้อความฮับ IoT กับทรัพยากร Supply Chain Management

    1. ในตาราง **ค่าข้อมูลของสัญญาณ** ให้เพิ่มแถวใหม่และป้อน **IoTInt.Machine1225.PartOut** ในคอลัมน์ **ค่า** ค่า **IoTInt.Machine1225.PartOut** มาจากคุณสมบัติ **รหัส** JSON ในข้อความฮับ IoT
    2. คลิก **บันทึก**
    3. ในตาราง **การแม็ปเรกคอร์ดธุรกิจ** ให้คลิก **สร้าง** ค่าเริ่มต้นสำหรับ **ชนิดเรกคอร์ดธุรกิจ** ถูกเติมโดยอัตโนมัติ และคุณไม่จำเป็นต้องเปลี่ยนแปลง
    4. ในคอลัมน์ของ **เรกคอร์ดธุรกิจ** ให้เลือกทรัพยากรเครื่องจักร Supple Chain Management ที่ค่าสัญญาณนี้จะถูกส่งมา
    5. คลิก **บันทึก**
    6. ทำซ้ำขั้นตอนเหล่านี้ เพิ่มการแม็ปเรกคอร์ดธุรกิจใหม่สำหรับ **Machine1226** คุณสามารถแม็ปค่าข้อมูลของสัญญาณหลายค่ากับเรกคอร์ดเดียวใน Supply Chain Management

16. ใช้คอลัมน์ **ที่เลือก** เพื่อเลือกว่าคุณต้องการประมวลผลเครื่องจักรใด คุณไม่จำเป็นต้องกำหนดค่าสัญญาณทั้งหมดและคุณไม่จำเป็นต้องเลือกเครื่องจักรทั้งหมด
17. คลิก **ถัดไป** เพื่อไปที่หน้า **การตั้งค่าคอนฟิกของสัญญาณที่ผลิตของส่วนประกอบ**
18. ในตาราง **ค่าข้อมูลของสัญญาณ** ให้เพิ่มแถวและตั้งค่า **ค่า** เป็น **จริง** ค่า **จริง** มาจากคุณสมบัติ **ค่า** JSON ในข้อความฮับ IoT คุณสามารถเพิ่มค่ามากเท่าที่คุณต้องการสำหรับสถานการณ์จำลองของคุณ
19. คลิก **บันทึก**
20. คลิก **ถัดไป** เพื่อไปยังหน้า **ขีดจำกัดการหยุดทำงานของอุปกรณ์** เครื่องจักรแสดงรายการเป็นเครื่องจักรที่ถูกแม็ปไปยังค่าสัญญาณก่อนหน้านี้ ในขั้นตอนนี้คุณจะกำหนดขีดจำกัดเพื่อตรวจสอบว่าเครื่องจักรหยุดทำงานหรือไม่ ตัวอย่างเช่น ถ้าคุณตั้งค่าขีดจำกัดเป็น 10 Supply Chain Management จะสร้างข้อความแจ้งเตือนถ้าไม่มีข้อความ Part Out จากเครื่องจักรเป็นเวลา 10 นาที
21. คลิก **ถัดไป** เพื่อไปยังหน้า **เปิดใช้งานสถานการณ์จำลอง** สลับแถบเลื่อนเพื่อเปิดใช้งานสถานการณ์จำลอง
22. คลิก **Finish**

การตั้งค่าสถานการณ์จำลองเสร็จสมบูรณ์ เครื่องมือ IoT จะเริ่มการประมวลผลข้อความฮับ IoT โดยอัตโนมัติ

## <a name="configure-the-product-quality-scenario-in-supply-chain-management"></a>ตั้งค่าคอนฟิกสถานการณ์จำลอง **คุณภาพผลิตภัณฑ์** ใน Supply Chain Management

สถานการณ์จำลอง **คุณภาพผลิตภัณฑ์** สร้างการแจ้งเตือนถ้าแอททริบิวต์ของสินค้าอยู่นอกช่วงที่ระบุ ตัวอย่างเช่น เซ็นเซอร์อาจส่งน้ำหนักของสินค้าแต่ละรายการไปยังฮับ IoT ใน Supply Chain Management จะมีการสร้างการแจ้งเตือนถ้าสินค้ามีน้ำหนักเกินหรือเบาเกินไป

สถานการณ์จำลองมีการเชื่อมโยงกันเหล่านี้:

+ ใบสั่งผลิตต้องรันบนเครื่องจักรที่ถูกแม็ปและผลิตผลิตภัณฑ์ที่มีแอททริบิวต์ชุดงานที่ถูกแม็ปเพื่อให้การแจ้งเตือนถูกทริกเกอร์
+ จะต้องส่งสัญญาณที่แสดงถึงแอททริบิวต์ของชุดงาน ไปยังฮับ IoT ที่มีชื่อคุณสมบัติที่ไม่ซ้ำกัน
+ ต้องแสดงคุณสมบัติการลงเวลาของ Unix เป็นมิลลิวินาทีในข้อความฮับ IoT

## <a name="configure-the-production-delays-scenario-in-supply-chain-management"></a>ตั้งค่าคอนฟิกสถานการณ์จำลอง **ความล่าช้าในการผลิต** ใน Supply Chain Management

สถานการณ์จำลอง **ความล่าช้าในการผลิต** จะสร้างการแจ้งเตือนถ้าปริมาณการผลิตอยู่ต่ำกว่าค่าขีดจำกัด ในสถานการณ์สมมตินี้มีการส่งสัญญาณ **PartOut** ไปยังฮับ IoT สำหรับสินค้าแต่ละรายการที่ผลิต ใน Supply Chain Management จะมีการคำนวณความล่าช้าของใบสั่งตามระยะเวลาที่จะมีการจัดกำหนดการใบสั่งผลิตเพื่อรันจำนวนสินค้าที่ควรจะมีการผลิต ระยะเวลาที่งานได้รับการรัน และจำนวนสัญญาณ **PartOut** ที่ได้รับ การแจ้งเตือนความล่าช้าจะถูกสร้างขึ้นถ้าจำนวนของสัญญาณ **PartOut** สำหรับงานอยู่ต่ำกว่าค่าขีดจำกัดของค่าที่คาดไว้

สถานการณ์จำลองมีการเชื่อมโยงกันเหล่านี้:

+ ใบสั่งผลิตต้องรันบนเครื่องจักรที่ถูกแม็ปเพื่อให้การแจ้งเตือนถูกทริกเกอร์
+ จะต้องส่งสัญญาณที่แสดงถึงสัญญาณ Part Out ของเครื่องจักรที่ถูกแม็ปไปยังฮับ IoT ที่มีชื่อคุณสมบัติที่ไม่ซ้ำกัน
+ ต้องแสดงคุณสมบัติการลงเวลาของ Unix เป็นมิลลิวินาทีในข้อความฮับ IoT

## <a name="how-to-disable-a-scenario"></a>วิธีการปิดใช้งานสถานการณ์จำลอง

หากต้องการปิดใช้งานสถานการณ์จำลอง ให้ทำตามขั้นตอนเหล่านี้:

1. ใน Supply Chain Management ให้นำทางไปยัง **การควบคุมการผลิต \> การตั้งค่า \> เครื่องมือ IoT \> การจัดการสถานการณ์จำลอง**
2. คลิก **ตั้งค่าคอนฟิก** บนสถานการณ์จำลอง
3. คลิก **ถัดไป** เพื่อเข้าถึงแท็บวิซาร์ดล่าสุด
4. สลับแถบเลื่อนเพื่อปิดใช้งานสถานการณ์จำลอง
