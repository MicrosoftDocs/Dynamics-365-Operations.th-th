---
title: จํานวนเต็มปัดเศษอย่างไม่ถูกต้องในการคํานวณแบบจำลองการจัดโครงแบบผลิตภัณฑ์
description: ผลลัพธ์จำนวนเต็มจะไม่ถูกปัดเศษอย่างถูกต้องเสมอไปเมื่อคำนวณแบบจำลองการจัดโครงแบบผลิตภัณฑ์ แก้ไขปัญหาด้วยแอททริบิวต์ทศนิยมที่เพิ่มและการคํานวณ
author: SmithaNataraj
ms.date: 06/24/2021
ms.topic: troubleshooting
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: smnatara
ms.search.validFrom: 2021-06-24
ms.dyn365.ops.version: 10.0.20
ms.openlocfilehash: b17145d7d17cb784fe11b3fbf65ddf5aa5530f27
ms.sourcegitcommit: 2d6e31648cf61abcb13362ef46a2cfb1326f0423
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/07/2021
ms.locfileid: "7477759"
---
# <a name="integers-incorrectly-rounded-when-product-configuration-models-are-calculated"></a>แอททริบิวต์จะถูกปัดเศษไม่ถูกต้องเมื่อคำนวณแบบจำลองการจัดโครงแบบผลิตภัณฑ์

## <a name="symptoms"></a>อาการ

ปัญหานี้อาจเกิดขึ้นเมื่อคุณดำเนินการชุดของการดำเนินการต่อไปนี้:

1. ตั้งค่าแอททริบิวเหล่านี้ในแบบจำลองการจัดโครงแบบการผลิต:

    - อินพุต (จำนวนเต็ม)
    - เปอร์เซ็นต์ (ฐานสิบ)
    - ผลลัพธ์ (จำนวนเต็ม)

2. สร้างการคำนวณที่มีนิพจน์ต่อไปนี้:

    *ผลลัพธ์* = *อินพุต* × *เปอร์เซ็นต์* ÷ 100

ในกรณีนี้ ผลลัพธ์ของเลขจำนวนเต็มจะไม่ถูกปัดเศษอย่างถูกต้องเสมอไป ตัวอย่างเช่น ถ้าอินพุตคือ 1,000 และเปอร์เซ็นต์คือ 2.40 คุณคาดว่าผลลัพธ์จํานวนเต็มจะเป็น 24 เนื่องจาก 2.40 เปอร์เซ็นต์ของ 1,000 คือ 24 (หรือ 24.00 ในฟอร์มทศนิยม) ผลลัพธ์จะแสดงเป็น 23 อย่างไรก็ตาม เมื่อเปอร์เซ็นต์เป็น 2.39 จะมีการปัดเศษการคำนวณเป็น 24 แทนที่จะเป็น 23 เมื่อเปอร์เซ็นต์เป็น 2.50 จะมีการปัดเศษการคำนวณเป็น 25 ตามที่คาด

## <a name="cause"></a>สาเหตุ

ปัญหานี้เกิดขึ้นเนื่องจากวิธีการที่ Microsoft Solver Foundation ภายในแสดงตัวเลขโดยใช้เศษส่วน สำหรับตัวอย่างก่อนหน้านี้ผลลัพธ์ของการคำนวณที่มีเปอร์เซ็นต์เป็น 2.40 แสดงเป็น 27021597764222975 ÷ 1125899906842624 = 23.99999999999999911182158029987476766109466552734375 เมื่อ .net เมื่อต้องการใช้ค่านี้เป็นจำนวนเต็ม จะมีการส่งคืน 23

## <a name="resolution"></a>การแก้ปัญหา

ลักษณะการทำงานนี้จะไม่มีการเปลี่ยนแปลง เนื่องจากสถานการณ์อื่น ๆ จะขึ้นอยู่กับสถานการณ์ดังกล่าว สำหรับตัวอย่างก่อนหน้านี้ คุณสามารถแก้ไขปัญหานี้ได้โดยการแนะนำแอททริบิวต์ทศนิยมเพิ่มเติมและการคำนวณ

ตัวอย่างคือ ตั้งค่าแอททริบิวต์ต่อไปนี้ในแบบจำลองการจัดโครงแบบการผลิต:

- อินพุต (จำนวนเต็ม)
- เปอร์เซ็นต์ (ฐานสิบ)
- ResultDecimal (ฐานสิบ)
- ResultInteger (จำนวนเต็ม)

คุณสามารถเพิ่มการคำนวณต่อไปนี้:

- *ResultDecimal* = *อินพุต* × *เปอร์เซ็นต์* ÷ 100
- *ResultInteger* = *ResultDecimal*
