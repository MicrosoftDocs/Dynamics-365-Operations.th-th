---
title: "ซิงโครไนส์ส่วนหัวและรายการของใบเสนอราคาขายจาก Sales ไปยัง Finance and Operations"
description: "หัวข้อนี้กล่าวถึงเท็มเพลตและงานพื้นฐานที่จะใช้ในการซิงโครไนส์ส่วนหัวและรายการของใบเสนอราคาขายจาก Microsoft Dynamics 365 for Sales (Sales) ไปยัง Microsoft Dynamics 365 for Finance and Operations, Enterprise Edition (Finance and Operations)"
author: ChristianRytt
manager: AnnBe
ms.date: 08/28/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: 
audience: Application User, IT Pro
ms.reviewer: yuyus
ms.search.scope: Core, Operations
ms.custom: 
ms.assetid: 
ms.search.region: global
ms.search.industry: 
ms.author: crytt
ms.dyn365.ops.intro: July 2017 update
ms.search.validFrom: 2017-07-8
ms.translationtype: HT
ms.sourcegitcommit: 47e70cb1291e390b42b7feff844b2aca141f09b7
ms.openlocfilehash: 9117b5af3beff7290816586f63091b12e357339c
ms.contentlocale: th-th
ms.lasthandoff: 09/29/2017

---

# <a name="synchronize-sales-quotation-headers-and-lines-from-sales-to-finance-and-operations"></a>ซิงโครไนส์ส่วนหัวและรายการของใบเสนอราคาขายจาก Sales ไปยัง Finance and Operations

[!include[banner](../includes/banner.md)]

> [!NOTE]
> ก่อนที่คุณจะสามารถใช้โซลูชันผู้ที่มีแนวโน้มจะเป็นลูกค้าเป็นเงินสด ให้ทำความคุ้นเคยกับ [การรวมข้อมูล Dynamics 365](/common-data-service/entity-reference/dynamics-365-integration) 

หัวข้อนี้กล่าวถึงเท็มเพลตและงานพื้นฐานที่จะใช้ในการซิงโครไนส์ส่วนหัวและรายการของใบเสนอราคาขายจาก Microsoft Dynamics 365 for Sales (Sales) ไปยัง Microsoft Dynamics 365 for Finance and Operations, Enterprise Edition (Finance and Operations) 

## <a name="template-and-tasks"></a>เท็มเพลตและงาน

เท็มเพลตและงานพื้นฐานต่อไปนี้จะถูกใช้ในการซิงโครไนส์ส่วนหัวและรายการของใบเสนอราคาขายจาก Sales ไปยัง Finance and Operations:

- **ชื่อของเท็มเพลต:** ใบเสนอราคาขาย (Sales ไปยัง Fin and Ops)
- **ชื่อของงานในโครงการ:**

    - QuoteHeader
    - QuoteLine

จำเป็นต้องทำงานการซิงโครไนส์ต่อไปนี้ก่อน จึงจะสามารถดำเนินการซิงโครไนส์ส่วนหัวและรายการของใบเสนอราคาขายได้:

- ผลิตภัณฑ์ (Fin and Ops ไปยัง Sales)
- บัญชี (Sales ไปยัง Fin and Ops) (ถ้าใช้)
- ผู้ติดต่อไปยังลูกค้า (Sales ไปยัง Fin and Ops) (ถ้าใช้)

## <a name="entity-set"></a>การตั้งค่าเอนทิตี้

| ใบสั่งขาย        | CDS           | Finance and Operations    |
|--------------|---------------|---------------------------|
| ข้อความอ้างอิง       | ใบเสนอราคา     | ส่วนหัวของใบเสนอราคาขาย   |
| QuoteDetails | QuotationLine | รายการในใบเสนอราคาขาย CDS |

## <a name="entity-flow"></a>ขั้นตอนเอนทิตี้

ใบเสนอราคาขายจะถูกสร้างขึ้นใน Sales และซิงโครไนส์ไปยัง Finance and Operations

ใบเสนอราคาขายจาก Sales จะมีการซิงโครไนส์เฉพาะเมื่อเป็นไปตามเงื่อนไขต่อไปนี้:

- ผลิตภัณฑ์ทั้งหมดในรายการในใบเสนอราคาขายมีการรักษาไว้สำหรับภายนอก
- ใบเสนอราคาขายใช้งานอยู่หรือเปิดใช้งานแล้ว

## <a name="prospect-to-cash-solution-for-sales"></a>โซลูชันผู้ที่มีแนวโน้มจะเป็นลูกค้าเป็นเงินสดสำหรับ Sales

ฟิลด์ **มีเฉพาะผลิตภัณฑ์รักษาไว้สำหรับภายนอกเท่านั้น** ถูกเพิ่มในเอนทิตี้อ้างอิง เพื่อให้สามารถติดตามได้อย่างสม่ำเสมอว่า ใบเสนอราคาขายนั้นประกอบด้วยผลิตภัณฑ์รักษาไว้สำหรับภายนอกเท่านั้น ถ้าใบเสนอราคาขายมีเฉพาะผลิตภัณฑ์รักษาไว้สำหรับภายนอกเท่านั้น ผลิตภัณฑ์จะมีการจัดเก็บอยู่ใน Finance and Operations ลักษณะการทำงานนี้ช่วยรับประกันว่า คุณจะไม่พยายามซิงโครไนส์รายการในใบเสนอราคาขายกับผลิตภัณฑ์ที่ไม่รู้จักใน Finance and Operations

ผลิตภัณฑ์และรายการทั้งหมดในใบเสนอราคาจะได้รับการการอัพเดตด้วยข้อมูล **มีเฉพาะผลิตภัณฑ์รักษาไว้สำหรับภายนอกเท่านั้น** จากส่วนหัวของใบเสนอราคา ข้อมูลนี้พบได้ในฟิลด์ **ใบเสนอราคามีเฉพาะผลิตภัณฑ์รักษาไว้สำหรับภายนอกเท่านั้น** บนเอนทิตี้บรรทัดใบเสนอราคา

ฟิลด์ **ส่วนลด**, **ค่าธรรมเนียม** และ **ภาษี** ถูกควบคุมโดยการตั้งค่าที่ซับซ้อนใน Finance and Operations ในขณะนี้ การตั้งค่านี้ยังไม่สนับสนุนการแม็ปการรวม ในการออกแบบปัจจุบัน ฟิลด์ **ราคา**, **ส่วนลด**, **ค่าธรรมเนียม** และ **ภาษี** จะใช้เป็นรายการหลักและจัดการโดย Finance and Operations

ใน Sales โซลูชันจะกำหนดให้ฟิลด์ต่อไปนี้เป็นแบบอ่านอย่างเดียว เนื่องจากค่าต่าง ๆ จะไม่ซิงโครไนส์กับ Finance and Operations:

- **ฟิลด์อ่านอย่างเดียวบนส่วนหัวของใบเสนอราคาขาย:** %ส่วนลด, ส่วนลด, ยอดเงินค่าขนส่ง
- **ฟิลด์อ่านอย่างเดียวบนรายการในใบเสนอราคาขาย:** ภาษี

## <a name="preconditions-and-mapping-setup"></a>การตั้งค่าเงื่อนไขเบื้องต้นและการแม็ป

ก่อนที่จะซิงค์ใบสั่งขาย จำเป็นต้องปรับปรุงระบบด้วยการตั้งค่าต่อไปนี้:

### <a name="setup-in-sales"></a>การตั้งค่าใน Sales

- ไปที่ **การตั้งค่า** &gt; **การจัดการ** &gt; **การตั้งค่าระบบ** &gt; **การขาย** และตรวจสอบให้แน่ใจว่าฟิลด์ **วิธีการคำนวณส่วนลด** กำหนดเป็น **ต่อหน่วย** การตั้งค่านี้ช่วยรับประกันว่า ส่วนลดสินค้าในรายการสินค้าจาก Sales จะตรงกับการตั้งค่าใน Finance and Operations มิฉะนั้น ส่วนลดจะไม่ถูกต้องใน Finance and Operations เนื่องจาก Finance and Operations จะอ่านส่วนลดเป็นส่วนลดต่อหน่วย แม้ว่าใน Sales จะระบุเป็นส่วนลดต่อรายการสินค้า

### <a name="setup-in-finance-and-operations"></a>ตั้งค่าใน Finance and Operations

- ไปที่ **บัญชีลูกหนี้** &gt; **การตั้งค่า** &gt; **พารามิเตอร์บัญชีลูกหนี้** บนแท็บ **ลำดับหมายเลข** ให้เลือกลำดับหมายเลขสำหรับใบเสนอราคาขาย จากนั้น คลิก **ดูรายละเอียด** จากนั้น ใต้ **การตั้งค่าทั่วไป** ให้กำหนดฟิลด์ **ด้วยตนเอง** เป็น **ใช่**
- ไปที่ **บัญชีลูกหนี้** &gt; **การตั้งค่า** &gt; **พารามิเตอร์บัญชีลูกหนี้** จากนั้น บนแท็ **การจัดส่งสินค้า** ให้ตั้งค่าฟิลด์ **การควบคุมวันที่จัดส่ง** เป็น **ไม่มี** การตั้งค่านี้ช่วยป้องกันไม่ให้การซิงโครไนส์ใบเสนอราคาขายล้มเหลว

### <a name="setup-in-the-data-integration-project"></a>การตั้งค่าในโครงการการรวมข้อมูล

#### <a name="quoteheader"></a>QuoteHeader

- จำเป็นต้องมีฟิลด์ **วันที่จัดส่งที่ร้องขอ** ใน Finance and Operations ถ้าปล่อยฟิลด์นี้ว่างไว้ การซิงโครไนส์จะล้มเหลว เพื่อป้องกันปัญหานี้ ถ้าฟิลด์ถูกเว้นว่างเอาไว้ ระบบจะระบุวันที่เริ่มต้นจาก **CDS &gt; แหล่งที่มา** ควรอัพเดตวันที่เป็นค่าที่ต้องการ ในปัจจุบัน คุณไม่สามารถป้อนค่า อาทิเช่น **วันนี้** เพื่อแสดงถึงวันที่ของวันนี้ได้ คุณต้องป้อนวันที่เป็นการเฉพาะ ค่าเท็มเพลตเริ่มต้นสำหรับ **วันที่จัดส่งที่ร้องขอ** คือ **1/1/2020**
- จำเป็นต้องมีฟิลด์ **รหัสประเทศ/ภูมิภาคของที่อยู่** ใน Finance and Operations เพื่อช่วยป้องกันข้อผิดพลาดในการซิงโครไนส์ คุณสามารถระบุค่าเริ่มต้นที่จะใช้ถ้าฟิลด์ถูกเว้นว่างเอาไว้ใน Sales ค่าเริ่มต้นนี้ยังมีประโยชน์ เนื่องจากคุณไม่จำเป็นต้องป้อนค่าด้วยตนเองในฟิลด์ **ประเทศ/ภูมิภาค** สำหรับที่อยู่ในท้องถิ่น ไม่มีค่าเท็มเพลตเริ่มต้นสำหรับ **DeliveryAddressCountryRegionISOCode**
- อัพเดตการแม็ปสำหรับ **รหัสองค์กร CDS** ใน **CDS &gt; ต้นทาง** ให้ตรงกับ **องค์กร CDS** ในเอนทิตี้องค์กร:

    - เท็มเพลตเริ่มต้นสำหรับ **Organization_OrganizationId** คือ **ORG001**
    - เท็มเพลตเริ่มต้นสำหรับ **Account_Organization_OrganizationId** คือ **ORG001**
    - เท็มเพลตเริ่มต้นสำหรับ **InvoiceAccount_OrganizationId** คือ **ORG001**

#### <a name="quoteline"></a>QuoteLine

- อัพเดตการแม็ปสำหรับ **รหัสองค์กร CDS** ใน **CDS &gt; ต้นทาง** ให้ตรงกับ **องค์กร CDS** ในเอนทิตี้องค์กร:

    - เท็มเพลตเริ่มต้นสำหรับ **Organization_OrganizationId** คือ **ORG001**
    - ค่าเท็มเพลตเริ่มต้นสำหรับ **Product_Organization_Organization_OrganizationId** คือ **ORG001**
    - ค่าเท็มเพลตเริ่มต้นสำหรับ **Quotation_Organization_Organization_OrganizationId** คือ **ORG001**

- จำเป็นต้องมีฟิลด์ **วันที่จัดส่งที่ร้องขอ** ใน Finance and Operations ถ้าปล่อยฟิลด์นี้ว่างไว้ การซิงโครไนส์จะล้มเหลว เพื่อป้องกันปัญหานี้ ถ้าฟิลด์ถูกเว้นว่างเอาไว้ ระบบจะระบุวันที่เริ่มต้นจาก **CDS &gt; แหล่งที่มา** ควรอัพเดตวันที่เป็นค่าที่ต้องการ ในปัจจุบัน คุณไม่สามารถป้อนค่า อาทิเช่น **วันนี้** เพื่อแสดงถึงวันที่ของวันนี้ได้ คุณต้องป้อนวันที่เป็นการเฉพาะ ค่าเท็มเพลตเริ่มต้นสำหรับ **วันที่จัดส่งที่ร้องขอ** คือ **1/1/2020**
- คุณสามารถเพิ่มการแม็ปต่อไปนี้จาก **ปลายทาง &gt; CDS** เพื่อช่วยรับประกันว่าใบเสนอราคาจะถูกนำเข้าไปที่ Finance and Operations ถ้าไม่มีข้อมูลเริ่มต้นจากลูกค้าหรือผลิตภัณฑ์:

    - **SiteId** – จำเป็นต้องมีไซต์เพื่อสร้างบรรทัดใบสั่งขายและใบเสนอราคาใน Finance and Operations ไม่มีค่าเท็มเพลตเริ่มต้นสำหรับ **SiteId**
    - **WarehouseId** – จำเป็นต้องมีคลังสินค้าเพื่อดำเนินการกับบรรทัดใบสั่งขายและใบเสนอราคาใน Finance and Operations ไม่มีค่าเท็มเพลตเริ่มต้นสำหรับ **WarehouseId**

- ตรวจสอบให้แน่ใจว่ามีแผนผังค่าที่จำเป็นสำหรับการขายหน่วยวัด (UOM) ใน Finance and Operations อยู่ในการแม็ป **ปลายทาง &gt; CDS** สำหรับ **Quantity_UOM** กับ **SALESUNITSYMBOL**

## <a name="template-mapping-in-data-integrator"></a>การแม็ปเท็มเพลตในตัวรวมข้อมูล

> [!NOTE]
> - ฟิลด์ **ส่วนลด**, **ค่าธรรมเนียม** และ **ภาษี** ถูกควบคุมโดยการตั้งค่าที่ซับซ้อนใน Finance and Operations ในขณะนี้ การตั้งค่านี้ยังไม่สนับสนุนการแม็ปการรวม ในการออกแบบปัจจุบัน ฟิลด์ **ราคา**, **ส่วนลด**, **ค่าธรรมเนียม** และ **ภาษี** จะถูกจัดการโดย Finance and Operations
> - ฟิลด์ **เงื่อนไขการชำระเงิน**, **เงื่อนไขการขนส่ง**, **เงื่อนไขการจัดส่ง**, **วิธีการขนส่ง** และ **วิธีการจัดส่ง** ไม่ได้เป็นส่วนหนึ่งของการแม็ปเริ่มต้น หากต้องการแม็ปฟิลด์เหล่านี้ คุณต้องตั้งค่าการแม็ปค่าที่เกี่ยวข้องกับข้อมูลในองค์กรที่เอนทิตี้ซิงโครไนส์ระหว่าง

ภาพประกอบต่อไปนี้แสดงตัวอย่างของการแม็ปเท็มเพลตในตัวรวมข้อมูล

### <a name="quoteheader"></a>QuoteHeader

![การแม็ปเท็มเพลตในตัวรวมข้อมูล](./media/sales-quotation-template-mapping-data-integrator-1.png)

![การแม็ปเท็มเพลตในตัวรวมข้อมูล](./media/sales-quotation-template-mapping-data-integrator-2.png)

### <a name="quoteline"></a>QuoteLine

![การแม็ปเท็มเพลตในตัวรวมข้อมูล](./media/sales-quotation-template-mapping-data-integrator-3.png)

![การแม็ปเท็มเพลตในตัวรวมข้อมูล](./media/sales-quotation-template-mapping-data-integrator-4.png)

## <a name="related-topics"></a>หัวข้อที่เกี่ยวข้อง

[ซิงโครไนส์ผลิตภัณฑ์จาก Finance and Operations ไปยังผลิตภัณฑ์ใน Sales](products-template-mapping.md)

[ซิงโครไนส์บัญชีจาก Sales ไปยังลูกค้าใน Finance and Operations](accounts-template-mapping.md)

[ซิงโครไนส์ผู้ติดต่อจาก Sales ไปยังผู้ติดต่อหรือลูกค้าใน Finance and Operations](contacts-template-mapping.md)



