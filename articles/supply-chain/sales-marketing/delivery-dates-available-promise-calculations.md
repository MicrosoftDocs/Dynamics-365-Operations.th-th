---
title: สัญญาใบสั่ง
description: หัวข้อนี้แสดงข้อมูลเกี่ยวกับการให้สัญญาใบสั่ง การให้สัญญาใบสั่งช่วยให้คุณสามารถทำสัญญาวันที่จัดส่งได้อย่างน่าเชื่อถือให้แก่ลูกค้าของคุณ และช่วยให้คุณมีความยืดหยุ่นเพื่อให้คุณสามารถดำเนินการได้ตามวันดังกล่าว
author: ShylaThompson
manager: tfehr
ms.date: 04/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: SalesATP, SalesAvailableDlvDates, SalesCarrier
audience: Application User
ms.reviewer: kamaybac
ms.custom: 193933
ms.assetid: 676fc53a-fa25-4688-9f26-1005316763b8
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 79f195c85df2628e54a9bf551715c193705b2694
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 01/15/2021
ms.locfileid: "4983077"
---
# <a name="order-promising"></a><span data-ttu-id="a13de-104">สัญญาใบสั่ง</span><span class="sxs-lookup"><span data-stu-id="a13de-104">Order promising</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="a13de-105">หัวข้อนี้แสดงข้อมูลเกี่ยวกับการให้สัญญาใบสั่ง</span><span class="sxs-lookup"><span data-stu-id="a13de-105">This topic provides information about order promising.</span></span> <span data-ttu-id="a13de-106">การให้สัญญาใบสั่งช่วยให้คุณสามารถทำสัญญาวันที่จัดส่งได้อย่างน่าเชื่อถือให้แก่ลูกค้าของคุณ และช่วยให้คุณมีความยืดหยุ่นเพื่อให้คุณสามารถดำเนินการได้ตามวันดังกล่าว</span><span class="sxs-lookup"><span data-stu-id="a13de-106">Order promising helps you reliably promise delivery dates to your customers and gives you flexibility so that you can meet those dates.</span></span>

<span data-ttu-id="a13de-107">สัญญาใบสั่งคำนวณวันที่จัดส่งและวันที่รับสินค้าแรกสุด และขึ้นอยู่กับวิธีการควบคุมวันที่จัดส่งและจำนวนวันที่ใช้ในการขนส่ง</span><span class="sxs-lookup"><span data-stu-id="a13de-107">Order promising calculates the earliest ship and receipt dates, and is based on the delivery date control method and transport days.</span></span> <span data-ttu-id="a13de-108">คุณสามารถเลือกจากสี่วิธีการควบคุมวันจัดส่ง:</span><span class="sxs-lookup"><span data-stu-id="a13de-108">You can select among four delivery date control methods:</span></span>

-   <span data-ttu-id="a13de-109">**ระยะเวลารอคอยสินค้าในการขาย** – ระยะเวลารอคอยสินค้าในการขายคือเวลาระหว่างการสร้างใบสั่งขายและจัดส่งสินค้า</span><span class="sxs-lookup"><span data-stu-id="a13de-109">**Sales lead time** – Sales lead time is the time between creation of the sales order and shipment of the items.</span></span> <span data-ttu-id="a13de-110">การคำนวณวันที่จัดส่งจะขึ้นอยู่กับจำนวนวันเริ่มต้น และไม่พิจารณาถึงปริมาณสินค้าคงคลังที่มีอยู่ ความต้องการทราบ หรือการจัดหาวัสดุที่วางแผนไว้</span><span class="sxs-lookup"><span data-stu-id="a13de-110">The delivery date calculation is based on a default number of days, and does not consider stock availability, known demand, or planned supply.</span></span>
-   <span data-ttu-id="a13de-111">**ATP (ปริมาณที่ให้สัญญาได้)** – ATP คือปริมาณของสินค้าที่พร้อมใช้งานและสามารถสัญญากับลูกค้าในวันที่ที่ระบุ</span><span class="sxs-lookup"><span data-stu-id="a13de-111">**ATP (available-to-promise)** – ATP is the quantity of an item that is available and can be promised to a customer on a specific date.</span></span> <span data-ttu-id="a13de-112">การคำนวณ ATP รวมสินค้าคงคลังที่ไม่ได้ผูกมัด ระยะเวลารอคอยสินค้า การรับสินค้าและการออกใช้ตามที่วางแผนไว้</span><span class="sxs-lookup"><span data-stu-id="a13de-112">The ATP calculation includes uncommitted inventory, lead times, planned receipts, and issues.</span></span>
-   <span data-ttu-id="a13de-113">**ATP + เวลาเผื่อสำหรับการตัดสินค้าจากคลัง**– วันจัดส่งจะเท่ากับวัน ATP บวกเวลาเผื่อสำหรับการตัดสินค้าจากคลังสำหรับสินค้า</span><span class="sxs-lookup"><span data-stu-id="a13de-113">**ATP + Issue margin** – The shipping date is equal to the ATP date plus the issue margin for the item.</span></span> <span data-ttu-id="a13de-114">เวลาเผื่อสำหรับการตัดสินค้าจากคลังคือเวลาที่ต้องใช้เพื่อจัดเตรียมสินค้าสำหรับการจัดส่ง</span><span class="sxs-lookup"><span data-stu-id="a13de-114">The issue margin is the time that is required to prepare the items for shipment.</span></span>
-   <span data-ttu-id="a13de-115">**CTP (ปริมาณที่สามารถสัญญาได้)**– มีคำนวณความพร้อมใช้งานโดยใช้การกระจาย</span><span class="sxs-lookup"><span data-stu-id="a13de-115">**CTP (capable-to-promise)** – Availability is calculated through explosion.</span></span>

> [!NOTE]
> <span data-ttu-id="a13de-116">เมื่อมีการอัปเดตใบสั่งขาย จะมีการอัปเดตข้อมูลการมีแนวโน้มของใบสั่งเฉพาะเมื่อไม่สามารถปฏิบัติตามวันที่สัญญาว่าจะออกใบสั่งที่มีอยู่เท่านั้น ตามที่แสดงในตัวอย่างต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="a13de-116">When a sales order is updated, the order promising information is only updated if the existing order promising date can't be fulfilled, as illustrated in the following examples:</span></span>
> 
> - <span data-ttu-id="a13de-117">**ตัวอย่างที่ 1**: วันที่สัญญาว่าจะออกใบสั่งปัจจุบันคือ 20 กรกฎาคม แต่เนื่องจากปริมาณที่เพิ่มขึ้น คุณจะไม่สามารถจัดส่งได้จนถึงวันที่ 25 กรกฎาคม</span><span class="sxs-lookup"><span data-stu-id="a13de-117">**Example 1**: The current order promising date is July 20, but due to increased quantity, you won't be able to deliver until July 25.</span></span> <span data-ttu-id="a13de-118">เนื่องจากไม่สามารถใช้วันที่ปัจจุบันได้อีกต่อไป จะมีการทริกเกอร์แนวโน้มของใบสั่ง</span><span class="sxs-lookup"><span data-stu-id="a13de-118">Because the current date can no longer be met, order promising is triggered.</span></span>
> -  <span data-ttu-id="a13de-119">**ตัวอย่างที่ 2**: วันที่สัญญาว่าจะออกใบสั่งปัจจุบันคือ 20 กรกฎาคม แต่เนื่องจากปริมาณที่ลดลง ขณะนี้จึงสามารถจัดส่งได้ในวันที่ 15 กรกฎาคม</span><span class="sxs-lookup"><span data-stu-id="a13de-119">**Example 2**: The current order promising date is July 20, but due to decreased quantity, it is now possible to deliver on July 15.</span></span> <span data-ttu-id="a13de-120">อย่างไรก็ตาม เนื่องจากวันที่ปัจจุบันสามารถดำเนินการต่อได้ ไม่มีการทริกเกอร์แนวโน้มของใบสั่ง และ 20 กรกฎาคมยังคงเป็นวันที่สัญญาว่าจะออกใบสั่ง</span><span class="sxs-lookup"><span data-stu-id="a13de-120">However, because the current date can still be fulfilled, order promising is not triggered, and July 20 remains the order promising date.</span></span>

## <a name="atp-calculations"></a><span data-ttu-id="a13de-121">การคำนวณ ATP</span><span class="sxs-lookup"><span data-stu-id="a13de-121">ATP calculations</span></span>
<span data-ttu-id="a13de-122">คำนวณปริมาณ ATP โดยการใช้วิธี "ATP สะสมกับการมองไปข้างหน้า"</span><span class="sxs-lookup"><span data-stu-id="a13de-122">The ATP quantity is calculated by using the “cumulative ATP with look-ahead” method.</span></span> <span data-ttu-id="a13de-123">ประโยชน์หลักของวิธีการคำนวณ ATP นี้คือสามารถจัดการกรณีที่ผลรวมของการออกใช้จากการรับสินค้ามากกว่าการรับสินค้าล่าสุด (เช่น เมื่อต้องใช้ปริมาณจากการรับสินค้าก่อนหน้าเพื่อให้ตรงกับความต้องการ)</span><span class="sxs-lookup"><span data-stu-id="a13de-123">The main advantage of this ATP calculation method is that it can handle cases where the sum of issues among receipts is more than the latest receipt (for example, when a quantity from an earlier receipt must be used to meet a requirement).</span></span> <span data-ttu-id="a13de-124">วิธีการคำนวณ "ATP สะสมกับการมองไปข้างหน้า" ประกอบด้วยปัญหาทั้งหมดจนกว่าปริมาณสะสมเพื่อได้รับ เกินปริมาณสะสมเพื่อออก</span><span class="sxs-lookup"><span data-stu-id="a13de-124">The “cumulative ATP with look-ahead” calculation method includes all issues until the cumulative quantity to receive exceeds the cumulative quantity to issue.</span></span> <span data-ttu-id="a13de-125">ดังนั้น วิธีการคำนวณ ATP นี้ประเมินว่าบางส่วนของปริมาณจากรอบระยะเวลาก่อนหน้านี้สามารถใช้ในรอบระยะเวลาในภายหลัง</span><span class="sxs-lookup"><span data-stu-id="a13de-125">Therefore, this ATP calculation method evaluates whether some of the quantity from an earlier period can be used in a later period.</span></span>  

<span data-ttu-id="a13de-126">ปริมาณ ATP คือ ยอดดุลสินค้าคงคลังที่ไม่ได้ผูกมัดในรอบระยะเวลาแรก</span><span class="sxs-lookup"><span data-stu-id="a13de-126">The ATP quantity is the uncommitted inventory balance in the first period.</span></span> <span data-ttu-id="a13de-127">โดยทั่วไป จะมีคำนวณสำหรับแต่ละรอบระยะเวลาที่การรับสินค้ามีการจัดกำหนดการ</span><span class="sxs-lookup"><span data-stu-id="a13de-127">Typically, it's calculated for each period in which a receipt is scheduled.</span></span> <span data-ttu-id="a13de-128">โปรแกรมคำนวณรอบระยะเวลา ATP เป็นวันและคำนวณวันปัจจุบันเป็นวันแรกสำหรับปริมาณ ATP</span><span class="sxs-lookup"><span data-stu-id="a13de-128">The program calculates the ATP period in days and calculates the current date as the first date for the ATP quantity.</span></span> <span data-ttu-id="a13de-129">ในรอบระยะเวลาแรก ATP รวมปริมาณคงคลังคงเหลือลบใบสั่งของลูกค้าที่ครบกำหนดและพ้นกำหนด</span><span class="sxs-lookup"><span data-stu-id="a13de-129">In the first period, ATP includes on-hand inventory minus customer orders that are due and overdue.</span></span>  

<span data-ttu-id="a13de-130">ATP คำนวณโดยใช้สูตรดังต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="a13de-130">ATP is calculated by using the following formula:</span></span>  

<span data-ttu-id="a13de-131">ATP = ATP สำหรับรอบระยะเวลาก่อนหน้า + การรับสินค้าสำหรับรอบระยะเวลาปัจจุบัน - การตัดสินค้าจากคลังสำหรับรอบระยะเวลาปัจจุบัน - ปริมาณการตัดสินค้าจากคลังสุทธิสำหรับแต่ละรอบระยะเวลาในอนาคตจนถึงรอบระยะเวลาเมื่อยอดรวมของการรับสินค้าที่ครอบคลุมจนถึงรอบระยะเวลาในอนาคตนั้น มากกว่ายอดรวมของการตัดสินค้าจากคลัง</span><span class="sxs-lookup"><span data-stu-id="a13de-131">ATP = ATP for the previous period + Receipts for the current period – Issues for the current period – Net issue quantity for each future period until the period when the sum of receipts for all future periods, up to and including the future period, exceeds the sum of issues up to and including the future period.</span></span>  

<span data-ttu-id="a13de-132">โปรดสังเกตว่าการคำนวณ ATP ไม่รวมข้อมูลในวันที่หมดอายุและที่เกินกว่ากรอบเวลา ATP ที่ระบบคาดไว้ เมื่อสามารถสัญญาปริมาณใดก็ได้</span><span class="sxs-lookup"><span data-stu-id="a13de-132">Notice that the ATP calculation does not include information around expiry date and beyond the ATP time fence that the system expects when any quantity can be promised.</span></span>

<span data-ttu-id="a13de-133">เมื่อไม่มีการตัดสินค้าจากคลังหรือการรับสินค้าให้พิจารณาอีกต่อไป ปริมาณ ATP สำหรับวันที่ดังต่อไปนี้จะเป็นเช่นเดียวกับปริมาณ ATP ที่ได้รับการคำนวณล่าสุด</span><span class="sxs-lookup"><span data-stu-id="a13de-133">When there are no more issues or receipts to consider, the ATP quantity for the following dates is the same as the latest calculated ATP quantity.</span></span>  

<span data-ttu-id="a13de-134">ถ้าไม่ใช่มิติทั้งหมดที่ใช้สำหรับสินค้าจะได้รับเมื่อการตรวจสอบ ATP เสร็จสิ้น พวกเขายังคงสามารถระบุบนการออกใช้และการรับสินค้า</span><span class="sxs-lookup"><span data-stu-id="a13de-134">If not all the dimensions that are used for an item are given when the ATP check is completed, they can still be specified on the issue and receipts.</span></span> <span data-ttu-id="a13de-135">ในกรณีนี้ ในการคำนวณ ATP การรับสินค้าและการออกใช้ต้องสามารถรวมกับมิติที่มีอยู่เพื่อลดจำนวนของรายการการรับสินค้าและการออกใช้ที่ใช้ในการคำนวณ ATP</span><span class="sxs-lookup"><span data-stu-id="a13de-135">In this case, in the ATP calculation, the receipts and issues must be aggregated to the existing dimensions to reduce the number of receipt and issue lines that are used in the ATP calculation.</span></span>  

<span data-ttu-id="a13de-136">ปริมาณ ATP ที่แสดงจะมากกว่าหรือเท่ากับ 0 (ศูนย์) เสมอ</span><span class="sxs-lookup"><span data-stu-id="a13de-136">The ATP quantity that is shown is always greater than or equal to 0 (zero).</span></span> <span data-ttu-id="a13de-137">ถ้าการคำนวณส่งคืนปริมาณ ATP ที่เป็นค่าลบ (ตัวอย่างเช่น หากปริมาณที่สัญญาไว้ก่อนหน้านี้มากกว่าปริมาณที่พร้อมใช้งาน) ปริมาณจะถูกตั้งค่าเป็น 0 โดยอัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="a13de-137">If the calculation returns a negative ATP quantity (for example, if the quantity that was previously promised exceeds the available quantity), the quantity is automatically set to 0.</span></span>

### <a name="example"></a><span data-ttu-id="a13de-138">ตัวอย่าง</span><span class="sxs-lookup"><span data-stu-id="a13de-138">Example</span></span>

<span data-ttu-id="a13de-139">ฟิลด์ **กรอบเวลาความต้องการแบบย้อนหลังของ ATP** ควบคุมความคืบหน้าการกลับไปภายในเวลาเพื่อค้นหาใบสั่งความต้องการที่ล่าช้าหรือการออกใช้สินค้าคงคลัง</span><span class="sxs-lookup"><span data-stu-id="a13de-139">The **ATP backward demand time fence** field controls how far back in time to look for delayed demand orders or inventory issues.</span></span> <span data-ttu-id="a13de-140">ฟิลด์ **กรอบเวลาการจัดหาวัสดุแบบย้อนหลังของ ATP** ควบคุมความคืบหน้าการกลับไปภายในเวลาเพื่อค้นหาใบสั่งการจัดหาวัสดุที่ล่าช้าหรือการรับสินค้าคงคลัง</span><span class="sxs-lookup"><span data-stu-id="a13de-140">The **ATP backward supply time fence** field controls how far back in time to look for delayed supply orders or inventory receipts.</span></span> <span data-ttu-id="a13de-141">ตัวอย่างเช่น ถ้าใบสั่งที่ล่าช้าโดยเจ็ดวันเท่านั้นควรพิจารณาในการคำนวณ ATP ทั้งสองฟิลด์ควรถูกกำหนดเป็น **7**</span><span class="sxs-lookup"><span data-stu-id="a13de-141">For example, if orders that are delayed by only seven days should be considered in the ATP calculation, both fields should be set to **7**.</span></span>  

<span data-ttu-id="a13de-142">ฟิลด์ **เวลาออฟเซ็ตความต้องการที่ล่าช้าของ ATP** และ **เวลาออฟเซ็ตการจัดหาวัสดุที่ล่าช้าของ ATP** -ควบคุมเมื่อความต้องการหรือการจัดหาวัสดุที่ล่าช้าจะพิจารณาในการคำนวณ ATP</span><span class="sxs-lookup"><span data-stu-id="a13de-142">The **ATP delayed demand offset time** and **ATP delayed supply offset time** fields control when the delayed demand or supply will be considered in the ATP calculation.</span></span> <span data-ttu-id="a13de-143">ตัวอย่างเช่น ถ้าความต้องการหรือการจัดหาวัสดุที่ล่าช้าควรพิจารณาการคำนวณ ATP หลังจากวันพรุ่งนี้ ทั้งสองฟิลด์ควรกำหนดเป็น **2**</span><span class="sxs-lookup"><span data-stu-id="a13de-143">For example, if the delayed supply and demand should be considered in the ATP calculation the day after tomorrow, both fields should be set to **2**.</span></span> <span data-ttu-id="a13de-144">ค่าของ **2** หมายความว่าปริมาณของสินค้าในใบสั่งซื้อที่ล่าช้าที่ควรพิจารณาในการคำนวณ ATP จะเห็นเป็นพร้อมใช้งานสองวันหลังจากวันปัจจุบัน</span><span class="sxs-lookup"><span data-stu-id="a13de-144">A value of **2** means that the quantity of an item on a delayed purchase order that should be considered in the ATP calculation will be seen as available two days after the current date.</span></span>  

<span data-ttu-id="a13de-145">ตัวอย่างต่อไปนี้ **7** จะถูกป้อนในฟิลด์ **กรอบเวลาความต้องการแบบย้อนหลังของ ATP** และ **กรอบเวลาการจัดหาวัสดุแบบย้อนหลังของ ATP** และ **1** จะถูกป้อนในฟิลด์ **เวลาออฟเซ็ตความต้องการที่ล่าช้าของ ATP** และ **เวลาออฟเซ็ตการจัดหาวัสดุที่ล่าช้าของ ATP**</span><span class="sxs-lookup"><span data-stu-id="a13de-145">For the following example, **7** is entered in the **ATP backward demand time fence** and **ATP backward supply time fence** fields, and **1** is entered in the **ATP delayed demand offset time** and **ATP delayed supply offset time** fields.</span></span>  

<span data-ttu-id="a13de-146">ยังไม่ได้รับใบสั่งซื้อสำหรับผลิตภัณฑ์ 200 ชิ้นที่ควรได้รับเมื่อสามวันที่ผ่านมา</span><span class="sxs-lookup"><span data-stu-id="a13de-146">A purchase order for 200 pieces of a product that should have been received three days ago hasn't been received yet.</span></span> <span data-ttu-id="a13de-147">ดังนั้น ยังไม่ได้จัดส่งรายการใบสั่งขายสำหรับผลิตภัณฑ์เดียวกัน 75 ชิ้นที่ควรมีการจัดส่งเมื่อวานนี้</span><span class="sxs-lookup"><span data-stu-id="a13de-147">Therefore, a sales order line for 75 pieces of the same product that should have been shipped yesterday hasn't been shipped.</span></span>  

<span data-ttu-id="a13de-148">ลูกค้าโทรมาและต้องการรสั่งผลิตภัณฑ์เดียวกัน 150 ชิ้น</span><span class="sxs-lookup"><span data-stu-id="a13de-148">A customer calls and wants to order 150 pieces of the same product.</span></span> <span data-ttu-id="a13de-149">เมื่อคุณตรวจสอบความพร้อมใช้งานของผลิตภัณฑ์คุณจะพบว่าใบสั่งซื้ออื่นสำหรับผลิตภัณฑ์ 100 ชิ้นจะถูกจัดส่งภายใน 10 วันต่อมา</span><span class="sxs-lookup"><span data-stu-id="a13de-149">When you verify the availability of the product, you find that another purchase order for 100 pieces of the product will be delivered 10 days later.</span></span>  

<span data-ttu-id="a13de-150">คุณสร้างรายการใบสั่งขายสำหรับผลิตภัณฑ์ และป้อน **150** เป็นปริมาณ</span><span class="sxs-lookup"><span data-stu-id="a13de-150">You create a sales order line for the product and enter **150** as the quantity.</span></span>  

<span data-ttu-id="a13de-151">เนื่องจากการควบคุมวันจัดส่งเป็นวิธีคือ ATP มีการคำนวณข้อมูล ATP เพื่อค้นหาวันที่จัดส่งแรกสุดที่เป็นไปได้</span><span class="sxs-lookup"><span data-stu-id="a13de-151">Because the delivery date control is method is ATP, the ATP data is calculated to find the earliest possible ship date.</span></span> <span data-ttu-id="a13de-152">ขึ้นอยู่กับการตั้งค่า ใบสั่งซื้อและใบสั่งขายที่ล่าช้าจะถูกพิจารณา และผลลัพธ์ปริมาณ ATP สำหรับวันปัจจุบันคือ 0</span><span class="sxs-lookup"><span data-stu-id="a13de-152">Based on the settings, the delayed purchase order and sales order are considered, and the resulting ATP quantity for the current date is 0.</span></span> <span data-ttu-id="a13de-153">พรุ่งนี้ เมื่อใบสั่งซื้อที่ล่าช้าที่คาดว่าจะได้รับ ปริมาณ ATP จะคำนวณมากกว่า 0 (ในกรณีนี้ จะมีคำนวณเป็น 125)</span><span class="sxs-lookup"><span data-stu-id="a13de-153">Tomorrow, when the delayed purchase order is expected to be received, the ATP quantity is calculated as more than 0 (in this case, it's calculated as 125).</span></span> <span data-ttu-id="a13de-154">อย่างไรก็ตาม 10 วันจากขณะนี้ เมื่อใบสั่งซื้อเพิ่มเติมสำหรับ 100 ชิ้นที่คาดว่าจะได้รับ ปริมาณ ATP จะกลายเป็นมากกว่า 150</span><span class="sxs-lookup"><span data-stu-id="a13de-154">However, 10 days from now, when the additional purchase order for 100 pieces is expected to be received, the ATP quantity becomes more than 150.</span></span>  

<span data-ttu-id="a13de-155">ดังนั้น วันจัดส่งจะตั้งค่าเป็น 10 วันจากขณะนี้ ตามการคำนวณ ATP</span><span class="sxs-lookup"><span data-stu-id="a13de-155">Therefore, the ship date is set to 10 days from now, based on the ATP calculation.</span></span> <span data-ttu-id="a13de-156">ดังนั้น คุณแจ้งลูกค้าว่าปริมาณที่ร้องขอสามารถจัดส่ง 10 วันจากขณะนี้</span><span class="sxs-lookup"><span data-stu-id="a13de-156">Therefore, you tell the customer that the requested quantity can be delivered 10 days from now.</span></span>



