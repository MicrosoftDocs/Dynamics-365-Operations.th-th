---
title: "ซิงโครไนส์ใบแจ้งหนี้ข้อตกลงใน Field Service ไปยังใบแจ้งหนี้ข้อความอิสระใน Finance and Operations"
description: "หัวข้อนี้กล่าวถึงเท็มเพลตและงานพื้นฐานที่จะใช้ในการซิงโครไนส์ใบแจ้งหนี้ข้อตกลงใน Microsoft Dynamics 365 for Field Service ไปยังใบแจ้งหนี้ข้อความอิสระใน Microsoft Dynamics 365 for Finance and Operations"
author: ChristianRytt
manager: AnnBe
ms.date: 04/10/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: 
audience: Application User, IT Pro
ms.reviewer: yuyus
ms.search.scope: Core, Operations
ms.custom: 
ms.assetid: 
ms.search.region: global
ms.search.industry: 
ms.author: crytt
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.translationtype: HT
ms.sourcegitcommit: ace66c037953f4b1b2e8b93a315faefdb090b1eb
ms.openlocfilehash: 6672e283a5e56b068e3494d53a0fd6dd08253ba9
ms.contentlocale: th-th
ms.lasthandoff: 05/08/2018

---

# <a name="synchronize-agreement-invoices-in-field-service-to-free-text-invoices-in-finance-and-operations"></a>ซิงโครไนส์ใบแจ้งหนี้ข้อตกลงใน Field Service ไปยังใบแจ้งหนี้ข้อความอิสระใน Finance and Operations

[!include[banner](../includes/banner.md)]

หัวข้อนี้กล่าวถึงเท็มเพลตและงานพื้นฐานที่จะใช้ในการซิงโครไนส์ใบแจ้งหนี้ข้อตกลงใน Microsoft Dynamics 365 for Field Service ไปยังใบแจ้งหนี้ข้อความอิสระใน Microsoft Dynamics 365 for Finance and Operations

## <a name="templates-and-tasks"></a>เท็มเพลตและงาน

เท็มเพลตต่อไปนี้และงานพื้นฐานถูกใช้ในการรันการซิงโครไนส์ของใบแจ้งหนี้ข้อตกลงจาก Field Service กับใบแจ้งหนี้ข้อความอิสระใน Finance and Operations

**ชื่อของเท็มเพลตในการรวมข้อมูล:**

- ใบแจ้งหนี้ข้อตกลง (Field Service ไปยัง Fin และ Ops)

**ชื่อของงานในโครงการการรวมข้อมูล:**

- ส่วนหัวของใบแจ้งหนี้
- รายการในใบแจ้งหนี้

จำเป็นต้องทำการซิงโครไนส์ต่อไปนี้ ก่อนที่การซิงโครไนส์ของใบแจ้งหนี้ข้อตกลงจะเกิดขึ้นได้:

- บัญชี (Sales ไปยัง Fin and Ops) – โดยตรง

## <a name="entity-set"></a>การตั้งค่าเอนทิตี้

| Field Service  | Finance and Operations                 |
|----------------|----------------------------------------|
| ใบแจ้งหนี้       | ส่วนหัวใบแจ้งหนี้แบบข้อความอิสระของลูกค้า CDS |
| invoicedetails | รายการใบแจ้งหนี้แบบข้อความอิสระของลูกค้า CDS   |

## <a name="entity-flow"></a>ขั้นตอนเอนทิตี้

ใบแจ้งหนี้ที่สร้างขึ้นจากข้อตกลงใน Field Service สามารถซิงโครไนส์กับ Finance and Operations ได้ ผ่านทางโครงการรวมข้อมูล Common Data Service (CDS) การปรับปรุงไปยังใบแจ้งหนี้เหล่านี้จะซิงโครไนส์กับใบแจ้งหนี้ข้อความอิสระใน Finance and Operations ถ้าสถานะการบัญชีของใบแจ้งหนี้ข้อความอิสระเป็น **อยู่ระหว่างดำเนินการ** หลังจากใบแจ้งหนี้ข้อความอิสระถูกลงรายการบัญชีใน Finance and Operations และสถานะการบัญชีถูกอัพเดตเป็น **เสร็จสมบูรณ์** คุณไม่สามารถซิงโครไนส์การอัพเดตจาก Field Service ได้อีกต่อไป

## <a name="field-service-crm-solution"></a>โซลูชัน CRM ของ Field Service

ฟิลด์ **มีรายการพร้อมกับจุดเริ่มต้นของข้อตกลง** ได้ถูกเพิ่มไปยังเอนทิตี **ใบแจ้งหนี้** ฟิลด์นี้ช่วยรับประกันว่า เฉพาะใบแจ้งหนี้ที่สร้างขึ้นจากข้อตกลงจะถูกซิงโครไนส์ ค่าเป็น **จริง** ถ้าใบแจ้งหนี้ประกอบด้วยรายการใบแจ้งหนี้อย่างน้อยหนึ่งรายการที่เกิดจากข้อตกลง

ฟิลด์ **มีจุดเริ่มต้นของข้อตกลง** ได้ถูกเพิ่มไปยังเอนทิตี **รายการใบแจ้งหนี้** ฟิลด์นี้ช่วยรับประกันว่า เฉพาะรายการใบแจ้งหนี้ที่สร้างขึ้นจากข้อตกลงจะถูกซิงโครไนส์ ค่าเป็น **จริง** ถ้ารายการใบแจ้งหนี้เกิดจากข้อตกลงนั้น

**วันที่ในใบแจ้งหนี้** เป็นฟิลด์บังคับใน Finance and Operations ดังนั้น ฟิลด์ต้องมีค่าใน Field Service ก่อนที่การซิงโครไนส์จะเกิดขึ้น เพื่อให้ตรงกับความต้องการนี้ จะมีการเพิ่มตรรกะต่อไปนี้:

- ถ้าฟิลด์ **วันที่ใบแจ้งหนี้** ว่างเปล่าในเอนทิตี **ใบแจ้งหนี้** (นั่นคือ ถ้ามีไม่มีค่า) จะถูกกำหนดเป็นวันที่ปัจจุบัน เมื่อมีการเพิ่มรายการใบแจ้งหนี้ที่เกิดจากข้อตกลง
- ผู้ใช้สามารถเปลี่ยนฟิลด์ **วันที่ใบแจ้งหนี้** ได้ อย่างไรก็ตาม เมื่อผู้ใช้พยายามบันทึกใบแจ้งหนี้ที่เกิดจากข้อตกลง เขาหรือเธอได้รับข้อผิดพลาดในกระบวนการทางธุรกิจ ถ้าฟิลด์ **วันที่ในใบแจ้งหนี้** ว่างเปล่าบนใบแจ้งหนี้

## <a name="prerequisites-and-mapping-setup"></a>การตั้งค่าการแม็ปและข้อกำหนดเบื้องต้น

### <a name="in-finance-and-operations"></a>ใน Finance and Operations

ต้องตั้งค่าจุดเริ่มต้นของใบแจ้งหนี้สำหรับการรวม เพื่อแยกแยะใบแจ้งหนี้ข้อความอิสระใน Finance and Operations ที่สร้างขึ้นจากใบแจ้งหนี้ข้อตกลงใน Field Service เมื่อใบแจ้งหนี้มีจุดเริ่มต้นของใบแจ้งหนี้ของชนิด **การรวมใบแจ้งหนี้ข้อตกลง** ฟิลด์ **หมายเลขใบแจ้งหนี้ภายนอก** จะแสดงบนส่วนหัว **ใบแจ้งหนี้การขาย**

นอกจากการปรากฏในส่วนหัวของใบแจ้งหนี้ ข้อมูล **หมายเลขใบแจ้งหนี้ภายนอก** สามารถใช้เพื่อช่วยในการรับประกันว่า ใบแจ้งหนี้ที่สร้างขึ้นจากใบแจ้งหนี้ของข้อตกลงของ Field Service จะถูกกรองออกได้ในระหว่างการซิงโครไนส์ใบแจ้งหนี้จาก Finance and Operations ไปยัง Field Service

1. ไปยัง **บัญชีลูกหนี้** \> **ตั้งค่า** \> **รหัสจุดเริ่มต้นในใบแจ้งหนี้**
2. เลือก **สร้าง** เพื่อสร้างจุดเริ่มต้นของใบแจ้งหนี้ใหม่
3. ในฟิลด์ **จุดเริ่มต้นในใบแจ้งหนี้** ป้อนชื่อสำหรับจุดเริ่มต้นของใบแจ้งหนี้ เช่น **FS**
4. ในฟิลด์ **คำอธิบาย** ป้อนคำอธิบาย เช่น **ใบแจ้งหนี้ของข้อตกลงของ Field Service**
5. เลือกกล่องกาเครื่องหมาย **การกำหนดชนิดของจุดเริ่มต้น**
6. ตั้งค่าฟิลด์ **ชนิดจุดเริ่มต้นในใบแจ้งหนี้** เป็น **การรวมใบแจ้งหนี้ข้อตกลง**
7. เลือก **บันทึก**

### <a name="in-the-data-integration-project"></a>ในโครงการการรวมข้อมูล

งาน: **รายการใบแจ้งหนี้**  

ตรวจสอบให้แน่ใจว่า ค่าเริ่มต้นสำหรับฟิลด์  Finance and Operations **ค่าที่แสดงบัญชีหลัก** ถูกอัพเดตเพื่อให้ตรงกับค่าที่ต้องการ

ค่าเท็มเพลตเริ่มต้นคือ **401100**

## <a name="template-mapping-in-data-integration"></a>การแม็ปเท็มเพลตในการรวมข้อมูล

ภาพประกอบต่อไปนี้แสดงการแม็ปเท็มเพลตในการรวมข้อมูล

### <a name="agreement-invoices-field-service-to-fin-and-ops-invoice-headers"></a>ใบแจ้งหนี้ข้อตกลง (Field Service ไปยัง Fin และ Ops): ส่วนหัวใบแจ้งหนี้

[![การแม็ปเท็มเพลตในการรวมข้อมูล](./media/FSFreeTextInvoice1.png)](./media/FSFreeTextInvoice1.png)

### <a name="agreement-invoices-field-service-to-fin-and-ops-invoice-lines"></a>ใบแจ้งหนี้ข้อตกลง (Field Service ไปยัง Fin และ Ops): รายการใบแจ้งหนี้

[![การแม็ปเท็มเพลตในการรวมข้อมูล](./media/FSFreeTextInvoice2.png)](./media/FSFreeTextInvoice2.png)

