---
title: การปรับปรุง cXML การสั่งซื้อ
description: ลักษณะการทำงานในการปรับปรุง cXML การซื้อสร้างขึ้นบนฟังก์ชันแค็ตตาล็อกภายนอก PunchOut ที่มีอยู่ ซึ่งใช้สำหรับใบขอซื้อ
author: Henrikan
ms.date: 08/03/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: CatCXMLParameters, CatCXMLPurchRequest
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: henrikan
ms.search.validFrom: 2020-08-03
ms.dyn365.ops.version: 10.0.13
ms.openlocfilehash: f4a7ee091d73e2104571ac9134a9de9bab0a7074
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/29/2021
ms.locfileid: "7575475"
---
# <a name="purchasing-cxml-enhancements"></a>การปรับปรุง cXML การสั่งซื้อ

[!include [banner](../includes/banner.md)]

ลักษณะการทำงานใน _การปรับปรุง cXML การซื้อ_ สร้างขึ้นบน [ฟังก์ชันแค็ตตาล็อกภายนอกที่มีอยู่](set-up-external-catalog-for-punchout.md) ซึ่งใช้สำหรับใบขอซื้อ ฟังก์ชันที่มีอยู่นี้เรียกว่า _PunchOut_ ถึงแม้ว่าใบสั่งซื้อจะไม่มีต้นกำเนิดมาจากใบขอซื้อ แต่ก็ต้องมีการเชื่อมต่อระหว่างผู้จัดจำหน่ายบนใบสั่งซื้อและพารามิเตอร์ที่ใช้ในการส่งเอกสารใบสั่งซื้อ

## <a name="turn-on-the-purchasing-cxml-enhancements-feature"></a>เปิดใช้ลักษณะการทำงานการปรับปรุง cXML การซื้อ

เมื่อต้องการเปิดใช้งานลักษณะการทำงาน ให้เปิดหน้า **[การจัดการลักษณะการทำงาน](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)** และค้นหาลักษณะการทำงานที่มีการระบุชื่อ *การปรับปรุง cXML การซื้อ* เลือกคุณลักษณะการทำงาน และจากนั้นเลือก **เปิดใช้งานตอนนี้** เพื่อเปิดใช้งาน

หลังจากที่คุณเปิดใช้งานลักษณะการทำงานแล้ว คุณควรตั้งค่าคอนฟิกการตั้งค่าในสามพื้นที่ต่อไปนี้:

- **[พารามิเตอร์ cXML](#cxml-parameters)** – ใช้การตั้งค่าเหล่านี้เพื่อตั้งค่าพารามิเตอร์สากลบางอย่างสำหรับฟังก์ชันสำหรับการส่งใบสั่งซื้อ
- **[ตั้งค่าผู้จัดจำหน่าย](#vendor-setup)** – ถ้าภาษามาร์กอัพของ Commerce eXtensible (cXML) ควรใช้เป็นค่าเริ่มต้นสำหรับใบสั่งซื้อใหม่ทั้งหมดที่สร้างขึ้นสำหรับผู้จัดจำหน่ายใดๆ ให้ตั้งค่าตัวเลือก **ส่งใบสั่งซื้อโดยใช้ cXML** เป็น _ใช่_ สำหรับผู้จัดจำหน่ายนั้น
- **[แค็ตตาล็อกภายนอก](#external-catalog-setup)** – ใช้การตั้งค่า **คุณสมบัติใบสั่ง** เพื่อกำหนดรูปแบบของเอกสารใบสั่งซื้อและวิธีการส่ง

ภาพประกอบต่อไปนี้สรุปการตั้งค่าคอนฟิกนี้

![พื้นที่สำหรับการตั้งค่าคุณลักษณะ cXML](media/cxml-settings-areas.png "พื้นที่สำหรับการตั้งค่าลักษณะการทำงาน cXML")

นอกจากนี้คุณต้องตั้งค่า [ชุดงานคำขอใบสั่งซื้อ](#po-batch) ชุดงานนี้จะใช้เพื่อส่งใบสั่งซื้อที่ยืนยัน

## <a name="set-up-global-cxml-parameters"></a><a name="cxml-parameters"></a>ตั้งค่าพารามิเตอร์ cXML สากล

ใช้หน้า **พารามิเตอร์ cXML** เพื่อสร้างการตั้งค่าพารามิเตอร์สากลบางอย่างที่ใช้กับฟังก์ชันสำหรับการส่งใบสั่งซื้อ

![หน้าพารามิเตอร์ cXML](media/cxml-parameters.png "หน้าพารามิเตอร์ cXML")

ไปที่ **การจัดซื้อและการจัดหา \> การตั้งค่า \> การจัดการ cXML \> พารามิเตอร์ cXML** และตั้งค่าพารามิเตอร์ต่อไปนี้:

- **โหมดทดสอบ cXML** – พารามิเตอร์สากลนี้มีผลกระทบต่อวิธีการที่ใบสั่งซื้อมีการส่งทางกายภาพจากชุดงาน เลือกค่าใดค่าหนึ่งต่อไปนี้

    - **การทดสอบ** – ในโหมดนี้อาจรันชุดงานและเอกสาร XML สำหรับข้อความที่ถูกสร้างขึ้นแต่ไม่ได้ส่ง แต่จะถูกบันทึกไว้ในคำขอใบสั่งซื้อเพื่อวัตถุประสงค์ในการตรวจทานแทน โหมดนี้มีประโยชน์เมื่อคุณกำลังดำเนินการเริ่มต้นและคุณต้องการดูว่ามีการป้อนข้อมูลลงในข้อความ cXML อย่างไร คุณอาจต้องการสร้างข้อความตัวอย่างที่คุณสามารถส่งให้กับผู้จัดจำหน่ายสำหรับการตรวจสอบความถูกต้องเบื้องต้น
    - **Live** – ในโหมดนี้ลักษณะการทำงานจะใช้ [การตั้งค่าแค็ตตาล็อกภายนอก](#external-catalog-setup) เพื่อส่งเอกสารแต่ละฉบับไปยังผู้จัดจำหน่ายโดยทางกายภาพ

- **ส่งการอัปเดตคำขอซื้อ** – กำหนดตัวเลือกนี้เป็น *ใช่* เพื่อส่งข้อความการอัปเดตสำหรับใบสั่งซื้อ ตั้งค่าเป็น *ไม่* เพื่อป้องกันไม่ให้มีการส่งข้อความ ผู้จัดจำหน่ายส่วนใหญ่ไม่ต้องการได้รับข้อความอัปเดต แต่ต้องการให้ลูกค้าติดต่อทางโทรศัพท์หรืออีเมลถ้าควรมีการเปลี่ยนใบสั่งซื้อ พารามิเตอร์นี้เป็นพารามิเตอร์สากลและไม่สามารถระบุการแทนที่ในแค็ตตาล็อกภายนอกสำหรับผู้จัดจำหน่ายแต่ละราย ใบสั่งซื้อจะถูกทำเครื่องหมายเป็นอัปเดตแล้วถ้าคุณลงรายการบัญชีการยืนยันครั้งที่สองสำหรับใบสั่งซื้อ แต่มีการส่งการยืนยันครั้งแรกและผู้จัดจำหน่ายได้รับการยอมรับแล้ว ถ้ามีการยืนยันครั้งที่สองแต่ยังไม่ได้ส่งการยืนยันครั้งแรก การยืนยันครั้งที่สองจะถือเป็นเอกสารใหม่ คุณสามารถยืนยันใบสั่งซื้อได้หลายครั้งเท่าที่คุณต้องการจนกว่าจะมีการส่งการยืนยันหนึ่งครั้ง การยืนยันครั้งถัดไปจะถือเป็นข้อความการอัปเดต
- **ส่งการลบคำขอซื้อ** – กำหนดตัวเลือกนี้เป็น *ใช่* เพื่อส่งข้อความการลบสำหรับใบสั่งซื้อ ตั้งค่าเป็น *ไม่* เพื่อป้องกันไม่ให้มีการส่งข้อความ ผู้จัดจำหน่ายส่วนใหญ่ไม่ต้องการได้รับข้อความการลบ แต่ต้องการให้ลูกค้าติดต่อทางโทรศัพท์หรืออีเมลถ้ามีการส่งใบสั่งซื้อผิดพลาด พารามิเตอร์นี้เป็นพารามิเตอร์สากลและไม่สามารถระบุการแทนที่ในแค็ตตาล็อกภายนอกสำหรับผู้จัดจำหน่ายแต่ละราย ใบสั่งซื้อจะถูกทำเครื่องหมายเป็นลบแล้วถ้าคุณยกเลิกใบสั่งซื้อใน Supply Chain Management
- **ไฟล์เก็บถาวร** – ระบุพาธของไฟล์ที่คุณต้องการส่งออกและบันทึกเอกสาร cXML ที่เก็บถาวรไว้ พาธถูกใช้เมื่อคุณรันฟังก์ชันล้างข้อมูลจากหน้า **คำขอใบสั่งซื้อ**
- **อักขระสูงสุดสำหรับบรรทัดถนน** – ป้อนจำนวนอักขระสูงสุดที่สามารถใช้ในฟิลด์ถนนสำหรับที่อยู่ในเอกสาร cXML พารามิเตอร์นี้จะมีผลกระทบต่อผู้จัดจำหน่ายทั้งหมด เว้นแต่จะมีการระบุการแทนที่ในคุณสมบัติแค็ตตาล็อกภายนอก

## <a name="set-up-vendor-purchase-orders-to-use-cxml"></a><a name="vendor-setup"></a>ตั้งค่าใบสั่งซื้อของผู้จัดจำหน่ายเพื่อใช้ cXML

ทุกครั้งที่คุณยืนยันใบสั่งซื้อที่มีการตั้งค่าตัวเลือก **ส่งใบสั่งซื้อโดยใช้ cXML** เป็น _ใช่_ ระบบจะสร้างข้อความ cXML และส่งข้อความนี้ให้กับผู้จัดจำหน่ายที่เกี่ยวข้องกับใบสั่งซื้อนั้นโดยอัตโนมัติ การควบคุมตัวเลือกนี้สำหรับใบสั่งซื้อของคุณมีอยู่สองวิธีดังนี้:

- เมื่อต้องการตั้งค่าผู้จัดจำหน่ายเพื่อให้มีการใช้ cXML สำหรับใบสั่งซื้อใหม่ทั้งหมดที่สร้างขึ้นจากใบขอซื้อ ให้ไปที่ผู้จัดจำหน่ายและการจัดหาผู้จัดจำหน่าย **การจัดซื้อและการจัดหา \> ผู้จัดจำหน่าย \> ผู้จัดจำหน่ายทั้งหมด** และเลือกหรือสร้างผู้จัดจำหน่ายเพื่อเปิดหน้ารายละเอียดของผู้จัดจำหน่าย บนแท็บด่วน **ค่าเริ่มต้นของใบสั่งซื้อ** ให้ตั้งค่าตัวเลือก **ส่งใบสั่งซื้อโดยใช้ cXML** เป็น _ใช่_ ถ้า cXML ควรใช้สำหรับใบสั่งซื้อใหม่ที่ **ไม่ได้** สร้างจากใบขอซื้อโดยอัตโนมัติ คุณต้องตั้งค่าคุณสมบัติใบสั่ง **ENABLEMANUALPO** เป็น _จริง_ สำหรับแค็ตตาล็อกภายนอกที่เกี่ยวข้องตามที่อธิบายไว้ในส่วน [การตั้งค่าคุณสมบัติใบสั่ง](#set-order-properties) ในภายหลังในหัวข้อนี้
- สำหรับใบสั่งซื้อแต่ละใบ ให้ไปที่ **การจัดซื้อและการจัดหา \> ใบสั่งซื้อ \> ใบสั่งซื้อทั้งหมด** และเลือกหรือสร้างใบสั่งซื้อเพื่อเปิดหน้ารายละเอียดของใบสั่งซื้อ สลับไปที่มุมมอง **หัวข้อ** จากนั้นบนแท็บด่วน **การตั้งค่า** ให้ตั้งค่าตัวเลือก **ส่งใบสั่งซื้อโดย cXML** ตามต้องการ

![การตั้งค่าเริ่มต้นสำหรับใบสั่งซื้อของผู้จัดจำหน่าย](media/cxml-order-defaults.png "การตั้งค่าเริ่มต้นสำหรับใบสั่งซื้อของผู้จัดจำหน่าย")

## <a name="set-up-an-external-catalog-to-use-cxml"></a><a name="external-catalog-setup"></a>ตั้งค่าแค็ตตาล็อกภายนอกเพื่อใช้ cXML

ในหน้า **แค็ตตาล็อกภายนอก** สำหรับแต่ละแค็ตตาล็อกของคุณ คุณสามารถตั้งค่าฟังก์ชัน PunchOut และฟังก์ชันสำหรับการส่งใบสั่งซื้อ เมื่อต้องการค้นหาการตั้งค่าที่เกี่ยวข้อง ให้ไปที่ **การจัดซื้อและการจัดหา \> แค็ตตาล็อก \> แค็ตตาล็อกภายนอก** เริ่มต้นด้วย [การตั้งค่าแต่ละแค็ตตาล็อกตามปกติ](set-up-external-catalog-for-punchout.md) กระบวนการนี้รวมถึงการกำหนดผู้จัดจำหน่าย ให้เลือกประเภทที่ผู้จัดจำหน่ายได้รับอนุญาตให้จัดหาและเปิดใช้งานแค็ตตาล็อก ตั้งค่าคอนฟิกการตั้งค่าเพิ่มเติมที่อธิบายไว้ในหัวข้อนี้

> [!NOTE]
> เมื่อคุณยืนยันใบสั่งซื้อที่สามารถส่งผ่านทาง cXML ระบบจะค้นหาผู้จัดจำหน่ายที่เกี่ยวข้องกับใบสั่งซื้อและค้นหาแค็ตตาล็อกภายนอกที่ใช้งานอยู่ครั้งแรกที่สัมพันธ์กับผู้จัดจำหน่ายนั้น ระบบจะใช้การตั้งค่าจากแค็ตตาล็อกภายนอกที่จะส่งใบสั่งซื้อ ถ้าตั้งค่าหลายแค็ตตาล็อกภายนอก ระบบจะใช้เฉพาะแค็ตตาล็อกภายนอกแรกที่พบเท่านั้นตามผู้จัดจำหน่ายในใบสั่งซื้อ ดังนั้นเราขอแนะนำให้คุณสร้างแค็ตตาล็อกภายนอกเดียวสำหรับผู้จัดจำหน่ายแต่ละราย

![การตั้งค่าแค็ตตาล็อกภายนอก](media/cxml-supplier-catalog.png "การตั้งค่าแค็ตตาล็อกภายนอก")

### <a name="set-the-punchout-protocol-type"></a>ตั้งค่าชนิดโพรโทคอล PunchOut

บนแท็บด่วน **ทั่วไป** ของหน้า **แค็ตตาล็อกภายนอก** ให้ตั้งค่าฟิลด์ **ชนิดโพรโทคอล Punchout** เป็น _cXML_ ตัวเลือกนี้จะมีตัวเลือกที่พร้อมใช้งานเท่านั้น เว้นแต่คู่ค้าได้ขยายฟังก์ชันและแสดงตัวเลือกเพิ่มเติมในส่วนขยาย

ถ้าคุณกำลังใช้แค็ตตาล็อกสำหรับ PunchOut คุณต้อง [ตั้งค่ารูปแบบข้อความ](set-up-external-catalog-for-punchout.md) ด้วย รูปแบบข้อความจะใช้ในการสร้างการเชื่อมต่อกับผู้จัดจำหน่ายในธุรกรรม PunchOut จากใบขอซื้อ เมื่อมีการส่งใบสั่งซื้อ จะมีการใช้คุณสมบัติใบสั่งเพื่อสร้างการเชื่อมต่อกับผู้จัดจำหน่าย

### <a name="set-the-order-properties"></a><a name="set-order-properties"></a>ตั้งค่าคุณสมบัติใบสั่ง

ลักษณะการทำงาน _การปรับปรุง cXML การซื้อ_ เพิ่มแท็บด่วน **คุณสมบัติใบสั่ง** ใหม่สำหรับแค็ตตาล็อกภายนอก แท็บด่วนนี้แสดงกริดซึ่งคุณสามารถกำหนดคุณสมบัติใบสั่งได้ นอกจากนี้ยังมีแถบเครื่องมือ แถบเครื่องมือนี้มีปุ่มสามปุ่มต่อไปนี้ซึ่งคุณสามารถใช้เพื่อจัดการคุณสมบัติใบสั่ง:

- **คุณสมบัติเริ่มต้น** –เมื่อคุณกำลังตั้งค่าแค็ตตาล็อกใหม่ ให้เลือกปุ่มนี้เพื่อเพิ่มคอลเลกชันที่กำหนดไว้ล่วงหน้าของคุณสมบัติที่ใช้กันทั่วไปไปยังกริด
- **สร้าง** – เพิ่มคุณสมบัติใหม่ลงในกริด
- **ลบ** – ลบคุณสมบัติที่เลือกในปัจจุบันออกจากกริด ถ้าคุณลบคุณสมบัติเริ่มต้นโดยไม่ได้ตั้งใจ ให้เลือก **คุณสมบัติเริ่มต้น** เพื่อคืนค่าคุณสมบัติที่ขาดหายไปทั้งหมด

ทุกครั้งที่คุณเพิ่มคุณสมบัติหนึ่งรายการขึ้นไปไปยังกริด ให้ใช้คอลัมน์ด้านขวาเพื่อระบุค่าสำหรับแต่ละรายการ

ใช้คุณสมบัติเริ่มต้นในลักษณะต่อไปนี้:

- **ผู้ซื้อ\_คุกกี้** – ฟิลด์การติดตามนี้สามารถใช้เพื่อระบุข้อมูลที่เฉพาะเจาะจงสำหรับบริษัทของคุณ ถ้าคุณมีข้อตกลงกับผู้จัดจำหน่ายเกี่ยวกับการใช้คุณสมบัตินี้ แสดงว่าไม่มีความหมายมากนักเมื่อส่งใบสั่งซื้อ ดังนั้นคุณจึงควรตั้งค่าเป็นค่าอย่างง่าย
- **DELIVERTO** – เมื่อป้อนที่อยู่ที่จัดส่งในเอกสารจากใบสั่งซื้อ จะมีการใช้ฟิลด์ **ข้อมูลความสนใจ** ในการตั้งค่าฟิลด์ **DELIVERTO** ในข้อความ XML ถ้าคุณต้องการให้ค่านี้เป็นชื่อผู้ขอและคุณจะตั้งค่าฟิลด์ผู้ขอบนส่วนหน้าของใบสั่งซื้อ ให้ป้อนค่า _ผู้ขอ_ สำหรับคุณสมบัตินี้เพื่อให้มีการป้อนชื่อผู้ขอไว้ในฟิลด์ **DeliverTo** ใน XML ในกรณีนี้ที่อยู่อีเมลหลักและหมายเลขโทรศัพท์ที่ใช้จะมาจากผู้ขอแทนที่จะเป็นผู้สั่ง
- **DEPLOYMENTMODE** – กำหนดคุณสมบัตินี้ตามต้องการโดยผู้จัดจำหน่าย โดยปกติแล้วค่าจะมี _การผลิต_ หรือ _การทดสอบ_ กำหนดค่าตามการสื่อสารของคุณกับผู้จัดจำหน่าย โดยปกติแล้วจะต้องตรงกับระบบที่กำหนดไว้หลังค่า **ORDERCHECKURL** ที่ผู้จัดจำหน่ายบ่งชี้เป็นการทดสอบหรือระบบการผลิต
- **FIXEDBILLADDRESSID** – เมื่อมีการตั้งค่าฟิลด์ **addressID** ในข้อความ XML จะมีการเลือกที่ตั้งที่ระบุในที่อยู่ ถ้าค่ารหัสที่คุณได้สื่อสารกับผู้จัดจำหน่ายแตกต่างจากค่าบนสถานที่ที่อยู่ด้วยเหตุผลบางประการ คุณสามารถบังคับให้แทนที่ได้โดยระบุค่าที่นี่ สมมติฐานคือคุณจะใช้ที่อยู่เดียวกับผู้จัดจำหน่ายเท่านั้น และจะมีการตั้งค่าที่อยู่ในระบบของผู้จัดจำหน่าย ที่อยู่ในการเรียกเก็บเงินคือที่อยู่ของใบแจ้งหนี้หลักที่ระบุไว้สำหรับนิติบุคคลใน Supply Chain Management
- **FIXEDBILLADDRESSID** – เมื่อมีการตั้งค่าฟิลด์ **addressID** ในข้อความ XML จะมีการเลือกที่ตั้งที่ระบุในที่อยู่ ถ้าค่ารหัสที่คุณได้สื่อสารกับผู้จัดจำหน่ายแตกต่างจากค่าบนสถานที่ที่อยู่ด้วยเหตุผลบางประการ คุณสามารถบังคับให้แทนที่ได้โดยระบุค่าที่นี่ สมมติฐานคือคุณจะใช้ที่อยู่เดียวกับผู้จัดจำหน่ายเท่านั้น และจะมีการตั้งค่าที่อยู่ในระบบของผู้จัดจำหน่าย ที่อยู่จัดส่งคือที่อยู่ที่ระบุไว้ในหัวข้อของใบสั่งซื้อ ผู้จัดจำหน่ายส่วนใหญ่ยอมรับเฉพาะที่อยู่ของหัวข้อ ไม่ใช่ที่อยู่ของรายการ ถึงแม้ว่าจะมีฟิลด์สำหรับที่อยู่บรรทัดใน XML ฟิลด์นี้จะถูกตั้งค่าเป็นที่อยู่ของหัวข้อ
- **จาก\_โดเมน** – ป้อนค่าที่ใช้ในการส่งเอกสารใบสั่งซื้อ ค่านี้จะระบุโดยผู้จัดจำหน่ายของคุณ
- **จาก\_รหัส** – ป้อนค่าที่ใช้ในการส่งเอกสารใบสั่งซื้อ ค่านี้จะระบุโดยผู้จัดจำหน่ายของคุณ
- **ORDERCHECKURL** – ป้อน URL เพื่อส่งเอกสารใบสั่งซื้อไปให้ URL นี้จะเริ่มต้นด้วย `https://` และจัดหาโดยผู้จัดจำหน่ายของคุณ
- **น้ำหนักบรรทุกที่สร้างรายได้\_รหัส** –ป้อนค่าคำเสริมหน้าสำหรับรหัสน้ำหนักบรรทุกที่สร้างรายได้ที่จำเป็นสำหรับกระบวนการทางธุรกิจที่อยู่ในสถานที่สำหรับผู้จัดจำหน่ายปัจจุบัน
- **ผู้ส่ง\_โดเมน** – ป้อนค่าที่ใช้ในการส่งเอกสารใบสั่งซื้อ ค่านี้จะระบุโดยผู้จัดจำหน่ายของคุณ
- **ผู้ส่ง\_รหัส** – ป้อนค่าที่ใช้ในการส่งเอกสารใบสั่งซื้อ ค่านี้จะระบุโดยผู้จัดจำหน่ายของคุณ
- **ที่แชร์ร่วมกัน\_ความลับ** – ป้อนค่าที่ใช้ในการส่งเอกสารใบสั่งซื้อ ค่านี้จะระบุโดยผู้จัดจำหน่ายของคุณ
- **STREETLENGTH** – ป้อนตัวเลขที่แสดงจำนวนอักขระสูงสุดที่ผู้จัดจำหน่ายจะยอมรับเป็นชื่อถนน ถ้ามีการป้อนค่าที่นี่ จะมีการแทนที่ค่าที่ระบุไว้ในหน้า **พารามิเตอร์ cXML** ระบบจะลบตัวแบ่งบรรทัดและช่องว่างเพื่อให้พอดีกับที่อยู่มาตรฐานใน Supply Chain Management เข้ากับจำนวนอักขระที่ระบุที่นี่ อักขระเพิ่มเติมใดๆ จะถูกตัดให้สั้นลง
- **ไปยัง\_โดเมน** – ป้อนค่าที่ใช้ในการส่งเอกสารใบสั่งซื้อ ค่านี้จะระบุโดยผู้จัดจำหน่ายของคุณ
- **ไปยัง\_รหัส** – ป้อนค่าที่ใช้ในการส่งเอกสารใบสั่งซื้อ ค่านี้จะระบุโดยผู้จัดจำหน่ายของคุณ
- **USERAGENT** – ป้อนค่าเพื่อระบุระบบที่คุณกำลังใช้อยู่ ตัวอย่างเช่น ป้อน _Dynamics 365 Supply Chain Management_
- **เวอร์ชัน** – ป้อนหมายเลขเวอร์ชันของ cXML ถ้าผู้จัดจำหน่ายขอข้อมูลนี้ เวอร์ชันเริ่มต้นคือ *1.2.008* เวอร์ชันนี้มีความคงทนและเป็นที่ยอมรับโดยผู้จัดจำหน่ายส่วนใหญ่
- **RESPONSETEXT** – ป้อนข้อความแบบกำหนดเองใดๆ ที่คุณคาดหวังให้ผู้จัดจำหน่ายส่งคืนในข้อความการตอบสนอง cXML หลังจากที่มีการส่งใบสั่ง ด้วยวิธีนี้ ระบบสามารถทำเครื่องหมายข้อความเป็น _ยอมรับ_ ได้ ถ้าการตอบสนองไม่ตรงกับข้อความมาตรฐานหรือข้อความของลูกค้าที่คุณป้อนที่นี่ จะมีการทำเครื่องหมายคำขอเป็น _ข้อผิดพลาด_
- **RESPONSETEXTSUB** – ตั้งค่าคุณสมบัตินี้เป็น _จริง_ ถ้าคุณต้องการค้นหาข้อความตอบสนองของผู้จัดจำหน่ายสำหรับค่าที่ระบุไว้ในฟิลด์ **RESPONSETEXT** ตัวอย่างเช่น ผู้จัดจำหน่ายอาจส่งคืนสตริงที่มีความยาวซึ่งรวม "ตกลง" ในการตอบสนอง ในกรณีนี้คุณสามารถป้อน _ตกลง_ ในฟิลด์ **RESPONSETEXT** และตั้งค่า **RESPONSETESTSUB** เป็น _จริง_ เพื่อค้นหา "ตกลง" ที่ใดก็ได้ในการตอบสนอง คุณสามารถตั้งค่าใบสั่งให้เป็น _ยอมรับ_ ได้
- **CONTENTTYPE** – ในการตั้งค่าแค็ตตาล็อกโดยทั่วไปคุณไม่จำเป็นต้องตั้งค่าคุณสมบัตินี้ ถ้าคุณได้รับข้อผิดพลาดของเซิร์ฟเวอร์ 500 จากระบบของผู้จัดจำหน่ายเมื่อคุณส่งใบสั่งซื้อ คุณสามารถทำการทดสอบได้โดยการตั้งค่าคุณสมบัตินี้เป็น _เท็จ_ ค่าดังกล่าวจะเปลี่ยนการตั้งค่าในคำขอเว็บและอาจเปิดใช้งานข้อความที่จะส่งสำหรับบางแพลตฟอร์ม
- **ENABLEHEADERS** – ตั้งค่าคุณสมบัตินี้เป็น _จริง_ เพื่อส่งหัวข้อพร้อมกับใบสั่งซื้อ คุณต้องตั้งค่าคุณสมบัตินี้เฉพาะเมื่อผู้จัดจำหน่ายจำเป็นต้องใช้เท่านั้น ถ้าคุณตั้งค่าคุณสมบัตินี้เป็น _จริง_ ให้เพิ่มคุณสมบัติแบบกำหนดเองพิเศษที่จะขึ้นอยู่กับชื่อที่ผู้จัดจำหน่ายให้ และเพิ่มคำนำหน้าด้วย _H\__ ตัวอย่างโดยทั่วไป ได้แก่ **H\_USERID**, **H\_PASSWORD**, **H\_RECEIVERID** และ **H\_ACTIONREQUEST** คุณสมบัติที่กำหนดเองต่อไปนี้จะรวมอยู่ในคุณสมบัติเริ่มต้น:

    - **H\_USERID** – ถ้าคู่ค้าต้องการให้คุณส่งรหัสผู้ใช้เป็นส่วนหนึ่งของ URL เพื่อส่งใบสั่งซื้อ ให้ป้อนค่าที่นี่
    - **H\_PASSWORD** – ถ้าคู่ค้าต้องการให้คุณส่งรหัสผู้ใช้เป็นส่วนหนึ่งของ URL เพื่อส่งใบสั่งซื้อ ให้ป้อนค่าที่นี่

- **ENABLEMANUALPO** – ถ้าคุณสมบัตินี้ได้รับการตั้งค่าเป็น _จริง_ เมื่อผู้ใช้สร้างใบสั่งซื้อด้วยตนเอง (นั่นคือเมื่อพวกเขาไม่เริ่มต้นจากใบขอซื้อ) ใบสั่งซื้อเหล่านั้นจะสืบทอดการตั้งค่าของตัวเลือก **ส่งใบสั่งซื้อผ่านทาง cXML** จากผู้จัดจำหน่าย ถ้าคุณสมบัตินี้ไม่ได้รับการตั้งค่าหรือถ้าถูกตั้งค่าเป็น _เท็จ_ แสดงว่าตัวเลือก **ส่งใบสั่งซื้อผ่านทาง cXML** ไม่ได้ถูกตั้งค่าบนหัวข้อของใบสั่งซื้อสำหรับใบสั่งซื้อที่สร้างขึ้นด้วยตนเอง สำหรับใบสั่งซื้อที่สร้างขึ้นจากใบขอซื้อ การตั้งค่าของตัวเลือก **ส่งใบสั่งซื้อโดยใช้ cXML** จะสืบทอดมาจากผู้จัดจำหน่ายเสมอโดยไม่คำนึงถึงการตั้งค่าของคุณสมบัตินี้ สำหรับข้อมูลเพิ่มเติม ให้ดูที่ส่วน [ตั้งค่าใบสั่งซื้อของผู้จัดจำหน่ายเพื่อใช้ cXML](#vendor-setup) ที่ก่อนหน้าในหัวข้อนี้
- **PUNCHOUTPOONLY** – ถ้าคุณสมบัตินี้ได้รับการตั้งค่าเป็น _จริง_ เฉพาะบรรทัดใบขอซื้อที่สร้างขึ้นจากกระบวนการ PunchOut เท่านั้นที่จะตั้งค่าตัวเลือก **ส่งใบสั่งซื้อผ่าน cXML** บนหัวข้อของใบสั่งซื้อ นอกจากนี้ชนิดของรายการใบขอซื้อของรายการทั้งหมดในใบสั่งซื้อต้องเป็น _สินค้าในแค็ตตาล็อกภายนอก_ มิฉะนั้นจะไม่สามารถสร้างใบสั่งซื้อ cXML ได้
- **PUNCHOUTSHIPTO** – ถ้าคุณสมบัตินี้ได้รับการตั้งค่าเป็น _จริง_ ที่อยู่เริ่มต้นของนิติบุคคลจะถูกเพิ่มลงในข้อความคำขอการติดตั้ง PunchOut เมื่อผู้ใช้เปิดแค็ตตาล็อกภายนอก มีการเพิ่มที่อยู่นี้เป็นที่อยู่ **ShipTo** ผู้จัดจำหน่ายจะใช้ที่อยู่ **ShipTo** เพื่อแสดงการกำหนดราคาตามที่ตั้งบริษัท
- **TRACEPUNCHOUT** – ตั้งค่าคุณสมบัตินี้เป็น _จริง_ ถ้าคุณได้รับข้อความแสดงข้อผิดพลาดเมื่อคุณพยายามเรียกดูแค็ตตาล็อกภายนอกจากใบขอซื้อ จะมีการเติมข้อมูลการติดตามกลับสำหรับข้อความ **PunchOutSetupRequest** และ **PunchOutResponse** ที่ส่งระหว่าง Supply Chain Management และไซต์ของผู้จัดจำหน่าย คุณสามารถดูข้อมูลนี้บนหน้า **ล็อกข้อความของรถเข็น cXML** ซึ่งคุณสามารถเปิดจากหน้า **การตั้งค่าแค็ตตาล็อกภายนอก** สำหรับแค็ตตาล็อกของผู้จัดจำหน่ายที่คุณกำลังมีปัญหา คุณควรตั้งค่าคุณสมบัตินี้เป็น _จริง_ เฉพาะเมื่อคุณกำลังแก้ไขปัญหาเท่านั้น เนื่องจากจะสร้างค่าโสหุ้ยประสิทธิภาพการทำงานขนาดใหญ่ในฐานข้อมูลสำหรับแต่ละ PunchOut สำหรับข้อมูลเพิ่มเติมให้ดูที่ส่วน [ดูล็อกข้อความรถเข็นของ cXML สำหรับ PunchOut ของแค็ตตาล็อกภายนอก](#message-log) ในภายหลังในหัวข้อนี้
- **REPLACENEWLINE** – ตั้งค่าคุณสมบัตินี้เป็น _จริง_ ถ้าคุณกำลังมีปัญหาเนื่องจากระบบของผู้จัดจำหน่ายกำลังส่งข้อความ **PunchOutResponse**  ที่มีอักขระบรรทัดใหม่ (\\n) ปัญหานี้อาจเกิดขึ้นถ้ามีการแยกวิเคราะห์ข้อความของผู้จัดจำหน่ายผ่านมิดเดิลแวร์หรือฮับการจัดซื้อ ถ้าคุณกำลังมีปัญหาเกี่ยวกับการตั้งค่าผู้จัดจำหน่ายใหม่ ให้ตั้งค่าคุณสมบัติ **TRACEPUNCHOUT** เป็น _จริง_ เพื่อดูข้อความ **PunchOutResponse**  และตรวจสอบว่าแท็ก XML ถูกแบ่งโดยอักขระบรรทัดใหม่หรือไม่
- **POCOMMENTS** – ตั้งค่าคุณสมบัตินี้เป็น _จริง_ ถ้าคุณต้องการให้เอกสาร cXML รวมหมายเหตุที่แนบกับใบสั่งซื้อใน Supply Chain Management ข้อความแนบจะรวมอยู่ในข้อคิดเห็นเกี่ยวกับหัวข้อในข้อความใบสั่งซื้อ สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการที่ระบบเลือกและประมวลผลเอกสารแนบเหล่านี้ ให้ดูที่ส่วน [แนบหมายเหตุกับใบสั่งซื้อ](#attach-po-notes) ในภายหลังในหัวข้อนี้
- **VENDCOMMENTS** – ตั้งค่าคุณสมบัตินี้เป็น _จริง_ ถ้าคุณต้องการให้เอกสาร cXML รวมหมายเหตุที่แนบกับใบสั่งซื้อใน Supply Chain Management ข้อความแนบจะรวมอยู่ในข้อคิดเห็นเกี่ยวกับหัวข้อในข้อความใบสั่งซื้อ สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการที่ระบบเลือกและประมวลผลเอกสารแนบเหล่านี้ ให้ดูที่ส่วน [แนบหมายเหตุกับใบสั่งซื้อ](#attach-po-notes) ในภายหลังในหัวข้อนี้
- **CLEANAMP** – ตั้งค่าคุณสมบัตินี้เป็น _จริง_ ถ้าคุณได้รับข้อความแสดงข้อผิดพลาดเมื่อคุณพยายามทำ PunchOut ให้กับผู้จัดจำหน่ายและ URL การส่งคืนของผู้จัดจำหน่ายจะรวมเครื่องหมายและถูกเข้ารหัสอย่างไม่ถูกต้อง (\&)
- **PUNCHOUTTZ** – ตั้งค่าคุณสมบัตินี้เป็น _จริง_ ถ้าผู้จัดจำหน่ายที่คุณกำลังทำงานด้วยใช้องค์กรสากลสำหรับมาตรฐาน (ISO) 8601 มาตรฐานที่จะทำการตรวจสอบความถูกต้องเฉพาะของวันที่/เวลาของข้อความคำขอ PunchOut Supply Chain Management ใช้วันที่เวลามาตรฐานสากล (UTC) ในข้อความ **PunchOutSetupRequest** เมื่อคุณตั้งค่าคุณสมบัตินี้เป็น _จริง_ *+ 00:00* จะถูกเพิ่มลงในรูปแบบวันที่/เวลา
- **WMSADDRESSID** – ตั้งค่าคุณสมบัตินี้เป็น _จริง_ เมื่อต้องการใช้หมายเลขคลังสินค้าบนหัวข้อของใบสั่งซื้อเป็นค่า **addressID** ในที่อยู่ **ShipTo**  สำหรับคำขอใบสั่งซื้อที่ส่งไปยังผู้จัดจำหน่าย ถ้าคุณกำหนดค่าสำหรับคุณสมบัติ **FIXEDSHIPADDRESSID** ค่านั้นจะมีความสำคัญกว่าค่านี้ ดังนั้นคุณควรใช้คุณสมบัติหนึ่งหรืออื่นๆ เพื่อตั้งค่าค่า **addressID** ที่อยู่ **ShipTo** สำหรับเอกสาร
- **PUNCHOUTSHIPTOUSER** – คุณสมบัตินี้ทำงานร่วมกับคุณสมบัติ **PUNCHOUTSHIPTO** ถ้ามีการตั้งค่า **PUNCHOUTSHIPTO** เป็น _จริง_ จะมีการเบิกที่อยู่ของนิติบุคคล ถ้ามีการตั้งค่า **PUNCHOUTSHIPTOUSER** เป็น _จริง_ จะมีการใช้ที่อยู่หลักจากผู้ใช้ PunchOut แทนที่จะเป็นที่อยู่นิติบุคคล

### <a name="activate-the-external-catalog"></a>เรียกใช้แค็ตตาล็อกภายนอก

เมื่อคุณตั้งค่าคุณสมบัติทั้งหมดแล้วและตั้งค่าคอนฟิกการตั้งค่าอื่นๆ สำหรับแค็ตตาล็อกภายนอกของคุณแล้ว ให้กลับไปที่แท็บด่วน **ทั่วไป** ของหน้า **แค็ตตาล็อกภายนอก** และตั้งค่าตัวเลือก **ที่ใช้งานอยู่** เป็น *ใช่*

### <a name="attach-notes-to-a-purchase-order"></a><a name="attach-po-notes"></a>แนบหมายเหตุกับใบสั่งซื้อ

ตามที่ระบุไว้ในส่วน [ตั้งค่าคุณสมบัติใบสั่ง](#set-order-properties) ถ้าคุณต้องการให้ cXML ที่จัดส่งของคุณรวมข้อความจากหมายเหตุที่แนบกับใบสั่งซื้อและ/หรือเรกคอร์ดผู้จัดจำหน่ายที่เกี่ยวข้อง คุณสามารถตั้งค่าคุณสมบัติ **POCOMMENTS** และ/หรือ **VENDCOMMENTS** เป็น _จริง_ ในการตั้งค่าแค็ตตาล็อกภายนอก ส่วนนี้แสดงรายละเอียดเพิ่มเติมเกี่ยวกับวิธีการที่ระบบเลือกและประมวลผลเอกสารแนบเหล่านี้ถ้าคุณใช้

เมื่อต้องการตั้งค่าชนิดของหมายเหตุที่ระบบจะค้นหา ให้ไปที่ **การจัดซื้อและการจัดหา \> การตั้งค่า \> ฟอร์ม \> จากการตั้งค่า** บนแท็บ **ใบสั่งซื้อ** ให้ตั้งค่าฟิลด์ **รวมเอกสารของประเภท** ให้กับประเภทของหมายเหตุที่คุณต้องการให้สามารถรวมได้ มีเพียงข้อความที่จะรวมไว้เท่านั้น ไม่ใช่เอกสารแนบของเอกสาร

![หน้าการตั้งค่าฟอร์ม](media/cxml-form-setup.png "หน้าการตั้งค่าแบบฟอร์ม")

ไฟล์แนบจะรวมอยู่ในใบสั่งซื้อเท่านั้น ถ้าฟิลด์ **ประเภท** ถูกตั้งค่าเป็นค่าที่คุณเลือกในฟิลด์ **รวมประเภทเอกสาร** และถ้าฟิลด์ **ข้อจำกัด** มีการตั้งค่าเป็น _ภายนอก_ เมื่อต้องการสร้าง ดู หรือแก้ไขเอกสารแนบสำหรับใบสั่งซื้อ ให้ไปที่ **การจัดซื้อและการจัดหา \> ใบสั่งซื้อทั้งหมด** ให้เลือกหรือสร้างใบสั่งซื้อแล้วเลือกปุ่ม **ไฟล์แนบ** (สัญลักษณ์ที่หนีบกระดาษ) ที่มุมขวาบน

![บันทึกย่อที่แนบซึ่งตั้งค่าไว้เพื่อส่งให้กับผู้จัดจำหน่าย](media/cxml-note-to-vendor.png "หมายเหตุที่แนบซึ่งตั้งค่าไว้เพื่อส่งให้กับผู้จัดจำหน่าย")

## <a name="view-the-cxml-cart-message-log-for-external-catalog-punchout"></a><a name="message-log"></a>ดูล็อกข้อความรถเข็นของ cXML สำหรับ PunchOut แค็ตตาล็อกภายนอก

เมื่อคุณตั้งค่าฟิลด์ **ชนิดโพรโทคอล Punchout** เป็น _cXML_ สำหรับแค็ตตาล็อกภายนอก ระบบจะเก็บบันทึกข้อความของรถเข็นที่กลับมาจากผู้จัดจำหน่าย ล็อกนี้สามารถใช้สำหรับการแก้ไขปัญหาและวัตถุประสงค์ของข้อมูลอื่นๆ

เมื่อต้องการเปิดล็อกสำหรับแค็ตตาล็อกภายนอกให้เลือกแค็ตตาล็อกที่เกี่ยวข้อง จากนั้นในบานหน้าต่างการดำเนินการ ให้เลือก **ล็อกข้อความของรถเข็น cXML** หน้า **ล็อกข้อความรถเข็นของ cXML** แสดงรายการของรถเข็นที่ส่งคืนแล้ว XML ที่เกี่ยวข้องกับรถเข็นเหล่านั้นและบรรทัดที่สร้างขึ้นในใบสั่งซื้อที่เกี่ยวข้อง

![หน้าบันทึกข้อความของรถเข็น cXML](media/cxml-cart-message-log.png "หน้าล็อกข้อความของรถเข็น cXML")

## <a name="set-the-extrinsic-elements-for-external-catalog-punchout"></a>ตั้งค่าองค์ประกอบภายนอกสำหรับ PunchOut แค็ตตาล็อกภายนอก

เมื่อคุณตั้งค่าฟิลด์ **ชนิดโพรโทคอล Punchout** เป็น *cXML* สำหรับแค็ตตาล็อกภายนอก คุณสามารถเพิ่มองค์ประกอบภายนอกที่กำหนดเองซึ่งจะถูกแทรกลงในสถานที่ที่ถูกต้องในข้อความ XML ที่ร้องขอ

เมื่อต้องการเพิ่มองค์ประกอบภายนอกลงในแค็ตตาล็อกภายนอก ให้ทำตามขั้นตอนต่อไปนี้

1. ไปที่ **การจัดซื้อและการจัดหา \> แค็ตตาล็อก \> แค็ตตาล็อกภายนอก**
1. เลือกแคตตาล็อกที่เกี่ยวข้อง
1. บนแท็บด่วน **รูปแบบข้อความ** ในส่วน **Extrinsics** ให้เลือก **เพิ่ม** เพื่อเพิ่มแถวไปยังกริดสำหรับแต่ละองค์ประกอบภายนอกที่คุณต้องการรวม บนแต่บะแถว กำหนดค่าฟิลด์ต่อไปนี้:

    - **=njv** – ป้อนชื่อสำหรับองค์ประกอบ ค่านี้จะกลายเป็นค่าของแอททริบิวต์ **ชื่อ** สำหรับองค์ประกอบ XML **Extrinsic** ที่สร้างขึ้นโดยแต่ละแถว โดยปกติแล้วคุณจะทำงานกับผู้จัดจำหน่ายของคุณในการยอมรับชื่อสำหรับแต่ละองค์ประกอบภายนอก
    - **ค่า** – เลือกค่าสำหรับองค์ประกอบ ค่านี้จะกลายเป็นค่าของแอททริบิวต์องค์ประกอบ XML ที่สร้างขึ้นโดยแต่ละแถว ค่าที่พร้อมใช้งานมีดังต่อไปนี้

        - **ชื่อผู้ใช้** – ใช้ชื่อของผู้ใช้ที่ดำเนินการ PunchOut ชื่อนี้เป็นชื่อที่ใช้ในการลงชื่อเข้าใช้สำหรับ Supply Chain Management
        - **อีเมลผู้ใช้** – ใช้ที่อยู่อีเมลของผู้ใช้ที่ดำเนินการ PunchOut ที่อยู่นี้เป็นที่อยู่ที่ผู้ใช้ได้ตั้งค่าในแท็บ **บัญชี** ของหน้า **ตัวเลือกผู้ใช้**
        - **ค่าสุ่ม** – ใช้ค่าสุ่มที่ไม่ซ้ำกัน
        - **ชื่อเต็มของผู้ใช้** – ใช้ชื่อเต็มของผู้ติดต่อที่เกี่ยวข้องกับผู้ใช้ที่เข้าถึงแค็ตตาล็อกภายนอก
        - **ชื่อจริง** – ใช้ชื่อจริงของผู้ติดต่อที่เกี่ยวข้องกับผู้ใช้ที่เข้าถึงแค็ตตาล็อกภายนอก
        - **นามสกุล** – ใช้นามสกุลของผู้ติดต่อที่เกี่ยวข้องกับผู้ใช้ที่เข้าถึงแค็ตตาล็อกภายนอก
        - **หมายเลขโทรศัพท์** – ใช้หมายเลขโทรศัพท์หลักของผู้ติดต่อที่เกี่ยวข้องกับผู้ใช้ที่เข้าถึงแค็ตตาล็อกภายนอก

![การตั้งค่าองค์ประกอบภายนอก](media/cxml-extrinsics.png "การตั้งค่าองค์ประกอบภายนอก")

ผู้ใช้หรือผู้ดูแลระบบจะมองไม่เห็นองค์ประกอบภายนอกเนื่องจากไม่มีการเพิ่มผู้ใช้ดังกล่าวจนกว่าผู้ใช้จะทำ PunchOut โดยจะมีการแทรกโดยอัตโนมัติระหว่าง **BuyerCookie** และ **BrowserFromPost** ในข้อความคำขอการติดตั้ง cXML ดังนั้นคุณจึงไม่จำเป็นต้องตั้งค่าด้วยตนเองใน XML เมื่อคุณตั้งค่าแค็ตตาล็อกภายนอก

![เพิ่มองค์ประกอบภายนอกให้กับ XML](media/cxml-extrinsics-xml.png "เพิ่มองค์ประกอบภายนอกให้กับ XML")

## <a name="create-and-process-a-purchase-order"></a><a name="create-po"></a>สร้างและดำเนินการใบสั่งซื้อ

เมื่อคุณสร้างใบสั่งซื้อสำหรับผู้จัดจำหน่าย จะมีการสืบทอดการตั้งค่าของตัวเลือก **การส่งใบสั่งซื้อผ่านทาง cXML** จากผู้จัดจำหน่ายนั้น อย่างไรก็ตามการตั้งค่ายังคงมีอยู่บนแท็บด่วน **การตั้งค่า** ในมุมมอง **หัวข้อ** ของใบสั่งซื้อเพื่อให้คุณสามารถเปลี่ยนแปลงได้ในภายหลังตามต้องการ

![ใบสั่งซื้อที่ตั้งค่าให้ใช้ cXML](media/cxml-purchase-order.png "ชุดใบสั่งซื้อที่จะใช้ cXML")

เมื่อคุณสร้างใบสั่งซื้อจากใบขอซื้อที่มาจากขั้นตอนการ PunchOut จะมีการกรอกรายละเอียดรายการที่จำเป็นทั้งหมด คุณสามารถเพิ่มบรรทัดใบสั่งซื้อด้วยตนเองหรือคัดลอกบรรทัดใบสั่งซื้อจากใบสั่งซื้ออื่นๆ ได้ด้วยตนเอง ตรวจสอบให้แน่ใจว่าได้ตั้งค่าฟิลด์ที่จำเป็นทั้งหมดแล้ว ฟิลด์ที่ต้องใช้เหล่านี้รวมถึงหมายเลขอ้างอิงภายนอกซึ่งเป็นหมายเลขผู้จัดจำหน่ายที่จะใช้ในข้อความ cXML

![ตัวอย่างของหมายเลขอ้างอิงภายนอก](media/cxml-line-details.png "ตัวอย่างของหมายเลขอ้างอิงภายนอก")

เมื่อคุณกรอกรายละเอียดทั้งหมดสำหรับใบสั่งซื้อเสร็จเรียบร้อยแล้ว ให้ตรวจสอบให้แน่ใจว่าได้ยืนยันแล้ว ไม่มีการส่งข้อความจนกว่าใบสั่งซื้อจะได้รับการยืนยัน เพื่อยืนยันใบสั่งซื้อ บนบานหน้าต่างการดำเนินการ บนแท็บ **ซื้อ** ในกลุ่ม **การดำเนินการ** ให้เลือก **ยืนยัน** 

หลังจากยืนยันใบสั่งซื้อแล้ว คุณสามารถดูสถานะของใบยืนยันการขายผ่านทางสมุดรายวัน **การยืนยันใบสั่งซื้อ** บนบานหน้าต่างการดำเนินการ บนแท็บ **การจัดซื้อ** ในกลุ่ม **สมุดรายวัน** เลือก **การยืนยันใบสั่งซื้อ**

ใบสั่งซื้อแต่ละใบจะมีใบยืนยันการขายจำนวนมาก การยืนยันแต่ละครั้งจะถูกทำเครื่องหมายด้วยหมายเลขเพิ่มเติม ในภาพประกอบต่อไปนี้ใบสั่งซื้อคือ *00000275* และการยืนยันคือ *00000275-1* การกำหนดหมายเลขนี้จะสะท้อนให้เห็นถึงฟังก์ชัน Supply Chain Management มาตรฐานซึ่งเปลี่ยนแปลงในใบสั่งซื้อ ดังนั้นจึงมีการระบุชนิดของข้อความ cXML ที่จะส่งไปยังผู้จัดจำหน่ายตามการยืนยัน ตามที่แสดงในภาพประกอบ หน้า **การยืนยันใบสั่งซื้อ** รวมถึง **สถานะการส่งใบสั่ง** และฟิลด์ **สถานะของผู้จัดจำหน่ายที่ร้องขอใบสั่ง** สำหรับข้อมูลเพิ่มเติมเกี่ยวกับค่าสถานะต่างๆ ที่คุณอาจเห็นในหน้านี้ โปรดดูที่ส่วน [ตรวจสอบคำขอใบสั่งซื้อ](#monitor-po-requests) ในหัวข้อนี้ในภายหลัง

![หน้าการยืนยันใบสั่งซื้อ](media/cxml-po-confirmations.png "หน้าการยืนยันใบสั่งซื้อ")

ถ้าต้องการดูข้อมูลเพิ่มเติมเกี่ยวกับเอกสาร ให้เลือก **คำขอใบสั่งซื้อ** ด้านบนของกริด

หน้า **คำขอใบสั่งซื้อ** มีสองกริด กริดในส่วนด้านบนของหน้ามีหนึ่งเรกคอร์ดสำหรับใบสั่งซื้อแต่ละใบที่ทำเครื่องหมายไว้สำหรับการส่ง กริดบนแท็บ **ประวัติคำขอใบสั่งซื้อ** ในส่วนด้านล่างของหน้าอาจมีหลายเรกคอร์ดสำหรับใบสั่งซื้อที่เลือกเพื่อระบุสถานะของใบยืนยันการขายแต่ละรายการ ภาพประกอบต่อไปนี้แสดงใบสั่งซื้อ 00000275 ในกริดด้านบนและเอกสาร 00000275-1 ในกริดบนแท็บ **ประวัติคำขอใบสั่งซื้อ**

![หน้าคำขอใบสั่งซื้อ](media/cxml-po-request.png "หน้าคำขอใบสั่งซื้อ")

ถ้าชุดงานมีการตั้งค่าและกำลังรัน เอกสารจะถูกส่ง คุณสามารถดูการเปลี่ยนสถานะหลังจากที่เอกสารถูกส่งแล้ว ในภาพประกอบต่อไปนี้ ฟิลด์ **สถานะการส่งใบสั่ง** ถูกตั้งค่าเป็น _ส่งแล้ว_ ฟิลด์ **สถานะของผู้จัดจำหน่ายของคำขอใบสั่ง** ถูกกำหนดให้เป็น _ที่ยอมรับ_ เพื่อบ่งชี้ว่าผู้จัดจำหน่ายได้รับเอกสารแล้ว และสามารถอ่านและจัดเก็บไว้ในระบบได้ กริดบนแท็บ **ประวัติคำขอใบสั่งซื้อ** แสดงเวลาเมื่อส่งเอกสาร สำหรับข้อมูลเพิ่มเติมเกี่ยวกับค่าสถานะต่างๆ ที่คุณอาจเห็นในหน้านี้ โปรดดูที่ส่วน [ตรวจสอบคำขอใบสั่งซื้อ](#monitor-po-requests)

![ข้อความแสดงสถานะบนหน้าคำขอใบสั่งซื้อ](media/cxml-po-request-2.png "ข้อความแสดงสถานะบนหน้าคำขอใบสั่งซื้อ")

## <a name="schedule-the-purchase-order-request-batch-job"></a><a name="po-batch"></a>จัดกำหนดการชุดงานคำขอใบสั่งซื้อ

เมื่อต้องการเรียกใช้งานชุดงานสำหรับการส่งคำขอใบสั่งซื้อ ให้ไปที่ **การจัดซื้อและการจัดหา \> การตั้งค่า \> การจัดการ cXML \> คำขอใบสั่งซื้อ** และจากนั้นบนบานหน้าต่างการดำเนินการบนแท็บ **คำขอใบสั่งซื้อ** ในกลุ่ม **ชุดงาน** ให้เลือก **ส่งงาน** เพื่อเปิดกล่องโต้ตอบ **การจัดเตรียมและส่งคำขอซื้อ** คุณสามารถใช้กล่องโต้ตอบนี้เพื่อตั้งค่าการเกิดซ้ำได้เช่นเดียวกับที่คุณทำไว้สำหรับชุดงานใน Supply Chain Management เลือกช่วงเวลา ซึ่งขึ้นอยู่กับระดับเสียงของใบสั่งของคุณ ถึงแม้ว่าคุณจะสามารถรันชุดงานทุกนาที ซึ่งน่าจะดีที่สุดเพื่อส่งชุดงานตลอดทั้งวันทำการ ตามการรับสินค้าตามใบสั่งที่ตรงกับกำหนดการของผู้จัดจำหน่ายของคุณ

ตัวอย่างเช่น ผู้จัดจำหน่ายของคุณมีนโยบายที่ระบุว่าใบสั่งทั้งหมดที่ได้รับภายใน 1 PM จะถูกจัดส่งในวันเดียวกัน ในกรณีนี้คุณอาจต้องรันชุดงานเพียงสองสามครั้งในช่วงเช้าเพื่อสื่อสารใบสั่งใดๆ ที่คุณมี จะมีการส่งใบสั่งที่เหลือในวันถัดไป การตัดสินใจครั้งนี้เป็นการตัดสินใจทางธุรกิจ คุณสามารถตรวจสอบและตั้งค่าพารามิเตอร์ตามลำดับได้

กระบวนการนี้จะค้นหาเอกสารคำขอใบสั่งซื้อที่มีสถานะ *กำลังรอ* ถ้าคุณมีใบสั่งที่คุณต้องส่งให้กับผู้จัดจำหน่ายในทันที คุณสามารถเลือก **ส่งงาน** และตั้งค่าตัวเลือก **การประมวลผลชุดงาน** เป็น *ไม่*

## <a name="monitor-purchase-order-requests"></a><a name="monitor-po-requests"></a>ตรวจสอบคำขอใบสั่งซื้อ

### <a name="view-the-status-of-a-purchase-order"></a>ดูสถานะของใบสั่งซื้อ

เมื่อใบสั่งที่สามารถส่งผ่าน cXML ได้รับการยืนยัน จะเปลี่ยนเป็นสถานะ _กำลังรอ_ ดังที่อธิบายไว้ในส่วน [สร้างและประมวลผลใบสั่งซื้อ](#create-po) คุณสามารถดูสถานะของใบสั่งซื้อบนหน้า **คำขอใบสั่งซื้อ** คำขอใบสั่งซื้อแต่ละใบจะมีหลายสถานะ ขึ้นอยู่กับพารามิเตอร์และข้อมูล ในหัวข้อนี้จะอธิบายถึงชนิดสถานะต่างๆ และค่าที่สามารถมีได้ ข้อมูลนี้จะช่วยให้คุณสามารถจัดการปัญหาและเข้าใจสถานะของใบสั่งซื้อของคุณได้

![สถานะใบสั่งซื้อบนหน้าคำขอใบสั่งซื้อ](media/cxml-monitor-po-request.png "สถานะใบสั่งซื้อบนหน้าคำขอใบสั่งซื้อ")

กริดในส่วนบนของหน้า **คำขอใบสั่งซื้อ** อาจแสดงค่าสถานะต่อไปนี้:

- **สถานะการส่งใบสั่ง** ฟิลด์นี้สามารถมีค่าใดค่าหนึ่งในค่าดังต่อไปนี้:

    - **กำลังรอ** – เอกสารกำลังรอที่จะส่ง
    - **ส่งแล้ว** – เอกสารถูกส่งไปแล้ว
    - **หยุด** – เอกสารถูกทำเครื่องหมายเป็น _หยุด_ ก่อนที่จะส่ง (ถ้าต้องการทำเครื่องหมายเอกสารเป็น _หยุด_ ให้เลือก **หยุด** ในบานหน้าต่างการดำเนินการของหน้า **คำขอซื้อ**)
    - **เก็บถาวร** – เอกสารถูกล้างข้อมูล (ถ้าต้องการล้างข้อมูลเอกสาร ให้เลือก **ล้างข้อมูล** ในบานหน้าต่างของหน้า **คำขอซื้อ**)

- **สถานะผู้จัดจำหน่ายของคำขอใบสั่ง** – ฟิลด์นี้สามารถมีค่าใดค่าหนึ่งในค่าดังต่อไปนี้:

    - **กำลังรอ** – เอกสารกำลังรอที่จะส่ง
    - **ยอมรับ** – เอกสารได้รับการยอมรับแล้วโดยผู้จัดจำหน่าย คุณสามารถตรวจสอบความถูกต้องของข้อความ XML โดยละเอียดที่ส่งคืนมาจากผู้จัดจำหน่ายได้โดยการเลือกแท็บ **การตอบสนอง XML** ในส่วนด้านล่างของหน้า
    - **ข้อผิดพลาด** – เอกสารถูกส่งไปยังผู้จัดจำหน่าย แต่มีข้อผิดพลาดเกิดขึ้น คุณสามารถตรวจสอบข้อความแสดงข้อผิดพลาดโดยการเลือกแท็บ **การตอบสนอง XML** ในส่วนด้านล่างของหน้า

กริดบนแท็บ **ประวัติคำขอใบสั่งซื้อ** ในส่วนล่างของหน้า **คำขอใบสั่งซื้อ** อาจแสดงค่าต่อไปนี้:

- **ประเภทคำขอใบสั่ง** – ฟิลด์นี้สามารถมีค่าใดค่าหนึ่งในค่าดังต่อไปนี้:

    - **ใหม่** – บรรทัดถูกทำเครื่องหมายเป็นใหม่ทันทีหลังจากยืนยันใบสั่งซื้อ
    - **การอัปเดต** – ถ้าการยืนยันถูกส่งและยอมรับแล้วโดยผู้จัดจำหน่าย การยืนยันครั้งถัดไปจะถูกทำเครื่องหมายเป็น _อัปเดต_ การอัปเดตจะถูกส่งไปเฉพาะเมื่อมีการตั้งค่าตัวเลือก **การส่งอัปเดตคำขอใบสั่งซื้อ** เป็น *ใช่* ใน [พารามิเตอร์ cXML สากล](#cxml-parameters)
    - **ลบ** –ถ้าการยืนยันถูกส่งและยอมรับแล้วโดยผู้จัดจำหน่ายแล้ว แต่ใบสั่งซื้อถูกยกเลิก การยืนยันที่กำลังรอจะถูกทำเครื่องหมายเป็น _ลบ_ การลบจะถูกส่งไปเฉพาะเมื่อมีการตั้งค่าตัวเลือก **ส่งการลบคำขอใบสั่งซื้อ** เป็น *ใช่* ใน [พารามิเตอร์ cXML สากล](#cxml-parameters)

- **เวลาที่ร้องขอ** – เวลาที่สร้างการยืนยันใบสั่ง คุณสามารถเปรียบเทียบเวลาที่ร้องขอกับสถานะของใบสั่งเพื่อกำหนดเวลาระหว่างการยืนยันและการยอมรับจากผู้จัดจำหน่าย
- **สถานะการส่งใบสั่ง** – ฟิลด์นี้จะเหมือนกับฟิลด์ **สถานะการส่งใบสั่ง** ในส่วนบนของหน้า การดำเนินการนี้จะทำให้คุณสามารถดูสถานะที่ระดับการยืนยันได้ง่ายขึ้น ถ้ามีการตั้งค่าฟิลด์ **ชนิดคำขอใบสั่ง** เป็น *ใหม่* และใบสั่งซื้อถูกยืนยันอีกครั้งก่อนที่จะมีการส่งการยืนยัน จะมีการตั้งค่าฟิลด์ **สถานะการส่งใบสั่ง** เป็น *เก็บถาวร*
- **เวลาสถานะของใบสั่ง** – เวลาที่อัปเดตเรกคอร์ดประวัติคำขอใบสั่งซื้อครั้งล่าสุด (การอัปเดตจะรวมถึงการเปลี่ยนแปลงสถานะ)
- **สถานะผู้จัดจำหน่ายของคำขอใบสั่ง** – ฟิลด์นี้จะเหมือนกับฟิลด์ **สถานะผู้จัดจำหน่ายของคำขอใบสั่ง** ในส่วนบนของหน้า การดำเนินการนี้จะทำให้คุณสามารถดูสถานะที่ระดับการยืนยันได้ง่ายขึ้น
- **เวลาในการส่งอีกครั้ง** – เวลาเมื่อมีการส่งเรกคอร์ดอีกครั้ง
- **การนับการส่งอีกครั้ง** – จำนวนครั้งที่มีการส่งเรกคอร์ดใหม่อีกครั้ง หมายเลขสูงบ่งชี้ถึงความล้มเหลวหลายอย่าง ดังนั้นจึงอาจบ่งชี้ถึงปัญหาเกี่ยวกับการตั้งค่าข้อมูลหรือการตั้งค่าข้อมูลของผู้จัดจำหน่ายของคุณ

### <a name="view-the-xml-for-a-purchase-order-request-message"></a>ดู XML สำหรับข้อความคำขอใบสั่งซื้อ

เมื่อต้องการดู XML สำหรับข้อความคำขอของใบสั่งซื้อ ให้เลือกแท็บ **ขอข้อความ XML** ที่ด้านล่างของหน้า **คำขอใบสั่งซื้อ** ข้อมูลบนแท็บนี้อาจเป็นประโยชน์ในระหว่างการทดสอบหรือการตรวจสอบความถูกต้องของข้อผิดพลาด เมื่อต้องการทำให้ข้อมูลอ่านง่ายขึ้น คุณสามารถดูได้ในรูปแบบข้อความที่มีการจัดรูปแบบ การคัดลอกเนื้อหาของแท็บไปยังไฟล์ข้อความ แล้วดูในตัวแก้ไข XML

![แท็บการร้องขอข้อความ XML](media/cxml-request-xml-text.png "แท็บการร้องขอข้อความ XML")

### <a name="view-the-details-of-the-vendor-response"></a>ดูรายละเอียดของการตอบสนองของผู้จัดจำหน่าย

เมื่อต้องการดูเนื้อหาของการยอมรับของผู้จัดจำหน่ายหรือการตอบสนองข้อผิดพลาด ให้เลือกแท็บ **XML การตอบสนอง** ที่ด้านล่างของหน้า **คำขอใบสั่งซื้อ**

![แท็บ XML การตอบสนอง](media/cxml-response-xml.png "แท็บ XML การตอบสนอง")

## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

- [ตั้งค่าแค็ตตาล็อกภายนอกสำหรับ PunchOut e-procurement](set-up-external-catalog-for-punchout.md)
- [ใช้แค็ตตาล็อกภายนอกสำหรับ PunchOut eProcurement](use-external-catalogs-for-punchout.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]