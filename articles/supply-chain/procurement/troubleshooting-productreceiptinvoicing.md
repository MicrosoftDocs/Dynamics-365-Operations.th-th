---
title: วิธีแก้ปัญหาใบรับสินค้าและการออกใบแจ้งหนี้
description: หัวข้อนี้จะอธิบายวิธีการแก้ไขปัญหาที่คุณอาจพบในระหว่างที่คุณทำงานกับใบรับสินค้าและการออกใบแจ้งหนี้
author: SmithaNataraj
ms.date: 09/16/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: PurchTable, PurchTablePart
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: smnatara
ms.search.validFrom: 2020-9-16
ms.dyn365.ops.version: Release 10.0.14
ms.openlocfilehash: e85556c7b86cfc8c78d3bcd53a7b99bb0bbddf3a2a45e6fe6329560c834633af
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/05/2021
ms.locfileid: "6718935"
---
# <a name="troubleshoot-product-receipts-and-invoicing"></a>วิธีแก้ปัญหาใบรับสินค้าและการออกใบแจ้งหนี้

หัวข้อนี้จะอธิบายวิธีการแก้ไขปัญหาที่คุณอาจพบในระหว่างที่คุณทำงานกับใบรับสินค้าและการออกใบแจ้งหนี้

## <a name="i-cant-post-more-than-one-invoice-for-a-purchase-order-line-that-has-category-based-items"></a>ฉันไม่สามารถลงรายการบัญชีใบแจ้งหนี้มากกว่าหนึ่งรายการสำหรับบรรทัดใบสั่งซื้อที่มีสินค้าตามประเภท

ปริมาณเป็นฟิลด์บังคับถ้าคุณต้องการลงรายการบัญชีใบแจ้งหนี้ ถ้าปริมาณทั้งหมดของบรรทัดมีการออกใบแจ้งหนี้สำหรับเฉพาะยอดเงินเพียงบางส่วน คุณจะไม่สามารถออกใบแจ้งหนี้ยอดเงินคงเหลือในใบแจ้งหนี้อื่นได้

## <a name="i-receive-an-object-reference-not-set-error-during-purchase-order-confirmation-or-an-exception-has-been-thrown-by-the-target-of-an-invocation-exception-occurs-during-vendor-invoice-posting"></a>ฉันได้รับข้อผิดพลาด "ไม่มีการตั้งค่าการอ้างอิงอ็อบเจกต์" ในระหว่างการยืนยันใบสั่งซื้อหรือมีข้อยกเว้น "เกิดข้อยกเว้นตามเป้าหมายของการเรียก" เกิดขึ้นระหว่างการลงรายการบัญชีใบแจ้งหนี้ของผู้จัดจำหน่าย

ปัญหานี้อาจเกิดขึ้นเนื่องจากความไม่สอดคล้องกันในการกระจายใบสั่งซื้อ

เมื่อต้องการยกเลิกการบล็อกปัญหานี้และรีเซ็ตใบสั่งซื้อเป็นสถานะ *แบบร่าง* ให้ไปที่การ **จัดซื้อและการจัดหา \> งานประจำงวด \> ล้างข้อมูล \> รีเซ็ตการกระจายใบสั่งซื้อ** สำหรับข้อมูลเพิ่มเติมให้ดูที่การลงรายการบัญชีบล็อกต่อไปนี้: [แก้ไขข้อผิดพลาดในการกระจาย PO ใน Dynamics 365 Supply Chain Management](https://cloudblogs.microsoft.com/dynamics365/it/2020/08/12/resolve-po-distribution-errors-in-dynamics-365-supply-chain-management/)

## <a name="i-cant-consolidate-multiple-product-receipts-into-a-single-purchase-order"></a>ฉันไม่สามารถรวมใบรับสินค้าหลายใบเข้ากับใบสั่งซื้อใบเดียวได้

คุณไม่สามารถรวมใบรับสินค้าหลายใบเข้ากับใบสั่งซื้อใบเดียวได้ถ้าบรรทัดใบรับสินค้าที่แตกต่างกันมีวันที่ลงบัญชีที่แตกต่างกัน

ใน Microsoft เวอร์ชันก่อนหน้านี้การรวมบัญชี Microsoft Dynamics 365 Supply Chain Management ได้รับอนุญาตในสถานการณ์นี้ อย่างไรก็ตามการปฏิบัติมีแนวโน้มที่จะเกิดข้อผิดพลาด วันที่ลงบัญชีของบรรทัดใบสั่งซื้อที่สร้างขึ้นไม่ควรแตกต่างจากวันที่ลงบัญชีในรายการใบรับสินค้าที่มีการสร้างบรรทัดใบสั่งซื้อเหล่านั้น (วันที่ลงบัญชีของบรรทัดใบสั่งซื้อตรงกับวันที่ลงบัญชีบนส่วนหน้าของใบสั่งซื้อ) ดังนั้นการรวมใบรับสินค้าหลายใบเป็นใบสั่งซื้อแต่ละใบจะไม่สามารถใช้ได้อีกต่อไป

มีการใช้วันที่ลงบัญชี ตัวอย่างเช่น สำหรับการจองงบประมาณและภาระผูกพัน ดังนั้นจึงควรเก็บรักษาไว้ในระหว่างการเปลี่ยนจากใบรับสินค้าไปยังใบสั่งซื้อ

## <a name="when-product-receipts-are-canceled-transactions-can-be-posted-to-a-suspended-ledger-account"></a>เมื่อยกเลิกใบรับสินค้าแล้ว คุณสามารถลงรายการบัญชีธุรกรรมไปยังบัญชีแยกประเภทที่ระงับได้

### <a name="issue-description"></a>คำอธิบายปัญหา

ถ้ามีการยกเลิกใบรับสินค้า ระบบจะอนุญาตให้ลงรายการบัญชีธุรกรรมไปยังบัญชีแยกประเภทที่ระงับได้ แม้ว่าบัญชีหลักจะถูกระงับ

### <a name="reproduce-the-issue"></a>สร้างปัญหาอีกครั้ง

กระบวนการต่อไปนี้แสดงวิธีหนึ่งที่จะสร้างปัญหาอีกครั้ง

1. บนหน้า **พารามิเตอร์บัญชีเจ้าหนี้** บนแท็บ **ทั่วไป** โปรดตรวจสอบให้แน่ใจว่าได้ตั้งค่าตัวเลือก **ลงรายการบัญชีใบรับสินค้าในบัญชีแยกประเภท** เป็น *ใช่*
1. สร้างใบสั่งซื้อและเพิ่มบรรทัดใบสั่งที่มีปริมาณ *1,000* สำหรับผลิตภัณฑ์
1. ยืนยันใบสั่งซื้อ
1. ลงรายการบัญชีใบรับสินค้าและตรวจสอบใบสำคัญ
1. ระงับบัญชีหลักที่เกี่ยวข้อง *200140* และ *140200*
1. ยกเลิกใบรับสินค้าที่ลงรายการบัญชี
1. โปรดสังเกตว่าธุรกรรมสามารถลงรายการบัญชีไปยังบัญชีแยกประเภทที่ระงับได้

### <a name="issue-resolution"></a>การแก้ไขปัญหา

คุณสามารถลงรายการบัญชีธุรกรรมไปยังบัญชีแยกประเภทที่ถูกระงับเมื่อยกเลิกใบรับสินค้า เนื่องจากลักษณะการทำงานนี้ช่วยให้สามารถลงรายการบัญชีได้อย่างถูกต้อง

## <a name="a-product-receipt-voucher-number-is-consumed-even-if-no-financial-voucher-is-generated-during-product-receipt"></a>มีการใช้หมายเลขใบสำคัญของใบรับสินค้าถึงแม้ว่าจะไม่มีการสร้างใบสำคัญทางการเงินในระหว่างการรับสินค้า

ถ้ามีการตั้งค่าตัวเลือก **บันทึกหนี้สินค้างจ่ายของใบรับสินค้า** เป็น *ไม่มี* สำหรับกลุ่มแบบจำลองสินค้า จะไม่มีการลงรายการบัญชีในบัญชีแยกประเภททั่วไป อย่างไรก็ตามจะมีการบันทึกเหตุการณ์ทางกายภาพสำหรับวัตถุประสงค์ของการบัญชีในบัญชีแยกประเภทย่อย และเหตุการณ์นั้นต้องใช้หมายเลขใบสำคัญ หมายเลขใบสำคัญนี้คือหมายเลขใบสำคัญที่มีการอ้างอิงในรายการธุรกรรมของสินค้าคงคลัง

เราขอแนะนำให้คุณตั้งค่าตัวเลือก **บันทึกหนี้สินค้างจ่ายของใบรับสินค้า** เป็น *ใช่* ดังที่อธิบายไว้ในการลงรายการบัญชีบล็อกต่อไปนี้: [ลงรายการบัญชีค่าธรรมเนียมเบ็ดเตล็ดในเวลาของใบรับสินค้า](https://cloudblogs.microsoft.com/dynamics365/no-audience/2014/11/11/post-misc-charges-at-time-of-product-receipt/)

## <a name="the-post-to-charge-account-in-ledger-setting-isnt-turned-on"></a>ไม่ได้เปิดใช้งานการลงรายการบัญชีไปยังบัญชีแยกประเภทในการตั้งค่าบัญชีแยกประเภท

### <a name="issue-description"></a>คำอธิบายปัญหา

ปัญหานี้เกิดขึ้นเมื่อใบสั่งซื้อมีการออกใบแจ้งหนี้แล้วถ้ามีการตั้งค่าตัวเลือก **ลงรายการบัญชีในบัญชีแยกประเภท** เป็น *ใช่* บนแท็บ **ใบแจ้งหนี้** ของหน้า **พารามิเตอร์บัญชีเจ้าหนี้**

### <a name="reproduce-the-issue"></a>สร้างปัญหาอีกครั้ง

กระบวนการต่อไปนี้แสดงวิธีหนึ่งที่จะสร้างปัญหาอีกครั้ง

1. ไปที่ **บัญชีเจ้าหนี้ \> การตั้งค่า \> พารามิเตอร์บัญชีเจ้าหนี้**
1. บนแท็บ **ใบแจ้งหนี้** ให้ตั้งค่าตัวเลือก **ลงรายการบัญชีค่าธรรมเนียมบัญชีในบัญชีแยกประเภท** เป็น *ใช่*
1. ไปที่ **การจัดการสินค้างคงคลัง \> ตั้งค่า \> การลงรายการบัญชี \> การลงรายการบัญชี**
1. บนแท็บ **ใบสั่งซื้อ** ตรวจสอบให้แน่ใจว่าคุณได้ลบบรรทัดทั้งหมดในรายจ่ายการซื้อสำหรับผลิตภัณฑ์แล้ว
1. ไปที่ **บัญชีเจ้าหนี้ \> ใบสั่งซื้อ \> ใบสั่งซื้อทั้งหมด**
1. สร้างใบสั่งซื้อ ในฟิลด์ **บัญชีผู้จัดจำหน่าย** ให้เลือก *วัสดุสำนักงาน 1001 Acme*
1. เพิ่มบรรทัดใบสั่งซื้อที่มีการตั้งค่าต่อไปนี้:

    - **หมายเลขสินค้า:** *เครื่องฉายเลเซอร์ D0011*
    - **ไซต์:** *1*
    - **คลังสินค้า:** *11*
    - **ปริมาณ:** *4*

1. ในบานหน้าต่างการดำเนินการ บนแท็บ **การซื้อ** ในกลุ่ม **การดำเนินการ** ให้เลือก **ยืนยัน**
1. บนบานหน้าต่างการดำเนินการ บนแท็บ **การรับสินค้า** ในกลุ่ม **ทั่วไป** ให้เลือก **ใบรับสินค้า**
1. ในกล่องโต้ตอบ **การลงรายการบัญชีใบรับสินค้า** ในฟิลด์ **ใบรับสินค้า** ให้ป้อนหมายเลขตามต้องการ แล้วเลือก **ตกลง**
1. ในบานหน้าต่างการดำเนินการ บนแท็บ **ใบแจ้งหนี้** ในกลุ่ม **สร้าง** ให้เลือก **ใบแจ้งหนี้**
1. ในฟิลด์ **หมายเลข** ให้ป้อนหมายเลขอำเภอใจเป็นหมายเลขใบแจ้งหนี้
1. อัปเดตสถานะการจับคู่และการลงรายการบัญชี
1. โปรดสังเกตว่าขณะนี้คุณได้รับข้อผิดพลาดต่อไปนี้เมื่อคุณสร้างใบแจ้งหนี้จากใบสั่งซื้อ: "หมายเลขบัญชีสำหรับชนิดธุรกรรมรายจ่ายการซื้อสำหรับผลิตภัณฑ์ไม่มีอยู่"

### <a name="issue-resolution"></a>การแก้ไขปัญหา

ทั้งนี้ขึ้นอยู่กับการตั้งค่าพารามิเตอร์สำหรับใบแจ้งหนี้และกลุ่มใบแจ้งหนี้ สำหรับข้อมูลเพิ่มเติม ให้ดูที่การลงรายการบัญชีบล็อกต่อไปนี้: [การลงบัญชีสำหรับค่าธรรมเนียมการซื้อและการเปลี่ยนแปลงสินค้าคงคลัง](https://cloudblogs.microsoft.com/dynamics365/no-audience/2014/12/15/accounting-for-purchase-charge-and-stock-variation/)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]