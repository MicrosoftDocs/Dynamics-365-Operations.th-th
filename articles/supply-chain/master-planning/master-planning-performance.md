---
title: ปรับปรุงประสิทธิภาพของการวางแผนหลัก
description: หัวข้อนี้จะอธิบายตัวเลือกต่างๆ ที่สามารถช่วยคุณในการปรับปรุงประสิทธิภาพการทำงานของการวางแผนหลักและแก้ไขปัญหา
author: t-benebo
manager: AnnBe
ms.date: 05/31/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ReqCreatePlanWorkspace
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: benebotg
ms.search.validFrom: 2019-05-31
ms.dyn365.ops.version: AX 10.0.0
ms.openlocfilehash: f0d075bbcc8a6671054f227a13c75ca7fb1e954f
ms.sourcegitcommit: 432481001b986b54937d423516efd8f2af1511d6
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 06/13/2019
ms.locfileid: "1631554"
---
# <a name="improve-master-planning-performance"></a>ปรับปรุงประสิทธิภาพของการวางแผนหลัก

[!include [banner](../includes/preview-banner.md)]
[!include [banner](../includes/banner.md)]

หัวข้อนี้จะอธิบายตัวเลือกต่างๆ ที่สามารถช่วยคุณในการปรับปรุงประสิทธิภาพการทำงานของการวางแผนหลักและแก้ไขปัญหา ซึ่งรวมถึงข้อมูลเกี่ยวกับพารามิเตอร์และการตั้งค่า และเกี่ยวกับการตั้งค่าคอนฟิกและการดำเนินการที่แนะนำ นอกจากนี้ ยังมีสรุปของพารามิเตอร์ที่สำคัญทั้งหมดที่คุณควรพิจารณา เมื่อคุณมีงานการวางแผนหลักที่รันเป็นเวลานาน

หัวข้อนี้มีไว้สำหรับผู้ดูแลระบบหรือผู้ใช้ IT ที่มีความสามารถในการแก้ไขปัญหา นอกจากนี้ ยังมีไว้สำหรับผู้วางแผนการผลิตหรือการจัดหาวัสดุ เพราะจะรวมถึงข้อมูลเกี่ยวกับพารามิเตอร์ที่เกี่ยวข้องกับความต้องการในการวางแผนธุรกิจ 

## <a name="parameters-that-are-related-to-master-planning-performance"></a>พารามิเตอร์ที่เกี่ยวข้องกับประสิทธิภาพของการวางแผนหลัก

พารามิเตอร์ต่างๆ มีผลกระทบต่อเวลาการรันของการวางแผนหลัก และควรได้รับการพิจารณา

### <a name="number-of-threads"></a>จำนวนของเธรด

พารามิเตอร์ **จำนวนของเธรด** ช่วยให้คุณสามารถปรับปรุงกระบวนการวางแผนหลัก เพื่อช่วยให้ทำงานได้ดียิ่งขึ้นในชุดข้อมูลที่ระบุ ซึ่งระบุจำนวนเธรดทั้งหมดที่จะใช้ในการรันการวางแผนหลัก ซึ่งทำให้เกิดการกำหนดการทำงานแบบขนานของการรันการวางแผนหลัก และการกำหนดการทำงานแบบขนานนี้ช่วยลดเวลาที่ใช้ในการรัน 

คุณสามารถตั้งค่าพารามิเตอร์ **จำนวนของเธรด** ในกล่องโต้ตอบ **การรันการวางแผนหลัก** เพื่อเปิดกล่องโต้ตอบนี้ ไปยัง **การวางแผนหลัก \> การวางแผนหลัก \> การรัน \> การวางแผนหลัก** หรือเลือก **รัน** ในพื้นที่ทำงาน **การวางแผนหลัก** เมื่อต้องการกำหนดค่าที่ดีที่สุดสำหรับพารามิเตอร์นี้ คุณจะต้องพึ่งพากระบวนการทดลองและข้อผิดพลาด อย่างไรก็ตาม คุณสามารถใช้สูตรต่อไปนี้เพื่อคำนวณค่าเริ่มต้น:

- **ถ้าอุตสาหกรรมของคุณเป็นการผลิต:** จำนวนของเธรด = จำนวนของแผนการใบสั่ง ÷ 1,000
- **มิฉะนั้น:** จำนวนของเธรด = จำนวนของสินค้า ÷ 1,000

จำนวนของตัวช่วยที่ใช้ในระหว่างการวางแผนหลัก ต้องน้อยกว่าหรือเท่ากับจำนวนสูงสุดของเธรดที่ได้รับอนุญาตบนเซิร์ฟเวอร์ชุดงาน ถ้าจำนวนของผู้ช่วยมากเกินกว่าจำนวนของเธรดบนเซิร์ฟเวอร์ชุดงาน เธรดพิเศษจะไม่ทำงานใดๆ

> [!NOTE]
> การตั้งค่าเป็น **0** (ศูนย์) สำหรับพารามิเตอร์ **จำนวนของเธรด** จะเพิ่มเวลาที่ใช้ในการรันการวางแผนหลัก ดังนั้น เราขอแนะนำให้คุณตั้งค่าที่มากกว่า 0 เสมอ

### <a name="number-of-tasks-in-helper-task-bundle"></a>จำนวนงานในกลุ่มงานของตัวช่วย

ด้วยการเปลี่ยนการตั้งค่า **จำนวนของงานในกลุ่มงาน** (นั่นคือ ขนาดของกลุ่ม) คุณอาจสามารถลดเวลาที่ใช้ในการรันได้ การตั้งค่านี้จะควบคุมจำนวนของรายการที่มีการวางแผนรวมกันโดยตัวช่วยเดียว

คุณสามารถตั้งค่าพารามิเตอร์ **จำนวนของงานในกลุ่มงาน** ในส่วน **ประสิทธิภาพการทำงาน** บนแท็บ **ทั่วไป** ของหน้า **พารามิเตอร์การวางแผนหลัก** (**การวางแผนหลัก \> การตั้งค่า \> พารามิเตอร์การวางแผนหลัก**) ค่าที่ดีที่สุดสำหรับพารามิเตอร์นี้จะขึ้นอยู่กับข้อมูลของคุณ ดังนั้น เราขอแนะนำให้คุณเริ่มต้นด้วยค่าเป็น **1** แล้วจากนั้น ใช้กระบวนการทดลองและข้อผิดพลาดเพื่อกำหนดค่าที่ดีที่สุดสำหรับการตั้งค่าของคุณ

โดยทั่วไป เราขอแนะนำว่าคุณควรเพิ่มจำนวนของงาน เมื่อจำนวนของรายการมีขนาดใหญ่มาก (ในจำนวนหลายแสน) มิฉะนั้น คุณควรลดจำนวนของงาน สำหรับอุตสาหกรรมเฉพาะต่อไปนี้ โปรดพิจารณาประเด็นเหล่านี้:

- ในอุตสาหกรรมขายปลีกและการกระจาย ที่มีสินค้าอิสระจำนวนมาก ให้ใช้ตัวช่วยจำนวนมาก เนื่องจากไม่มีการอ้างอิงระหว่างสินค้า 
- ในอุตสาหกรรมการผลิต ที่ซึ่งมีสูตรการผลิต (BOMs) และส่วนประกอบย่อยที่ใช้ร่วมกันจำนวนมาก ใช้ตัวช่วยน้อยลง เนื่องจากการอ้างอิงระหว่างสินค้าอาจทำให้เกิดเวลารอ

> [!TIP]
> ถ้าคุณมีปัญหาเกี่ยวกับประสิทธิภาพ เราขอแนะนำให้คุณลดการตั้งค่า **จำนวนของตัวช่วยในกลุ่มงาน** เป็น **1** จากนั้น คุณก็จะสามารถเริ่มต้นกระบวนการทดลองและข้อผิดพลาดเพื่อหาค่าที่ดีที่สุดสำหรับการตั้งค่าของคุณ โดยทั่วไป ปัญหาประสิทธิภาพจะเกิดขึ้นเมื่อสินค้าหนึ่งใช้เวลาในการประมวลผลนานกว่าสินค้าที่เหลืออยู่ ในกรณีนี้ คุณจะเห็นว่างานที่เกิดขึ้นในเวลาต่อมาสองงานที่มีสถานะเป็น **ความครอบคลุม** ในการรันการวางแผนหลัก จะใช้ระยะเวลาที่แตกต่างกันอย่างมากในการรัน ในกรณีที่รุนแรง ความแตกต่างนี้อาจมากถึง 30 นาที คุณสามารถสรุประยะเวลาที่งานใช้ในการรันโดยดูที่ช่วงเวลาของงานแต่ละงาน

### <a name="use-of-cache"></a>การใช้แคช

พารามิเตอร์ **การใช้แคช** ช่วยให้คุณสามารถปรับปรุงกระบวนการจัดกำหนดการหลัก เพื่อช่วยให้ทำงานได้ดียิ่งขึ้นในชุดข้อมูลที่ระบุ ตัวอย่างเช่น คุณสามารถปรับปรุงเพื่อให้บรรลุผลลัพธ์ต่อไปนี้:

- ถ้ามีการทำการแคชเพิ่มเติม จะมีการรวบรวมข้อมูลเพิ่มเติมในหน่วยความจำข้อมูล ความคาดหวังคือ จะมีการใช้ข้อมูลอีกครั้งในภายหลัง ถ้าข้อมูลอยู่ในหน่วยความจำ คุณอาจบันทึกคำขอฐานข้อมูลบางรายการ อย่างไรก็ตาม ถ้าทำการแคชข้อมูลเสร็จสิ้นมากขึ้น ต้องใช้หน่วยความจำเพิ่มขึ้น
- ถ้าทำการแคชข้อมูลเสร็จสิ้นน้อยลง อาจต้องดึงข้อมูลเดียวกันจากฐานข้อมูลบ่อยครั้งมากขึ้น นอกจากนี้ Application Object Server (AOS) จัดเก็บข้อมูลเล็กๆ น้อยๆ ในหน่วยความจำตลอดกระบวนการ

เป็นเรื่องยากที่จะทำนายตัวเลือกที่จะดีขึ้น เนื่องจากกรณีแต่ละกรณีไม่เพียงแต่ขึ้นอยู่กับข้อมูล แต่ยังขึ้นกับฮาร์ดแวร์ด้วย ตัวอย่างเช่น เนื่องจากการแคชที่น้อยลงทำให้เกิดโหลดเพิ่มเติมบนเซิร์ฟเวอร์ฐานข้อมูล จึงอาจไม่ใช่ความคิดที่ดีที่จะใช้ตัวเลือกนั้น ถ้าเซิร์ฟเวอร์ฐานข้อมูลของคุณถูกใช้งานมากเกินไปอยู่แล้ว

คุณสามารถตั้งค่าพารามิเตอร์ **การใช้แคช** ในส่วน **ประสิทธิภาพการทำงาน** บนแท็บ **ทั่วไป** ของหน้า **พารามิเตอร์การวางแผนหลัก** (**การวางแผนหลัก \> การตั้งค่า \> พารามิเตอร์การวางแผนหลัก**) ประสิทธิภาพของการแคชขึ้นอยู่กับข้อมูลลูกค้าอย่างมาก ตัวอย่างเช่น ถ้าไม่จำเป็นต้องใช้ข้อมูลที่แคช คุณเพียงสูญเสียหน่วยความจำ หากคุณจัดเก็บข้อมูลไว้จนกว่าจะถึงจุดสิ้นสุดของกระบวนการจัดกำหนดการ ในกรณีนี้ ถ้าคุณตั้งค่าคอนฟิกการแคชน้อยลง ประสิทธิภาพอาจเพิ่มขึ้น เนื่องจาก AOS ต้องใช้หน่วยความจำที่น้อยลง และทรัพยากรของเซิร์ฟเวอร์จะว่างสำหรับงานอื่นๆ

> [!TIP]
> โดยทั่วไป เราขอแนะนำให้คุณตั้งค่าพารามิเตอร์ **การใช้แคช** เป็น **สูงสุด** เนื่องจากพารามิเตอร์มีไว้สำหรับคุณลักษณะการเพิ่มประสิทธิภาพการทำงาน เราขอแนะนำให้คุณตั้งค่าพารามิเตอร์เป็น **ค่าต่ำสุด** ถ้าคุณรันแบบ on premises และมีหน่วยความจำที่จำกัด (ประมาณ 2 กิกะไบต์ \[GB\])

### <a name="number-of-orders-in-firming-bundle"></a>จำนวนของใบสั่งในการขายรวมที่ยืนยัน

พารามิเตอร์ **เลขหรือใบสั่งในการยืนยันกลุ่ม** จะระบุจำนวนรวมของใบสั่งที่จะมีการประมวลผลในแต่ละครั้งโดยเธรด/ชุดงานแต่ละรายการ ซึ่งทำให้เกิดการกำหนดการทำงานแบบขนานของกระบวนการการยืนยันอัตโนมัติ

คุณสามารถตั้งค่าพารามิเตอร์ **จำนวนของใบสั่งในกลุ่มการยืนยัน** ในส่วน **ประสิทธิภาพการทำงาน** บนแท็บ **ทั่วไป** ของหน้า **พารามิเตอร์การวางแผนหลัก** (**การวางแผนหลัก \> การตั้งค่า \> พารามิเตอร์การวางแผนหลัก**) การกำหนดการทำงานแบบขนานกระบวนการการยืนยันอัตโนมัติ ขึ้นอยู่กับใบสั่งที่ต้องมีการประมวลผลพร้อมกัน ดังนั้น ถ้ามีการตั้งค่าพารามิเตอร์นี้เป็น **50** ตัวอย่างเช่น เธรดหรืองานของชุดงานแต่ละรายการจะเบิกสินค้า 50 รายการในแต่ละครั้ง และประมวลผลร่วมกัน เราขอแนะนำให้คุณใช้กระบวนการทดลองและข้อผิดพลาดในการค้นหาค่าที่ดีที่สุด อย่างไรก็ตาม คุณสามารถใช้สูตรต่อไปนี้เพื่อคำนวณค่าเริ่มต้น:

จำนวนของใบสั่งต่อกลุ่ม = จำนวนของรายการความต้องการ ÷ จำนวนของเธรด

> [!NOTE]
> ถ้าคุณกำหนดพารามิเตอร์ **จำนวนของใบสั่งในการยืนยันกลุ่ม** เป็น **0** (ศูนย์) ไม่มีการกำหนดการทำงานแบบขนานของกระบวนการการยืนยันอัตโนมัติจะเกิดขึ้น กระบวนการทั้งหมดจะรันในงานของชุดงานเดียว และมีเวลาที่ใช้ในการรันแบบสะสม ดังนั้น เวลาที่ใช้ในการรันของการวางแผนหลักของคุณจะเพิ่มขึ้น ด้วยเหตุนี้ เราขอแนะนำให้คุณตั้งค่าพารามิเตอร์นี้เป็นค่าที่มากกว่า **0** (ศูนย์)

### <a name="time-fences"></a>กรอบเวลา

กรอบเวลาระบุระยะเวลาในอนาคตที่การคำนวณและข้อกำหนดอื่นๆ ต้องถูกคำนวณโดยการวางแผนหลัก ยิ่งกรอบเวลามีขนาดใหญ่ขึ้น ระยะเวลาที่การวางแผนหลักจะใช้ในการรันก็จะยิ่งนานขึ้น ดังนั้น ตั้งค่ากรอบเวลาตามข้อกำหนดทางธุรกิจของคุณ สำหรับข้อมูลเพิ่มเติมเกี่ยวกับกรอบเวลา ดู [ตั้งค่าการวางแผนหลัก](master-planning-setup.md)

### <a name="actions"></a>การดำเนินการ

ท่ามกลางกรอบเวลา คุณยังสามารถค้นหาพารามิเตอร์ **ข้อความการดำเนินการ** ได้ด้วย การคำนวณของข้อความการดำเนินการจะทำให้เวลาในการรันสำหรับการวางแผนหลักยาวนานขึ้น ถ้าข้อความการดำเนินการไม่ได้ถูกวิเคราะห์และนำไปใช้อย่างสม่ำเสมอ (รายวัน รายสัปดา ห์และอื่นๆ) ให้พิจารณาการปิดการคำนวณในระหว่างการรันการวางแผนหลัก เมื่อต้องการปิดใช้งานการคำนวณ บนหน้า **การวางแผนหลัก** (**การวางแผนหลัก \> การตั้งค่า \> แผน \> แผนหลัก**) ให้ตั้งค่ากรอบเวลา **ข้อความการดำเนินการ** เป็น **0** (ศูนย์) สำหรับแผนหลักที่คุณกำลังรัน นอกจากนี้ โปรดตรวจสอบให้แน่ใจว่าการตั้งค่า **ข้อความการดำเนินการ** ถูกปิดสำหรับกลุ่มความครอบคลุมทั้งหมด

### <a name="futures"></a>แผนล่วงหน้า

การคำนวณของแผนล่วงหน้าจะทำให้เวลาในการรันสำหรับการวางแผนหลักยาวนานขึ้น ถ้าคุณไม่ได้วางแผน BOMs หรือหากความล่าช้าไม่จำเป็นต้องมีการแพร่กระจายจากการจัดหาวัสดุไปยังความต้องการในระหว่างการวางแผน ให้พิจารณาการปิดการคำนวณแผนล่วงหน้าในระหว่างการวางแผนหลัก เมื่อต้องการปิดใช้งานการคำนวณ ตั้งค่ากรอบเวลา **แผนล่วงหน้า** เป็น **0** (ศูนย์) สำหรับแผนหลักที่คุณกำลังรัน นอกจากนี้ โปรดตรวจสอบให้แน่ใจว่าการตั้งค่า **แผนล่วงหน้า** ถูกปิดสำหรับกลุ่มความครอบคลุมทั้งหมด

## <a name="one-heavy-routine-at-a-time"></a>การทำงานหนักครั้งละหนึ่งรายการ

เมื่อคุณจัดกำหนดการการวางแผนหลัก จะไม่จัดกำหนดการชุดงานอื่นใดๆ ในเวลาเดียวกัน โปรดระมัดระวังโดยเฉพาะอย่างยิ่งว่า คุณไม่จัดกำหนดการงานประจำวันที่หนักอื่นใดๆ เช่น การปิดบัญชีสินค้าคงคลัง ในเวลาเดียวกัน

## <a name="review-the-session-log"></a>ตรวจทานล็อกรอบเวลา

ระบบสามารถรวบรวมข้อมูลเพิ่มเติมเกี่ยวกับงานที่รันในระหว่างการวางแผนหลัก เมื่อต้องการให้ระบบรวบรวมข้อมูลนี้ ให้เปิดการตั้งค่า **ติดตามเวลาในการประมวลผล** ในกล่องโต้ตอบ **การรันการวางแผนหลัก** ข้อมูลที่รวบรวมสามารถช่วยให้คุณพบปัญหาคอขวดในการรัน ตัวอย่างเช่น เมื่อพารามิเตอร์ **จำนวนของงานในกลุ่มงานของตัวช่วย** ถูกตั้งค่าเป็น **1** คุณสามารถระบุสินค้าที่มีเวลาในการรันที่ยาวนานที่สุด นอกจากนี้ คุณยังสามารถเปรียบเทียบเวลาที่ใช้ในรันของเธรดต่างๆ ที่มีสถานะ **ความครอบคลุม** และเปรียบเทียบระยะเวลาสำหรับแต่ละงานได้ด้วย

เมื่อต้องการตรวจสอบการรันการวางแผนหลักของระบบของคุณ ให้ทำตามหนึ่งในขั้นตอนเหล่านี้

- ในพื้นที่ทำงาน **การวางแผนหลัก** ให้เลือกแผนหลักในฟิลด์รายการแบบหล่นลง แล้วจากนั้น บนไทล์ **การวางแผนหลัก** ให้เลือก **ประวัติ** เลือกงาน เลือก **การสอบถาม** บน FastTab แล้วจากนั้น เลือก **ระยะเวลาในการประมวลผลงาน**
- บนหน้า **แผนหลัก** ให้เลือกแผนในบานหน้าต่างด้านซ้าย แล้วจากนั้น เลือก **ประวัติ** บน FastTab เลือกงาน เลือก **การสอบถาม** บน FastTab แล้วจากนั้น เลือก **ระยะเวลาในการประมวลผลงาน**

เมื่อคุณตรวจทานล็อกรอบเวลา ให้พิจารณาประเด็นต่อไปนี้:

- **การปรับปรุง** ไม่ควรใช้เวลานาน (โดยทั่วไป ควรใช้เวลาสูงสุด 30 นาที) อย่างไรก็ตาม นั่นคือแบบที่มีเธรดเดียว
- **คัดลอกแผน** ไม่ควรใช้เวลานาน (ควรใช้เวลาประมาณหนึ่งนาที)
- **การยืนยันโดยอัตโนมัติ** โดยทั่วไปจะใช้เวลาประมาณ 30 นาที อย่างไรก็ตาม อาจใช้เวลานานถึงหลายชั่วโมง ทั้งนี้ขึ้นอยู่กับจำนวนของใบสั่งและความซับซ้อนของสินค้า
- **การยืนยันอัตโนมัติ** ควรใช้เวลาน้อยกว่า **ความครอบคลุม**
- **ความครอบคลุม** ควรใช้เวลานานที่สุดโดยสัมพันธ์กับส่วนที่เหลือ
- **การดำเนินการ** และ **ข้อความในอนาคต** อาจใช้เวลานาน ทั้งนี้ขึ้นอยู่กับข้อมูลและจำนวนของ BOMs

## <a name="filtering-of-items"></a>การกรองของรายการ

ตัวกรองที่ใช้ในกล่องโต้ตอบ **การรันการวางแผนหลัก** จะมีผลกระทบต่อระยะเวลาของการรันการวางแผนหลัก ไปยัง **การวางแผนหลัก \> การวางแผนหลัก \> การรัน \> การวางแผนหลัก** หรือเลือก **รัน** ในพื้นที่ทำงาน **การวางแผนหลัก** เมื่อต้องการแยกรายการออกจากการรัน เราขอแนะนำให้คุณกรองตามสถานะรอบของรายการ (ไม่ใช่ตามหมายเลขรายการ) เมื่อคุณกรองตามสถานะรอบ กระบวนการปรับปรุงจะใช้เวลาน้อยกว่าเมื่อคุณกรองตามหมายเลขรายการ

## <a name="performance-checklist-summary"></a>สรุปรายการตรวจสอบประสิทธิภาพ

- **จำนวนเธรด** – ตั้งเป็นค่าที่มากกว่า **0** (ศูนย์)
- **จำนวนงานในกลุ่มงานของตัวช่วยเหลือ** – ตั้งเป็นค่าที่มากกว่า **0** (ศูนย์) (ใช้สูตรที่กำหนดไว้ก่อนหน้านี้ในหัวข้อนี้)
- **การใช้แคช** – ตั้งเป็น **ค่าสูงสุด** ยกเว้นว่าระบบของคุณมีหน่วยความจำไม่เพียงพอ
- **จำนวนของใบสั่งในการขายรวมที่ยืนยัน** – ตั้งเป็นค่าที่มากกว่า **0** (ศูนย์) (ใช้สูตรที่กำหนดไว้ก่อนหน้านี้ในหัวข้อนี้)
- **กรอบเวลา** – ปรับตามความต้องการทางธุรกิจของคุณ
- **การดำเนินการและแผนล่วงหน้า** – ปิดใช้งานการดำเนินการและแผนล่วงหน้า ถ้าคุณไม่ได้ใช้งาน
- **กิจวัตรที่หนักครั้งละหนึ่งรายการ** – อย่ารันการวางแผนหลักร่วมกับกิจวัตรที่หนักอื่นใดๆ
- **ตรวจทานล็อกรอบเวลา**
- **การกรองของรายการ** – ใช้สถานะรอบเพื่อแยกรายการออกจากการรันการวางแผนหลัก (อย่าใช้หมายเลขสินค้า)
