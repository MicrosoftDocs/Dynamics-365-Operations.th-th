---
title: การวางแผนการผลิต
description: หัวข้อนี้อธิบายการวางแผนการผลิตและอธิบายวิธีการแก้ไขแผนการใบสั่งผลิตโดยใช้การเพิ่มประสิทธิภาพการวางแผน
author: ChristianRytt
ms.date: 06/01/2021
ms.topic: article
ms.search.form: ReqCreatePlanWorkspace
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: crytt
ms.search.validFrom: 2020-12-15
ms.dyn365.ops.version: 10.0.13
ms.openlocfilehash: ffee79f152141297ceb24e2d7a40523eac18ffaf
ms.sourcegitcommit: 927574c77f4883d906e5c7bddf0af9b717e492bf
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 06/01/2021
ms.locfileid: "6129764"
---
# <a name="production-planning"></a><span data-ttu-id="0c84b-103">การวางแผนการผลิต</span><span class="sxs-lookup"><span data-stu-id="0c84b-103">Production planning</span></span>

<span data-ttu-id="0c84b-104">การเพิ่มประสิทธิภาพการวางแผนสนับสนุนสถานการณ์การผลิตต่างๆ</span><span class="sxs-lookup"><span data-stu-id="0c84b-104">Planning Optimizations supports several production scenarios.</span></span> <span data-ttu-id="0c84b-105">ถ้าคุณย้ายมาจากกลไกจัดการการวางแผนหลักในตัวที่มีอยู่ คุณควรทราบถึงลักษณะการทำงานที่เปลี่ยนแปลงบางอย่าง</span><span class="sxs-lookup"><span data-stu-id="0c84b-105">If you're migrating from the existing, built-in master planning engine, it's important to be aware of some changed behavior.</span></span>

<span data-ttu-id="0c84b-106">ภาพต่อไปนี้แสดงบทนําย่อเกี่ยวกับแนวคิดบางแนวคิดที่อธิบายไว้ในหัวข้อนี้: [การปรับปรุงประสิทธิภาพการวางแผน Dynamics 365 Supply Chain Management](https://youtu.be/u1pcmZuZBTw)</span><span class="sxs-lookup"><span data-stu-id="0c84b-106">The following video gives a short introduction to some of the concepts discussed in this topic: [Dynamics 365 Supply Chain Management: Planning Optimization enhancements](https://youtu.be/u1pcmZuZBTw).</span></span>

## <a name="turn-on-this-feature-for-your-system"></a><span data-ttu-id="0c84b-107">เปิดใช้งานคุณลักษณะนี้สำหรับระบบของคุณ</span><span class="sxs-lookup"><span data-stu-id="0c84b-107">Turn on this feature for your system</span></span>

<span data-ttu-id="0c84b-108">ถ้าระบบของคุณยังไม่ได้รวมคุณลักษณะที่อธิบายไว้ในหัวข้อนี้ ให้ไปที่ [การจัดการคุณลักษณะ](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) และเปิดคุณลักษณะ *แผนการใบสั่งผลิตสำหรับการเพิ่มประสิทธิภาพการวางแผน*</span><span class="sxs-lookup"><span data-stu-id="0c84b-108">If your system doesn't already include the features described in this topic, go to [Feature management](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) and turn on the *Planned production orders for Planning Optimization* feature.</span></span>

## <a name="planned-production-orders"></a><span data-ttu-id="0c84b-109">แผนการใบสั่งผลิต</span><span class="sxs-lookup"><span data-stu-id="0c84b-109">Planned production orders</span></span>

<span data-ttu-id="0c84b-110">เมื่อการวางแผนหลักสร้างแผนการใบสั่งเพื่อตอบสนองความต้องการ ชนิดใบสั่งจะขึ้นอยู่กับค่าของฟิลด์ **ชนิดแผนการใบสั่ง**</span><span class="sxs-lookup"><span data-stu-id="0c84b-110">When master planning creates planned orders to fulfill requirements, the order type is determined by the value of the **Planned order type** field.</span></span> <span data-ttu-id="0c84b-111">ถ้าฟิลด์ **ชนิดแผนการใบสั่ง** ได้รับการตั้งค่าเป็น *การผลิต* แผนการใบสั่งผลิตจะถูกสร้างขึ้น</span><span class="sxs-lookup"><span data-stu-id="0c84b-111">If the **Planned order type** field is set to *Production*, planned production orders are created.</span></span> <span data-ttu-id="0c84b-112">แผนการใบสั่งผลิตเหล่านี้รวมข้อมูลเกี่ยวกับรายการวัสดุและส่วนประกอบ (BOM) ที่ใช้งานอยู่และรหัสกระบวนการผลิตจากการตั้งค่าการผลิตที่เกี่ยวข้อง</span><span class="sxs-lookup"><span data-stu-id="0c84b-112">These planned production orders include information about the active bill of materials (BOM) and the route ID from the related production setup.</span></span>

## <a name="requirements-from-boms"></a><span data-ttu-id="0c84b-113">ความต้องการจาก BOM</span><span class="sxs-lookup"><span data-stu-id="0c84b-113">Requirements from BOMs</span></span>

<span data-ttu-id="0c84b-114">มีการให้ข้อมูล BOM ในระหว่างการวางแผนหลัก</span><span class="sxs-lookup"><span data-stu-id="0c84b-114">BOM information is honored during master planning.</span></span> <span data-ttu-id="0c84b-115">ผลลัพธ์ของแผนประกอบด้วยการจัดหาวัสดุเพื่อครอบคลุมความต้องการวัสดุที่เกี่ยวข้องกันในการผลิต</span><span class="sxs-lookup"><span data-stu-id="0c84b-115">The plan output includes material supply to cover related material demand for production.</span></span>

<span data-ttu-id="0c84b-116">ในระหว่างการวางแผนหลัก BOM ที่ใช้งานอยู่ในปัจจุบันจะถูกใช้ในการระบุวัสดุที่ต้องใช้ในการผลิต</span><span class="sxs-lookup"><span data-stu-id="0c84b-116">During master planning, the current, active BOM is used to determine the materials that are required for production.</span></span> <span data-ttu-id="0c84b-117">ขั้นตอนนี้จะผ่านระดับโครงสร้าง BOM ทั้งหมดที่เกี่ยวข้องกับใบสั่งผลิตที่ต้องใช้</span><span class="sxs-lookup"><span data-stu-id="0c84b-117">This step is done through all levels of the BOM structure that is related to the required production order.</span></span> <span data-ttu-id="0c84b-118">เติมความต้องการวัสดุโดยใช้ปริมาณคงคลังคงเหลือที่มีอยู่ ปริมาณคงคลังคงเหลือที่มีอยู่ และแผนการใบสั่งที่อนุมัติแล้ว</span><span class="sxs-lookup"><span data-stu-id="0c84b-118">Material requirement is fulfilled by using available on-hand inventory, existing on-order supply, and approved planned orders.</span></span> <span data-ttu-id="0c84b-119">ถ้าต้องใช้วัสดุเพิ่มเติมที่ใดก็ตาม แผนการใบสั่งจะถูกสร้างขึ้นเพื่อครอบคลุมความต้องการ</span><span class="sxs-lookup"><span data-stu-id="0c84b-119">If additional material is required anywhere, a planned order is created to cover the demand.</span></span>

## <a name="scheduling-during-firming"></a><span data-ttu-id="0c84b-120">การจัดตารางการผลิตในระหว่างการยืนยัน</span><span class="sxs-lookup"><span data-stu-id="0c84b-120">Scheduling during firming</span></span>

<span data-ttu-id="0c84b-121">แผนการใบสั่งผลิตรวมรหัสกระบวนการผลิตที่ต้องใช้ในการจัดตารางการผลิต</span><span class="sxs-lookup"><span data-stu-id="0c84b-121">Planned production orders include the route ID that is required for production scheduling.</span></span> <span data-ttu-id="0c84b-122">อย่างไรก็ตาม การสนับสนุนการจัดตารางการผลิตระหว่างการวางแผนการรันของแผนการใบสั่งยังคงค้างอยู่</span><span class="sxs-lookup"><span data-stu-id="0c84b-122">However, scheduling support during the planning run for planned orders is pending.</span></span> <span data-ttu-id="0c84b-123">รหัสกระบวนการผลิตใช้ในการจัดตารางการผลิตแผนการใบสั่งผลิตในระหว่างการยืนยัน</span><span class="sxs-lookup"><span data-stu-id="0c84b-123">The route ID is used to schedule planned production orders during firming.</span></span> <span data-ttu-id="0c84b-124">ดังนั้น ระยะเวลารอคอยสินค้าในแผนการใบสั่งผลิต จึงอาจแตกต่างจากระยะเวลารอคอยสินค้าในใบสั่งผลิตที่จัดตารางการผลิตที่เกี่ยวข้องที่ยืนยันไว้ซึ่งสร้างขึ้นจากใบสั่งผลิต ตามที่อธิบายไว้ที่นี่</span><span class="sxs-lookup"><span data-stu-id="0c84b-124">Therefore, the lead time on planned production orders can differ from the lead time on related scheduled, firmed production orders that are generated from them, as described here:</span></span>

- <span data-ttu-id="0c84b-125">**แผนการใบสั่งผลิต** – ระยะเวลารอคอยสินค้าขึ้นอยู่กับระยะเวลารอคอยสินค้าที่คงที่จากผลิตภัณฑ์ที่ปล่อยงานออกใช้</span><span class="sxs-lookup"><span data-stu-id="0c84b-125">**Planned production order** – The lead time is based on the static lead time from the released product.</span></span>
- <span data-ttu-id="0c84b-126">**ใบสั่งผลิตที่ยืนยัน** – ระยะเวลารอคอยสินค้าขึ้นอยู่กับการจัดตารางการผลิตที่ใช้ข้อมูลกระบวนการผลิตและข้อจากข้อจากทรัพยากรที่เกี่ยวข้อง</span><span class="sxs-lookup"><span data-stu-id="0c84b-126">**Firmed production order** – The lead time is based on scheduling that uses route information and related resource constraints.</span></span>

<span data-ttu-id="0c84b-127">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับความพร้อมใช้งานของคุณลักษณะที่คาดไว้ ให้ดูที่ [การวิเคราะห์ความเหมาะสมของการเพิ่มประสิทธิภาพการวางแผน](planning-optimization-fit-analysis.md)</span><span class="sxs-lookup"><span data-stu-id="0c84b-127">For more information about expected feature availability, see [Planning Optimization fit analysis](planning-optimization-fit-analysis.md).</span></span>

<span data-ttu-id="0c84b-128">หากคุณขึ้นอยู่กับฟังก์ชันการผลิตที่ยังไม่มีอยู่ในการเพิ่มประสิทธิภาพการวางแผน คุณสามารถใช้กลไกจัดการการวางแผนหลักในตัวต่อไปได้</span><span class="sxs-lookup"><span data-stu-id="0c84b-128">If you depend on production functionality that isn't yet available for Planning Optimization, you can continue to use the built-in master planning engine.</span></span> <span data-ttu-id="0c84b-129">ไม่มีข้อยกเว้น</span><span class="sxs-lookup"><span data-stu-id="0c84b-129">No exception is required.</span></span>

## <a name="delays"></a><span data-ttu-id="0c84b-130">ล่าช้า</span><span class="sxs-lookup"><span data-stu-id="0c84b-130">Delays</span></span>

<span data-ttu-id="0c84b-131">ถ้าระยะเวลารอคอยสินค้าของวัสดุที่ต้องการยาวกว่ารอบระยะเวลาระหว่างวันที่วันนี้และวันที่ความต้องการวัสดุ แผนการใบสั่งของวัสดุที่ต้องใช้และใบสั่งผลิตที่เกี่ยวข้องจะล่าช้า</span><span class="sxs-lookup"><span data-stu-id="0c84b-131">If the lead time for required material is longer than the period between today's date and the material requirement date, the planned order for the required material and the related production order will be delayed.</span></span> <span data-ttu-id="0c84b-132">ในแผนการใบสั่ง ความล่าช้า (ในหนึ่งวัน) จะคํานวณโดยใช้ระยะเวลารอคอยสินค้าจากผลิตภัณฑ์ที่ปล่อยออกใช้</span><span class="sxs-lookup"><span data-stu-id="0c84b-132">For planned orders, the delay (in days) is calculated based on the lead time from the released product.</span></span> <span data-ttu-id="0c84b-133">จากนั้นข้อมูลความล่าช้าจะถูกเผยแพร่ผ่านระดับทั้งหมดของโครงสร้าง BOM</span><span class="sxs-lookup"><span data-stu-id="0c84b-133">The delay information is then propagated through all levels of the BOM structure.</span></span> <span data-ttu-id="0c84b-134">ดังนั้นคุณจึงสามารถติดตามผลกระทบของวัตถุดิบที่ล่าช้าตลอดทางไปยังใบสั่งขายของลูกค้า</span><span class="sxs-lookup"><span data-stu-id="0c84b-134">Therefore, you can follow the impact of delayed raw material all the way to the customer sales order.</span></span>

## <a name="modifying-planned-orders"></a><span data-ttu-id="0c84b-135">แก้ไขแผนการใบสั่ง</span><span class="sxs-lookup"><span data-stu-id="0c84b-135">Modifying planned orders</span></span>

<span data-ttu-id="0c84b-136">เมื่อคุณเปลี่ยนแปลงข้อมูลในแผนการใบสั่ง คุณจะได้รับข้อความต่อไปนี้ :"โปรดทราบว่าผลกระทบของการเปลี่ยนแปลงด้วยตนเองบนแผนการใบสั่งจะไม่สะท้อนให้เห็นในส่วนที่เหลือของแผนจนกว่าการรันการวางแผนหลักถัดไป"</span><span class="sxs-lookup"><span data-stu-id="0c84b-136">When you change information on a planned order, you receive the following message: "Note that the impact of manual changes on planned orders won't be reflected in the rest of the plan until the next master planning run."</span></span>

<span data-ttu-id="0c84b-137">ถ้าคุณต้องการเปลี่ยนแปลงข้อมูลเกี่ยวกับแผนการใบสั่ง และดูผลกระทบของความต้องการวัสดุที่เกี่ยวข้อง ให้ปฏิบัติตามขั้นตอนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="0c84b-137">If you want to change information on a planned order and see the impact on the related material requirements, follow these steps.</span></span>

1. <span data-ttu-id="0c84b-138">อัปเดตแผนการใบสั่ง</span><span class="sxs-lookup"><span data-stu-id="0c84b-138">Update the planned order.</span></span>
2. <span data-ttu-id="0c84b-139">อนุมัติแผนการใบสั่ง</span><span class="sxs-lookup"><span data-stu-id="0c84b-139">Approve the planned order.</span></span>
3. <span data-ttu-id="0c84b-140">ดำเนินการวางแผนหลัก</span><span class="sxs-lookup"><span data-stu-id="0c84b-140">Run master planning.</span></span>

<span data-ttu-id="0c84b-141">เมื่อคุณรันการวางแผนหลัก คุณไม่ควรใช้ตัวกรองข้อมูลถ้ารวมแผนการใบสั่งผลิตไว้</span><span class="sxs-lookup"><span data-stu-id="0c84b-141">When you run master planning, you should not use filters if planned production orders are included.</span></span> <span data-ttu-id="0c84b-142">สำหรับข้อมูลเพิ่มเติม โปรดดูที่ส่วน [ตัวกรอง](#filters) ในภายหลังในหัวข้อนี้</span><span class="sxs-lookup"><span data-stu-id="0c84b-142">For more information, see the [Filters](#filters) section later in this topic.</span></span>

> [!NOTE]
> <span data-ttu-id="0c84b-143">ถ้าวันที่จัดส่งของแผนการใบสั่งเปลี่ยนเป็นวันที่ในภายหลัง ความต้องการอาจถูกโยงกับแผนการใบสั่งใหม่</span><span class="sxs-lookup"><span data-stu-id="0c84b-143">If the delivery date of the planned order is changed to a later date, the demand might be pegged against a new planned order.</span></span> <span data-ttu-id="0c84b-144">ลักษณะการทำงานนี้จะเกิดขึ้นเมื่อวันที่จัดหาวัสดุใหม่จะส่งผลให้เกิดความล่าช้าในความต้องการที่มีการเชื่อมโยงความต้องการกับการจัดหาวัสดุ แต่เพื่อหลีกเลี่ยงความล่าช้าดังกล่าวตามการตั้งค่าระยะเวลารอคอยสินค้า</span><span class="sxs-lookup"><span data-stu-id="0c84b-144">This behavior occurs when the new supply date causes a delay for the pegged demand but, according to the lead time settings, the delay can be avoided.</span></span>

## <a name="explosion-page"></a><span data-ttu-id="0c84b-145">หน้าการกระจาย</span><span class="sxs-lookup"><span data-stu-id="0c84b-145">Explosion page</span></span>

<span data-ttu-id="0c84b-146">คุณสามารถใช้หน้า **การกระจาย** เพื่อวิเคราะห์ความต้องการที่ต้องใช้ในใบสั่งผลิตหนึ่ง ๆ หรือแผนการใบสั่งผลิต ความครอบคลุมที่เกี่ยวข้อง และข้อมูลการเชื่อมโยงความต้องการกับการจัดซื้อ</span><span class="sxs-lookup"><span data-stu-id="0c84b-146">You can use the **Explosion** page to analyze the demand that is required for a specific production order or planned production order, the related coverage, and pegging information.</span></span> <span data-ttu-id="0c84b-147">รายละเอียดบนหน้า **การกระจาย** จะถูกอัปเดตในระหว่างการวางแผนหลัก</span><span class="sxs-lookup"><span data-stu-id="0c84b-147">Information on the **Explosion** page is updated during master planning.</span></span> <span data-ttu-id="0c84b-148">คุณไม่สามารถอัปเดตข้อมูลโดยตรงจากหน้า **การกระจาย** ได้</span><span class="sxs-lookup"><span data-stu-id="0c84b-148">You can't update the information directly from the **Explosion** page.</span></span>

## <a name="filters"></a><a name="filters"></a><span data-ttu-id="0c84b-149">ตัวกรองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="0c84b-149">Filters</span></span>

<span data-ttu-id="0c84b-150">เพื่อให้แน่ใจว่าการเพิ่มประสิทธิภาพการวางแผนจะมีข้อมูลที่ต้องใช้ในการคํานวณผลลัพธ์ที่ถูกต้อง คุณต้องรวมผลิตภัณฑ์ทั้งหมดที่เกี่ยวข้องกับผลิตภัณฑ์ในโครงสร้าง BOM ทั้งหมดของแผนการใบสั่ง</span><span class="sxs-lookup"><span data-stu-id="0c84b-150">To ensure that Planning Optimization has the information that it needs to calculate the correct result, you must include all products that have any relation to products in the whole BOM structure of the planned order.</span></span> <span data-ttu-id="0c84b-151">สำหรับสถานการณ์การวางแผนที่มีการผลิตรวมอยู่ด้วย เราขอแนะนำว่าคุณควรหลีกเลี่ยงการรันการวางแผนหลักที่มีการกรองข้อมูลแล้ว</span><span class="sxs-lookup"><span data-stu-id="0c84b-151">For planning scenarios that include production, we therefore recommend that you avoid filtered master planning runs.</span></span>

<span data-ttu-id="0c84b-152">แม้ว่ารายการรองที่ขึ้นต่อกันจะตรวจพบและรวมอยู่ในการวางแผนหลักโดยอัตโนมัติเมื่อใช้กลไกจัดการการวางแผนหลักในตัว แต่การเพิ่มประสิทธิภาพการวางแผนจะไม่ดำเนินการนี้ในปัจจุบัน</span><span class="sxs-lookup"><span data-stu-id="0c84b-152">Although dependent child items are automatically detected and included in master planning runs when the built-in master planning engine is used, Planning Optimization doesn't currently perform this action.</span></span>

<span data-ttu-id="0c84b-153">ตัวอย่างเช่น ถ้าสลักเกลียวเดียวจากโครงสร้าง BOM ของผลิตภัณฑ์ A ยังใช้ในการผลิตผลิตภัณฑ์ B ผลิตภัณฑ์ทั้งหมดในโครงสร้าง BOM ของผลิตภัณฑ์ A และ B ต้องรวมอยู่ในตัวกรอง</span><span class="sxs-lookup"><span data-stu-id="0c84b-153">For example, if a single bolt from the BOM structure of product A is also used to produce product B, all products in the BOM structure of products A and B must be included in the filter.</span></span> <span data-ttu-id="0c84b-154">เนื่องจากอาจซับซ้อนเพื่อให้แน่ใจว่าผลิตภัณฑ์ทั้งหมดเป็นส่วนหนึ่งของตัวกรองข้อมูล เราจึงขอแนะนาว่าคุณควรหลีกเลี่ยงการรันการวางแผนหลักที่กรองข้อมูลแล้วเมื่อเกี่ยวข้องกับใบสั่งผลิต</span><span class="sxs-lookup"><span data-stu-id="0c84b-154">Because it can be complex to ensure that all products are part of the filter, we recommend that you avoid filtered master planning runs when production orders are involved.</span></span> <span data-ttu-id="0c84b-155">มิฉะนั้น การวางแผนหลักจะให้ผลลัพธ์ที่ไม่ต้องการ</span><span class="sxs-lookup"><span data-stu-id="0c84b-155">Otherwise, master planning will provide undesired results.</span></span>

### <a name="reasons-to-avoid-filtered-master-planning-runs"></a><span data-ttu-id="0c84b-156">เหตุผลที่หลีกเลี่ยงการรันการวางแผนหลักที่มีการกรอง</span><span class="sxs-lookup"><span data-stu-id="0c84b-156">Reasons to avoid filtered master planning runs</span></span>

<span data-ttu-id="0c84b-157">เมื่อคุณรันการวางแผนหลักที่ผ่านการกรองข้อมูลแล้วให้กับผลิตภัณฑ์ ประสิทธิภาพการวางแผน (ต่างจากกลไกจัดการการวางแผนหลักในตัว) จะไม่พบผลิตภัณฑ์ย่อยและวัตถุดิบทั้งหมดในโครงสร้าง BOM ของผลิตภัณฑ์นั้น และจะไม่รวมไว้ในการรันการวางแผนหลัก</span><span class="sxs-lookup"><span data-stu-id="0c84b-157">When you run filtered master planning for a product, Planning Optimization (unlike the built-in master planning engine) doesn't detect all the subproducts and raw materials in the BOM structure of that product, and therefore doesn't include them in the master planning run.</span></span> <span data-ttu-id="0c84b-158">แม้ว่าประสิทธิภาพการวางแผนจะระบุระดับแรกในโครงสร้าง BOM ของผลิตภัณฑ์ แต่จะไม่โหลดการตั้งค่าผลิตภัณฑ์ใดๆ (เช่น ชนิดใบสั่งเริ่มต้นหรือความครอบคลุมสินค้า) จากฐานข้อมูล</span><span class="sxs-lookup"><span data-stu-id="0c84b-158">Even though Planning Optimization identifies the first level in the BOM structure of the product, it doesn't load any product settings (such as the default order type or item coverage) from the database.</span></span>

<span data-ttu-id="0c84b-159">ใน Planning Optimization ข้อมูลการรันจะถูกโหลดก่อนหน้าและใช้ตัวกรองข้อมูล</span><span class="sxs-lookup"><span data-stu-id="0c84b-159">In Planning Optimization, data for the run is loaded beforehand and applies the filters.</span></span> <span data-ttu-id="0c84b-160">ซึ่งหมายความว่าถ้าผลิตภัณฑ์ย่อยหรือวัตถุดิบที่รวมอยู่ในผลิตภัณฑ์เฉพาะไม่ได้เป็นส่วนหนึ่งของตัวกรองข้อมูล ข้อมูลเกี่ยวกับผลิตภัณฑ์จะไม่สามารถรวบรวมเพื่อรันได้</span><span class="sxs-lookup"><span data-stu-id="0c84b-160">This means that if a subproduct or raw material included in a specific product isn't part of the filter, information about it won't be captured for the run.</span></span> <span data-ttu-id="0c84b-161">นอกจากนี้ ถ้าผลิตภัณฑ์ย่อยหรือวัตถุดิบยังรวมอยู่ในผลิตภัณฑ์อื่นด้วย การรันที่มีการกรองข้อมูลซึ่งมีเพียงผลิตภัณฑ์เดิมเท่านั้น และส่วนประกอบของผลิตภัณฑ์จะลบความต้องการที่วางแผนไว้ที่มีอยู่ซึ่งสร้างขึ้นเพื่อผลิตภัณฑ์อื่นๆ นั้น</span><span class="sxs-lookup"><span data-stu-id="0c84b-161">Additionally, if the subproduct or raw material is also included in another product, then a filtered run that includes only the original product and its components would remove existing planned demand that was created for that other product.</span></span>

<span data-ttu-id="0c84b-162">ตรรกะนี้อาจทําให้การทำงานการวางแผนหลักที่ผ่านการกรองข้อมูลสร้างผลลัพธ์ที่ไม่คาดคิด</span><span class="sxs-lookup"><span data-stu-id="0c84b-162">This logic may cause filtered master planning runs to produce unexpected results.</span></span> <span data-ttu-id="0c84b-163">ส่วนต่อไปนี้แสดงตัวอย่างผลลัพธ์ที่ไม่คาดคิดที่อาจเกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="0c84b-163">The following sections provide examples that illustrate the unexpected results that could occur.</span></span>

### <a name="example-1"></a><span data-ttu-id="0c84b-164">ตัวอย่างที่ 1</span><span class="sxs-lookup"><span data-stu-id="0c84b-164">Example 1</span></span>

<span data-ttu-id="0c84b-165">สินค้าที่สำเร็จแล้ว *FG* ประกอบด้วยส่วนประกอบต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="0c84b-165">Finished good *FG* consists of following components:</span></span>

- <span data-ttu-id="0c84b-166">วัตถุดิบ *R*</span><span class="sxs-lookup"><span data-stu-id="0c84b-166">Raw material *R*</span></span>
- <span data-ttu-id="0c84b-167">ผลิตภัณฑ์ย่อย *S1* ซึ่งประกอบด้วยผลิตภัณฑ์ย่อย *S2*</span><span class="sxs-lookup"><span data-stu-id="0c84b-167">Subproduct *S1*, which consists of subproduct *S2*</span></span>

<span data-ttu-id="0c84b-168">มีสินค้าคงคลังคงเหลือของวัตถุดิบ *R* ขณะที่ผลิตภัณฑ์ย่อย *S1* ไม่มีอยู่ในสินค้าคงคลัง</span><span class="sxs-lookup"><span data-stu-id="0c84b-168">There is inventory on-hand for the raw material *R*, while subproduct *S1* isn't present in the inventory.</span></span>

<span data-ttu-id="0c84b-169">เมื่อคุณรันการวางแผนหลักที่ผ่านการกรองแล้วสำหรับสินค้าสำเร็จรูป *FG* คุณจะได้แผนการใบสั่งผลิตสำหรับสินค้าสำเร็จรูป *FG* แผนการใบสั่งซื้อสำหรับวัตถุดิบ *R* และแผนการใบสั่งซื้อสำหรับผลิตภัณฑ์ย่อย *S1*</span><span class="sxs-lookup"><span data-stu-id="0c84b-169">When you do a filtered master planning run for finished good *FG*, you will get a planned production order for the finished good *FG*, a planned purchase order for the raw material *R*, and a planned purchase order for the subproduct *S1*.</span></span> <span data-ttu-id="0c84b-170">นี่เป็นผลลัพธ์ที่ไม่ควรใช้เนื่องจากประสิทธิภาพการวางแผนได้ละเว้นการจัดหาวัสดุที่มีอยู่ของ *R* และผลิตภัณฑ์ย่อย *S1* โดยใช้ *S2* แทนที่จะสั่งโดยตรง</span><span class="sxs-lookup"><span data-stu-id="0c84b-170">This is an undesirable result because Planning Optimization has ignored existing supply for raw material *R* and subproduct *S1* needs to be produced using *S2* rather than ordered directly.</span></span> <span data-ttu-id="0c84b-171">เกิดเหตุการณ์นี้เนื่องจากประสิทธิภาพการวางแผนมีเฉพาะรายการส่วนประกอบสินค้าสำเร็จรูป *FG* โดยไม่มีข้อมูลที่เกี่ยวข้องใดๆ เช่น การจัดหาส่วนประกอบที่มีอยู่หรือการตั้งค่าใบสั่งเริ่มต้น</span><span class="sxs-lookup"><span data-stu-id="0c84b-171">This happened because Planning Optimization only has the list of components for the finished good *FG* without any related information, such as the existing supply of its components or their default order settings.</span></span>

### <a name="example-2"></a><span data-ttu-id="0c84b-172">ตัวอย่างที่ 2</span><span class="sxs-lookup"><span data-stu-id="0c84b-172">Example 2</span></span>

<span data-ttu-id="0c84b-173">การสร้างในตัวอย่างก่อนหน้านี้ สินค้าสำเร็จรูปเพิ่มเติม *FG2* ยังใช้ผลิตภัณฑ์ย่อย *S1* ด้วย</span><span class="sxs-lookup"><span data-stu-id="0c84b-173">Building on the previous example, an additional finished good, *FG2*, also uses subproduct *S1*.</span></span> <span data-ttu-id="0c84b-174">มีแผนการใบสั่งอยู่สำหรับสินค้าสำเร็จรูป *FG2* และความต้องการที่วางแผนไว้มีอยู่เพื่อส่วนประกอบทั้งหมด รวมถึง *S1*</span><span class="sxs-lookup"><span data-stu-id="0c84b-174">A planned order exists for finished good *FG2* and planned demand exists for all of its components, including *S1*.</span></span>

<span data-ttu-id="0c84b-175">คุณตัดสินใจที่จะเป็นผลลัพธ์ที่พึงได้ของการวางแผนหลักที่ผ่านการกรองจากตัวอย่างก่อนหน้านี้โดยเพิ่มผลิตภัณฑ์ย่อยและวัตถุดิบทั้งหมดจากโครงสร้าง BOM สำหรับสินค้าสำเร็จรูป *FG* ลงในตัวกรอง แล้วรันการสร้างใหม่ทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="0c84b-175">You decide to overcome the undesired results of the filtered master planning run from the previous example by adding all the subproducts and raw materials from the BOM structure of finished good *FG* to the filter and then running full regeneration.</span></span>

<span data-ttu-id="0c84b-176">เมื่อคุณรันการสร้างใหม่ทั้งหมด ระบบจะลบผลลัพธ์ที่มีอยู่ทั้งหมดของผลิตภัณฑ์ที่รวมไว้ทั้งหมด แล้วสร้างผลลัพธ์ใหม่ตามการคํานวณใหม่</span><span class="sxs-lookup"><span data-stu-id="0c84b-176">When you run the full regeneration, the system deletes all existing results for all the included products and then recreates results based on the new calculations.</span></span> <span data-ttu-id="0c84b-177">ซึ่งหมายความว่าความต้องการที่วางแผนไว้ที่มีอยู่ของผลิตภัณฑ์ *S1* จะถูกลบออก จากนั้นจึงพิจารณาความต้องการสำหรับสินค้าสำเร็จรูป *FG* เท่านั้น ในขณะที่ความต้องการสำหรับสินค้าสำเร็จรูป *FG2* จะไม่ถูกข้ามไป</span><span class="sxs-lookup"><span data-stu-id="0c84b-177">This means that existing planned demand for product *S1* is deleted and then recreated taking into account finished good *FG* requirements only, while finished good *FG2* requirements are disregarded.</span></span> <span data-ttu-id="0c84b-178">ซึ่งจะเกิดขึ้นเนื่องจากเมื่อคุณรัน Planning Optimization แต่จะไม่รวมความต้องการที่วางแผนไว้ของแผนการใบสั่งผลิตอื่นๆ เฉพาะความต้องการที่วางแผนไว้ซึ่งสร้างขึ้น&mdash;ในระหว่างการรันเท่านั้น</span><span class="sxs-lookup"><span data-stu-id="0c84b-178">This happens because when you run Planning Optimization, it doesn't include the planned demand of other planned production orders&mdash;only the planned demand generated during the run is used.</span></span>

> [!NOTE]
> <span data-ttu-id="0c84b-179">ถ้าแผนการใบสั่งที่มีอยู่ของสำหรับสินค้าสำเร็จรูป *FG2* อยู่ในสถานะ *อนุมัติแล้ว* ความต้องการที่วางแผนไว้ที่ได้รับอนุมัติแล้วจะถูกรวมไว้ด้วย แม้ว่าผลิตภัณฑ์หลักจะไม่เพิ่มลงในตัวกรอง</span><span class="sxs-lookup"><span data-stu-id="0c84b-179">If the existing planned order for finished good *FG2* is in status *Approved*, then the approved planned demand will be included, even when the parent product isn't added to the filter.</span></span>

<span data-ttu-id="0c84b-180">ดังนั้นนอกจากคุณจะเพิ่มส่วนประกอบทั้งหมดของสินค้าสำเร็จรูป *FG* สินค้าสำเร็จรูป *FG2* และผลิตภัณฑ์อื่นๆ ทั้งหมดที่ส่วนประกอบเหล่านี้เป็นส่วนหนึ่งของ (ร่วมกับส่วนประกอบ) การรันการวางแผนหลักที่ผ่านการกรองข้อมูลแล้วจะให้ผลลัพธ์ที่พึงได้</span><span class="sxs-lookup"><span data-stu-id="0c84b-180">Therefore, unless you add all the components of the finished good *FG*, finished good *FG2*, and all other products that these components are part of (together with their components), the filtered master planning run will provide undesired results.</span></span>

<span data-ttu-id="0c84b-181">เนื่องจากอาจซับซ้อนเพื่อให้แน่ใจว่าผลิตภัณฑ์ทั้งหมดเป็นส่วนหนึ่งของตัวกรองข้อมูล เราจึงขอแนะนาว่าคุณควรหลีกเลี่ยงการรันการวางแผนหลักที่กรองข้อมูลแล้วเมื่อเกี่ยวข้องกับใบสั่งผลิต</span><span class="sxs-lookup"><span data-stu-id="0c84b-181">Because it can be complex to ensure that all products are part of the filter, we recommend that you avoid filtered master planning runs when production orders are involved.</span></span>

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
