---
title: คํานวณวันที่จัดส่งสินค้าตามใบสั่งขายโดยใช้ CTP
description: ฟังก์ชัน Capable-to-promise (CTP) ช่วยให้คุณสามารถให้วันที่ตามจริงแก่ลูกค้าเมื่อคุณสามารถสัญญาสินค้าเฉพาะได้ บทความนี้จะอธิบายวิธีการตั้งค่าและใช้ CTP กับกลไกจัดการการวางแผนแต่ละกลไกจัดการ (การเพิ่มประสิทธิภาพการวางแผนและกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน)
author: t-benebo
ms.date: 07/20/2022
ms.topic: article
ms.search.form: SalesAvailableDlvDates, SalesTable, CustParameters, InventItemOrderSetup
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2022-07-20
ms.dyn365.ops.version: 10.0.28
ms.openlocfilehash: 4a3b8ba89d9fb224026cf32cad89d7f28321ee79
ms.sourcegitcommit: 491ab9ae2b6ed991b4eb0317e396fef542d3a21b
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 11/03/2022
ms.locfileid: "9741215"
---
# <a name="calculate-sales-order-delivery-dates-using-ctp"></a>คํานวณวันที่จัดส่งสินค้าตามใบสั่งขายโดยใช้ CTP

[!include [banner](../../includes/banner.md)]
[!INCLUDE [preview-banner](../../includes/preview-banner.md)]
<!-- KFM: Preview until further notice -->
<!-- KFN: Split into two topics, one for PO and one for classic. -->

ฟังก์ชัน Capable-to-promise (CTP) ช่วยให้คุณสามารถให้วันที่ตามจริงแก่ลูกค้าเมื่อคุณสามารถสัญญาสินค้าเฉพาะได้ คุณสามารถระบุวันที่ที่จะสรุปปริมาณคงคลังคงเหลือ ความจุการผลิต และเวลาในการขนส่งที่มีอยู่ของแต่ละบรรทัดการขายได้

CTP ขยาย [available-to-promise](../../sales-marketing/delivery-dates-available-promise-calculations.md) (ATP) โดยพิจารณาข้อมูลความจุ ในขณะที่ ATP พิจารณาเฉพาะความพร้อมใช้งานของวัตถุดิบเท่านั้นและสมมติว่ามีทรัพยากรขีดความสามารถมีไม่สิ้นสุด CTP จะพิจารณาความพร้อมใช้งานของทั้งวัสดุและความจุ ดังนั้น จึงมีรูปภาพที่ตามจริงมากขึ้นว่าความต้องการสามารถตอบสนองภายในกรอบเวลาที่ได้หรือไม่

CTP จะทำงานในลักษณะต่างกันเล็กน้อย ขึ้นกับกลไกจัดการการวางแผนหลักที่คุณใช้ (การเพิ่มประสิทธิภาพการวางแผนและกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน) บทความนี้จะอธิบายวิธีการตั้งค่าสำหรับแต่ละกลไกจัดการ ปัจจุบัน CTP เพื่อเพิ่มประสิทธิภาพการวางแผนสนับสนุนเฉพาะชุดย่อยของสถานการณ์สมทบ CTP ที่สนับสนุนโดยกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน

## <a name="turn-on-ctp-for-planning-optimization"></a>เปิด CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน

CTP สำหรับกลไกจัดการการวางแผนหลักที่ไม่สนับสนุนพร้อมใช้งานเสมอ อย่างไรก็ตาม ถ้าคุณต้องการใช้ CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน ต้องเปิด CTP เพื่อระบบของคุณ ผู้ดูแลระบบสามารถใช้การตั้งค่า [การจัดการคุณลักษณะ](../../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) เพื่อตรวจสอบสถานะของคุณลักษณะและเปิดใช้งาน ในพื้นที่ทำงาน **การจัดการคุณลักษณะ** มีการแสดงรายการคุณลักษณะในวิธีต่อไปนี้:

- **โมดูล:** *การวางแผนหลัก*
- **ชื่อคุณลักษณะ:** *(ตัวอย่าง) CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน*

## <a name="how-ctp-compares-to-atp"></a>วิธีการเปรียบเทียบ CTP กับ ATP

CTP และ ATP มีความคล้ายกัน แต่ CTP มักจะสามารถให้ผลลัพธ์ที่ถูกต้องมากกว่า ดังตัวอย่างต่อไปนี้ที่แสดง

สินค้า A คือสินค้าที่ประกอบด้วยสินค้า B และ C และปริมาณคงคลังคงเหลือของสินค้า A คือ 0 (ศูนย์) ถ้าคุณทำการตรวจสอบ ATP ที่พิจารณาเฉพาะวัสดุเท่านั้น ปริมาณ ATP จะเป็น 0 (ศูนย์) ด้วย อย่างไรก็ตาม หากคุณทำการตรวจสอบ CTP ระบบจะตรวจสอบความพร้อมของสินค้า B และ C ให้ตรวจสอบทรัพยากรที่ต้องใช้ในการทำสินค้า A และคํานวณจำนวนที่สามารถทำสินค้า A นอกจากนี้ การคํานวณ CTP ยังสามารถตรวจสอบทรัพยากรและวัสดุที่ต้องใช้ในการเติมสินค้า B และ C และเพื่อใช้ในการสร้างสินค้า A มากขึ้น

การคํานวณ CTP ที่ถือว่ามีทั้งวัสดุและทรัพยากรอาจแสดงปริมาณที่มากกว่าการคํานวณซึ่งตรวจสอบเฉพาะวัสดุ โดยเฉพาะเมื่อตรวจสอบสินค้าเป็นสินค้าแบบรวมตามใบสั่ง กล่าวอีกอย่างคือ ฟังก์ชัน CTP ขึ้นอยู่กับฟังก์ชัน Explosion และสามารถรันรายการใบสั่งขายที่เลือกเพื่อคํานวณวันที่จัดส่งที่คาดไว้

## <a name="how-ctp-differs-depending-on-the-master-planning-engine-that-you-use"></a>วิธีการที่แตกต่างกันของ CTP ขึ้นอยู่กับกลไกจัดการการวางแผนหลักที่คุณใช้

ตารางต่อไปนี้สรุปผลต่างระหว่าง CTP สำหรับการเพิ่มประสิทธิภาพการวางแผนและ CTP สำหรับกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน

| องค์ประกอบ | การเพิ่มประสิทธิภาพการวางแผน | กลไกจัดการการวางแผนหลักที่ไม่สนับสนุน |
|---|---|---|
| การตั้งค่า **ตัวควบคุม Delivery date** สำหรับใบสั่ง รายการใบสั่ง และผลิตภัณฑ์ | *CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน* | *CTP* |
| เวลาในการคำนวณ | การคํานวณจะถูกทริกเกอร์โดยการรันแผนแบบไดนามิกเป็นงานที่จัดตารางการผลิตไว้ | การคํานวณจะถูกทริกเกอร์ทุกครั้งที่คุณป้อนหรืออัปเดตบรรทัดใบสั่งขาย |
| ค่าของฟิลด์ **สถานะ CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน** | <p>ค่าของ *ไม่พร้อม* จะปรากฏเฉพาะใบสั่งและบรรทัดใบสั่งที่แผนแบบไดนามิกยังไม่ได้รัน เนื่องจากใบสั่งและรายการถูกสร้างหรืออัปเดตล่าสุด</p><p>ค่า *พร้อม* จะแสดงใบสั่งและรายการซึ่งใช้ CTP เพื่อคํานวณวันที่จัดส่งที่ยืนยันแล้วโดยการรันแผนแบบไดนามิก</p> | ค่า *พร้อม* จะแสดงเสมอ |

## <a name="set-default-delivery-date-control-methods"></a><a name="default-methods"></a>ตั้งค่าวิธีการควบคุมวันที่จัดส่งเริ่มต้น

ระบบสามารถใช้วิธีการใดๆ หลายวิธีในการคํานวณการประเมินวันที่จัดส่งในบรรทัดใบสั่งและบรรทัดใบสั่งแต่ละบรรทัด คุณควรตั้งค่าวิธีการควบคุมวันที่จัดส่งที่คุณต้องการใช้บ่อยที่สุดเป็นวิธีการเริ่มต้นสากล คุณยังสามารถกำหนดการแทนที่แต่ละรายการสำหรับแต่ละผลิตภัณฑ์ได้ด้วยเช่นกัน หลังจากนั้น คุณจะสามารถแทนที่วิธีการเริ่มต้นของแต่ละใบสั่งและ/หรือบรรทัดใบสั่งได้ตามต้องการ

### <a name="set-the-global-default-delivery-date-control"></a><a name="global-default"></a>ตั้งค่าตัวควบคุม Delivery date เริ่มต้นสากล

วิธีการควบคุมวันที่จัดส่งเริ่มต้นจะใช้กับรายการใบสั่งใหม่ทั้งหมดซึ่งการแทนที่ไม่มีผลบังคับใช้ เมื่อต้องการเลือก ให้ปฏิบัติตามขั้นตอนต่อไปนี้

1. ไปที่ **บัญชีลูกหนี้ \> การตั้งค่า \> พารามิเตอร์บัญชีลูกหนี้**
1. บนแท็บ **การจัดส่ง** บนแท็บด่วน **ตัวควบคุม Delivery** ในฟิลด์ **ตัวควบคุม Delivery date** ให้เลือกวิธีการที่คุณต้องการใช้เป็นวิธีการเริ่มต้นของบริษัทของคุณ

    - *ไม่มี* – อย่าคำนวณวันที่จัดส่ง
    - *ระยะเวลารอคอยสินค้าในการขาย* – ระยะเวลารอคอยสินค้าในการขายคือเวลาระหว่างการสร้างใบสั่งขายและจัดส่งสินค้า การคำนวณวันที่จัดส่งจะขึ้นอยู่กับจำนวนวันเริ่มต้น และไม่พิจารณาถึงปริมาณสินค้าคงคลังที่มีอยู่ ความต้องการทราบ หรือการจัดหาวัสดุที่วางแผนไว้
    - *ATP* – ATP คือปริมาณของสินค้าที่พร้อมใช้งานและสามารถสัญญากับลูกค้าในวันที่ที่ระบุ การคำนวณ ATP รวมสินค้าคงคลังที่ไม่ได้ผูกมัด ระยะเวลารอคอยสินค้า การรับสินค้าและการออกใช้ตามที่วางแผนไว้
    - *ATP + เวลาเผื่อสำหรับการตัดสินค้าจากคลัง*– วันจัดส่งจะเท่ากับวัน ATP บวกเวลาเผื่อสำหรับการตัดสินค้าจากคลังสำหรับสินค้า เวลาเผื่อสำหรับการตัดสินค้าจากคลังคือเวลาที่ต้องใช้เพื่อจัดเตรียมสินค้าสำหรับการจัดส่ง
    - *CTP* – ใช้การคํานวณ CTP ที่ให้มาโดยกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน ถ้าคุณใช้การเพิ่มประสิทธิภาพการวางแผนวิธีการควบคุมวันที่จัดส่งของ *CTP* จะไม่ได้รับอนุญาต และถ้ามีการเลือกไว้ จะทําให้เกิดข้อผิดพลาดเมื่อรันการคํานวณ
    - *CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน* – ใช้การคํานวณ CTP ที่ให้มาโดยการเพิ่มประสิทธิภาพการวางแผน ตัวเลือกนี้จะไม่มีผลถ้าคุณใช้งานกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน

### <a name="set-delivery-date-control-overrides-for-individual-products"></a>ตั้งค่าการแทนที่ตัวควบคุม Delivery date สำหรับแต่ละผลิตภัณฑ์

คุณสามารถกําหนดการแทนที่ให้กับผลิตภัณฑ์เฉพาะซึ่งคุณต้องการใช้วิธีการควบคุมวันที่จัดส่งอื่นนอกเหนือจากที่ตั้งค่าเป็นวิธีการเริ่มต้นสากลของคุณ

1. ไปยัง **การจัดการข้อมูลผลิตภัณฑ์ \> ผลิตภัณฑ์ \> ผลิตภัณฑ์ที่นำออกใช้**
1. เลือกผลิตภัณฑ์ที่คุณต้องการตั้งค่า
1. บนบานหน้าต่างการดำเนินการ บนแท็บ **จัดการสินค้างคงคลัง** ในกลุ่ม **การตั้งค่าใบสั่ง** ให้เลือก **การตั้งค่าใบสั่งเริ่มต้น**
1. บนหน้า **การตั้งค่าใบสั่งเริ่มต้น** บนแท็บด่วน **ใบสั่งขาย** ให้ตั้งค่าตัวเลือก **แทนที่ตัวควบคุม Delivery** เป็น *ใช่*
1. ในฟิลด์ **ตัวควบคุม Delivery date** ให้เลือกวิธีการที่จะใช้กับผลิตภัณฑ์ที่เลือก ตัวเลือกเดียวกันกับที่อธิบายไว้ในส่วน [ตั้งค่าการควบคุมวันที่จัดส่งเริ่มต้นสากล](#global-default) จะพร้อมใช้งาน

## <a name="schedule-ctp-for-planning-optimization-calculations"></a><a name="batch-job"></a>จัดกำหนดการ CTP เพื่อคํานวณการเพิ่มประสิทธิภาพการวางแผน

เมื่อคุณใช้ CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน คุณต้องรันแผนแบบไดนามิกเพื่อทริกเกอร์ระบบเพื่อคํานวณ CTP แล้วตั้งค่าวันที่จัดส่งและวันที่รับสินค้าที่ยืนยันแล้วของใบสั่งที่เกี่ยวข้องทั้งหมด แผนต้องมีสินค้าทั้งหมดที่ต้องใช้วันที่จัดส่งและวันที่รับสินค้าที่ยืนยัน (เมื่อคุณใช้ CTP สำหรับกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน การคํานวณ CTP จะเกิดขึ้นทันทีเฉพาะที่ ดังนั้น คุณจึงไม่ต้องรันแผนแบบไดนามิกเพื่อดูผลลัพธ์ CTP)

เพื่อให้แน่ใจว่าวันที่พร้อมใช้งานสำหรับผู้ใช้ทุกคน ขอแนะนำว่าคุณควรตั้งค่าชุดงานเพื่อรันแผนที่เกี่ยวข้องบนฐานที่เกิดซ้ำ ตัวอย่างเช่น ชุดงานที่มีการตั้งค่าให้รันแผนแบบไดนามิกทุกๆ 30 นาที จะตั้งค่าการจัดส่งที่ยืนยันและวันที่รับทุกๆ 30 นาที ดังนั้น ผู้ใช้ที่ป้อนและนําเข้าใบสั่งต้องรอสูงสุด 30 นาทีเพื่อขอรับวันที่จัดส่งที่ยืนยันและรับ

เมื่อต้องการตั้งค่าชุดงานให้รันแผนแบบไดนามิกในกำหนดการปกติ ให้ปฏิบัติตามขั้นตอนต่อไปนี้

1. ไปที่ **การวางแผนหลัก \> การวางแผนหลัก \> การรัน \> การวางแผนหลัก**
1. ในกล่องโต้ตอบ **การวางแผนอ** บนแท็บด่วน **พารามิเตอร์** ให้ตั้งค่าฟิลด์ **แผนหลัก** เป็นแผนแบบไดนามิกที่คุณต้องการรัน
1. บนแท็บด่วน **ทำงานในเบื้องหลัง** ให้ตั้งค่าตัวเลือก **การประมวลผลชุดงาน** เป็น *ใช่*
1. เลือก **การเกิดซ้ำ** และตั้งค่าจัดกำหนดการตามที่ต้องการ
1. เลือก **ตกลง** เพื่อบันทึกกำหนดการ
1. เลือก **ตกลง** เพื่อสร้างชุดงาน และปิดกล่องโต้ตอบ

## <a name="use-ctp-for-the-deprecated-master-planning-engine"></a>ใช้ CTP กับกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน

### <a name="create-a-new-order-by-using-ctp-for-the-deprecated-master-planning-engine"></a>สร้างใบสั่งใหม่โดยใช้ CTP กับกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน

ในแต่ละครั้งที่คุณเพิ่มใบสั่งขายหรือบรรทัดใบสั่งใหม่ ระบบจะกําหนดวิธีการควบคุมวันที่จัดส่งเริ่มต้นให้กับใบสั่งขายนั้น ส่วนหน้าของใบสั่งจะเริ่มต้นด้วยวิธีการเริ่มต้นแบบสากลเสมอ หากการแทนที่ถูกมอบหมายให้กับสินค้าที่สั่ง รายการใบสั่งใหม่จะใช้การแทนที่นั้น หรือ บรรทัดใบสั่งใหม่จะใช้วิธีการเริ่มต้นสากลด้วย ดังั้น คุณควรตั้งค่าวิธีการเริ่มต้นของคุณที่ตรงกับวิธีการควบคุมวันที่จัดส่งคุณต้องการใช้บ่อยที่สุด หลังจากที่คุณสร้างใบสั่งแล้ว คุณสามารถแทนที่วิธีการเริ่มต้นที่ส่วนหน้าของใบสั่งและ/หรือระดับบรรทัดใบสั่งได้ตามต้องการ สำหรับข้อมูลเพิ่มเติม ดูที่ [ตั้งค่าวิธีการควบคุมวันที่จัดส่งเริ่มต้น](#default-methods) และ [เปลี่ยนใบสั่งขายที่มีอยู่เพื่อใช้ CTP](#change-orders)

### <a name="view-confirmed-delivery-dates-when-you-use-ctp-for-the-deprecated-master-planning-engine"></a>ดูวันที่จัดส่งที่ยืนยันเมื่อคุณใช้ CTP กับกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน

ถ้าคุณใช้กลไกจัดการการวางแผนหลักที่ไม่สนับสนุน การคํานวณ CTP จะถูกใช้กับใบสั่งและ/หรือรายการใบสั่งที่มีการตั้งค่าฟิลด์ **ตัวควบคุม Delivery date** เป็น *CTP*

สำหรับรายการขายที่ใช้ CTP กับกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน ระบบจะตั้งค่าฟิลด์ **วันที่จัดส่งที่ยืนยัน** และ **วันที่ยืนยันการรับสินค้า** ทุกครั้งที่คุณบันทึกรายการขายโดยอัตโนมัติ ถ้าหลังจากนั้น คุณมีการเปลี่ยนแปลงที่เกี่ยวข้องกับบรรทัดการขาย (ตัวอย่างเช่น ด้วยการเปลี่ยนปริมาณหรือไซต์) วันที่จะถูกคำนวณใหม่ทันที

- เมื่อต้องการดูวันที่จัดส่งที่ยืนยันแล้วของบรรทัดใบสั่งขาย เปิดใบสั่งขาย และเลือกบรรทัดการขาย จากนั้น บนแท็บด่วน **รายละเอียดรายการ** บนแท็บ **การนำส่ง** ทบทวนค่า **วันที่จัดส่งที่ยืนยัน** และ **วันที่ยืนยันการรับสินค้า**
- เมื่อต้องการดูวันที่จัดส่งที่ยืนยันแล้วของบรรทัดใบสั่งทั้งหมด เปิดใบสั่งขาย และเลือกมุมมอง **ส่วนหัว** จากนั้น บนแท็บด่วน **การนำส่ง** ทบทวนค่า **วันที่จัดส่งที่ยืนยัน** และ **วันที่ยืนยันการรับสินค้า**

## <a name="use-ctp-for-planning-optimization"></a>ใช้ CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน

### <a name="create-a-new-order-by-using-ctp-for-planning-optimization"></a>สร้างใบสั่งใหม่โดยใช้ CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน

ในแต่ละครั้งที่คุณเพิ่มใบสั่งขายหรือบรรทัดใบสั่งใหม่ ระบบจะกําหนดวิธีการควบคุมวันที่จัดส่งเริ่มต้นให้กับใบสั่งขายนั้น ส่วนหน้าของใบสั่งจะเริ่มต้นด้วยวิธีการเริ่มต้นแบบสากลเสมอ หากการแทนที่ถูกมอบหมายให้กับสินค้าที่สั่ง รายการใบสั่งใหม่จะใช้การแทนที่นั้น หรือ บรรทัดใบสั่งใหม่จะใช้วิธีการเริ่มต้นสากลด้วย ดังั้น คุณควรตั้งค่าวิธีการเริ่มต้นของคุณที่ตรงกับวิธีการควบคุมวันที่จัดส่งคุณต้องการใช้บ่อยที่สุด หลังจากที่คุณสร้างใบสั่งแล้ว คุณสามารถแทนที่วิธีการเริ่มต้นที่ส่วนหน้าของใบสั่งและ/หรือระดับบรรทัดใบสั่งได้ตามต้องการ สำหรับข้อมูลเพิ่มเติม ดูที่ [ตั้งค่าวิธีการควบคุมวันที่จัดส่งเริ่มต้น](#default-methods) และ [เปลี่ยนใบสั่งขายที่มีอยู่เพื่อใช้ CTP](#change-orders)

### <a name="view-confirmed-delivery-dates-when-using-ctp-for-planning-optimization"></a>ดูวันที่จัดส่งที่ยืนยันเมื่อใช้ CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน

ถ้าคุณใช้การเพิ่มประสิทธิภาพการวางแผน การคํานวณ CTP จะถูกใช้กับใบสั่งและ/หรือรายการใบสั่งที่มีการตั้งค่าฟิลด์ **ตัวควบคุม Delivery date** เป็น *CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน*

สำหรับรายการขายที่ใช้ CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน ฟิลด์ **วันที่จัดส่งที่ยืนยัน** และ **วันที่รับสินค้าที่ยืนยัน** จะว่างเปล่าจนกว่าคุณจะรันแผนแบบไดนามิกที่เหมาะสม (โดยปกติคือโดยการใช้ชุดงานเฉพาะงวด) จากนั้นมีการตั้งค่าโดยอัตโนมัติ สำหรับข้อมูลเพิ่มเติม ให้ดูที่ [จักำหนดการ CTP สำหรับการคำนวณการเพิ่มประสิทธิภาพการวางแผน](#batch-job)

ฟิลด์ **สถานะ CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน** บ่งชี้ว่ามีการคํานวณวันที่ที่ยืนยันแล้วให้กับแต่ละรายการที่ใช้ CTP เพื่อเพิ่มประสิทธิภาพการวางแผนหรือไม่ ฟิลด์แสดงค่าเป็น *ไม่พร้อม* เฉพาะบรรทัดและใบสั่งที่วันที่จัดส่งที่ยืนยันอย่างใดอย่างหนึ่ง ยังไม่ได้คํานวณ หรือไม่สามารถใช้ได้อีกต่อไป เนื่องจากการเปลี่ยนแปลงอื่นๆ ค่านี้จะแสดงค่า *พร้อม* สำหรับรายการ และใบสั่งที่คํานวณแล้ว คุณสามารถดูสถานะของแต่ละบรรทัดและสถานะของทั้งใบสั่งได้

- เมื่อต้องการดูสถานะของบรรทัดใบสั่งขาย เปิดใบสั่งขาย และเลือกบรรทัดการขาย จากนั้น บนแท็บด่วน **รายละเอียดรายการ** บนแท็บ **การจัดส่ง** ให้ตรวจทาน CTP สำหรับค่า **สถานะการเพิ่มประสิทธิภาพการวางแผน** ฟิลด์ **วันที่จัดส่งที่ยืนยัน** และ **วันที่รับสินค้าที่ยืนยัน** ของบรรทัดจะแสดงขึ้นบนแท็บนี้ด้วยหลังจากที่คํานวณแล้ว
- เมื่อต้องการดูสถานะของบรรทัดใบสั่งทั้งหมด เปิดใบสั่งขาย และเลือกมุมมอง **ส่วนหัว** จากนั้น บนแท็บด่วน **การจัดส่ง** ให้ตรวจทานค่า **สถานะ CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน** **วันที่จัดส่งที่ยืนยัน** และ **วันที่รับสินค้าที่ยืนยัน** สำหรับใบสั่งจะแสดงขึ้นบนแท็บนี้ด้วยหลังจากที่คํานวณแล้ว

<!-- KFM: The following text may be untrue and needs to be reviewed with the PM for next revision:

The sales orders that are *Ready* or *Not ready* are shown in the **All sales orders** list page. You can check the sales order that are *Ready* or *Not ready* from the sales order list page by filtering on this new status field.

-->

> [!NOTE]
> - ถ้าคุณอัปเดตรายการใบสั่งขายหลังจาก CTP สำหรับการเพิ่มประสิทธิภาพการวางแผนได้คํานวณวันที่ที่ยืนยันแล้ว ระบบจะล้างข้อมูลวันที่ดังกล่าวจนกว่าจะมีการรันแผนแบบไดนามิกที่เหมาะสมในครั้งต่อไป
> - ถ้าคุณแก้ไขการตั้งค่าที่เกี่ยวข้อง ซึ่งอาจมีผลกระทบต่อวันที่ยืนยันที่มีอยู่ (ตัวอย่างเช่น ด้วยการเปลี่ยนระยะเวลารอคอยสินค้า การจองสินค้า หรือการเลือก) คุณควรล้างข้อมูลวันที่ยืนยันของใบสั่งที่มีอยู่ที่เกี่ยวข้อง การดำเนินการนี้จะทําให้สถานะของรายการที่เกี่ยวข้องแต่ละรายการมีการเปลี่ยนแปลงเป็น *ไม่พร้อม* การเปลี่ยนแปลงนี้จะทําให้ระบบทําให้ระบบทําการคำนวณวันที่ยืนยันอีกครั้งในครั้งถัดไปที่รันแผนแบบไดนามิก

## <a name="change-existing-sales-orders-so-that-they-use-ctp"></a><a name="change-orders"></a>เปลี่ยนใบสั่งขายที่มีอยู่เพื่อให้ใช้ CTP

คุณสามารถเปลี่ยนค่า **ตัวควบคุม Delivery date** ในใบสั่งที่เปิดได้ตลอดเวลา คุณสามารถเปลี่ยนค่าที่ระดับส่วนหัวและ/หรือของแต่ละบรรทัดได้ตามต้องการ

### <a name="change-to-ctp-at-the-order-header-level"></a>เปลี่ยนเป็น CTP ที่ระดับส่วนหัวของใบสั่ง

<!-- KFM: Would be nice to mention how changing this setting on the header affects the individual lines. -->

เมื่อต้องการเปลี่ยนใบสั่งเพื่อให้ใช้ CTP ที่ระดับส่วนหัวของใบสั่ง ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **บัญชีลูกหนี้ \> ใบสั่ง \> ใบสั่งขายทั้งหมด**
1. เปิดใบสั่งขายที่คุณต้องการตั้งค่า หรือสร้างใบสั่งขายใหม่
1. เลือก **ส่วนหัว** เพื่อเปิดข้อมูลส่วนหัวบนหน้า **รายละเอียดใบสั่งขาย**
1. บนแท็บด่วน **การจัดส่ง** ให้ตั้งค่าฟิลด์ **ตัวควบคุม Delivery date** เป็นค่าใดค่าหนึ่งต่อไปนี้ ทั้งนี้ขึ้นอยู่กับกลไกจัดการการวางแผนที่คุณใช้งาน

    - *CTP* – ใช้การคํานวณ CTP ที่ให้มาโดยกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน ถ้าคุณใช้การเพิ่มประสิทธิภาพการวางแผน ไม่อนุญาตให้ใช้วิธีการควบคุมวันที่จัดส่งของ *CTP* ดังนั้นถ้าคุณเลือกค่านี้ ข้อผิดพลาดจะเกิดขึ้นเมื่อการคํานวณรัน
    - *CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน* – ใช้การคํานวณ CTP ที่ให้มาโดยการเพิ่มประสิทธิภาพการวางแผน การตั้งค่านี้จะไม่มีผลถ้าคุณใช้งานกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน

<!-- KFM: Additional dialogs are shown here. Review these with the PM and expand this procedure at next revision. -->
1. เลือก **ตกลง** เพื่อใช้การเปลี่ยนแปลงของคุณ

### <a name="change-to-ctp-at-the-order-line-level"></a>เปลี่ยนเป็น CTP ที่ระดับรายการของใบสั่ง

หากคุณสร้างรายการใบสั่งโดยใช้วิธีการควบคุมวันที่จัดส่งอื่น คุณสามารถเปลี่ยนเป็น CTP ได้ตลอดเวลา การเปลี่ยนแปลงที่คุณเปลี่ยนแปลงที่ระดับรายการจะไม่ส่งผลกระทบต่อบรรทัดอื่นใด อย่างไรก็ตาม อาจทําให้วันที่จัดส่งของใบสั่งโดยรวมย้ายไปข้างหน้าหรือย้อนหลัง ทั้งนี้ขึ้นอยู่กับวิธีการคํานวณบรรทัดที่อัปเดตแต่ละอย่าง <!-- KFM: Confirm this intro at next revision -->

เมื่อต้องการเปลี่ยนใบสั่งเพื่อให้ใช้ CTP กับกลไกจัดการการวางแผนหลักที่ไม่สนับสนุนที่ระดับรายการ ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **บัญชีลูกหนี้ \> ใบสั่ง \> ใบสั่งขายทั้งหมด**
1. เปิดใบสั่งขายที่คุณต้องการตั้งค่า หรือสร้างใบสั่งขายใหม่
1. บนหน้า **รายละเอียดใบสั่งขาย** บนแท็บด่วน **บรรทัดใบสั่งขาย** ให้เลือกบรรทัดใบสั่งขายที่คุณต้องการตั้งค่า
1. บนแท็บด่วน **รายละเอียดของรายการ** บนแท็บ **การจัดส่ง** ให้ตั้งค่าฟิลด์ **ตัวควบคุม Delivery date** เป็นค่าใดค่าหนึ่งต่อไปนี้ ทั้งนี้ขึ้นอยู่กับกลไกจัดการการวางแผนที่คุณใช้งาน

    - *CTP* – ใช้การคํานวณ CTP ที่ให้มาโดยกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน ถ้าคุณใช้การเพิ่มประสิทธิภาพการวางแผน ไม่อนุญาตให้ใช้วิธีการควบคุมวันที่จัดส่งของ *CTP* ดังนั้นถ้าคุณเลือกค่านี้ ข้อผิดพลาดจะเกิดขึ้นเมื่อการคํานวณรัน
    - *CTP สำหรับการเพิ่มประสิทธิภาพการวางแผน* – ใช้การคํานวณ CTP ที่ให้มาโดยการเพิ่มประสิทธิภาพการวางแผน การตั้งค่านี้จะไม่มีผลถ้าคุณใช้งานกลไกจัดการการวางแผนหลักที่ไม่สนับสนุน

    กล่องโต้ตอบ **วันที่จัดส่งและวันที่รับสินค้าที่พร้อมใช้งาน** จะปรากฏขึ้น และแสดงวันที่จัดส่งและวันที่รับสินค้าที่พร้อมใช้งาน กล่องโต้ตอบนี้จะใช้ได้ในลักษณะเดียวกับบรรทัดใบสั่งเช่นเดียวกับส่วนหน้าของใบสั่ง ตามที่อธิบายไว้ในส่วนก่อนหน้านี้

1. บนบานหน้าต่างการดำเนินการ เลือก **บันทึก**
