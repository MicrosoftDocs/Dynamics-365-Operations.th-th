---
title: การตั้งค่าการคาดการณ์ความต้องการ
description: หัวข้อนี้อธิบายงานการตั้งค่าที่คุณต้องดำเนินการเพื่อจัดเตรียมสำหรับการคาดการณ์ความต้องการ
author: ChristianRytt
ms.date: 11/23/2021
ms.topic: article
ms.search.form: ReqDemPlanDefaultAlgorithmParameters, ReqDemPlanForecastParameters
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: crytt
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 3abe82bb888b7501b00af44b48bfb40fbe8e2ee3
ms.sourcegitcommit: 6ef4906621fbb4e3afaf2b0d6697536288365bb1
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 11/30/2021
ms.locfileid: "7868648"
---
# <a name="demand-forecasting-setup"></a>การตั้งค่าการคาดการณ์ความต้องการ

[!include [banner](../includes/banner.md)]

หัวข้อนี้จะอธิบายวิธีการตั้งค่าการคาดการณ์ความต้องการ  

## <a name="item-allocation-keys"></a>คีย์การปันส่วนสินค้า

คีย์การปันส่วนสินค้าจะกําหนดกลุ่มของสินค้า มีการคำนวณการคาดการณ์ความต้องการสำหรับสินค้าและมิติของสินค้าเฉพาะเมื่อสินค้าเป็นส่วนหนึ่งของคีย์การปันส่วนสินค้า กฎนี้จะบังคับใช้เพื่อจัดกลุ่มสินค้าจำนวนมาก เพื่อให้สามารถมีการสร้างการคาดการณ์ความต้องการได้รวดเร็วขึ้น มีการสร้างการคาดการณ์โดยยึดตามข้อมูลในอดีตเท่านั้น

สินค้าและมิติของสินค้าต้องเป็นส่วนหนึ่งของคีย์การปันส่วนสินค้าคีย์เดียวเท่านั้น เมื่อมีการใช้คีย์การปันส่วนสินค้าระหว่างการสร้างการคาดการณ์

เมื่อต้องการสร้างคีย์การปันส่วนสินค้าและเพิ่มหน่วยจัดเก็บสินค้าคงคลัง (SKU) ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปยัง **การวางแผนหลัก \> การตั้งค่า \> การคาดการณ์ความต้องการ \> คีย์การปันส่วนสินค้า**
1. เลือกคีย์การปันส่วนสินค้าในบานหน้าต่างรายการ หรือเลือก **สร้าง** ในบานหน้าต่างการดำเนินการเพื่อสร้างคีย์ใหม่ ในส่วนหัวของคีย์ใหม่หรือที่เลือก ให้ตั้งค่าฟิลด์ต่อไปนี้:

    - **คีย์การปันส่วนสินค้า** – ป้อนชื่อเฉพาะสำหรับคีย์
    - **ชื่อ** – ป้อนชื่อที่เป็นคำอธิบายสำหรับคีย์

1. เลือกหนึ่งในขั้นตอนเหล่านี้เพื่อเพิ่มสินค้าในคีย์การปันส่วนสินค้าที่เลือกหรือลบสินค้า:

    - บนแท็บด่วน **การปันส่วนสินค้า** ให้ใช้ปุ่ม **ใหม่** และ **ลบ** บนแถบเครื่องมือเพื่อเพิ่มหรือลบสินค้าตามที่คุณต้องการ สำหรับแต่ละแถว ให้เลือกหมายเลขสินค้า แล้วกําหนดค่ามิติในคอลัมน์อื่นๆ ตามต้องการ เลือก **แสดงมิติ** บนแถบเครื่องมือเพื่อเปลี่ยนชุดของคอลัมน์มิติที่แสดงในตาราง (ค่าในคอลัมน์ **เปอร์เซ็นต์** จะถูกละเว้นเมื่อมีการสร้างการคาดการณ์ความต้องการ)
    - ถ้าคุณต้องการเพิ่มสินค้าจํานวนมากลงในคีย์ ให้เลือก **กําหนดสินค้า** ในบานหน้าต่างการดำเนินการ เพื่อเปิดหน้าที่คุณสามารถค้นหาและกําหนดสินค้าหลายรายการให้กับคีย์ที่เลือก

> [!IMPORTANT]
> ระวังว่าต้องรวมเฉพาะสินค้าที่เกี่ยวข้องในแต่ละคีย์การปันส่วนสินค้าเท่านั้น สินค้าที่ไม่จำเป็นอาจทำให้เกิดต้นทุนที่เพิ่มขึ้น เมื่อคุณใช้ Microsoft Azure Machine Learning

## <a name="intercompany-planning-groups"></a>กลุ่มการวางแผนระหว่างบริษัท

การคาดการณ์ความต้องการสามารถสร้างการคาดการณ์ระหว่างบริษัทได้ ใน Dynamics 365 Supply Chain Management บริษัทที่มีการวางแผนไว้ร่วมกันจะมีการจัดกลุ่มเป็นกลุ่มการวางแผนระหว่างบริษัทกลุ่มเดียวกัน หากต้องการระบุว่าคีย์การปันส่วนสินค้าใดควรพิจารณาสำหรับการคาดการณ์ความต้องการตามบริษัท ให้เชื่อมโยงคีย์การปันส่วนสินค้ากับสมาชิกกลุ่มการวางแผนระหว่างบริษัท

> [!IMPORTANT]
> การเพิ่มประสิทธิภาพการวางแผนยังไม่รองรับกลุ่มการวางแผนระหว่างบริษัท เมื่อต้องการวางแผนระหว่างบริษัทที่ใช้การเพิ่มประสิทธิภาพการวางแผน ให้ตั้งค่าชุดงานการวางแผนหลักที่มีแผนหลักสำหรับบริษัทที่เกี่ยวข้องทั้งหมด

ถ้าต้องการตั้งค่ากลุ่มการวางแผนระหว่างบริษัท ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. ไปที่ **การวางแผนหลัก \> การตั้งค่า \> กลุ่มการวางแผนระหว่างบริษัท**
1. เลือกกลุ่มการวางแผนในบานหน้าต่างรายการ หรือเลือก **สร้าง** ในบานหน้าต่างการดำเนินการเพื่อสร้างกลุ่มใหม่ ในส่วนหัวของกลุ่มใหม่หรือที่เลือก ให้ตั้งค่าฟิลด์ต่อไปนี้:

    - **ชื่อ** – ป้อนชื่อที่ไม่ซ้ำกันสำหรับกลุ่มการวางแผน
    - **คำอธิบาย** – ป้อนคำอธิบายสั้นๆ ของกลุ่มการวางแผน

1. บนแท็บด่วน **สมาชิกกลุ่มการวางแผนระหว่างบริษัท** ให้ใช้ปุ่มบนแถบเครื่องมือเพื่อเพิ่มแถวให้กับแต่ละบริษัท (นิติบุคคล) ที่ควรเป็นส่วนหนึ่งของกลุ่ม สำหรับแต่ละแถว กำหนดค่าฟิลด์ต่อไปนี้:

    - **นิติบุคคล** – เลือกชื่อของบริษัท (นิติบุคคล) ที่เป็นสมาชิกของกลุ่มที่เลือก
    - **การจัดกำหนดการลำดับ** – กําหนดลำดับที่บริษัทควรได้รับการประมวลผลโดยสัมพันธ์กับบริษัทอื่นๆ ค่าต่ำจะมีการประมวลผลก่อน ลำดับนี้สามารถเป็นส่วนสําคัญได้เมื่อความต้องการของบริษัทหนึ่งมีผลกระทบต่อบริษัทอื่นๆ ในกรณีเหล่านี้ บริษัทที่จัดหาความต้องการควรจะได้รับการประมวลผลลำดับสุดท้าย
    - **แผนหลัก** – เลือกแผนหลักที่จะทริกเกอร์สำหรับบริษัทปัจจุบัน
    - **คัดลอกไปยังแผนแบบคงที่อัตโนมัติ** – เลือกกล่องกาเครื่องหมายเพื่อคัดลอกผลลัพธ์ของแผนไปยังแผนแบบคงที่
    - **คัดลอกไปยังแผนแบบไดนามิกอัตโนมัติ** – เลือกกล่องกาเครื่องหมายเพื่อคัดลอกผลลัพธ์ของแผนไปยังแผนแบบไดนามิก

1. โดยค่าเริ่มต้น ถ้าไม่มีคีย์การปันส่วนสินค้าใด ๆ ถูกกำหนดให้กับสมาชิกกลุ่มการวางแผนระหว่างบริษัท การคาดการณ์ความต้องการสินค้าทั้งหมดจะถูกคำนวณตามที่ถูกกำหนดไว้กับคีย์การปันส่วนสินค้าจากทุกบริษัท ตัวเลือกการกรองเพิ่มเติมสำหรับบริษัทและคีย์การปันส่วนสินค้าจะสามารถใช้งานในกล่องโต้ตอบ **สร้างการคาดการณ์พื้นฐานทางสถิติ** (**การวางแผนหลัก \> การคาดการณ์ \> การคาดการณ์ความต้องการ \> สร้างการคาดการณ์พื้นฐานทางสถิติ**) เมื่อต้องการกําหนดคีย์การปันส่วนสินค้าให้กับบริษัทในกลุ่มการวางแผนระหว่างบริษัทที่เลือก ให้เลือกบริษัท จากนั้นบนแท็บด่วน **สมาชิกกลุ่มการวางแผนระหว่างบริษัท** ให้เลือก **คีย์การปันส่วนสินค้า** บนแถบเครื่องมือ

> [!IMPORTANT]
> ระวังว่าต้องรวมเฉพาะคีย์การปันส่วนสินค้าที่เกี่ยวข้องในแต่ละกลุ่มการวางแผนระหว่างบริษัทเท่านั้น สินค้าที่ไม่จำเป็นอาจทำให้เกิดต้นทุนที่เพิ่มขึ้น เมื่อคุณใช้ Azure Machine Learning

## <a name="set-up-demand-forecasting-parameters"></a><a name="parameters"></a>ตั้งค่าพารามิเตอร์การคาดการณ์ความต้องการ

ใช้หน้า **พารามิเตอร์การคาดการณ์ความต้องการ** เพื่อตั้งค่าตัวเลือกต่างๆ ซึ่งควบคุมว่าการคาดการณ์ความต้องการจะใช้งานในระบบของคุณอย่างไร

### <a name="open-the-demand-forecasting-parameters-page"></a>เปิดหน้าพารามิเตอร์การคาดการณ์ความต้องการ

เมื่อต้องการตั้งค่าพารามิเตอร์การคาดการณ์ความต้องการ ให้ไปที่ **การวางแผนหลัก \> การตั้งค่า \> การคาดการณ์ความต้องการ \> พารามิเตอร์การคาดการณ์ความต้องการ** เนื่องจากการคาดการณ์ความต้องการดำเนินงานระหว่างบริษัท การตั้งค่าเป็นแบบสากล กล่าวได้อีกอย่างหนึ่งว่า การตั้งค่าใช้กับนิติบุคคล (บริษัท) ทั้งหมด

### <a name="general-settings"></a>การตั้งค่าทั่วไป

ใช้แท็บ **ทั่วไป** ของหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** เพื่อกําหนดการตั้งค่าทั่วไปเกี่ยวกับการคาดการณ์ความต้องการ

#### <a name="demand-forecast-unit"></a>หน่วยการคาดการณ์ความต้องการ

การคาดการณ์ความต้องสร้างการคาดการณ์ในปริมาณ ดังนั้นจึงต้องมีการระบุหน่วยวัดที่ควรมีการแสดงปริมาณในฟิลด์ **หน่วยการคาดการณ์ความต้องการ** ฟิลด์นี้จะกําหนดหน่วยที่จะใช้กับการคาดการณ์ความต้องการทั้งหมด ไม่ว่าหน่วยสินค้าคงคลังปกติของผลิตภัณฑ์แต่ละรายการจะเป็นอย่างไรก็ตาม การใช้หน่วยการคาดการณ์ที่สอดคล้องกัน ช่วยทำให้คุณมั่นใจว่าการรวมและการกระจายเปอร์เซ็นต์นั้นเหมาะสม สำหรับข้อมูลเพิ่มเติมเกี่ยวกับการรวมและการกระจายเปอร์เซ็นต์ ให้ดู [ทำการปรับปรุงด้วยตนเองไปยังการคาดการณ์พื้นฐาน](manual-adjustments-baseline-forecast.md)

สำหรับทุกหน่วยการวัดที่ใช้สำหรับ SKUs ที่รวมอยู่ในการคาดการณ์ความต้องการ ตรวจสอบให้แน่ใจว่ามีกฎการแปลงสำหรับหน่วยวัดและหน่วยวัดการคาดการณ์ทั่วไปที่คุณเลือกไว้ที่นี่ เมื่อคุณสร้างการคาดการณ์ รายการสินค้าที่ไม่มีการแปลงหน่วยวัดจะถูกบันทึก ดังนั้นคุณจึงสามารถแก้ไขการตั้งค่าได้อย่างง่ายดาย สำหรับข้อมูลเพิ่มเติมเกี่ยวกับหน่วยวัดและวิธีแปลงหน่วยวัด ดูที่ [จัดการหน่วยวัด](../pim/tasks/manage-unit-measure.md)

#### <a name="transaction-types"></a>ชนิดธุรกรรม

ใช้ฟิลด์บนแท็บด่วน **ชนิดธุรกรรม** เพื่อเลือกชนิดธุรกรรมที่ใช้เมื่อสร้างการคาดการณ์พื้นฐานทางสถิติ

คุณสามารถใช้การคาดการณ์ความต้องการในการคาดการณ์ความต้องการแบบอิสระและความต้องการแบบไม่อิสระ ตัวอย่างเช่น ถ้ามีการตั้งค่าตัวเลือก **ใบสั่งขาย** เป็น *ใช่* และสินค้าทั้งหมดที่ได้รับพิจารณาสำหรับการคาดการณ์ความต้องการเป็นสินค้าถูกขาย ระบบจะคำนวณความต้องการแบบอิสระ อย่างไรก็ตาม ส่วนประกอบย่อยที่สำคัญสามารถถูกเพิ่มไปยังคีย์การปันส่วนสินค้า และถูกรวมอยู่ในการคาดการณ์ความต้องการ ในกรณีนี้ ถ้ามีการตั้งค่าตัวเลือก **รายการการผลิต** เป็น *ใช่* จะมีการคำนวณการคาดการณ์ที่ไม่เป็นอิสระ

คุณสามารถแทนที่ชนิดของธุรกรรมในคีย์การปันส่วนสินค้าเฉพาะหนึ่งคีย์หรือมากกว่าได้โดยใช้แท็บ **คีย์การปันส่วนสินค้า** แท็บนี้จะมีฟิลด์ที่คล้ายกัน

#### <a name="choose-how-to-create-the-baseline-forecast"></a>เลือกวิธีการสร้างการคาดการณ์พื้นฐาน

ฟิลด์ **กลยุทธ์การสร้างการคาดการณ์** ช่วยให้คุณสามารถเลือกวิธีการที่ใช้ในการสร้างการคาดการณ์พื้นฐานได้ โดยมีอยู่ด้วยกันสามวิธีดังนี้

- *คัดลอกความต้องการในอดีต* – สร้างการคาดการณ์โดยการคัดลอกข้อมูลในอดีต
- *Azure Machine Learning Service* – ใช้โมเดลการคาดการณ์ที่ใช้ Azure Machine Learning Service Azure Machine Learning Service คือโซลูชันการเรียนรู้ของเครื่องปัจจุบันของ Azure ดังนั้นเราขอแนะนำให้ใช้โซลูชันนี้ถ้าคุณต้องการใช้โมเดลการคาดการณ์
- *Azure Machine Learning* – ใช้โมเดลการคาดการณ์ที่ใช้ Azure Machine Learning Studio (คลาสสิก) Azure Machine Learning Studio (คลาสสิก) มีการเลิกใช้แล้วและจะถูกลบออกจาก Azure ในเร็วๆ นี้ ดังนั้น เราขอแนะนำให้คุณเลือก *Azure Machine Learning Service* หากคุณตั้งค่าการคาดการณ์ความต้องการเป็นครั้งแรก ถ้าคุณยังใช้ Azure Machine Learning Studio (คลาสสิก) อยู่ คุณควรวางแผนเปลี่ยนไปใช้ Azure Machine Learning Service ทันทีที่เป็นไปได้

คุณสามารถแทนที่วิธีการสร้างการคาดการณ์ในคีย์การปันส่วนสินค้าเฉพาะหนึ่งคีย์หรือมากกว่าได้โดยใช้แท็บ **คีย์การปันส่วนสินค้า** แท็บนี้จะมีฟิลด์ที่คล้ายกัน

#### <a name="override-default-forecast-algorithm-parameters-globally"></a>แทนที่พารามิเตอร์อัลกอริทึมการคาดการณ์เริ่มต้นทั้งหมด

พารามิเตอร์อัลกอริทึมการคาดการณ์เริ่มต้นและค่าต่างๆ จะได้รับการกำหนดในหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** (**การวางแผนหลัก \> การตั้งค่า \> การคาดการณ์ความต้องการ \> พารามิเตอร์การคาดการณ์ความต้องการ**) อย่างไรก็ตาม คุณสามารถแทนที่ค่าดังกล่าวทั้งหมดได้โดยใช้แท็บด่วน **พารามิเตอร์อัลกอริทึมการคาดการณ์** บนแท็บ **ทั่วไป** ของหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** (คุณยังสามารถแทนที่คีย์การปันส่วนเฉพาะโดยใช้แท็บ **คีย์การปันส่วนสินค้า** บนหน้า **พารามิเตอร์การคาดการณ์ความต้องการ**)

ใช้ปุ่ม **เพิ่ม** และ **ลบ** บนแถบเครื่องมือเพื่อสร้างชุดพารามิเตอร์ที่กําหนดของการแทนที่พารามิเตอร์ สำหรับแต่ละพารามิเตอร์ในรายการ เลือกค่าในฟิลด์ **ชื่อ** แล้วป้อนค่าที่ถูกต้องในฟิลด์ **ค่า** พารามิเตอร์ทั้งหมดที่ไม่ได้แสดงรายการที่นี่จะใช้ค่าจากการตั้งค่าในหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้ชุดพารามิเตอร์มาตรฐาน และเลือกค่าต่างๆ โปรดดูที่ส่วน [พารามิเตอร์และค่าเริ่มต้นของโมเดลการคาดการณ์ความต้องการ](#model-parameters)

### <a name="set-forecast-dimensions"></a>ตั้งค่ามิติการคาดการณ์

มิติการคาดการณ์บ่งชี้ระดับของรายละเอียดที่กำหนดไว้สำหรับการคาดการณ์ บริษัท ไซต์ และคีย์การปันส่วนสินค้าต้องใช้มิติการคาดการณ์ คุณยังสามารถสร้างการคาดการณ์ที่คลังสินค้า สถานะสินค้าคงคลัง กลุ่มลูกค้า บัญชีลูกค้า ประเทศ/ภูมิภาค รัฐ และ/หรือระดับสินค้า และระดับมิติสินค้าสินค้าทั้งหมด ใช้แท็บ **มิติการคาดการณ์** ในหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** เพื่อเลือกชุดของมิติการคาดการณ์ที่จะใช้เมื่อมีการสร้างการคาดการณ์ความต้องการ

คุณสามารถเพิ่มมิติการคาดการณ์ไปยังรายการของมิติที่ใช้สำหรับการคาดการณ์ความต้องการได้ทุกเมื่อ คุณยังสามารถลบมิติการคาดการณ์ออกจากรายการได้อีกด้วย อย่างไรก็ตาม การปรับปรุงด้วยตนเองจะสูญหายไปถ้าคุณเพิ่มหรือลบมิติการคาดการณ์

### <a name="set-up-overrides-for-specific-item-allocation-keys"></a>ตั้งค่าการแทนที่สำหรับคีย์การปันส่วนสินค้าเฉพาะ

ไม่ใช่สินค้าทั้งหมดจะทำงานในลักษณะเดียวกันจากมุมมองการคาดการณ์ความต้องการ ดังนั้นคุณจึงสามารถกําหนดการแทนที่คีย์การปันส่วนเฉพาะสำหรับการตั้งค่าส่วนใหญ่ที่กําหนดไว้บนแท็บ **ทั่วไป** ข้อยกเว้นคือหน่วยการคาดการณ์ความต้องการ เมื่อต้องการตั้งค่าการแทนที่คีย์การปันส่วนสินค้าเฉพาะ ให้ปฏิบัติตามขั้นตอนเหล่านี้

1. บนหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** บนแท็บ **คีย์การปันส่วนสินค้า** ให้ใช้ปุ่มบนแถบเครื่องมือเพื่อเพิ่มคีย์การปันส่วนสินค้าลงในตารางทางด้านซ้าย หรือลบคีย์เหล่านั้นออกตามต้องการ จากนั้นเลือกคีย์การปันส่วนที่คุณต้องการตั้งค่าการแทนที่
1. บนแท็บด่วน **ชนิดธุรกรรม** ให้เปิดใช้งานชนิดของธุรกรรมที่คุณต้องการใช้เพื่อสร้างการคาดการณ์พื้นฐานทางสถิติเกี่ยวกับผลิตภัณฑ์ที่เป็นของคีย์การปันส่วนที่เลือก การตั้งค่าจะทำงานเหมือนกับที่ทำบนแท็บ **ทั่วไป** แต่จะใช้กับคีย์การปันส่วนสินค้าที่เลือกเท่านั้น การตั้งค่าทั้งหมดที่นี่ (ทั้งค่า *ใช่* และค่า *ไม่*) จะแทนที่การตั้งค่า **ชนิดธุรกรรม** ทั้งหมดบนแท็บ **ทั่วไป**
1. บนแท็บด่วน **พารามิเตอร์อัลกอริทึมการคาดการณ์** ให้เลือกกลยุทธ์การสร้างการคาดการณ์และการแทนที่พารามิเตอร์อัลกอริทึมการคาดการณ์ให้กับผลิตภัณฑ์ที่เป็นของคีย์การปันส่วนที่เลือก การตั้งค่าเหล่านี้จะทำงานเหมือนกับที่ทำบนแท็บ **ทั่วไป** แต่จะใช้กับคีย์การปันส่วนสินค้าที่เลือกเท่านั้น ใช้ปุ่ม **เพิ่ม** และ **ลบ** บนแถบเครื่องมือเพื่อสร้างชุดพารามิเตอร์ที่กําหนดของการแทนที่พารามิเตอร์ สำหรับแต่ละพารามิเตอร์ในรายการ เลือกค่าในฟิลด์ **ชื่อ** แล้วป้อนค่าที่ถูกต้องในฟิลด์ **ค่า** หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้ชุดพารามิเตอร์มาตรฐาน และเลือกค่าต่างๆ โปรดดูที่ส่วน [พารามิเตอร์และค่าเริ่มต้นของโมเดลการคาดการณ์ความต้องการ](#model-parameters)

### <a name="set-up-the-connection-to-the-azure-machine-learning-service"></a>ตั้งค่าการเชื่อมต่อกับ Azure Machine Learning Service

ใช้แท็บ **Azure Machine Learning Service** เพื่อตั้งค่าการเชื่อมต่อกับ Azure Machine Learning Service โซลูชันนี้เป็นหนึ่งในตัวเลือกสำหรับการสร้างการคาดการณ์พื้นฐาน การตั้งค่าเหล่านี้บนแท็บนี้จะมีผลเฉพาะเมื่อฟิลด์ **กลยุทธ์การสร้างการคาดการณ์** ตั้งค่าเป็น *Azure Machine Learning Service*

หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับวิธีการตั้งค่า Azure Machine Learning Service และใช้การตั้งค่าที่นี่เพื่อเชื่อมต่อกับบริการดังกล่าว โปรดดูส่วน [ตั้งค่า Azure Machine Learning Service](#setup-amls)

### <a name="set-up-the-connection-to-azure-machine-learning-studio-classic"></a>ตั้งค่าการเชื่อมต่อกับ Azure Machine Learning Studio (คลาสสิก)

> [!IMPORTANT]
> Azure Machine Learning Studio (คลาสสิก) จะไม่มีการสนับสนุนอีกต่อไป ดังนั้น คุณจึงไม่สามารถสร้างพื้นที่ทำงานใหม่สำหรับโซลูชันดังกล่าวใน Azure ได้อีกต่อไป บริการดังกล่าวมีการเปลี่ยนเป็น Azure Machine Learning Service ซึ่งมีฟังก์ชันที่คล้ายกันและอื่นๆ ถ้าคุณยังไม่ได้ใช้ Azure Machine Learning คุณควรเริ่มใช้ Azure Machine Learning Service ถ้าคุณมีพื้นที่ทำงานที่สร้างไว้กับ Azure Machine Learning Studio (คลาสสิก) อยู่แล้ว คุณสามารถใช้งานต่อไปได้จนกว่าคุณลักษณะจะถูกลบออกจาก Azure โดยสมบูรณ์ อย่างไรก็ตาม เราขอแนะนาให้คุณอัปเดต Azure Machine Learning Service ทันทีที่เป็นไปได้ แม้แอปพลิเคชันจะยังเตือนคุณว่า Azure Machine Learning Studio (คลาสสิก) จะไม่มีการสนับสนุนอีกต่อไป แต่ผลลัพธ์การคาดการณ์จะไม่ได้รับผลกระทบ หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับ Azure Machine Learning Service ใหม่และวิธีการตั้งค่า โปรดดูส่วน [ตั้งค่า Azure Machine Learning Service](#setup-amls)
>
> คุณสามารถสลับไปมาได้อย่างอิสระระหว่างการใช้โซลูชันการเรียนรู้ของเครื่องใหม่และเก่ากับ Supply Chain Management ตราบเท่าที่พื้นที่ทำงาน Azure Machine Learning Studio (คลาสสิก) ของเก่ายังคงสามารถใช้งานได้

ถ้าคุณมีพื้นที่ทำงาน Azure Machine Learning Studio (คลาสสิก) อยู่แล้ว คุณสามารถใช้เพื่อสร้างการคาดการณ์ได้โดยเชื่อมต่อกับ Supply Chain Management คุณสามารถสร้างการเชื่อมต่อนี้โดยใช้แท็บ **Azure Machine Learning** บนหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** (การตั้งค่าบนแท็บนี้จะมีผลเฉพาะเมื่อฟิลด์ **กลยุทธ์การสร้างการคาดการณ์** ตั้งค่าเป็น *Azure Machine Learning*) ป้อนรายละเอียดต่อไปนี้ในพื้นที่ทำงาน Azure Machine Learning Studio (คลาสสิก) ของคุณ

- คีย์ Application Programming Interface (API) ของบริการเว็บ
- URL ปลายทางของบริการเว็บ
- ชื่อบัญชีการจัดเก็บของ Azure
- คีย์บัญชีการจัดเก็บของ Azure

> [!NOTE]
> จำเป็นต้องมีชื่อบัญชีและคีย์บัญชีการจัดเก็บของ Azure เฉพาะเมื่อคุณใช้บัญชีจัดเก็บแบบกำหนดเอง ถ้าคุณปรับใช้รุ่นภายในสถานที่ คุณต้องมีบัญชีการจัดเก็บข้อมูลที่กำหนดเองใน Azure เพื่อให้ Machine Learning สามารถเข้าถึงข้อมูลในอดีตได้

## <a name="default-parameters-and-values-for-demand-forecasting-models"></a><a name="model-parameters"></a>พารามิเตอร์และค่าเริ่มต้นของโมเดลการคาดการณ์ความต้องการ

เมื่อคุณใช้การเรียนรู้ของเครื่องเพื่อสร้างแบบโมเดลการวางแผนการคาดการณ์ คุณสามารถควบคุมตัวเลือกการเรียนรู้ของเครื่องโดยตั้งค่าสำหรับ *พารามิเตอร์อัลกอริทึมการคาดการณ์* ค่าเหล่านี้มีการส่งจาก Supply Chain Management ไปยัง Azure Machine Learning ใช้หน้า **พารามิเตอร์อัลกอริทึมการคาดการณ์** เพื่อควบคุมชนิดของค่าที่ควรระบุและค่าที่ควรมี

หากต้องการตั้งค่าพารามิเตอร์และค่าเริ่มต้นที่ใช้สำหรับโมเดลการคาดการณ์ความต้องการ ให้ไปที่ **การวางแผนหลัก \> การตั้งค่า \> การคาดการณ์ความต้องการ \> พารามิเตอร์อัลกอริทึมการคาดการณ์** ซึ่งจะแสดงชุดพารามิเตอร์มาตรฐาน พารามิเตอร์แต่ละรายการจะมีฟิลด์ต่อไปนี้

- **ชื่อ** – ชื่อของพารามิเตอร์ตามที่ Azure ใช้ โดยปกติแล้ว คุณไม่ควรเปลี่ยนชื่อนี้ยกเว้นว่าคุณได้ปรับแต่งการทดลองใน Azure Machine Learning
- **คำอธิบาย** – ชื่อทั่วไปสำหรับพารามิเตอร์ ชื่อนี้ใช้ในการระบุพารามิเตอร์ที่ตำแหน่งอื่นๆ ในระบบ (ตัวอย่างเช่น บนหน้า **พารามิเตอร์การคาดการณ์ความต้องการ**)
- **ค่า** – ค่าเริ่มต้นสำหรับพารามิเตอร์ ค่าที่คุณควรป้อนจะขึ้นอยู่กับพารามิเตอร์ที่คุณกำลังแก้ไขอยู่ 
- **คำอธิบาย** – คําอธิบายสั้นๆ เกี่ยวกับพารามิเตอร์และวิธีการใช้ โดยทั่วไป คำอธิบายนี้จะมีคำแนะนําเกี่ยวกับค่าที่ถูกต้องสำหรับฟิลด์ **ค่า**

พารามิเตอร์ต่อไปนี้มีอยู่ตามค่าเริ่มต้น (ถ้าคุณต้องเปลี่ยนกลับเป็นรายการมาตรฐานนี้ ให้เลือก **คืนค่า** ในบานหน้าต่างการดำเนินการ)

- **เปอร์เซ็นต์ระดับความเชื่อมั่น** – ช่วงเวลาความเชื่อมั่น ประกอบไปด้วยช่วงของค่าที่ทำหน้าที่เป็นการประมาณการที่ดีสำหรับการคาดการณ์ความต้องการ เปอร์เซ็นต์ระดับความเชื่อมั่น 95% บ่งชี้ว่ามีความเสี่ยง 5% ที่การคาดการณ์ความต้องการจะอยู่นอกช่วงเวลาความเชื่อมั่น
- **ช่วงเวลาการบังคับ** – ระบุว่าจะบังคับให้โมเดลใช้ช่วงเวลาแบบใด พารามิเตอร์นี้ใช้กับ ARIMA และ ETS เท่านั้น ตัวเลือก: *AUTO (ค่าเริ่มต้น)*, *NONE*, *ADDITIVE*, *MULTIPLICATIVE*
- **โมเดลการคาดการณ์** – ระบุโมเดลการคาดการณ์ที่จะใช้ ตัวลือก: *ARIMA*, *ETS*, *STL*, *ETS+ARIMA*, *ETS+STL*, *ALL* เมื่อต้องการเลือกโมเดลที่ดีที่สุด ให้ใช้ *ALL*
- **ค่าสูงสุดที่คาดการณ์** – ระบุค่าสูงสุดที่จะใช้สำหรับการคาดการณ์ รูปแบบ: + 1E [n] หรือค่าคงที่ของตัวเลข
- **ค่าต่ำสุดที่คาดการณ์** – ระบุค่าต่ำสุดที่จะใช้สำหรับการคาดการณ์ รูปแบบ: -1E [n] หรือค่าคงที่ของตัวเลข
- **การแทนค่าที่ขาดหายไป** – ระบุว่าจะกรอกข้อมูลช่องว่างของข้อมูลในอดีตอย่างไร ตัวเลือก: *(ค่าตัวเลข)*, *MEAN*, *PREVIOUS*, *INTERPOLATE LINEAR*, *INTERPOLATE POLYNOMIAL*
- **ขอบเขตการแทนที่ค่าที่ขาดหายไป** – ระบุว่าให้แทนที่ค่าที่หายไปโดยใช้ส่วนประกอบของช่วงวันที่ของแต่ละแอททริบิวต์หรือใช้ชุดข้อมูลทั้งหมด มีตัวเลือกดังต่อไปนี้เพื่อสร้างช่วงวันที่ที่ระบบจะใช้เมื่อกรอกข้อมูลช่องว่างในข้อมูลในอดีต:

    - *GLOBAL* – ระบบใช้ช่วงวันที่แบบเต็มของแอททริบิวต์ความละเอียดทั้งหมด
    - *HISTORY_DATE_RANGE* – ระบบใช้ช่วงวันที่เฉพาะที่กําหนดโดยฟิลด์  **วันที่เริ่มต้น** และ **วันที่สิ้นสุด** ในส่วน **ระดับในอดีต** ในกล่องโต้ตอบ **สร้างการคาดการณ์พื้นฐานทางสถิติ**
    - *GRANULARITY_ATTRIBUTE* – ระบบใช้ช่วงวันที่ของแอททริบิวต์ความละเอียดที่ประมวลผลในปัจจุบัน

    > [!NOTE]
    > แอททริบิวต์แบบความละเอียดคือชุดมิติการคาดการณ์ที่ทำการคาดการณ์ คุณสามารถกำหนดมิติการคาดการณ์ในหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** ได้

- **คำแนะนำช่วงเวลา** – สำหรับข้อมูลตามฤดูกาล ให้คำแนะนำกับแบบจำลองการคาดการณ์เพื่อปรับปรุงความถูกต้องของการคาดการณ์ รูปแบบ: หมายเลขจำนวนเต็มที่แสดงถึงจำนวนของกลุ่มรูปแแบบความต้องการที่มีการทำซ้ำด้วยตัวเอง ตัวอย่างเช่น ป้อน *6* ให้กับข้อมูลที่ซ้ำกันทุกหกเดือน
- **เปอร์เซ็นต์ขนาดชุดทดสอบ** – เปอร์เซ็นต์ของข้อมูลในอดีตที่จะใช้เป็นชุดทดสอบสำหรับการคำนวณความถูกต้องของการคาดการณ์

คุณสามารถแทนที่ค่าสำหรับพารามิเตอร์เหล่านี้โดยไปที่ **การวางแผนหลัก \> การตั้งค่า \> การคาดการณ์ความต้องการ \> พารามิเตอร์การคาดการณ์ความต้องการ** บนหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** คุณสามารถแทนที่พารามิเตอร์ในลักษณะต่อไปนี้

- ใช้แท็บ **ทั่วไป** เพื่อแทนที่พารามิเตอร์ทั้งหมด
- ใช้แท็บ **คีย์การปันส่วนสินค้า** เพื่อแทนที่พารามิเตอร์สำหรับคีย์การปันส่วนสินค้าเฉพาะ พารามิเตอร์ที่จะถูกแทนที่สำหรับคีย์การปันส่วนสินค้าเฉพาะมีผลเฉพาะกับการคาดการณ์ของสินค้าที่เกี่ยวข้องกับคีย์การปันส่วนสินค้านั้น

> [!NOTE]
> ในหน้า **พารามิเตอร์อัลกอริทึมการคาดการณ์** คุณสามารถใช้ปุ่มต่างๆ ในบานหน้าต่างการดำเนินการเพื่อเพิ่มพารามิเตอร์ลงในรายการ หรือลบพารามิเตอร์ออกจากรายการได้ แต่โดยปกติแล้ว คุณไม่ควรใช้วิธีนี้ยกเว้นว่าคุณได้ปรับแต่งการทดลองใน Azure Machine Learning

## <a name="set-up-the-azure-machine-learning-service"></a><a name="setup-amls"></a>ตั้งค่า Azure Machine Learning Service

Supply Chain Management คํานวณการคาดการณ์ความต้องการโดยใช้ Azure Machine Learning Service ซึ่งคุณต้องตั้งค่าและเรียกใช้ในการสมัครใช้งาน Azure ของคุณเอง ในหัวข้อนี้จะอธิบายวิธีตั้งค่า Azure Machine Learning Service ใน Azure แล้วเชื่อมต่อกับสภาพแวดล้อม Supply Chain Management ของคุณ

[!INCLUDE [preview-banner-section](../../includes/preview-banner-section.md)]
<!-- KFM: Preview until 10.0.23 GA -->

### <a name="enable-the-azure-machine-learning-service-in-feature-management"></a>เปิดใช้งาน Azure Machine Learning Service ในการจัดการคุณลักษณะ

ก่อนที่คุณจะสามารถใช้ Azure Machine Learning Service เพื่อคาดการณ์ความต้องการได้ คุณต้องเปิดคุณลักษณะดังกล่าวใน Supply Chain Management เพื่อเปิดใช้งานการรวม ผู้ดูแลระบบสามารถใช้การตั้งค่า [การจัดการคุณลักษณะ](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) เพื่อตรวจสอบสถานะของคุณลักษณะและเปิดใช้งาน ในพื้นที่ทำงาน **การจัดการคุณลักษณะ** มีการแสดงรายการคุณลักษณะในวิธีต่อไปนี้:

- **โมดูล:** *การวางแผนหลัก*
- **ชื่อคุณลักษณะ:** *Azure Machine Learning Service สำหรับการคาดการณ์ความต้องการ*

### <a name="set-up-machine-learning-in-azure"></a><a name="ml-workspace"></a>ตั้งค่าการเรียนรู้ของเครื่องใน Azure

เมื่อต้องการให้ Azure สามารถใช้การเรียนรู้ของเครื่องเพื่อประมวลผลการคาดการณ์ของคุณ คุณต้องตั้งค่าพื้นที่ทำงานการเรียนรู้ของเครื่องของ Azure เพื่อวัตถุประสงค์นี้ คุณมีตัวเลือกสองแบบ

- เมื่อต้องการตั้งค่าพื้นที่ทำงานโดยการเรียกใช้สคริปต์ที่กำหนดโดย Microsoft ให้ปฏิบัติตามคําแนะนําในส่วน [ตัวเลือกที่ 1: เรียกใช้สคริปต์เพื่อตั้งค่าพื้นที่ทำงานการเรียนรู้ของเครื่องโดยอัตโนมัติ](#ml-workspace-script) แล้วข้ามไปยังส่วน [ตั้งค่าพารามิเตอร์การเชื่อมต่อ Azure Machine Learning Service ใน Supply Chain Management](#demand-forecast-parameters)
- เมื่อต้องการตั้งค่าพื้นที่ทำงานของคุณด้วยตนเอง ให้ปฏิบัติตามคําแนะนําในส่วน [ตัวเลือกที่ 2: ตั้งค่าพื้นที่ทำงานการเรียนรู้ของเครื่องด้วยตนเอง](#ml-workspace-manual) แล้วข้ามไปยังส่วน [ตั้งค่าพารามิเตอร์การเชื่อมต่อ Azure Machine Learning Service ใน Supply Chain Management](#demand-forecast-parameters) ตัวเลือกนี้จะใช้เวลามากกว่า แต่ช่วยให้คุณสามารถควบคุมได้มากกว่า

#### <a name="option-1-run-a-script-to-automatically-set-up-your-machine-learning-workspace"></a><a name="ml-workspace-script"></a>ตัวเลือกที่ 1: เรียกใช้สคริปต์เพื่อตั้งค่าพื้นที่ทำงานการเรียนรู้ของเครื่องโดยอัตโนมัติ

ส่วนนี้อธิบายวิธีการตั้งค่าพื้นที่ทำงานการเรียนรู้ของเครื่องของคุณโดยใช้สคริปต์อัตโนมัติที่กำหนดโดย Microsoft หากต้องการ คุณสามารถตั้งค่าทรัพยากรทั้งหมดด้วยตนเองโดยการปฏิบัติตามคําแนะนําในส่วน [ตัวเลือกที่ 2: ตั้งค่าส่วนพื้นที่ทำงานการเรียนรู้ของเครื่องด้วยตนเอง](#ml-workspace-manual) คุณไม่มีสิทธิ์ดำเนินการด้วยทั้งสองตัวเลือก

1. บน GitHub ให้เปิดที่เก็บ (repo) [เทมเพลตสำหรับการคาดการณ์ความต้องการ Dynamics 365 Supply Chain Management ด้วย Azure Machine Learning](https://github.com/microsoft/Dynamics-365-Supply-Chain-Management-Demand-Forecasting-With-Azure-Machine-Learning-Service) และดาวน์โหลดไฟล์ต่อไปนี้

    - quick_setup.ps1
    - sampleInput.csv
    - src/parameters.py
    - src/api_trigger.py
    - src/run.py
    - src/REntryScript/forecast.r

1. เปิดหน้าต่าง PowerShell และเรียกใช้สคริปต์ **quick_setup.ps1** ที่คุณดาวน์โหลดในขั้นตอนก่อนหน้า ทำตามคำแนะนำบนหน้าจอ สคริปต์จะตั้งค่าพื้นที่ทำงาน ที่เก็บข้อมูล ที่เก็บข้อมูลเริ่มต้น และทรัพยากรการคำนวณที่ต้องการ อย่างไรก็ตาม คุณยังต้องสร้างไปป์ไลน์ที่ต้องใช้โดยการปฏิบัติตามขั้นตอนที่เหลือของกระบวนงานนี้ (ไปป์ไลน์จะมีวิธีการเริ่มต้นสคริปต์การคาดการณ์จาก Supply Chain Management)
1. ใน Azure Machine Learning Studio ให้อัปโหลดไฟล์ **sampleInput.csv** ที่คุณดาวน์โหลดในขั้นตอนที่ 1 ไปยังคอนเทนเนอร์ที่ชื่อ *demplan-azureml* (สคริปต์ quick_setup.ps1 สร้างคอนเทนเนอร์นี้) ต้องใช้ไฟล์นี้เพื่อเผยแพร่ไปป์ไลน์และสร้างการคาดการณ์ทดสอบ ดูคำแนะนำที่ [อัปโหลด blob แบบบล็อก](/azure/storage/blobs/storage-quickstart-blobs-portal#upload-a-block-blob)
1. ใน Azure Machine Learning Studio ให้เลือก **สมุดบันทึก** ในการนําทาง
1. ค้นหาตำแหน่งต่อไปนี้ในโครงสร้าง **ไฟล์**: **Users/\[current user\]/src**
1. อัปโหลดสี่ไฟล์ที่เหลือที่คุณดาวน์โหลดไว้ในขั้นตอนที่ 1 ไปยังตำแหน่งที่คุณพบในขั้นตอนก่อนหน้า
1. เลือกไฟล์ **api_trigger.py** ที่คุณเพิ่งอัปโหลดและเรียกใช้ ซึ่งจะสร้างไปป์ไลน์ที่สามารถทริกเกอร์ผ่าน API ได้
1. ตอนนี้พื้นที่ทำงานของคุณได้รับการตั้งค่าแล้ว ข้ามไปที่ส่วน [ตั้งค่าพารามิเตอร์การเชื่อมต่อ Azure Machine Learning Serviceใน Supply Chain Management](#demand-forecast-parameters)

#### <a name="option-2-manually-set-up-your-machine-learning-workspace"></a><a name="ml-workspace-manual"></a>ตัวเลือกที่ 2: ตั้งค่าพื้นที่ทำงานการเรียนรู้ของเครื่องของคุณด้วยตนเอง

ส่วนนี้อธิบายวิธีการตั้งค่าพื้นที่ทำงานการเรียนรู้ของเครื่องของคุณด้วยตนเอง คุณต้องปฏิบัติตามกระบวนงานในส่วนนี้เฉพาะเมื่อคุณตัดสินใจไม่เรียกใช้สคริปต์การตั้งค่าอัตโนมัติ ตามที่อธิบายไว้ในส่วน [ตัวเลือกที่ 1: เรียกใช้สคริปต์เพื่อตั้งค่าพื้นที่ทำงานการเรียนรู้ของเครื่อง](#ml-workspace-script)

##### <a name="step-1-create-a-new-workspace"></a><a name="create-workspace"></a>ขั้นตอนที่ 1: สร้างพื้นที่ทำงานใหม่

ใช้กระบวนงานต่อไปนี้เพื่อสร้างพื้นที่ทำงานการเรียนรู้ของเครื่องใหม่

1. ลงชื่อเข้าใช้พอร์ทัล Azure ของคุณ
1. เปิดบริการ **การเรียนรู้ของเครื่อง**
1. เลือก **สร้าง** บนแถบเครื่องมือเพื่อเปิดวิซาร์ด **การสร้าง**
1. ทำตามวิซาร์ดให้เสร็จสมบูรณ์โดยปฏิบัติตามคําแนะนําบนหน้าจอ โปรดคำนึงถึงประเด็นต่อไปนี้เมื่อคุณทำงาน

    - ใช้การตั้งค่าเริ่มต้น ยกเว้นส่วนอื่นๆ ในรายการนี้แนะนำให้ใช้การตั้งค่าที่แตกต่างออกไป
    - ตรวจสอบให้แน่ใจว่าได้เลือกภูมิภาคทางภูมิศาสตร์ที่ตรงกับภูมิภาคที่ปรับใช้อินสแตนซ์ของ Supply Chain Management ของคุณ ไม่เช่นนั้น ข้อมูลบางอย่างของคุณอาจส่งข้ามผ่านเขตแดนภูมิภาค สำหรับข้อมูลเพิ่มเติม โปรดดูที่ส่วน [ประกาศความเป็นส่วนตัว](#privacy) ในภายหลังในหัวข้อนี้
    - ใช้ทรัพยากรที่จัดสรรเฉพาะ เช่น กลุ่มทรัพยากร บัญชีการจัดเก็บ การลงทะเบียนคอนเทนเนอร์, Azure Key Vault และทรัพยากรระบบเครือข่าย
    - บนหน้า **ตั้งค่าพารามิเตอร์การเชื่อมต่อ Azure Machine Learning Service** ของวิซาร์ด คุณต้องระบุชื่อบัญชีการจัดเก็บ ใช้บัญชีที่จัดสรรไว้เพื่อการคาดการณ์ความต้องการ ข้อมูลที่ป้อนและผลลัพธ์ของการคาดการณ์ความต้องการจะจัดเก็บไว้ในบัญชีการจัดเก็บนี้

ดูข้อมูลเพิ่มเติมที่ [สร้างพื้นที่ทำงาน](/azure/machine-learning/quickstart-create-resources#create-the-workspace)

##### <a name="step-2-configure-storage"></a><a name="config-storage"></a>ขั้นตอนที่ 2: ตั้งค่าคอนฟิกการจัดเก็บ

ใช้กระบวนงานต่อไปนี้เพื่อตั้งค่าการจัดเก็บของคุณ

1. บน GitHub ให้เปิด repo [เทมเพลตสำหรับการคาดการณ์ความต้องการ Dynamics 365 Supply Chain Management ด้วย Azure Machine Learning](https://github.com/microsoft/Dynamics-365-Supply-Chain-Management-Demand-Forecasting-With-Azure-Machine-Learning-Service)และดาวน์โหลดไฟล์ **sampleInput.csv**
1. เปิดบัญชีการจัดเก็บที่คุณสร้างไว้ในส่วน [ขั้นตอนที่1: สร้างพื้นที่ทำงานใหม่](#create-workspace)
1. ปฏิบัติตามคำแนะนำใน [สร้างคอนเทนเนอร์](/azure/storage/blobs/storage-quickstart-blobs-portal#create-a-container) เพื่อสร้างคอนเทนเนอร์ที่ชื่อ *demplan-azureml*
1. อัปโหลดไฟล์ **sampleInput.csv** ที่คุณดาวน์โหลดในขั้นตอนที่ 1 ไปยังคอนเทนเนอร์ที่คุณเพิ่งสร้างขึ้น คุณต้องใช้ไฟล์นี้ในการเผยแพร่ไปป์ไลน์และสร้างการคาดการณ์ทดสอบ ดูคำแนะนำที่ [อัปโหลด blob แบบบล็อก](/azure/storage/blobs/storage-quickstart-blobs-portal#upload-a-block-blob)

##### <a name="step-3-configure-a-default-datastore"></a>ขั้นตอนที่ 3: ตั้งค่าคอนฟิกที่เก็บข้อมูลเริ่มต้น

ใช้กระบวนงานต่อไปนี้เพื่อตั้งค่าที่เก็บข้อมูลเริ่มต้นของคุณ

1. ใน Azure Machine Learning Studio ให้เลือก **ที่เก็บข้อมูล** ในการนําทาง
1. สร้างที่เก็บข้อมูลใหม่ชนิด *Azure Blob Storage* ที่ชี้ไปยังคอนเทนเนอร์การจัดเก็บ Blob ที่ชื่อ *demplan-azureml* ที่คุณสร้างไว้ในส่วน [ขั้นตอนที่ 2: ตั้งค่าคอนฟิกการจัดเก็บ](#config-storage) (ถ้าชนิดการรับรองความถูกต้องของที่เก็บข้อมูลใหม่คือ *คีย์บัญชี* ให้ระบุคีย์บัญชีของบัญชีการจัดเก็บที่สร้างขึ้น ดูคำแนะนำที่ [จัดการคีย์การเข้าถึงบัญชีการจัดเก็บ](/azure/storage/common/storage-account-keys-manage?tabs=azure-portal))
1. ทำให้ที่เก็บข้อมูลใหม่ของคุณเป็นที่เก็บข้อมูลเริ่มต้นโดยการเปิดรายละเอียดและเลือก **ตั้งค่าเป็นที่เก็บข้อมูลเริ่มต้น**

##### <a name="step-4-configure-compute-resources"></a><a name="config-compute-resources"></a>ขั้นตอนที่ 4: ตั้งค่าคอนฟิกทรัพยากรการคำนวณ

ใช้กระบวนงานต่อไปนี้เพื่อตั้งค่าททรัพยากรการคำนวณใน Azure Machine Learning Studio เพื่อเรียกใช้สคริปต์การสร้างการคาดการณ์ของคุณ

1. เปิดหน้ารายละเอียดเกี่ยวกับพื้นที่ทำงานการเรียนรู้ของเครื่องที่คุณสร้างขึ้นในส่วน [ขั้นตอนที่ 1: สร้างพื้นที่ทำงานใหม่](#create-workspace) ค้นหาค่า **URL เว็บ Studio** และเลือกลิงก์เพื่อเปิด
1. เลือก **การคำนวณ** ในบานหน้าต่างนำทาง
1. บนแท็บ **อินสแตนซ์การคำนวณ** ให้เลือก **ใหม่** เพื่อเปิดวิซาร์ดที่จะช่วยคุณสร้างอินสแตนซ์การคำนวณใหม่ ทำตามคำแนะนำบนหน้าจอ อินสแตนซ์การคำนวณจะใช้เพื่อสร้างไปป์ไลน์การคาดการณ์ความต้องการ (โดยสามารถลบออกได้หลังจากเผยแพร่ไปป์ไลน์แล้ว) ใช้การตั้งค่าเริ่มต้น
1. บนแท็บ **คลัสเตอร์การคำนวณ** ให้เลือก **ใหม่** เพื่อเปิดวิซาร์ดที่จะช่วยคุณสร้างคลัสเตอร์การคำนวณใหม่ ทำตามคำแนะนำบนหน้าจอ คลัสเตอร์การคำนวณจะใช้เพื่อสร้างการคาดการณ์ความต้องการ การตั้งค่าจะมีผลต่อประสิทธิภาพการทำงานและระดับสูงสุดของการเรียกใช้พร้อมกัน ตั้งค่าฟิลด์ต่อไปนี้ แต่ใช้การตั้งค่าเริ่มต้นกับฟิลด์อื่นๆ ทั้งหมด

    - **ชื่อ** – ป้อน *e2ecpucluster*
    - **ขนาดเครื่องเสมือน** – ปรับปรุงการตั้งค่านี้ตามปริมาณข้อมูลที่คุณคาดว่าจะใช้เป็นข้อมูลที่ป้อนสำหรับการคาดการณ์ความต้องการ จํานวนโหนดไม่ควรเกิน 11 เนื่องจากต้องใช้โหนดหนึ่งโหนดเพื่อทริกเกอร์การสร้างการคาดการณ์ความต้องการและจํานวนโหนดสูงสุดที่สามารถใช้ในการสร้างการคาดการณ์ได้คือ 10 (คุณยังจะตั้งค่าการตรวจนับโหนดในไฟล์ parameters.py ในส่วน [ขั้นตอนที่ 5: สร้างไปป์ไลน์](#create-pipelines)) ในแต่ละโหนด จะมีกระบวนการของผู้ปฏิบัติงานหลายกระบวนการที่เรียกใช้สคริปต์การคาดการณ์พร้อมกัน จํานวนรวมของกระบวนการของผู้ปฏิบัติงานในงานของคุณจะเป็น *จำนวนแกนที่โหนดมี* × *จำนวนโหนด* ตัวอย่างเช่น ถ้าคลัสเตอร์การคำนวณของคุณเป็นชนิด *Standard\_D4* (แปดแกน) และจำนวนโหนดสูงสุดคือ 11 และหากตั้งค่า `nodes_count` เป็น *10* ในไฟล์ parameters.py ระดับการทำงานพร้อมกันที่มีผลคือ 80

##### <a name="step-5-create-pipelines"></a><a name="create-pipelines"></a>ขั้นตอนที่ 5: สร้างไปป์ไลน์

ไปป์ไลน์จะมีวิธีการเริ่มต้นสคริปต์การคาดการณ์จาก Supply Chain Management ใช้กระบวนงานต่อไปนี้เพื่อสร้างไปป์ไลน์ที่ต้องการ

1. บน GitHub ให้เปิด repo [เทมเพลตสำหรับการคาดการณ์ความต้องการ Dynamics 365 Supply Chain Management ด้วย Azure Machine Learning](https://github.com/microsoft/Dynamics-365-Supply-Chain-Management-Demand-Forecasting-With-Azure-Machine-Learning-Service) และดาวน์โหลดไฟล์ต่อไปนี้

    - src/parameters.py
    - src/api_trigger.py
    - src/run.py
    - src/REntryScript/forecast.r

1. ใน Azure Machine Learning Studio ให้เลือก **สมุดบันทึก** ในการนําทาง
1. ค้นหาตำแหน่งต่อไปนี้ในโครงสร้าง **ไฟล์**: **Users/\[current user\]/src**
1. อัปโหลดสี่ไฟล์ที่คุณดาวน์โหลดไว้ในขั้นตอนที่ 1 ไปยังตำแหน่งที่คุณพบในขั้นตอนก่อนหน้า
1. ใน Azure ให้เปิดและตรวจสอบไฟล์ **parameters.py** ที่คุณเพิ่งอัปโหลด ตรวจสอบให้แน่ใจว่าค่า `nodes_count` น้อยกว่าค่าที่คุณตั้งค่าคอนฟิกให้คลัสเตอร์การคำนวณในส่วน 4: ตั้งค่าคอนฟิกส่วน [ขั้นตอนที่ 4: ตั้งค่าคอนฟิกทรัพยากรการคำนวณ](#config-compute-resources) หากค่า `nodes_count` มากกว่าหรือเท่ากับจํานวนโหนดในคลัสเตอร์การคำนวณ การเรียกใช้ไปป์ไลน์อาจสามารถเริ่มต้นได้ จากนั้นระบบจะหยุดตอบสนองขณะรอทรัพยากรที่ต้องการ หากต้องการทราบข้อมูลเพิ่มเติมเกี่ยวกับจำนวนโหนด ดูที่ส่วน [ขั้นตอนที่ 4: ตั้งค่าคอนฟิกทรัพยากรการคำนวณ](#config-compute-resources)
1. เลือกไฟล์ **api_trigger.py** ที่คุณเพิ่งอัปโหลดและเรียกใช้ ซึ่งจะสร้างไปป์ไลน์ที่สามารถทริกเกอร์ผ่าน API ได้

### <a name="set-up-a-new-active-directory-application"></a><a name="aad-app"></a>ตั้งค่าแอปพลิเคชัน Active Directory ใหม่

แอปพลิเคชัน Active Directory ต้องมีการรับรองความถูกต้องกับทรัพยากรซึ่งจัดสรรไว้ให้กับการคาดการณ์ความต้องการโดยใช้บริการหลัก ดังนั้น แอปพลิเคชันควรมีระดับสิทธิ์ต่ำสุดที่ต้องใช้ในการสร้างการคาดการณ์

1. ลงชื่อเข้าใช้พอร์ทัล Azure ของคุณ
1. ลงทะเบียนแอปพลิเคชันใหม่ใน Azure Active Directory (Azure AD) ของผู้เช่า ดูคำแนะนำที่ [ใช้พอร์ทัลเพื่อสร้างแอปพลิเคชัน Azure AD และผู้ใช้งานบริการที่สามารถเข้าถึงทรัพยากร](/azure/active-directory/develop/howto-create-service-principal-portal)
1. ทำตามคําแนะนําบนหน้าจอเมื่อคุณดำเนินการตามวิซาร์ด ใช้การตั้งค่าเริ่มต้น
1. ให้สิทธิ์การเข้าถึงทรัพยากรต่อไปนี้แก่แอปพลิเคชัน Active Directory ใหม่ที่คุณสร้างขึ้นในส่วน [ตั้งค่าการเรียนรู้ของเครื่องใน Azure](#ml-workspace) ดูคำแนะนำที่ [กําหนดบทบาท Azure โดยใช้พอร์ทัล Azure](/azure/role-based-access-control/role-assignments-portal?tabs=current) ขั้นตอนนี้จะเปิดใช้งานระบบในการนําเข้าและส่งออกข้อมูลการคาดการณ์ และเพื่อทริกเกอร์การเรียกใช้ไปป์ไลน์การเรียนรู้ของเครื่องจาก Supply Chain Management

    - บทบาทผู้สนับสนุนสำหรับพื้นที่ทำงานการเรียนรู้ของเครื่อง
    - บทบาทผู้สนับสนุนสำหรับบัญชีการจัดเก็บเฉพาะ
    - บทบาทผู้สนับสนุนข้อมูล Blob การเก็บข้อมูลสำหรับบัญชีการจัดเก็บเฉพาะ

1. ในส่วน **ใบรับรองและข้อมูลลับ** ของแอปพลิเคชันที่คุณสร้างขึ้น ให้สร้างข้อมูลลับของแอปพลิเคชัน ดูคำแนะนำที่ [เพิ่มข้อมูลลับของไคลเอ็นต์](/azure/active-directory/develop/quickstart-register-app#add-a-client-secret)
1. จดบันทึกรหัสแอปพลิเคชันและข้อมูลลับ คุณจะต้องกำหนดรายละเอียดของแอปพลิเคชันนี้ในภายหลัง เมื่อคุณตั้งค่าหน้า **พารามิเตอร์การคาดการณ์ความต้องการ** ใน Supply Chain Management

### <a name="set-up-azure-machine-learning-service-connection-parameters-in-supply-chain-management"></a><a name="demand-forecast-parameters"></a>ตั้งค่าพารามิเตอร์การเชื่อมต่อ Azure Machine Learning Service ใน Supply Chain Management

ใช้กระบวนงานต่อไปนี้เพื่อเชื่อมต่อสภาพแวดล้อม Supply Chain Management กับบริการการเรียนรู้ของเครื่องที่คุณเพิ่งตั้งค่าใน Azure

1. ลงชื่อเข้าใช้ Supply Chain Management
1. ไปที่ **การวางแผนหลัก \> การตั้งค่า \> การคาดการณ์ความต้องการ \> พารามิเตอร์การคาดการณ์ความต้องการ**
1. บนแท็บ **ทั่วไป** ตรวจสอบให้แน่ใจว่าได้ตั้งค่าฟิลด์ **กลยุทธ์การสร้างการคาดการณ์** เป็น *Azure Machine Learning Service*
1. บนแท็บ **คีย์การปันส่วนสินค้า** ตรวจสอบให้แน่ใจว่าฟิลด์ **กลยุทธ์การสร้างการคาดการณ์** ตั้งค่าเป็น *Azure Machine Learning Service* ให้กับคีย์การปันส่วนแต่ละคีย์ที่ควรใช้ Azure Machine Learning Service สำหรับการคาดการณ์ความต้องการ
1. บนแท็บ **Azure Machine Learning Service** ให้ตั้งค่าฟิลด์ต่อไปนี้

    - **รหัสผู้เช่า** – ป้อนรหัสสำหรับผู้เช่า Azure ของคุณ Supply Chain Management จะใช้รหัสนี้เพื่อรับรองความถูกต้องกับ Azure Machine Learning Service คุณสามารถค้นหารหัสผู้เช่าในหน้า **ภาพรวม** สำหรับ Azure AD ในพอร์ทัล Azure
    - **รหัสแอปพลิเคชันของบริการหลัก** – ป้อนรหัสแอปพลิเคชันของแอปพลิเคชันที่คุณสร้างขึ้นในส่วน [แอปพลิเคชัน Active Directory](#aad-app) ค่านี้ใช้เพื่ออนุมัติคำขอ API กับ Azure Machine Learning Service
    - **ข้อมูลลับของบริการหลัก** – ป้อนข้อมูลลับของแอปพลิเคชันบริการหลักสำหรับแอปพลิเคชันที่คุณสร้างขึ้นในส่วน [แอปพลิเคชัน Active Directory](#aad-app) ค่านี้จะใช้ในการรับโทเค็นการเข้าใช้สำหรับหลักความปลอดภัยที่คุณสร้างขึ้นเพื่อดําเนินงานที่ได้รับอนุญาตกับ Azure Storage และพื้นที่ทำงาน Azure Machine Language
    - **ชื่อบัญชีการจัดเก็บ** – ป้อนชื่อบัญชีการจัดเก็บ Azure ที่คุณระบุเมื่อคุณเรียกใช้วิซาร์ดการตั้งค่าในพื้นที่ทำงาน Azure ของคุณ (ดูข้อมูลเพิ่มเติมที่ส่วน [ตั้งค่าการเรียนรู้ของเครื่องใน Azure](#ml-workspace))
    - **ที่อยู่ปลายทางของไปป์ไลน์** – ป้อน URL ของปลายทาง REST ไปป์ไลน์สำหรับ Azure Machine Learning Service ของคุณ คุณสร้างไปป์ไลน์นี้เป็นขั้นตอนสุดท้ายเมื่อคุณ [ตั้งค่าการเรียนรู้ของเครื่องใน Azure](#ml-workspace) เมื่อต้องการรับ URL ไปป์ไลน์ ให้ลงชื่อเข้าใช้พอร์ทัล Azure ของคุณ เลือก **ไปป์ไลน์** ในการนําทาง บนแท็บ **ไปป์ไลน์** ให้เลือกปลายทางของไปป์ไลน์ที่ชื่อ **TriggerDemandForecastGeneration** จากนั้นคัดลอกปลายทาง REST ที่แสดงอยู่

    ![พารามิเตอร์บนแท็บ Azure Machine Learning Service ของหน้าพารามิเตอร์การคาดการณ์ความต้องการ](media/azure-ml-service-parameters.png "พารามิเตอร์บนแท็บ Azure Machine Learning Service ของหน้าพารามิเตอร์การคาดการณ์ความต้องการ")

## <a name="privacy-notice"></a><a name="privacy"></a>ประกาศความเป็นส่วนตัว

เมื่อคุณเลือก *Azure Machine Learning Service* เป็นกลยุทธ์การสร้างการคาดการณ์ของคุณ Supply Chain Management จะส่งข้อมูลความต้องการในอดีตของลูกค้าของคุณโดยอัตโนมัติ เช่น ปริมาณรวม ชื่อผลิตภัณฑ์ และมิติของผลิตภัณฑ์ สถานที่จัดส่งและรับสินค้า รหัสลูกค้า และพารามิเตอร์การคาดการณ์ ไปยังภูมิภาคทางภูมิศาสตร์ที่พื้นที่ทำงานการเรียนรู้ของเครื่องและบัญชีการจัดเก็บที่เชื่อมโยงตั้งอยู่ เพื่อวัตถุประสงค์ของการคาดการณ์ความต้องการในอนาคต Azure Machine Learning Service อาจอยู่ในภูมิภาคทางภูมิศาสตร์อื่นที่แตกต่างจากภูมิภาคทางภูมิศาสตร์ที่ปรับใช้ Supply Chain Management ผู้ใช้บางรายสามารถควบคุมว่าจะเปิดใช้งานฟังก์ชันนี้หรือไม่ได้โดยการเลือกกลยุทธ์การสร้างการคาดการณ์ในหน้า **พารามิเตอร์การคาดการณ์ความต้องการ**

## <a name="additional-resources"></a>ทรัพยากรเพิ่มเติม

- [ภาพรวมของการคาดการณ์ความต้องการ](introduction-demand-forecasting.md)
- [สร้างการคาดการณ์พื้นฐานทางสถิติ](generate-statistical-baseline-forecast.md)
- [ทำการปรับปรุงด้วยตนเองไปยังการคาดการณ์พื้นฐาน](manual-adjustments-baseline-forecast.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
