<span data-ttu-id="d7e31-101">เมื่อคัดลอกฐานข้อมูลระหว่างสภาพแวดล้อม คุณจะต้องรันเครื่องมือการเตรียมใช้งานใหม่สำหรับสภาพแวดล้อม ก่อนที่ฐานข้อมูลที่คัดลอกไว้จะใช้งานได้อย่างเต็มความสามารถ เพื่อให้แน่ใจว่าส่วนประกอบของ Retail ทั้งหมดมีความทันสมัย</span><span class="sxs-lookup"><span data-stu-id="d7e31-101">When copying a database between environments, you will need to run the environment re-provisioning tool before the copied database is fully functional, to ensure that all Retail components are up-to-date.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d7e31-102">เราแนะนำให้คุณรันกระบวนงานนี้ไม่ว่าคุณจะใช้ส่วนประกอบของ Retail อยู่หรือไม่ เนื่องจากมีการรวมฟังก์ชันของ Retail ไว้ในทุกสภาพแวดล้อม</span><span class="sxs-lookup"><span data-stu-id="d7e31-102">We recommend that you run this procedure whether you are using Retail components or not, because Retail functionality is included in all environments.</span></span> 

<span data-ttu-id="d7e31-103">ก่อนที่คุณจะดำเนินการต่อ คุณต้องแน่ใจว่าได้ทำตามข้อกำหนดเบื้องต้นดังต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="d7e31-103">Before you continue, you must make sure that the following prerequisites are met:</span></span>
1. <span data-ttu-id="d7e31-104">หากคุณกำลังจะอัพเกรดเป็นรุ่นที่นำออกใช้เดือนกรกฎาคม 2017 (หรือเรียกอีกอย่างหนึ่งว่า 7.2) 7.2.11792.56024 ให้ใช้โปรแกรมแก้ไขด่วน X++ สำหรับแอพลิเคชันต่อไปนี้ในสภาพแวดล้อมปลายทางก่อนที่จะรันการอัพเกรดข้อมูลในสภาพแวดล้อมดังกล่าว</span><span class="sxs-lookup"><span data-stu-id="d7e31-104">If you are upgrading to the July 2017 release (also known as 7.2) 7.2.11792.56024, apply the following application X++ hotfixes in the destination environment before running the data upgrade in that environment.</span></span> <span data-ttu-id="d7e31-105">วิธีนี้จะช่วยป้องกันข้อผิดพลาดต่างๆ ที่เกิดขึ้นในระหว่างการอัพเกรดข้อมูล:</span><span class="sxs-lookup"><span data-stu-id="d7e31-105">These will prevent various errors occurring during the data upgrade:</span></span>

    - <span data-ttu-id="d7e31-106">KB 4036156 - การอัพเกรดเวอร์ชันรองของ Retail - "ไม่ได้ตั้งค่าลำดับหมายเลขของตัวแปร"</span><span class="sxs-lookup"><span data-stu-id="d7e31-106">KB 4036156 - Retail minor version upgrade - 'Variant number sequence is not set.'</span></span> <span data-ttu-id="d7e31-107">แพคเกจการแก้ไขนี้ยังประกอบด้วย KB 4035399 และ KB 4035751</span><span class="sxs-lookup"><span data-stu-id="d7e31-107">This fix package also includes KB 4035399 and KB 4035751.</span></span> <span data-ttu-id="d7e31-108">โปรดทราบว่าคุณต้องมี Platform Update 9 เป็นอย่างต่ำจึงจะใช้แพคเกจนี้ได้</span><span class="sxs-lookup"><span data-stu-id="d7e31-108">Note that you must have a minimum of Platform Update 9 to use this package.</span></span> <span data-ttu-id="d7e31-109">หากคุณไม่แน่ใจ ให้ติดตั้งไบนารีล่าสุด</span><span class="sxs-lookup"><span data-stu-id="d7e31-109">If you are unsure, install the latest binaries.</span></span>
    
2. <span data-ttu-id="d7e31-110">หากคุณกำลังอัพเกรดจาก Microsoft Dynamics AX 2012 ให้ติดตั้งโปรแกรมแก้ไข X++ สำหรับแอพลิเคชันต่อไปนี้ในสภาพแวดล้อมปลายทางก่อนที่คุณจะรันการอัพเกรดข้อมูล:</span><span class="sxs-lookup"><span data-stu-id="d7e31-110">If you are upgrading from Microsoft Dynamics AX 2012, install the following application X++ fixes in the destination environment before you run the data upgrade:</span></span>
    - <span data-ttu-id="d7e31-111">KB 4033183 - Dynamics AX 2012 R2 หรือ Dynamics AX 2012 R3 Pre-CU8 การอัพเกรดที่ไม่ใช่การขายปลีกจะล้มเหลวและไม่พบออบเจกต์สำหรับ dbo.RETAILTILLLAYOUTZONE</span><span class="sxs-lookup"><span data-stu-id="d7e31-111">KB 4033183 - Dynamics AX 2012 R2 or Dynamics AX 2012 R3 Pre-CU8 non-retail upgrade fails with Object not found for dbo.RETAILTILLLAYOUTZONE.</span></span>
    - <span data-ttu-id="d7e31-112">KB 4040692 - การอัพเกรด Dynamics AX 2012 R3 เป็น Microsoft Dynamics 365 for Operations 7.2 ล้มเหลวในดัชนีที่ซ้ำกัน RetailSalesLine ใน SalesLineIdx</span><span class="sxs-lookup"><span data-stu-id="d7e31-112">KB 4040692 - Dynamics AX 2012 R3 to Microsoft Dynamics 365 for Operations 7.2 upgrade fails on RetailSalesLine duplicate index on SalesLineIdx.</span></span>
    - <span data-ttu-id="d7e31-113">KB 4035490 - ปัญหาประสิทธิภาพการทำงานที่มีสคริปต์การอัพเกรดฟิลด์ GeneralJournalAccountEntry MainAccount</span><span class="sxs-lookup"><span data-stu-id="d7e31-113">KB 4035490 - Performance issue with GeneralJournalAccountEntry MainAccount field upgrade script.</span></span>


<span data-ttu-id="d7e31-114">ทำตามขั้นตอนเหล่านี้เพื่อรันเครื่องมือการเตรียมใช้งานใหม่สภาพแวดล้อม</span><span class="sxs-lookup"><span data-stu-id="d7e31-114">Follow these steps to run the Environment reprovisioning tool.</span></span>

1. <span data-ttu-id="d7e31-115">ในไลบรารีสินทรัพย์ที่ใช้ร่วมกัน เลือก **แพคเกจที่สามารถปรับใช้ได้ของซอฟต์แวร์**</span><span class="sxs-lookup"><span data-stu-id="d7e31-115">In the Shared asset library, select **Software deployable package**.</span></span>
2. <span data-ttu-id="d7e31-116">ดาวน์โหลดเครื่องมือการเตรียมใช้งานใหม่สภาพแวดล้อม</span><span class="sxs-lookup"><span data-stu-id="d7e31-116">Download the Environment reprovisioning tool.</span></span>
3. <span data-ttu-id="d7e31-117">ในไลบรารีสินทรัพย์สำหรับโครงการของคุณ เลือก **แพคเกจที่สามารถปรับใช้ได้ของซอฟต์แวร์**</span><span class="sxs-lookup"><span data-stu-id="d7e31-117">In the asset library for your project, select **Software deployable package**.</span></span>
4. <span data-ttu-id="d7e31-118">เลือก **สร้าง** เพื่อสร้างแพคเกจใหม่</span><span class="sxs-lookup"><span data-stu-id="d7e31-118">Select **New** to create a new package.</span></span>
5. <span data-ttu-id="d7e31-119">ป้อนชื่อและคำอธิบายสำหรับแพจเกจ</span><span class="sxs-lookup"><span data-stu-id="d7e31-119">Enter a name and description for the package.</span></span> <span data-ttu-id="d7e31-120">คุณสามารถใช้ **เครื่องมือการเตรียมใช้งานใหม่สภาพแวดล้อม** เป็นชื่อแพคเกจ</span><span class="sxs-lookup"><span data-stu-id="d7e31-120">You can use **Environment reprovisioning tool** as the package name.</span></span>
6. <span data-ttu-id="d7e31-121">อัพโหลดแพคเกจที่คุณดาวน์โหลดไว้ก่อนหน้านี้</span><span class="sxs-lookup"><span data-stu-id="d7e31-121">Upload the package that you downloaded earlier.</span></span>
7. <span data-ttu-id="d7e31-122">ในหน้า **รายละเอียดสภาพแวดล้อม** สำหรับสภาพแวดล้อมเป้าหมายของคุณ เลือก **รักษา** > **ใช้การอัปเดต**</span><span class="sxs-lookup"><span data-stu-id="d7e31-122">On the **Environment details** page for your target environment, select **Maintain** > **Apply updates**.</span></span>
8. <span data-ttu-id="d7e31-123">เลือกเครื่องมือการเตรียมใช้งานใหม่สภาพแวดล้อมที่คุณอัพโหลดไว้ก่อนหน้านี้ จากนั้นเลือก **ใช้** เพื่อใช้แพคเกจ</span><span class="sxs-lookup"><span data-stu-id="d7e31-123">Select the Environment reprovisioning tool that you uploaded earlier, and then select **Apply** to apply the package.</span></span>
9. <span data-ttu-id="d7e31-124">ตรวจสอบความคืบหน้าในการปรับใช้แพคเกจ</span><span class="sxs-lookup"><span data-stu-id="d7e31-124">Monitor the progress of the package deployment.</span></span> 

<span data-ttu-id="d7e31-125">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้แพคเกจที่สามารถปรับใช้ได้ ดู [ใช้แพคเกจสามารถปรับใช้ได้](../deployment/create-apply-deployable-package.md)</span><span class="sxs-lookup"><span data-stu-id="d7e31-125">For more information about how to apply a deployable package, see [Apply a deployable package](../deployment/create-apply-deployable-package.md).</span></span> <span data-ttu-id="d7e31-126">สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้แพคเกจที่สามารถปรับใช้ได้ด้วยตนเอง ดู [ติดตั้งแพคเกจที่สามารถปรับใช้ได้](../deployment/install-deployable-package.md)</span><span class="sxs-lookup"><span data-stu-id="d7e31-126">For more information about how to manually apply a deployable package, see [Install a deployable package](../deployment/install-deployable-package.md).</span></span>
