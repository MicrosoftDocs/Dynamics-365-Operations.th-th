เมื่อคัดลอกฐานข้อมูลระหว่างสภาพแวดล้อม คุณจะต้องรันเครื่องมือการเตรียมใช้งานใหม่สำหรับสภาพแวดล้อม ก่อนที่ฐานข้อมูลที่คัดลอกไว้จะใช้งานได้อย่างเต็มความสามารถ เพื่อให้แน่ใจว่าส่วนประกอบของ Retail ทั้งหมดมีความทันสมัย

> [!IMPORTANT]
> เราแนะนำให้คุณรันกระบวนงานนี้ไม่ว่าคุณจะใช้ส่วนประกอบของ Retail อยู่หรือไม่ เนื่องจากมีการรวมฟังก์ชันของ Retail ไว้ในทุกสภาพแวดล้อม 

ก่อนที่คุณจะดำเนินการต่อ คุณต้องแน่ใจว่าได้ทำตามข้อกำหนดเบื้องต้นดังต่อไปนี้:
1. หากคุณกำลังจะอัพเกรดเป็นรุ่นที่นำออกใช้เดือนกรกฎาคม 2017 (หรือเรียกอีกอย่างหนึ่งว่า 7.2) 7.2.11792.56024 ให้ใช้โปรแกรมแก้ไขด่วน X++ สำหรับแอพลิเคชันต่อไปนี้ในสภาพแวดล้อมปลายทางก่อนที่จะรันการอัพเกรดข้อมูลในสภาพแวดล้อมดังกล่าว วิธีนี้จะช่วยป้องกันข้อผิดพลาดต่างๆ ที่เกิดขึ้นในระหว่างการอัพเกรดข้อมูล:

    - KB 4036156 - การอัพเกรดเวอร์ชันรองของ Retail - "ไม่ได้ตั้งค่าลำดับหมายเลขของตัวแปร" แพคเกจการแก้ไขนี้ยังประกอบด้วย KB 4035399 และ KB 4035751 โปรดทราบว่าคุณต้องมี Platform Update 9 เป็นอย่างต่ำจึงจะใช้แพคเกจนี้ได้ หากคุณไม่แน่ใจ ให้ติดตั้งไบนารีล่าสุด
    
2. หากคุณกำลังอัพเกรดจาก Microsoft Dynamics AX 2012 ให้ติดตั้งโปรแกรมแก้ไข X++ สำหรับแอพลิเคชันต่อไปนี้ในสภาพแวดล้อมปลายทางก่อนที่คุณจะรันการอัพเกรดข้อมูล:
    - KB 4033183 - Dynamics AX 2012 R2 หรือ Dynamics AX 2012 R3 Pre-CU8 การอัพเกรดที่ไม่ใช่การขายปลีกจะล้มเหลวและไม่พบออบเจกต์สำหรับ dbo.RETAILTILLLAYOUTZONE
    - KB 4040692 - การอัพเกรด Dynamics AX 2012 R3 เป็น Microsoft Dynamics 365 for Operations 7.2 ล้มเหลวในดัชนีที่ซ้ำกัน RetailSalesLine ใน SalesLineIdx
    - KB 4035490 - ปัญหาประสิทธิภาพการทำงานที่มีสคริปต์การอัพเกรดฟิลด์ GeneralJournalAccountEntry MainAccount


ทำตามขั้นตอนเหล่านี้เพื่อรันเครื่องมือการเตรียมใช้งานใหม่สภาพแวดล้อม

1. ในไลบรารีสินทรัพย์ที่ใช้ร่วมกัน เลือก **แพคเกจที่สามารถปรับใช้ได้ของซอฟต์แวร์**
2. ดาวน์โหลดเครื่องมือการเตรียมใช้งานใหม่สภาพแวดล้อม
3. ในไลบรารีสินทรัพย์สำหรับโครงการของคุณ เลือก **แพคเกจที่สามารถปรับใช้ได้ของซอฟต์แวร์**
4. เลือก **สร้าง** เพื่อสร้างแพคเกจใหม่
5. ป้อนชื่อและคำอธิบายสำหรับแพจเกจ คุณสามารถใช้ **เครื่องมือการเตรียมใช้งานใหม่สภาพแวดล้อม** เป็นชื่อแพคเกจ
6. อัพโหลดแพคเกจที่คุณดาวน์โหลดไว้ก่อนหน้านี้
7. ในหน้า **รายละเอียดสภาพแวดล้อม** สำหรับสภาพแวดล้อมเป้าหมายของคุณ เลือก **รักษา** > **ใช้การอัพเดต**
8. เลือกเครื่องมือการเตรียมใช้งานใหม่สภาพแวดล้อมที่คุณอัพโหลดไว้ก่อนหน้านี้ จากนั้นเลือก **ใช้** เพื่อใช้แพคเกจ
9. ตรวจสอบความคืบหน้าในการปรับใช้แพคเกจ 

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้แพคเกจที่สามารถปรับใช้ได้ ดู [ใช้แพคเกจสามารถปรับใช้ได้](../deployment/create-apply-deployable-package.md) สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้แพคเกจที่สามารถปรับใช้ได้ด้วยตนเอง ดู [ติดตั้งแพคเกจที่สามารถปรับใช้ได้](../deployment/install-deployable-package.md)
